var nue=Object.defineProperty;var iue=(t,e,r)=>e in t?nue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var hn=(t,e,r)=>(iue(t,typeof e!="symbol"?e+"":e,r),r);var e_=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};function sue(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vM(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const zi={},zg=[],Qn=()=>{},oue=()=>!1,FC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yM=t=>t.startsWith("onUpdate:"),io=Object.assign,_M=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},aue=Object.prototype.hasOwnProperty,Xn=(t,e)=>aue.call(t,e),lr=Array.isArray,Hg=t=>m1(t)==="[object Map]",NC=t=>m1(t)==="[object Set]",qS=t=>m1(t)==="[object Date]",Lr=t=>typeof t=="function",nn=t=>typeof t=="string",Td=t=>typeof t=="symbol",En=t=>t!==null&&typeof t=="object",bM=t=>(En(t)||Lr(t))&&Lr(t.then)&&Lr(t.catch),jG=Object.prototype.toString,m1=t=>jG.call(t),Vw=t=>m1(t).slice(8,-1),XS=t=>m1(t)==="[object Object]",xM=t=>nn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,c2=vM(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),BC=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},lue=/-(\w)/g,jl=BC(t=>t.replace(lue,(e,r)=>r?r.toUpperCase():"")),uue=/\B([A-Z])/g,Hf=BC(t=>t.replace(uue,"-$1").toLowerCase()),g1=BC(t=>t.charAt(0).toUpperCase()+t.slice(1)),d2=BC(t=>t?`on${g1(t)}`:""),cp=(t,e)=>!Object.is(t,e),zw=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},GG=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},lk=t=>{const e=parseFloat(t);return isNaN(e)?t:e},cue=t=>{const e=nn(t)?Number(t):NaN;return isNaN(e)?t:e};let g5;const WG=()=>g5||(g5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dn(t){if(lr(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=nn(n)?pue(n):dn(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(nn(t)||En(t))return t}const due=/;(?![^(]*\))/g,fue=/:([^]+)/,hue=/\/\*[^]*?\*\//g;function pue(t){const e={};return t.replace(hue,"").split(due).forEach(r=>{if(r){const n=r.split(fue);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Se(t){let e="";if(nn(t))e=t;else if(lr(t))for(let r=0;r<t.length;r++){const n=Se(t[r]);n&&(e+=n+" ")}else if(En(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const mue="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gue=vM(mue);function qG(t){return!!t||t===""}function vue(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=gv(t[n],e[n]);return r}function gv(t,e){if(t===e)return!0;let r=qS(t),n=qS(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Td(t),n=Td(e),r||n)return t===e;if(r=lr(t),n=lr(e),r||n)return r&&n?vue(t,e):!1;if(r=En(t),n=En(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!gv(t[o],e[o]))return!1}}return String(t)===String(e)}function XG(t,e){return t.findIndex(r=>gv(r,e))}const YG=t=>!!(t&&t.__v_isRef===!0),cr=t=>nn(t)?t:t==null?"":lr(t)||En(t)&&(t.toString===jG||!Lr(t.toString))?YG(t)?cr(t.value):JSON.stringify(t,KG,2):String(t),KG=(t,e)=>YG(e)?KG(t,e.value):Hg(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[NA(n,s)+" =>"]=i,r),{})}:NC(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>NA(r))}:Td(e)?NA(e):En(e)&&!lr(e)&&!XS(e)?String(e):e,NA=(t,e="")=>{var r;return Td(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Da;class ZG{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Da,!e&&Da&&(this.index=(Da.scopes||(Da.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Da;try{return Da=this,e()}finally{Da=r}}}on(){Da=this}off(){Da=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function wM(t){return new ZG(t)}function SM(){return Da}function TM(t,e=!1){Da&&Da.cleanups.push(t)}let Ki;const BA=new WeakSet;class QG{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Da&&Da.active&&Da.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,BA.has(this)&&(BA.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||eW(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,v5(this),tW(this);const e=Ki,r=cc;Ki=this,cc=!0;try{return this.fn()}finally{rW(this),Ki=e,cc=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)AM(e);this.deps=this.depsTail=void 0,v5(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?BA.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uk(this)&&this.run()}get dirty(){return uk(this)}}let JG=0,$g;function eW(t){t.flags|=8,t.next=$g,$g=t}function CM(){JG++}function EM(){if(--JG>0)return;let t;for(;$g;){let e=$g,r;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=$g,$g=void 0;e;){if(r=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function tW(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function rW(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),AM(n),yue(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function uk(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(nW(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function nW(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Z2))return;t.globalVersion=Z2;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!uk(t)){t.flags&=-3;return}const r=Ki,n=cc;Ki=t,cc=!0;try{tW(t);const i=t.fn(t._value);(e.version===0||cp(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ki=r,cc=n,rW(t),t.flags&=-3}}function AM(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n),!r.subs&&r.computed){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)AM(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function yue(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let cc=!0;const iW=[];function Ep(){iW.push(cc),cc=!1}function Ap(){const t=iW.pop();cc=t===void 0?!0:t}function v5(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Ki;Ki=void 0;try{e()}finally{Ki=r}}}let Z2=0;class _ue{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class PM{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ki||!cc||Ki===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ki)r=this.activeLink=new _ue(Ki,this),Ki.deps?(r.prevDep=Ki.depsTail,Ki.depsTail.nextDep=r,Ki.depsTail=r):Ki.deps=Ki.depsTail=r,sW(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Ki.depsTail,r.nextDep=void 0,Ki.depsTail.nextDep=r,Ki.depsTail=r,Ki.deps===r&&(Ki.deps=n)}return r}trigger(e){this.version++,Z2++,this.notify(e)}notify(e){CM();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{EM()}}}function sW(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)sW(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const YS=new WeakMap,q0=Symbol(""),ck=Symbol(""),Q2=Symbol("");function ma(t,e,r){if(cc&&Ki){let n=YS.get(t);n||YS.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new PM),i.target=t,i.map=n,i.key=r),i.track()}}function Ef(t,e,r,n,i,s){const o=YS.get(t);if(!o){Z2++;return}const a=l=>{l&&l.trigger()};if(CM(),e==="clear")o.forEach(a);else{const l=lr(t),u=l&&xM(r);if(l&&r==="length"){const d=Number(n);o.forEach((f,h)=>{(h==="length"||h===Q2||!Td(h)&&h>=d)&&a(f)})}else switch(r!==void 0&&a(o.get(r)),u&&a(o.get(Q2)),e){case"add":l?u&&a(o.get("length")):(a(o.get(q0)),Hg(t)&&a(o.get(ck)));break;case"delete":l||(a(o.get(q0)),Hg(t)&&a(o.get(ck)));break;case"set":Hg(t)&&a(o.get(q0));break}}EM()}function bue(t,e){const r=YS.get(t);return r&&r.get(e)}function ng(t){const e=Gn(t);return e===t?e:(ma(e,"iterate",Q2),Su(t)?e:e.map(la))}function UC(t){return ma(t=Gn(t),"iterate",Q2),t}const xue={__proto__:null,[Symbol.iterator](){return UA(this,Symbol.iterator,la)},concat(...t){return ng(this).concat(...t.map(e=>lr(e)?ng(e):e))},entries(){return UA(this,"entries",t=>(t[1]=la(t[1]),t))},every(t,e){return Qd(this,"every",t,e,void 0,arguments)},filter(t,e){return Qd(this,"filter",t,e,r=>r.map(la),arguments)},find(t,e){return Qd(this,"find",t,e,la,arguments)},findIndex(t,e){return Qd(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Qd(this,"findLast",t,e,la,arguments)},findLastIndex(t,e){return Qd(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Qd(this,"forEach",t,e,void 0,arguments)},includes(...t){return VA(this,"includes",t)},indexOf(...t){return VA(this,"indexOf",t)},join(t){return ng(this).join(t)},lastIndexOf(...t){return VA(this,"lastIndexOf",t)},map(t,e){return Qd(this,"map",t,e,void 0,arguments)},pop(){return t_(this,"pop")},push(...t){return t_(this,"push",t)},reduce(t,...e){return y5(this,"reduce",t,e)},reduceRight(t,...e){return y5(this,"reduceRight",t,e)},shift(){return t_(this,"shift")},some(t,e){return Qd(this,"some",t,e,void 0,arguments)},splice(...t){return t_(this,"splice",t)},toReversed(){return ng(this).toReversed()},toSorted(t){return ng(this).toSorted(t)},toSpliced(...t){return ng(this).toSpliced(...t)},unshift(...t){return t_(this,"unshift",t)},values(){return UA(this,"values",la)}};function UA(t,e,r){const n=UC(t),i=n[e]();return n!==t&&!Su(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=r(s.value)),s}),i}const wue=Array.prototype;function Qd(t,e,r,n,i,s){const o=UC(t),a=o!==t&&!Su(t),l=o[e];if(l!==wue[e]){const f=l.apply(t,s);return a?la(f):f}let u=r;o!==t&&(a?u=function(f,h){return r.call(this,la(f),h,t)}:r.length>2&&(u=function(f,h){return r.call(this,f,h,t)}));const d=l.call(o,u,n);return a&&i?i(d):d}function y5(t,e,r,n){const i=UC(t);let s=r;return i!==t&&(Su(t)?r.length>3&&(s=function(o,a,l){return r.call(this,o,a,l,t)}):s=function(o,a,l){return r.call(this,o,la(a),l,t)}),i[e](s,...n)}function VA(t,e,r){const n=Gn(t);ma(n,"iterate",Q2);const i=n[e](...r);return(i===-1||i===!1)&&v1(r[0])?(r[0]=Gn(r[0]),n[e](...r)):i}function t_(t,e,r=[]){Ep(),CM();const n=Gn(t)[e].apply(t,r);return EM(),Ap(),n}const Sue=vM("__proto__,__v_isRef,__isVue"),oW=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Td));function Tue(t){Td(t)||(t=String(t));const e=Gn(this);return ma(e,"has",t),e.hasOwnProperty(t)}class aW{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?Fue:dW:s?cW:uW).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=lr(e);if(!i){let l;if(o&&(l=xue[r]))return l;if(r==="hasOwnProperty")return Tue}const a=Reflect.get(e,r,qr(e)?e:n);return(Td(r)?oW.has(r):Sue(r))||(i||ma(e,"get",r),s)?a:qr(a)?o&&xM(r)?a:a.value:En(a)?i?dy(a):an(a):a}}class lW extends aW{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const l=fm(s);if(!Su(n)&&!fm(n)&&(s=Gn(s),n=Gn(n)),!lr(e)&&qr(s)&&!qr(n))return l?!1:(s.value=n,!0)}const o=lr(e)&&xM(r)?Number(r)<e.length:Xn(e,r),a=Reflect.set(e,r,n,qr(e)?e:i);return e===Gn(i)&&(o?cp(n,s)&&Ef(e,"set",r,n):Ef(e,"add",r,n)),a}deleteProperty(e,r){const n=Xn(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Ef(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!Td(r)||!oW.has(r))&&ma(e,"has",r),n}ownKeys(e){return ma(e,"iterate",lr(e)?"length":q0),Reflect.ownKeys(e)}}class Cue extends aW{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Eue=new lW,Aue=new Cue,Pue=new lW(!0);const kM=t=>t,VC=t=>Reflect.getPrototypeOf(t);function nx(t,e,r=!1,n=!1){t=t.__v_raw;const i=Gn(t),s=Gn(e);r||(cp(e,s)&&ma(i,"get",e),ma(i,"get",s));const{has:o}=VC(i),a=n?kM:r?MM:la;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function ix(t,e=!1){const r=this.__v_raw,n=Gn(r),i=Gn(t);return e||(cp(t,i)&&ma(n,"has",t),ma(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function sx(t,e=!1){return t=t.__v_raw,!e&&ma(Gn(t),"iterate",q0),Reflect.get(t,"size",t)}function _5(t,e=!1){!e&&!Su(t)&&!fm(t)&&(t=Gn(t));const r=Gn(this);return VC(r).has.call(r,t)||(r.add(t),Ef(r,"add",t,t)),this}function b5(t,e,r=!1){!r&&!Su(e)&&!fm(e)&&(e=Gn(e));const n=Gn(this),{has:i,get:s}=VC(n);let o=i.call(n,t);o||(t=Gn(t),o=i.call(n,t));const a=s.call(n,t);return n.set(t,e),o?cp(e,a)&&Ef(n,"set",t,e):Ef(n,"add",t,e),this}function x5(t){const e=Gn(this),{has:r,get:n}=VC(e);let i=r.call(e,t);i||(t=Gn(t),i=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&Ef(e,"delete",t,void 0),s}function w5(){const t=Gn(this),e=t.size!==0,r=t.clear();return e&&Ef(t,"clear",void 0,void 0),r}function ox(t,e){return function(n,i){const s=this,o=s.__v_raw,a=Gn(o),l=e?kM:t?MM:la;return!t&&ma(a,"iterate",q0),o.forEach((u,d)=>n.call(i,l(u),l(d),s))}}function ax(t,e,r){return function(...n){const i=this.__v_raw,s=Gn(i),o=Hg(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),d=r?kM:e?MM:la;return!e&&ma(s,"iterate",l?ck:q0),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function hh(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function kue(){const t={get(s){return nx(this,s)},get size(){return sx(this)},has:ix,add:_5,set:b5,delete:x5,clear:w5,forEach:ox(!1,!1)},e={get(s){return nx(this,s,!1,!0)},get size(){return sx(this)},has:ix,add(s){return _5.call(this,s,!0)},set(s,o){return b5.call(this,s,o,!0)},delete:x5,clear:w5,forEach:ox(!1,!0)},r={get(s){return nx(this,s,!0)},get size(){return sx(this,!0)},has(s){return ix.call(this,s,!0)},add:hh("add"),set:hh("set"),delete:hh("delete"),clear:hh("clear"),forEach:ox(!0,!1)},n={get(s){return nx(this,s,!0,!0)},get size(){return sx(this,!0)},has(s){return ix.call(this,s,!0)},add:hh("add"),set:hh("set"),delete:hh("delete"),clear:hh("clear"),forEach:ox(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=ax(s,!1,!1),r[s]=ax(s,!0,!1),e[s]=ax(s,!1,!0),n[s]=ax(s,!0,!0)}),[t,r,e,n]}const[Iue,Due,Rue,Mue]=kue();function IM(t,e){const r=e?t?Mue:Rue:t?Due:Iue;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Xn(r,i)&&i in n?r:n,i,s)}const Oue={get:IM(!1,!1)},$ue={get:IM(!1,!0)},Lue={get:IM(!0,!1)};const uW=new WeakMap,cW=new WeakMap,dW=new WeakMap,Fue=new WeakMap;function Nue(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bue(t){return t.__v_skip||!Object.isExtensible(t)?0:Nue(Vw(t))}function an(t){return fm(t)?t:RM(t,!1,Eue,Oue,uW)}function DM(t){return RM(t,!1,Pue,$ue,cW)}function dy(t){return RM(t,!0,Aue,Lue,dW)}function RM(t,e,r,n,i){if(!En(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Bue(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function Jh(t){return fm(t)?Jh(t.__v_raw):!!(t&&t.__v_isReactive)}function fm(t){return!!(t&&t.__v_isReadonly)}function Su(t){return!!(t&&t.__v_isShallow)}function v1(t){return t?!!t.__v_raw:!1}function Gn(t){const e=t&&t.__v_raw;return e?Gn(e):t}function hm(t){return!Xn(t,"__v_skip")&&Object.isExtensible(t)&&GG(t,"__v_skip",!0),t}const la=t=>En(t)?an(t):t,MM=t=>En(t)?dy(t):t;function qr(t){return t?t.__v_isRef===!0:!1}function ve(t){return fW(t,!1)}function Ba(t){return fW(t,!0)}function fW(t,e){return qr(t)?t:new Uue(t,e)}class Uue{constructor(e,r){this.dep=new PM,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Gn(e),this._value=r?e:la(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Su(e)||fm(e);e=n?e:Gn(e),cp(e,r)&&(this._rawValue=e,this._value=n?e:la(e),this.dep.trigger())}}function _(t){return qr(t)?t.value:t}const Vue={get:(t,e,r)=>e==="__v_raw"?t:_(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return qr(i)&&!qr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function hW(t){return Jh(t)?t:new Proxy(t,Vue)}function Hu(t){const e=lr(t)?new Array(t.length):{};for(const r in t)e[r]=pW(t,r);return e}class zue{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return bue(Gn(this._object),this._key)}}class Hue{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ms(t,e,r){return qr(t)?t:Lr(t)?new Hue(t):En(t)&&arguments.length>1?pW(t,e,r):ve(t)}function pW(t,e,r){const n=t[e];return qr(n)?n:new zue(t,e,r)}class jue{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new PM(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Z2-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ki!==this)return eW(this),!0}get value(){const e=this.dep.track();return nW(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Gue(t,e,r=!1){let n,i;return Lr(t)?n=t:(n=t.get,i=t.set),new jue(n,i,r)}const lx={},KS=new WeakMap;let g0;function Wue(t,e=!1,r=g0){if(r){let n=KS.get(r);n||KS.set(r,n=[]),n.push(t)}}function que(t,e,r=zi){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=r,u=A=>i?A:Su(A)||i===!1||i===0?vf(A,1):vf(A);let d,f,h,g,v=!1,p=!1;if(qr(t)?(f=()=>t.value,v=Su(t)):Jh(t)?(f=()=>u(t),v=!0):lr(t)?(p=!0,v=t.some(A=>Jh(A)||Su(A)),f=()=>t.map(A=>{if(qr(A))return A.value;if(Jh(A))return u(A);if(Lr(A))return l?l(A,2):A()})):Lr(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Ep();try{h()}finally{Ap()}}const A=g0;g0=d;try{return l?l(t,3,[g]):t(g)}finally{g0=A}}:f=Qn,e&&i){const A=f,E=i===!0?1/0:i;f=()=>vf(A(),E)}const b=SM(),S=()=>{d.stop(),b&&_M(b.effects,d)};if(s&&e){const A=e;e=(...E)=>{A(...E),S()}}let C=p?new Array(t.length).fill(lx):lx;const T=A=>{if(!(!(d.flags&1)||!d.dirty&&!A))if(e){const E=d.run();if(i||v||(p?E.some((I,O)=>cp(I,C[O])):cp(E,C))){h&&h();const I=g0;g0=d;try{const O=[E,C===lx?void 0:p&&C[0]===lx?[]:C,g];l?l(e,3,O):e(...O),C=E}finally{g0=I}}}else d.run()};return a&&a(T),d=new QG(f),d.scheduler=o?()=>o(T,!1):T,g=A=>Wue(A,!1,d),h=d.onStop=()=>{const A=KS.get(d);if(A){if(l)l(A,4);else for(const E of A)E();KS.delete(d)}},e?n?T(!0):C=d.run():o?o(T.bind(null,!0),!0):d.run(),S.pause=d.pause.bind(d),S.resume=d.resume.bind(d),S.stop=S,S}function vf(t,e=1/0,r){if(e<=0||!En(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,qr(t))vf(t.value,e,r);else if(lr(t))for(let n=0;n<t.length;n++)vf(t[n],e,r);else if(NC(t)||Hg(t))t.forEach(n=>{vf(n,e,r)});else if(XS(t)){for(const n in t)vf(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&vf(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function y1(t,e,r,n){try{return n?t(...n):t()}catch(i){zC(i,e,r)}}function bc(t,e,r,n){if(Lr(t)){const i=y1(t,e,r,n);return i&&bM(i)&&i.catch(s=>{zC(s,e,r)}),i}if(lr(t)){const i=[];for(let s=0;s<t.length;s++)i.push(bc(t[s],e,r,n));return i}}function zC(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||zi;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,l,u)===!1)return}a=a.parent}if(s){Ep(),y1(s,null,10,[t,l,u]),Ap();return}}Xue(t,r,i,n,o)}function Xue(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}let J2=!1,dk=!1;const Ma=[];let Yc=0;const jg=[];let Fh=null,Pg=0;const mW=Promise.resolve();let OM=null;function Wr(t){const e=OM||mW;return t?e.then(this?t.bind(this):t):e}function Yue(t){let e=J2?Yc+1:0,r=Ma.length;for(;e<r;){const n=e+r>>>1,i=Ma[n],s=eb(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function $M(t){if(!(t.flags&1)){const e=eb(t),r=Ma[Ma.length-1];!r||!(t.flags&2)&&e>=eb(r)?Ma.push(t):Ma.splice(Yue(e),0,t),t.flags|=1,gW()}}function gW(){!J2&&!dk&&(dk=!0,OM=mW.then(yW))}function Kue(t){lr(t)?jg.push(...t):Fh&&t.id===-1?Fh.splice(Pg+1,0,t):t.flags&1||(jg.push(t),t.flags|=1),gW()}function S5(t,e,r=J2?Yc+1:0){for(;r<Ma.length;r++){const n=Ma[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ma.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function vW(t){if(jg.length){const e=[...new Set(jg)].sort((r,n)=>eb(r)-eb(n));if(jg.length=0,Fh){Fh.push(...e);return}for(Fh=e,Pg=0;Pg<Fh.length;Pg++){const r=Fh[Pg];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Fh=null,Pg=0}}const eb=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yW(t){dk=!1,J2=!0;const e=Qn;try{for(Yc=0;Yc<Ma.length;Yc++){const r=Ma[Yc];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),y1(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Yc<Ma.length;Yc++){const r=Ma[Yc];r&&(r.flags&=-2)}Yc=0,Ma.length=0,vW(),J2=!1,OM=null,(Ma.length||jg.length)&&yW()}}let mo=null,_W=null;function ZS(t){const e=mo;return mo=t,_W=t&&t.type.__scopeId||null,e}function te(t,e=mo,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&$5(-1);const s=ZS(e);let o;try{o=t(...i)}finally{ZS(s),n._d&&$5(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function wn(t,e){if(mo===null)return t;const r=XC(mo),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=zi]=e[i];s&&(Lr(s)&&(s={mounted:s,updated:s}),s.deep&&vf(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Qp(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(Ep(),bc(l,r,8,[t.el,a,t,e]),Ap())}}const bW=Symbol("_vte"),xW=t=>t.__isTeleport,f2=t=>t&&(t.disabled||t.disabled===""),Zue=t=>t&&(t.defer||t.defer===""),T5=t=>typeof SVGElement<"u"&&t instanceof SVGElement,C5=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,fk=(t,e)=>{const r=t&&t.to;return nn(r)?e?e(r):null:r},Que={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,l,u){const{mc:d,pc:f,pbc:h,o:{insert:g,querySelector:v,createText:p,createComment:b}}=u,S=f2(e.props);let{shapeFlag:C,children:T,dynamicChildren:A}=e;if(t==null){const E=e.el=p(""),I=e.anchor=p("");g(E,r,n),g(I,r,n);const O=(G,ie)=>{C&16&&(i&&i.isCE&&(i.ce._teleportTarget=G),d(T,G,ie,i,s,o,a,l))},N=()=>{const G=e.target=fk(e.props,v),ie=wW(G,e,p,g);G&&(o!=="svg"&&T5(G)?o="svg":o!=="mathml"&&C5(G)&&(o="mathml"),S||(O(G,ie),Hw(e)))};S&&(O(r,I),Hw(e)),Zue(e.props)?rl(N,s):N()}else{e.el=t.el,e.targetStart=t.targetStart;const E=e.anchor=t.anchor,I=e.target=t.target,O=e.targetAnchor=t.targetAnchor,N=f2(t.props),G=N?r:I,ie=N?E:O;if(o==="svg"||T5(I)?o="svg":(o==="mathml"||C5(I))&&(o="mathml"),A?(h(t.dynamicChildren,A,G,i,s,o,a),zM(t,e,!0)):l||f(t,e,G,ie,i,s,o,a,!1),S)N?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ux(e,r,E,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const W=e.target=fk(e.props,v);W&&ux(e,W,null,u,0)}else N&&ux(e,I,O,u,1);Hw(e)}},remove(t,e,r,{um:n,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:d,target:f,props:h}=t;if(f&&(i(u),i(d)),s&&i(l),o&16){const g=s||!f2(h);for(let v=0;v<a.length;v++){const p=a[v];n(p,e,r,g,!!p.dynamicChildren)}}},move:ux,hydrate:Jue};function ux(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:u,props:d}=t,f=s===2;if(f&&n(o,e,r),(!f||f2(d))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,r,2);f&&n(a,e,r)}function Jue(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:d}},f){const h=e.target=fk(e.props,l);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(f2(e.props))e.anchor=f(o(t),e,a(t),r,n,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let v=g;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}v=o(v)}e.targetAnchor||wW(h,e,d,u),f(g&&o(g),e,h,r,n,i,s)}Hw(e)}return e.anchor&&o(e.anchor)}const ece=Que;function Hw(t){const e=t.ctx;if(e&&e.ut){let r=t.targetStart;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}function wW(t,e,r,n){const i=e.targetStart=r(""),s=e.targetAnchor=r("");return i[bW]=s,t&&(n(i,t),n(s,t)),s}const Nh=Symbol("_leaveCb"),cx=Symbol("_enterCb");function SW(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zn(()=>{t.isMounted=!0}),Bs(()=>{t.isUnmounting=!0}),t}const ru=[Function,Array],TW={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ru,onEnter:ru,onAfterEnter:ru,onEnterCancelled:ru,onBeforeLeave:ru,onLeave:ru,onAfterLeave:ru,onLeaveCancelled:ru,onBeforeAppear:ru,onAppear:ru,onAfterAppear:ru,onAppearCancelled:ru},CW=t=>{const e=t.subTree;return e.component?CW(e.component):e},tce={name:"BaseTransition",props:TW,setup(t,{slots:e}){const r=Dn(),n=SW();return()=>{const i=e.default&&LM(e.default(),!0);if(!i||!i.length)return;const s=EW(i),o=Gn(t),{mode:a}=o;if(n.isLeaving)return zA(s);const l=E5(s);if(!l)return zA(s);let u=tb(l,o,n,r,h=>u=h);l.type!==Xo&&pm(l,u);const d=r.subTree,f=d&&E5(d);if(f&&f.type!==Xo&&!I0(l,f)&&CW(r).type!==Xo){const h=tb(f,o,n,r);if(pm(f,h),a==="out-in"&&l.type!==Xo)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave},zA(s);a==="in-out"&&l.type!==Xo&&(h.delayLeave=(g,v,p)=>{const b=AW(n,f);b[String(f.key)]=f,g[Nh]=()=>{v(),g[Nh]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return s}}};function EW(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Xo){e=r;break}}return e}const rce=tce;function AW(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function tb(t,e,r,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:g,onAfterLeave:v,onLeaveCancelled:p,onBeforeAppear:b,onAppear:S,onAfterAppear:C,onAppearCancelled:T}=e,A=String(t.key),E=AW(r,t),I=(G,ie)=>{G&&bc(G,n,9,ie)},O=(G,ie)=>{const W=ie[1];I(G,ie),lr(G)?G.every(q=>q.length<=1)&&W():G.length<=1&&W()},N={mode:o,persisted:a,beforeEnter(G){let ie=l;if(!r.isMounted)if(s)ie=b||l;else return;G[Nh]&&G[Nh](!0);const W=E[A];W&&I0(t,W)&&W.el[Nh]&&W.el[Nh](),I(ie,[G])},enter(G){let ie=u,W=d,q=f;if(!r.isMounted)if(s)ie=S||u,W=C||d,q=T||f;else return;let J=!1;const X=G[cx]=R=>{J||(J=!0,R?I(q,[G]):I(W,[G]),N.delayedLeave&&N.delayedLeave(),G[cx]=void 0)};ie?O(ie,[G,X]):X()},leave(G,ie){const W=String(t.key);if(G[cx]&&G[cx](!0),r.isUnmounting)return ie();I(h,[G]);let q=!1;const J=G[Nh]=X=>{q||(q=!0,ie(),X?I(p,[G]):I(v,[G]),G[Nh]=void 0,E[W]===t&&delete E[W])};E[W]=t,g?O(g,[G,J]):J()},clone(G){const ie=tb(G,e,r,n,i);return i&&i(ie),ie}};return N}function zA(t){if(HC(t))return t=Of(t),t.children=null,t}function E5(t){if(!HC(t))return xW(t.type)&&t.children?EW(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Lr(r.default))return r.default()}}function pm(t,e){t.shapeFlag&6&&t.component?(t.transition=e,pm(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function LM(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===Sr?(o.patchFlag&128&&i++,n=n.concat(LM(o.children,e,a))):(e||o.type!==Xo)&&n.push(a!=null?Of(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function rt(t,e){return Lr(t)?(()=>io({name:t.name},e,{setup:t}))():t}function PW(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function hk(t,e,r,n,i=!1){if(lr(t)){t.forEach((v,p)=>hk(v,e&&(lr(e)?e[p]:e),r,n,i));return}if(Gg(n)&&!i)return;const s=n.shapeFlag&4?XC(n.component):n.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,d=a.refs===zi?a.refs={}:a.refs,f=a.setupState,h=Gn(f),g=f===zi?()=>!1:v=>Xn(h,v);if(u!=null&&u!==l&&(nn(u)?(d[u]=null,g(u)&&(f[u]=null)):qr(u)&&(u.value=null)),Lr(l))y1(l,a,12,[o,d]);else{const v=nn(l),p=qr(l);if(v||p){const b=()=>{if(t.f){const S=v?g(l)?f[l]:d[l]:l.value;i?lr(S)&&_M(S,s):lr(S)?S.includes(s)||S.push(s):v?(d[l]=[s],g(l)&&(f[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else v?(d[l]=o,g(l)&&(f[l]=o)):p&&(l.value=o,t.k&&(d[t.k]=o))};o?(b.id=-1,rl(b,r)):b()}}}const Gg=t=>!!t.type.__asyncLoader,HC=t=>t.type.__isKeepAlive;function kW(t,e){DW(t,"a",e)}function IW(t,e){DW(t,"da",e)}function DW(t,e,r=Do){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(jC(e,n,r),r){let i=r.parent;for(;i&&i.parent;)HC(i.parent.vnode)&&nce(n,e,r,i),i=i.parent}}function nce(t,e,r,n){const i=jC(e,t,n,!0);Gf(()=>{_M(n[e],i)},r)}function jC(t,e,r=Do,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ep();const a=_1(r),l=bc(e,r,t,o);return a(),Ap(),l});return n?i.unshift(s):i.push(s),s}}const jf=t=>(e,r=Do)=>{(!qC||t==="sp")&&jC(t,(...n)=>e(...n),r)},GC=jf("bm"),zn=jf("m"),RW=jf("bu"),Pp=jf("u"),Bs=jf("bum"),Gf=jf("um"),ice=jf("sp"),sce=jf("rtg"),oce=jf("rtc");function ace(t,e=Do){jC("ec",t,e)}const FM="components",lce="directives";function Yn(t,e){return BM(FM,t,!0,e)||t}const MW=Symbol.for("v-ndc");function _i(t){return nn(t)?BM(FM,t,!1)||t:t||MW}function NM(t){return BM(lce,t)}function BM(t,e,r=!0,n=!1){const i=mo||Do;if(i){const s=i.type;if(t===FM){const a=Xce(s,!1);if(a&&(a===e||a===jl(e)||a===g1(jl(e))))return s}const o=A5(i[t]||s[t],e)||A5(i.appContext[t],e);return!o&&n?s:o}}function A5(t,e){return t&&(t[e]||t[jl(e)]||t[g1(jl(e))])}function mi(t,e,r,n){let i;const s=r&&r[n],o=lr(t);if(o||nn(t)){const a=o&&Jh(t);let l=!1;a&&(l=!Su(t),t=UC(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?la(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(En(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];i[l]=e(t[d],d,l,s&&s[l])}}else i=[];return r&&(r[n]=i),i}function pk(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(lr(n))for(let i=0;i<n.length;i++)t[n[i].name]=n[i].fn;else n&&(t[n.name]=n.key?(...i)=>{const s=n.fn(...i);return s&&(s.key=n.key),s}:n.fn)}return t}function Ft(t,e,r={},n,i){if(mo.ce||mo.parent&&Gg(mo.parent)&&mo.parent.ce)return e!=="default"&&(r.name=e),me(),Ct(Sr,null,[F("slot",r,n&&n())],64);let s=t[e];s&&s._c&&(s._d=!1),me();const o=s&&OW(s(r)),a=Ct(Sr,{key:(r.key||o&&o.key||`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function OW(t){return t.some(e=>Ha(e)?!(e.type===Xo||e.type===Sr&&!OW(e.children)):!0)?t:null}function uce(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:d2(n)]=t[n];return r}const mk=t=>t?JW(t)?XC(t):mk(t.parent):null,h2=io(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mk(t.parent),$root:t=>mk(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>UM(t),$forceUpdate:t=>t.f||(t.f=()=>{$M(t.update)}),$nextTick:t=>t.n||(t.n=Wr.bind(t.proxy)),$watch:t=>Dce.bind(t)}),HA=(t,e)=>t!==zi&&!t.__isScriptSetup&&Xn(t,e),cce={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(HA(n,e))return o[e]=1,n[e];if(i!==zi&&Xn(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Xn(u,e))return o[e]=3,s[e];if(r!==zi&&Xn(r,e))return o[e]=4,r[e];gk&&(o[e]=0)}}const d=h2[e];let f,h;if(d)return e==="$attrs"&&ma(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==zi&&Xn(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,Xn(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return HA(i,e)?(i[e]=r,!0):n!==zi&&Xn(n,e)?(n[e]=r,!0):Xn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!r[o]||t!==zi&&Xn(t,o)||HA(e,o)||(a=s[0])&&Xn(a,o)||Xn(n,o)||Xn(h2,o)||Xn(i.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Xn(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function bl(){return $W().slots}function fy(){return $W().attrs}function $W(){const t=Dn();return t.setupContext||(t.setupContext=tq(t))}function P5(t){return lr(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let gk=!0;function dce(t){const e=UM(t),r=t.proxy,n=t.ctx;gk=!1,e.beforeCreate&&k5(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:g,updated:v,activated:p,deactivated:b,beforeDestroy:S,beforeUnmount:C,destroyed:T,unmounted:A,render:E,renderTracked:I,renderTriggered:O,errorCaptured:N,serverPrefetch:G,expose:ie,inheritAttrs:W,components:q,directives:J,filters:X}=e;if(u&&fce(u,n,null),o)for(const re in o){const oe=o[re];Lr(oe)&&(n[re]=oe.bind(r))}if(i){const re=i.call(r,r);En(re)&&(t.data=an(re))}if(gk=!0,s)for(const re in s){const oe=s[re],H=Lr(oe)?oe.bind(r,r):Lr(oe.get)?oe.get.bind(r,r):Qn,ee=!Lr(oe)&&Lr(oe.set)?oe.set.bind(r):Qn,ae=pe({get:H,set:ee});Object.defineProperty(n,re,{enumerable:!0,configurable:!0,get:()=>ae.value,set:be=>ae.value=be})}if(a)for(const re in a)LW(a[re],n,r,re);if(l){const re=Lr(l)?l.call(r):l;Reflect.ownKeys(re).forEach(oe=>{bi(oe,re[oe])})}d&&k5(d,t,"c");function z(re,oe){lr(oe)?oe.forEach(H=>re(H.bind(r))):oe&&re(oe.bind(r))}if(z(GC,f),z(zn,h),z(RW,g),z(Pp,v),z(kW,p),z(IW,b),z(ace,N),z(oce,I),z(sce,O),z(Bs,C),z(Gf,A),z(ice,G),lr(ie))if(ie.length){const re=t.exposed||(t.exposed={});ie.forEach(oe=>{Object.defineProperty(re,oe,{get:()=>r[oe],set:H=>r[oe]=H})})}else t.exposed||(t.exposed={});E&&t.render===Qn&&(t.render=E),W!=null&&(t.inheritAttrs=W),q&&(t.components=q),J&&(t.directives=J),G&&PW(t)}function fce(t,e,r=Qn){lr(t)&&(t=vk(t));for(const n in t){const i=t[n];let s;En(i)?"default"in i?s=Mr(i.from||n,i.default,!0):s=Mr(i.from||n):s=Mr(i),qr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function k5(t,e,r){bc(lr(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function LW(t,e,r,n){let i=n.includes(".")?XW(r,n):()=>r[n];if(nn(t)){const s=e[t];Lr(s)&&Yt(i,s)}else if(Lr(t))Yt(i,t.bind(r));else if(En(t))if(lr(t))t.forEach(s=>LW(s,e,r,n));else{const s=Lr(t.handler)?t.handler.bind(r):e[t.handler];Lr(s)&&Yt(i,s,t)}}function UM(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>QS(l,u,o,!0)),QS(l,e,o)),En(e)&&s.set(e,l),l}function QS(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&QS(t,s,r,!0),i&&i.forEach(o=>QS(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=hce[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const hce={data:I5,props:D5,emits:D5,methods:U_,computed:U_,beforeCreate:Ea,created:Ea,beforeMount:Ea,mounted:Ea,beforeUpdate:Ea,updated:Ea,beforeDestroy:Ea,beforeUnmount:Ea,destroyed:Ea,unmounted:Ea,activated:Ea,deactivated:Ea,errorCaptured:Ea,serverPrefetch:Ea,components:U_,directives:U_,watch:mce,provide:I5,inject:pce};function I5(t,e){return e?t?function(){return io(Lr(t)?t.call(this,this):t,Lr(e)?e.call(this,this):e)}:e:t}function pce(t,e){return U_(vk(t),vk(e))}function vk(t){if(lr(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ea(t,e){return t?[...new Set([].concat(t,e))]:e}function U_(t,e){return t?io(Object.create(null),t,e):e}function D5(t,e){return t?lr(t)&&lr(e)?[...new Set([...t,...e])]:io(Object.create(null),P5(t),P5(e??{})):e}function mce(t,e){if(!t)return e;if(!e)return t;const r=io(Object.create(null),t);for(const n in e)r[n]=Ea(t[n],e[n]);return r}function FW(){return{app:null,config:{isNativeTag:oue,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gce=0;function vce(t,e){return function(n,i=null){Lr(n)||(n=io({},n)),i!=null&&!En(i)&&(i=null);const s=FW(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:gce++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:rq,get config(){return s.config},set config(d){},use(d,...f){return o.has(d)||(d&&Lr(d.install)?(o.add(d),d.install(u,...f)):Lr(d)&&(o.add(d),d(u,...f))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,f){return f?(s.components[d]=f,u):s.components[d]},directive(d,f){return f?(s.directives[d]=f,u):s.directives[d]},mount(d,f,h){if(!l){const g=u._ceVNode||F(n,i);return g.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),f&&e?e(g,d):t(g,d,h),l=!0,u._container=d,d.__vue_app__=u,XC(g.component)}},onUnmount(d){a.push(d)},unmount(){l&&(bc(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return s.provides[d]=f,u},runWithContext(d){const f=X0;X0=u;try{return d()}finally{X0=f}}};return u}}let X0=null;function bi(t,e){if(Do){let r=Do.provides;const n=Do.parent&&Do.parent.provides;n===r&&(r=Do.provides=Object.create(n)),r[t]=e}}function Mr(t,e,r=!1){const n=Do||mo;if(n||X0){const i=X0?X0._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Lr(e)?e.call(n&&n.proxy):e}}function yce(){return!!(Do||mo||X0)}const NW={},BW=()=>Object.create(NW),UW=t=>Object.getPrototypeOf(t)===NW;function _ce(t,e,r,n=!1){const i={},s=BW();t.propsDefaults=Object.create(null),VW(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:DM(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function bce(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Gn(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(WC(t.emitsOptions,h))continue;const g=e[h];if(l)if(Xn(s,h))g!==s[h]&&(s[h]=g,u=!0);else{const v=jl(h);i[v]=yk(l,a,v,g,t,!1)}else g!==s[h]&&(s[h]=g,u=!0)}}}else{VW(t,e,i,s)&&(u=!0);let d;for(const f in a)(!e||!Xn(e,f)&&((d=Hf(f))===f||!Xn(e,d)))&&(l?r&&(r[f]!==void 0||r[d]!==void 0)&&(i[f]=yk(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Xn(e,f))&&(delete s[f],u=!0)}u&&Ef(t.attrs,"set","")}function VW(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(c2(l))continue;const u=e[l];let d;i&&Xn(i,d=jl(l))?!s||!s.includes(d)?r[d]=u:(a||(a={}))[d]=u:WC(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(s){const l=Gn(r),u=a||zi;for(let d=0;d<s.length;d++){const f=s[d];r[f]=yk(i,l,f,u[f],t,!Xn(u,f))}}return o}function yk(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Xn(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Lr(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const d=_1(i);n=u[r]=l.call(null,e),d()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Hf(r))&&(n=!0))}return n}const xce=new WeakMap;function zW(t,e,r=!1){const n=r?xce:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Lr(t)){const d=f=>{l=!0;const[h,g]=zW(f,e,!0);io(o,h),g&&a.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return En(t)&&n.set(t,zg),zg;if(lr(s))for(let d=0;d<s.length;d++){const f=jl(s[d]);R5(f)&&(o[f]=zi)}else if(s)for(const d in s){const f=jl(d);if(R5(f)){const h=s[d],g=o[f]=lr(h)||Lr(h)?{type:h}:io({},h),v=g.type;let p=!1,b=!0;if(lr(v))for(let S=0;S<v.length;++S){const C=v[S],T=Lr(C)&&C.name;if(T==="Boolean"){p=!0;break}else T==="String"&&(b=!1)}else p=Lr(v)&&v.name==="Boolean";g[0]=p,g[1]=b,(p||Xn(g,"default"))&&a.push(f)}}const u=[o,a];return En(t)&&n.set(t,u),u}function R5(t){return t[0]!=="$"&&!c2(t)}const HW=t=>t[0]==="_"||t==="$stable",VM=t=>lr(t)?t.map(td):[td(t)],wce=(t,e,r)=>{if(e._n)return e;const n=te((...i)=>VM(e(...i)),r);return n._c=!1,n},jW=(t,e,r)=>{const n=t._ctx;for(const i in t){if(HW(i))continue;const s=t[i];if(Lr(s))e[i]=wce(i,s,n);else if(s!=null){const o=VM(s);e[i]=()=>o}}},GW=(t,e)=>{const r=VM(e);t.slots.default=()=>r},WW=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},Sce=(t,e,r)=>{const n=t.slots=BW();if(t.vnode.shapeFlag&32){const i=e._;i?(WW(n,e,r),r&&GG(n,"_",i,!0)):jW(e,n)}else e&&GW(t,e)},Tce=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=zi;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:WW(i,e,r):(s=!e.$stable,jW(e,i)),o=e}else e&&(GW(t,e),o={default:1});if(s)for(const a in i)!HW(a)&&o[a]==null&&delete i[a]},rl=Nce;function Cce(t){return Ece(t)}function Ece(t,e){const r=WG();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:g=Qn,insertStaticContent:v}=t,p=(se,Pe,tt,et=null,ot=null,St=null,Dt=void 0,_t=null,Kt=!!Pe.dynamicChildren)=>{if(se===Pe)return;se&&!I0(se,Pe)&&(et=ze(se),be(se,ot,St,!0),se=null),Pe.patchFlag===-2&&(Kt=!1,Pe.dynamicChildren=null);const{type:Ut,ref:lt,shapeFlag:kt}=Pe;switch(Ut){case hy:b(se,Pe,tt,et);break;case Xo:S(se,Pe,tt,et);break;case WA:se==null&&C(Pe,tt,et,Dt);break;case Sr:q(se,Pe,tt,et,ot,St,Dt,_t,Kt);break;default:kt&1?E(se,Pe,tt,et,ot,St,Dt,_t,Kt):kt&6?J(se,Pe,tt,et,ot,St,Dt,_t,Kt):(kt&64||kt&128)&&Ut.process(se,Pe,tt,et,ot,St,Dt,_t,Kt,mt)}lt!=null&&ot&&hk(lt,se&&se.ref,St,Pe||se,!Pe)},b=(se,Pe,tt,et)=>{if(se==null)n(Pe.el=a(Pe.children),tt,et);else{const ot=Pe.el=se.el;Pe.children!==se.children&&u(ot,Pe.children)}},S=(se,Pe,tt,et)=>{se==null?n(Pe.el=l(Pe.children||""),tt,et):Pe.el=se.el},C=(se,Pe,tt,et)=>{[se.el,se.anchor]=v(se.children,Pe,tt,et,se.el,se.anchor)},T=({el:se,anchor:Pe},tt,et)=>{let ot;for(;se&&se!==Pe;)ot=h(se),n(se,tt,et),se=ot;n(Pe,tt,et)},A=({el:se,anchor:Pe})=>{let tt;for(;se&&se!==Pe;)tt=h(se),i(se),se=tt;i(Pe)},E=(se,Pe,tt,et,ot,St,Dt,_t,Kt)=>{Pe.type==="svg"?Dt="svg":Pe.type==="math"&&(Dt="mathml"),se==null?I(Pe,tt,et,ot,St,Dt,_t,Kt):G(se,Pe,ot,St,Dt,_t,Kt)},I=(se,Pe,tt,et,ot,St,Dt,_t)=>{let Kt,Ut;const{props:lt,shapeFlag:kt,transition:yt,dirs:Pt}=se;if(Kt=se.el=o(se.type,St,lt&&lt.is,lt),kt&8?d(Kt,se.children):kt&16&&N(se.children,Kt,null,et,ot,jA(se,St),Dt,_t),Pt&&Qp(se,null,et,"created"),O(Kt,se,se.scopeId,Dt,et),lt){for(const zt in lt)zt!=="value"&&!c2(zt)&&s(Kt,zt,null,lt[zt],St,et);"value"in lt&&s(Kt,"value",null,lt.value,St),(Ut=lt.onVnodeBeforeMount)&&jc(Ut,et,se)}Pt&&Qp(se,null,et,"beforeMount");const Er=Ace(ot,yt);Er&&yt.beforeEnter(Kt),n(Kt,Pe,tt),((Ut=lt&&lt.onVnodeMounted)||Er||Pt)&&rl(()=>{Ut&&jc(Ut,et,se),Er&&yt.enter(Kt),Pt&&Qp(se,null,et,"mounted")},ot)},O=(se,Pe,tt,et,ot)=>{if(tt&&g(se,tt),et)for(let St=0;St<et.length;St++)g(se,et[St]);if(ot){let St=ot.subTree;if(Pe===St||KW(St.type)&&(St.ssContent===Pe||St.ssFallback===Pe)){const Dt=ot.vnode;O(se,Dt,Dt.scopeId,Dt.slotScopeIds,ot.parent)}}},N=(se,Pe,tt,et,ot,St,Dt,_t,Kt=0)=>{for(let Ut=Kt;Ut<se.length;Ut++){const lt=se[Ut]=_t?Bh(se[Ut]):td(se[Ut]);p(null,lt,Pe,tt,et,ot,St,Dt,_t)}},G=(se,Pe,tt,et,ot,St,Dt)=>{const _t=Pe.el=se.el;let{patchFlag:Kt,dynamicChildren:Ut,dirs:lt}=Pe;Kt|=se.patchFlag&16;const kt=se.props||zi,yt=Pe.props||zi;let Pt;if(tt&&Jp(tt,!1),(Pt=yt.onVnodeBeforeUpdate)&&jc(Pt,tt,Pe,se),lt&&Qp(Pe,se,tt,"beforeUpdate"),tt&&Jp(tt,!0),(kt.innerHTML&&yt.innerHTML==null||kt.textContent&&yt.textContent==null)&&d(_t,""),Ut?ie(se.dynamicChildren,Ut,_t,tt,et,jA(Pe,ot),St):Dt||oe(se,Pe,_t,null,tt,et,jA(Pe,ot),St,!1),Kt>0){if(Kt&16)W(_t,kt,yt,tt,ot);else if(Kt&2&&kt.class!==yt.class&&s(_t,"class",null,yt.class,ot),Kt&4&&s(_t,"style",kt.style,yt.style,ot),Kt&8){const Er=Pe.dynamicProps;for(let zt=0;zt<Er.length;zt++){const xr=Er[zt],Ot=kt[xr],Re=yt[xr];(Re!==Ot||xr==="value")&&s(_t,xr,Ot,Re,ot,tt)}}Kt&1&&se.children!==Pe.children&&d(_t,Pe.children)}else!Dt&&Ut==null&&W(_t,kt,yt,tt,ot);((Pt=yt.onVnodeUpdated)||lt)&&rl(()=>{Pt&&jc(Pt,tt,Pe,se),lt&&Qp(Pe,se,tt,"updated")},et)},ie=(se,Pe,tt,et,ot,St,Dt)=>{for(let _t=0;_t<Pe.length;_t++){const Kt=se[_t],Ut=Pe[_t],lt=Kt.el&&(Kt.type===Sr||!I0(Kt,Ut)||Kt.shapeFlag&70)?f(Kt.el):tt;p(Kt,Ut,lt,null,et,ot,St,Dt,!0)}},W=(se,Pe,tt,et,ot)=>{if(Pe!==tt){if(Pe!==zi)for(const St in Pe)!c2(St)&&!(St in tt)&&s(se,St,Pe[St],null,ot,et);for(const St in tt){if(c2(St))continue;const Dt=tt[St],_t=Pe[St];Dt!==_t&&St!=="value"&&s(se,St,_t,Dt,ot,et)}"value"in tt&&s(se,"value",Pe.value,tt.value,ot)}},q=(se,Pe,tt,et,ot,St,Dt,_t,Kt)=>{const Ut=Pe.el=se?se.el:a(""),lt=Pe.anchor=se?se.anchor:a("");let{patchFlag:kt,dynamicChildren:yt,slotScopeIds:Pt}=Pe;Pt&&(_t=_t?_t.concat(Pt):Pt),se==null?(n(Ut,tt,et),n(lt,tt,et),N(Pe.children||[],tt,lt,ot,St,Dt,_t,Kt)):kt>0&&kt&64&&yt&&se.dynamicChildren?(ie(se.dynamicChildren,yt,tt,ot,St,Dt,_t),(Pe.key!=null||ot&&Pe===ot.subTree)&&zM(se,Pe,!0)):oe(se,Pe,tt,lt,ot,St,Dt,_t,Kt)},J=(se,Pe,tt,et,ot,St,Dt,_t,Kt)=>{Pe.slotScopeIds=_t,se==null?Pe.shapeFlag&512?ot.ctx.activate(Pe,tt,et,Dt,Kt):X(Pe,tt,et,ot,St,Dt,Kt):R(se,Pe,Kt)},X=(se,Pe,tt,et,ot,St,Dt)=>{const _t=se.component=jce(se,et,ot);if(HC(se)&&(_t.ctx.renderer=mt),Gce(_t,!1,Dt),_t.asyncDep){if(ot&&ot.registerDep(_t,z,Dt),!se.el){const Kt=_t.subTree=F(Xo);S(null,Kt,Pe,tt)}}else z(_t,se,Pe,tt,ot,St,Dt)},R=(se,Pe,tt)=>{const et=Pe.component=se.component;if(Lce(se,Pe,tt))if(et.asyncDep&&!et.asyncResolved){re(et,Pe,tt);return}else et.next=Pe,et.update();else Pe.el=se.el,et.vnode=Pe},z=(se,Pe,tt,et,ot,St,Dt)=>{const _t=()=>{if(se.isMounted){let{next:kt,bu:yt,u:Pt,parent:Er,vnode:zt}=se;{const nt=qW(se);if(nt){kt&&(kt.el=zt.el,re(se,kt,Dt)),nt.asyncDep.then(()=>{se.isUnmounted||_t()});return}}let xr=kt,Ot;Jp(se,!1),kt?(kt.el=zt.el,re(se,kt,Dt)):kt=zt,yt&&zw(yt),(Ot=kt.props&&kt.props.onVnodeBeforeUpdate)&&jc(Ot,Er,kt,zt),Jp(se,!0);const Re=GA(se),Ie=se.subTree;se.subTree=Re,p(Ie,Re,f(Ie.el),ze(Ie),se,ot,St),kt.el=Re.el,xr===null&&Fce(se,Re.el),Pt&&rl(Pt,ot),(Ot=kt.props&&kt.props.onVnodeUpdated)&&rl(()=>jc(Ot,Er,kt,zt),ot)}else{let kt;const{el:yt,props:Pt}=Pe,{bm:Er,m:zt,parent:xr,root:Ot,type:Re}=se,Ie=Gg(Pe);if(Jp(se,!1),Er&&zw(Er),!Ie&&(kt=Pt&&Pt.onVnodeBeforeMount)&&jc(kt,xr,Pe),Jp(se,!0),yt&&vt){const nt=()=>{se.subTree=GA(se),vt(yt,se.subTree,se,ot,null)};Ie&&Re.__asyncHydrate?Re.__asyncHydrate(yt,se,nt):nt()}else{Ot.ce&&Ot.ce._injectChildStyle(Re);const nt=se.subTree=GA(se);p(null,nt,tt,et,se,ot,St),Pe.el=nt.el}if(zt&&rl(zt,ot),!Ie&&(kt=Pt&&Pt.onVnodeMounted)){const nt=Pe;rl(()=>jc(kt,xr,nt),ot)}(Pe.shapeFlag&256||xr&&Gg(xr.vnode)&&xr.vnode.shapeFlag&256)&&se.a&&rl(se.a,ot),se.isMounted=!0,Pe=tt=et=null}};se.scope.on();const Kt=se.effect=new QG(_t);se.scope.off();const Ut=se.update=Kt.run.bind(Kt),lt=se.job=Kt.runIfDirty.bind(Kt);lt.i=se,lt.id=se.uid,Kt.scheduler=()=>$M(lt),Jp(se,!0),Ut()},re=(se,Pe,tt)=>{Pe.component=se;const et=se.vnode.props;se.vnode=Pe,se.next=null,bce(se,Pe.props,et,tt),Tce(se,Pe.children,tt),Ep(),S5(se),Ap()},oe=(se,Pe,tt,et,ot,St,Dt,_t,Kt=!1)=>{const Ut=se&&se.children,lt=se?se.shapeFlag:0,kt=Pe.children,{patchFlag:yt,shapeFlag:Pt}=Pe;if(yt>0){if(yt&128){ee(Ut,kt,tt,et,ot,St,Dt,_t,Kt);return}else if(yt&256){H(Ut,kt,tt,et,ot,St,Dt,_t,Kt);return}}Pt&8?(lt&16&&je(Ut,ot,St),kt!==Ut&&d(tt,kt)):lt&16?Pt&16?ee(Ut,kt,tt,et,ot,St,Dt,_t,Kt):je(Ut,ot,St,!0):(lt&8&&d(tt,""),Pt&16&&N(kt,tt,et,ot,St,Dt,_t,Kt))},H=(se,Pe,tt,et,ot,St,Dt,_t,Kt)=>{se=se||zg,Pe=Pe||zg;const Ut=se.length,lt=Pe.length,kt=Math.min(Ut,lt);let yt;for(yt=0;yt<kt;yt++){const Pt=Pe[yt]=Kt?Bh(Pe[yt]):td(Pe[yt]);p(se[yt],Pt,tt,null,ot,St,Dt,_t,Kt)}Ut>lt?je(se,ot,St,!0,!1,kt):N(Pe,tt,et,ot,St,Dt,_t,Kt,kt)},ee=(se,Pe,tt,et,ot,St,Dt,_t,Kt)=>{let Ut=0;const lt=Pe.length;let kt=se.length-1,yt=lt-1;for(;Ut<=kt&&Ut<=yt;){const Pt=se[Ut],Er=Pe[Ut]=Kt?Bh(Pe[Ut]):td(Pe[Ut]);if(I0(Pt,Er))p(Pt,Er,tt,null,ot,St,Dt,_t,Kt);else break;Ut++}for(;Ut<=kt&&Ut<=yt;){const Pt=se[kt],Er=Pe[yt]=Kt?Bh(Pe[yt]):td(Pe[yt]);if(I0(Pt,Er))p(Pt,Er,tt,null,ot,St,Dt,_t,Kt);else break;kt--,yt--}if(Ut>kt){if(Ut<=yt){const Pt=yt+1,Er=Pt<lt?Pe[Pt].el:et;for(;Ut<=yt;)p(null,Pe[Ut]=Kt?Bh(Pe[Ut]):td(Pe[Ut]),tt,Er,ot,St,Dt,_t,Kt),Ut++}}else if(Ut>yt)for(;Ut<=kt;)be(se[Ut],ot,St,!0),Ut++;else{const Pt=Ut,Er=Ut,zt=new Map;for(Ut=Er;Ut<=yt;Ut++){const Fe=Pe[Ut]=Kt?Bh(Pe[Ut]):td(Pe[Ut]);Fe.key!=null&&zt.set(Fe.key,Ut)}let xr,Ot=0;const Re=yt-Er+1;let Ie=!1,nt=0;const le=new Array(Re);for(Ut=0;Ut<Re;Ut++)le[Ut]=0;for(Ut=Pt;Ut<=kt;Ut++){const Fe=se[Ut];if(Ot>=Re){be(Fe,ot,St,!0);continue}let He;if(Fe.key!=null)He=zt.get(Fe.key);else for(xr=Er;xr<=yt;xr++)if(le[xr-Er]===0&&I0(Fe,Pe[xr])){He=xr;break}He===void 0?be(Fe,ot,St,!0):(le[He-Er]=Ut+1,He>=nt?nt=He:Ie=!0,p(Fe,Pe[He],tt,null,ot,St,Dt,_t,Kt),Ot++)}const Ee=Ie?Pce(le):zg;for(xr=Ee.length-1,Ut=Re-1;Ut>=0;Ut--){const Fe=Er+Ut,He=Pe[Fe],Ar=Fe+1<lt?Pe[Fe+1].el:et;le[Ut]===0?p(null,He,tt,Ar,ot,St,Dt,_t,Kt):Ie&&(xr<0||Ut!==Ee[xr]?ae(He,tt,Ar,2):xr--)}}},ae=(se,Pe,tt,et,ot=null)=>{const{el:St,type:Dt,transition:_t,children:Kt,shapeFlag:Ut}=se;if(Ut&6){ae(se.component.subTree,Pe,tt,et);return}if(Ut&128){se.suspense.move(Pe,tt,et);return}if(Ut&64){Dt.move(se,Pe,tt,mt);return}if(Dt===Sr){n(St,Pe,tt);for(let kt=0;kt<Kt.length;kt++)ae(Kt[kt],Pe,tt,et);n(se.anchor,Pe,tt);return}if(Dt===WA){T(se,Pe,tt);return}if(et!==2&&Ut&1&&_t)if(et===0)_t.beforeEnter(St),n(St,Pe,tt),rl(()=>_t.enter(St),ot);else{const{leave:kt,delayLeave:yt,afterLeave:Pt}=_t,Er=()=>n(St,Pe,tt),zt=()=>{kt(St,()=>{Er(),Pt&&Pt()})};yt?yt(St,Er,zt):zt()}else n(St,Pe,tt)},be=(se,Pe,tt,et=!1,ot=!1)=>{const{type:St,props:Dt,ref:_t,children:Kt,dynamicChildren:Ut,shapeFlag:lt,patchFlag:kt,dirs:yt,cacheIndex:Pt}=se;if(kt===-2&&(ot=!1),_t!=null&&hk(_t,null,tt,se,!0),Pt!=null&&(Pe.renderCache[Pt]=void 0),lt&256){Pe.ctx.deactivate(se);return}const Er=lt&1&&yt,zt=!Gg(se);let xr;if(zt&&(xr=Dt&&Dt.onVnodeBeforeUnmount)&&jc(xr,Pe,se),lt&6)ht(se.component,tt,et);else{if(lt&128){se.suspense.unmount(tt,et);return}Er&&Qp(se,null,Pe,"beforeUnmount"),lt&64?se.type.remove(se,Pe,tt,mt,et):Ut&&!Ut.hasOnce&&(St!==Sr||kt>0&&kt&64)?je(Ut,Pe,tt,!1,!0):(St===Sr&&kt&384||!ot&&lt&16)&&je(Kt,Pe,tt),et&&Me(se)}(zt&&(xr=Dt&&Dt.onVnodeUnmounted)||Er)&&rl(()=>{xr&&jc(xr,Pe,se),Er&&Qp(se,null,Pe,"unmounted")},tt)},Me=se=>{const{type:Pe,el:tt,anchor:et,transition:ot}=se;if(Pe===Sr){Qe(tt,et);return}if(Pe===WA){A(se);return}const St=()=>{i(tt),ot&&!ot.persisted&&ot.afterLeave&&ot.afterLeave()};if(se.shapeFlag&1&&ot&&!ot.persisted){const{leave:Dt,delayLeave:_t}=ot,Kt=()=>Dt(tt,St);_t?_t(se.el,St,Kt):Kt()}else St()},Qe=(se,Pe)=>{let tt;for(;se!==Pe;)tt=h(se),i(se),se=tt;i(Pe)},ht=(se,Pe,tt)=>{const{bum:et,scope:ot,job:St,subTree:Dt,um:_t,m:Kt,a:Ut}=se;M5(Kt),M5(Ut),et&&zw(et),ot.stop(),St&&(St.flags|=8,be(Dt,se,Pe,tt)),_t&&rl(_t,Pe),rl(()=>{se.isUnmounted=!0},Pe),Pe&&Pe.pendingBranch&&!Pe.isUnmounted&&se.asyncDep&&!se.asyncResolved&&se.suspenseId===Pe.pendingId&&(Pe.deps--,Pe.deps===0&&Pe.resolve())},je=(se,Pe,tt,et=!1,ot=!1,St=0)=>{for(let Dt=St;Dt<se.length;Dt++)be(se[Dt],Pe,tt,et,ot)},ze=se=>{if(se.shapeFlag&6)return ze(se.component.subTree);if(se.shapeFlag&128)return se.suspense.next();const Pe=h(se.anchor||se.el),tt=Pe&&Pe[bW];return tt?h(tt):Pe};let ut=!1;const ct=(se,Pe,tt)=>{se==null?Pe._vnode&&be(Pe._vnode,null,null,!0):p(Pe._vnode||null,se,Pe,null,null,null,tt),Pe._vnode=se,ut||(ut=!0,S5(),vW(),ut=!1)},mt={p,um:be,m:ae,r:Me,mt:X,mc:N,pc:oe,pbc:ie,n:ze,o:t};let jt,vt;return e&&([jt,vt]=e(mt)),{render:ct,hydrate:jt,createApp:vce(ct,jt)}}function jA({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Jp({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ace(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zM(t,e,r=!1){const n=t.children,i=e.children;if(lr(n)&&lr(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Bh(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&zM(o,a)),a.type===hy&&(a.el=o.el)}}function Pce(t){const e=t.slice(),r=[0];let n,i,s,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<u?s=a+1:o=a;u<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function qW(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qW(e)}function M5(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const kce=Symbol.for("v-scx"),Ice=()=>Mr(kce);function dc(t,e){return HM(t,null,e)}function Yt(t,e,r){return HM(t,e,r)}function HM(t,e,r=zi){const{immediate:n,deep:i,flush:s,once:o}=r,a=io({},r);let l;if(qC)if(s==="sync"){const h=Ice();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!e||n)a.once=!0;else{const h=()=>{};return h.stop=Qn,h.resume=Qn,h.pause=Qn,h}const u=Do;a.call=(h,g,v)=>bc(h,u,g,v);let d=!1;s==="post"?a.scheduler=h=>{rl(h,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(h,g)=>{g?h():$M(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=que(t,e,a);return l&&l.push(f),f}function Dce(t,e,r){const n=this.proxy,i=nn(t)?t.includes(".")?XW(n,t):()=>n[t]:t.bind(n,n);let s;Lr(e)?s=e:(s=e.handler,r=e);const o=_1(this),a=HM(i,s.bind(n),r);return o(),a}function XW(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const Rce=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${jl(e)}Modifiers`]||t[`${Hf(e)}Modifiers`];function Mce(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||zi;let i=r;const s=e.startsWith("update:"),o=s&&Rce(n,e.slice(7));o&&(o.trim&&(i=r.map(d=>nn(d)?d.trim():d)),o.number&&(i=r.map(lk)));let a,l=n[a=d2(e)]||n[a=d2(jl(e))];!l&&s&&(l=n[a=d2(Hf(e))]),l&&bc(l,t,6,i);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bc(u,t,6,i)}}function YW(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Lr(t)){const l=u=>{const d=YW(u,e,!0);d&&(a=!0,io(o,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(En(t)&&n.set(t,null),null):(lr(s)?s.forEach(l=>o[l]=null):io(o,s),En(t)&&n.set(t,o),o)}function WC(t,e){return!t||!FC(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xn(t,e[0].toLowerCase()+e.slice(1))||Xn(t,Hf(e))||Xn(t,e))}function GA(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:f,data:h,setupState:g,ctx:v,inheritAttrs:p}=t,b=ZS(t);let S,C;try{if(r.shapeFlag&4){const A=i||n,E=A;S=td(u.call(E,A,d,f,g,h,v)),C=a}else{const A=e;S=td(A.length>1?A(f,{attrs:a,slots:o,emit:l}):A(f,null)),C=e.props?a:Oce(a)}}catch(A){p2.length=0,zC(A,t,1),S=F(Xo)}let T=S;if(C&&p!==!1){const A=Object.keys(C),{shapeFlag:E}=T;A.length&&E&7&&(s&&A.some(yM)&&(C=$ce(C,s)),T=Of(T,C,!1,!0))}return r.dirs&&(T=Of(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(r.dirs):r.dirs),r.transition&&pm(T,r.transition),S=T,ZS(b),S}const Oce=t=>{let e;for(const r in t)(r==="class"||r==="style"||FC(r))&&((e||(e={}))[r]=t[r]);return e},$ce=(t,e)=>{const r={};for(const n in t)(!yM(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Lce(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?O5(n,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==n[h]&&!WC(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?O5(n,o,u):!0:!!o;return!1}function O5(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!WC(r,s))return!0}return!1}function Fce({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const KW=t=>t.__isSuspense;function Nce(t,e){e&&e.pendingBranch?lr(t)?e.effects.push(...t):e.effects.push(t):Kue(t)}const Sr=Symbol.for("v-fgt"),hy=Symbol.for("v-txt"),Xo=Symbol.for("v-cmt"),WA=Symbol.for("v-stc"),p2=[];let Ml=null;function me(t=!1){p2.push(Ml=t?null:[])}function Bce(){p2.pop(),Ml=p2[p2.length-1]||null}let rb=1;function $5(t){rb+=t,t<0&&Ml&&(Ml.hasOnce=!0)}function ZW(t){return t.dynamicChildren=rb>0?Ml||zg:null,Bce(),rb>0&&Ml&&Ml.push(t),t}function $e(t,e,r,n,i,s){return ZW(Ue(t,e,r,n,i,s,!0))}function Ct(t,e,r,n,i){return ZW(F(t,e,r,n,i,!0))}function Ha(t){return t?t.__v_isVNode===!0:!1}function I0(t,e){return t.type===e.type&&t.key===e.key}const QW=({key:t})=>t??null,jw=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?nn(t)||qr(t)||Lr(t)?{i:mo,r:t,k:e,f:!!r}:t:null);function Ue(t,e=null,r=null,n=0,i=null,s=t===Sr?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&QW(e),ref:e&&jw(e),scopeId:_W,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:mo};return a?(jM(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=nn(r)?8:16),rb>0&&!o&&Ml&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ml.push(l),l}const F=Uce;function Uce(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===MW)&&(t=Xo),Ha(t)){const a=Of(t,e,!0);return r&&jM(a,r),rb>0&&!s&&Ml&&(a.shapeFlag&6?Ml[Ml.indexOf(t)]=a:Ml.push(a)),a.patchFlag=-2,a}if(Yce(t)&&(t=t.__vccOpts),e){e=Vce(e);let{class:a,style:l}=e;a&&!nn(a)&&(e.class=Se(a)),En(l)&&(v1(l)&&!lr(l)&&(l=io({},l)),e.style=dn(l))}const o=nn(t)?1:KW(t)?128:xW(t)?64:En(t)?4:Lr(t)?2:0;return Ue(t,e,r,n,i,o,s,!0)}function Vce(t){return t?v1(t)||UW(t)?io({},t):t:null}function Of(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?vo(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&QW(u),ref:e&&e.ref?r&&s?lr(s)?s.concat(jw(e)):[s,jw(e)]:jw(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Sr?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Of(t.ssContent),ssFallback:t.ssFallback&&Of(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&pm(d,l.clone(d)),d}function Et(t=" ",e=0){return F(hy,null,t,e)}function gt(t="",e=!1){return e?(me(),Ct(Xo,null,t)):F(Xo,null,t)}function td(t){return t==null||typeof t=="boolean"?F(Xo):lr(t)?F(Sr,null,t.slice()):Ha(t)?Bh(t):F(hy,null,String(t))}function Bh(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Of(t)}function jM(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(lr(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),jM(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!UW(e)?e._ctx=mo:i===3&&mo&&(mo.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Lr(e)?(e={default:e,_ctx:mo},r=32):(e=String(e),n&64?(r=16,e=[Et(e)]):r=8);t.children=e,t.shapeFlag|=r}function vo(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Se([e.class,n.class]));else if(i==="style")e.style=dn([e.style,n.style]);else if(FC(i)){const s=e[i],o=n[i];o&&s!==o&&!(lr(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function jc(t,e,r,n=null){bc(t,e,7,[r,n])}const zce=FW();let Hce=0;function jce(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||zce,s={uid:Hce++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ZG(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zW(n,i),emitsOptions:YW(n,i),emit:null,emitted:null,propsDefaults:zi,inheritAttrs:n.inheritAttrs,ctx:zi,data:zi,props:zi,attrs:zi,slots:zi,refs:zi,setupState:zi,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Mce.bind(null,s),t.ce&&t.ce(s),s}let Do=null;const Dn=()=>Do||mo;let JS,_k;{const t=WG(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};JS=e("__VUE_INSTANCE_SETTERS__",r=>Do=r),_k=e("__VUE_SSR_SETTERS__",r=>qC=r)}const _1=t=>{const e=Do;return JS(t),t.scope.on(),()=>{t.scope.off(),JS(e)}},L5=()=>{Do&&Do.scope.off(),JS(null)};function JW(t){return t.vnode.shapeFlag&4}let qC=!1;function Gce(t,e=!1,r=!1){e&&_k(e);const{props:n,children:i}=t.vnode,s=JW(t);_ce(t,n,s,e),Sce(t,i,r);const o=s?Wce(t,e):void 0;return e&&_k(!1),o}function Wce(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,cce);const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?tq(t):null,s=_1(t);Ep();const o=y1(n,t,0,[t.props,i]);if(Ap(),s(),bM(o)){if(Gg(t)||PW(t),o.then(L5,L5),e)return o.then(a=>{F5(t,a,e)}).catch(a=>{zC(a,t,0)});t.asyncDep=o}else F5(t,o,e)}else eq(t,e)}function F5(t,e,r){Lr(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:En(e)&&(t.setupState=hW(e)),eq(t,r)}let N5;function eq(t,e,r){const n=t.type;if(!t.render){if(!e&&N5&&!n.render){const i=n.template||UM(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,u=io(io({isCustomElement:s,delimiters:a},o),l);n.render=N5(i,u)}}t.render=n.render||Qn}{const i=_1(t);Ep();try{dce(t)}finally{Ap(),i()}}}const qce={get(t,e){return ma(t,"get",""),t[e]}};function tq(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,qce),slots:t.slots,emit:t.emit,expose:e}}function XC(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hW(hm(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in h2)return h2[r](t)},has(e,r){return r in e||r in h2}})):t.proxy}function Xce(t,e=!0){return Lr(t)?t.displayName||t.name:t.name||e&&t.__name}function Yce(t){return Lr(t)&&"__vccOpts"in t}const pe=(t,e)=>Gue(t,e,qC);function br(t,e,r){const n=arguments.length;return n===2?En(e)&&!lr(e)?Ha(e)?F(t,null,[e]):F(t,e):F(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ha(r)&&(r=[r]),F(t,e,r))}const rq="3.5.10",Kce=Qn;/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bk;const B5=typeof window<"u"&&window.trustedTypes;if(B5)try{bk=B5.createPolicy("vue",{createHTML:t=>t})}catch{}const nq=bk?t=>bk.createHTML(t):t=>t,Zce="http://www.w3.org/2000/svg",Qce="http://www.w3.org/1998/Math/MathML",df=typeof document<"u"?document:null,U5=df&&df.createElement("template"),Jce={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?df.createElementNS(Zce,t):e==="mathml"?df.createElementNS(Qce,t):r?df.createElement(t,{is:r}):df.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>df.createTextNode(t),createComment:t=>df.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>df.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{U5.innerHTML=nq(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=U5.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},ph="transition",r_="animation",vv=Symbol("_vtc"),iq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sq=io({},TW,iq),ede=t=>(t.displayName="Transition",t.props=sq,t),xl=ede((t,{slots:e})=>br(rce,oq(t),e)),e0=(t,e=[])=>{lr(t)?t.forEach(r=>r(...e)):t&&t(...e)},V5=t=>t?lr(t)?t.some(e=>e.length>1):t.length>1:!1;function oq(t){const e={};for(const q in t)q in iq||(e[q]=t[q]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:g=`${r}-leave-to`}=t,v=tde(i),p=v&&v[0],b=v&&v[1],{onBeforeEnter:S,onEnter:C,onEnterCancelled:T,onLeave:A,onLeaveCancelled:E,onBeforeAppear:I=S,onAppear:O=C,onAppearCancelled:N=T}=e,G=(q,J,X)=>{kh(q,J?d:a),kh(q,J?u:o),X&&X()},ie=(q,J)=>{q._isLeaving=!1,kh(q,f),kh(q,g),kh(q,h),J&&J()},W=q=>(J,X)=>{const R=q?O:C,z=()=>G(J,q,X);e0(R,[J,z]),z5(()=>{kh(J,q?l:s),of(J,q?d:a),V5(R)||H5(J,n,p,z)})};return io(e,{onBeforeEnter(q){e0(S,[q]),of(q,s),of(q,o)},onBeforeAppear(q){e0(I,[q]),of(q,l),of(q,u)},onEnter:W(!1),onAppear:W(!0),onLeave(q,J){q._isLeaving=!0;const X=()=>ie(q,J);of(q,f),of(q,h),lq(),z5(()=>{q._isLeaving&&(kh(q,f),of(q,g),V5(A)||H5(q,n,b,X))}),e0(A,[q,X])},onEnterCancelled(q){G(q,!1),e0(T,[q])},onAppearCancelled(q){G(q,!0),e0(N,[q])},onLeaveCancelled(q){ie(q),e0(E,[q])}})}function tde(t){if(t==null)return null;if(En(t))return[qA(t.enter),qA(t.leave)];{const e=qA(t);return[e,e]}}function qA(t){return cue(t)}function of(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[vv]||(t[vv]=new Set)).add(e)}function kh(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[vv];r&&(r.delete(e),r.size||(t[vv]=void 0))}function z5(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rde=0;function H5(t,e,r,n){const i=t._endId=++rde,s=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:l}=aq(t,e);if(!o)return n();const u=o+"end";let d=0;const f=()=>{t.removeEventListener(u,h),s()},h=g=>{g.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),t.addEventListener(u,h)}function aq(t,e){const r=window.getComputedStyle(t),n=v=>(r[v]||"").split(", "),i=n(`${ph}Delay`),s=n(`${ph}Duration`),o=j5(i,s),a=n(`${r_}Delay`),l=n(`${r_}Duration`),u=j5(a,l);let d=null,f=0,h=0;e===ph?o>0&&(d=ph,f=o,h=s.length):e===r_?u>0&&(d=r_,f=u,h=l.length):(f=Math.max(o,u),d=f>0?o>u?ph:r_:null,h=d?d===ph?s.length:l.length:0);const g=d===ph&&/\b(transform|all)(,|$)/.test(n(`${ph}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:g}}function j5(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>G5(r)+G5(t[n])))}function G5(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function lq(){return document.body.offsetHeight}function nde(t,e,r){const n=t[vv];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const eT=Symbol("_vod"),uq=Symbol("_vsh"),Ai={beforeMount(t,{value:e},{transition:r}){t[eT]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):n_(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),n_(t,!0),n.enter(t)):n.leave(t,()=>{n_(t,!1)}):n_(t,e))},beforeUnmount(t,{value:e}){n_(t,e)}};function n_(t,e){t.style.display=e?t[eT]:"none",t[uq]=!e}const ide=Symbol(""),sde=/(^|;)\s*display\s*:/;function ode(t,e,r){const n=t.style,i=nn(r);let s=!1;if(r&&!i){if(e)if(nn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Gw(n,a,"")}else for(const o in e)r[o]==null&&Gw(n,o,"");for(const o in r)o==="display"&&(s=!0),Gw(n,o,r[o])}else if(i){if(e!==r){const o=n[ide];o&&(r+=";"+o),n.cssText=r,s=sde.test(r)}}else e&&t.removeAttribute("style");eT in t&&(t[eT]=s?n.display:"",t[uq]&&(n.display="none"))}const W5=/\s*!important$/;function Gw(t,e,r){if(lr(r))r.forEach(n=>Gw(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=ade(t,e);W5.test(r)?t.setProperty(Hf(n),r.replace(W5,""),"important"):t[n]=r}}const q5=["Webkit","Moz","ms"],XA={};function ade(t,e){const r=XA[e];if(r)return r;let n=jl(e);if(n!=="filter"&&n in t)return XA[e]=n;n=g1(n);for(let i=0;i<q5.length;i++){const s=q5[i]+n;if(s in t)return XA[e]=s}return e}const X5="http://www.w3.org/1999/xlink";function Y5(t,e,r,n,i,s=gue(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(X5,e.slice(6,e.length)):t.setAttributeNS(X5,e,r):r==null||s&&!qG(r)?t.removeAttribute(e):t.setAttribute(e,s?"":Td(r)?String(r):r)}function K5(t,e,r,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?nq(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,a=r==null?t.type==="checkbox"?"on":"":String(r);(o!==a||!("_value"in t))&&(t.value=a),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=qG(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(e)}function jh(t,e,r,n){t.addEventListener(e,r,n)}function lde(t,e,r,n){t.removeEventListener(e,r,n)}const Z5=Symbol("_vei");function ude(t,e,r,n,i=null){const s=t[Z5]||(t[Z5]={}),o=s[e];if(n&&o)o.value=n;else{const[a,l]=cde(e);if(n){const u=s[e]=hde(n,i);jh(t,a,u,l)}else o&&(lde(t,a,o,l),s[e]=void 0)}}const Q5=/(?:Once|Passive|Capture)$/;function cde(t){let e;if(Q5.test(t)){e={};let n;for(;n=t.match(Q5);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hf(t.slice(2)),e]}let YA=0;const dde=Promise.resolve(),fde=()=>YA||(dde.then(()=>YA=0),YA=Date.now());function hde(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;bc(pde(n,r.value),e,5,[n])};return r.value=t,r.attached=fde(),r}function pde(t,e){if(lr(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const J5=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,mde=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?nde(t,n,o):e==="style"?ode(t,r,n):FC(e)?yM(e)||ude(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gde(t,e,n,o))?(K5(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Y5(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!nn(n))?K5(t,jl(e),n):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Y5(t,e,n,o))};function gde(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&J5(e)&&Lr(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return J5(e)&&nn(r)?!1:e in t}const cq=new WeakMap,dq=new WeakMap,tT=Symbol("_moveCb"),eF=Symbol("_enterCb"),vde=t=>(delete t.props.mode,t),yde=vde({name:"TransitionGroup",props:io({},sq,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Dn(),n=SW();let i,s;return Pp(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!wde(i[0].el,r.vnode.el,o))return;i.forEach(_de),i.forEach(bde);const a=i.filter(xde);lq(),a.forEach(l=>{const u=l.el,d=u.style;of(u,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=u[tT]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",f),u[tT]=null,kh(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Gn(t),a=oq(o);let l=o.tag||Sr;if(i=[],s)for(let u=0;u<s.length;u++){const d=s[u];d.el&&d.el instanceof Element&&(i.push(d),pm(d,tb(d,a,n,r)),cq.set(d,d.el.getBoundingClientRect()))}s=e.default?LM(e.default()):[];for(let u=0;u<s.length;u++){const d=s[u];d.key!=null&&pm(d,tb(d,a,n,r))}return F(l,null,s)}}}),fq=yde;function _de(t){const e=t.el;e[tT]&&e[tT](),e[eF]&&e[eF]()}function bde(t){dq.set(t,t.el.getBoundingClientRect())}function xde(t){const e=cq.get(t),r=dq.get(t),n=e.left-r.left,i=e.top-r.top;if(n||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${n}px,${i}px)`,s.transitionDuration="0s",t}}function wde(t,e,r){const n=t.cloneNode(),i=t[vv];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(n);const{hasTransform:o}=aq(n);return s.removeChild(n),o}const yv=t=>{const e=t.props["onUpdate:modelValue"]||!1;return lr(e)?r=>zw(e,r):e};function Sde(t){t.target.composing=!0}function tF(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Af=Symbol("_assign"),hq={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[Af]=yv(i);const s=n||i.props&&i.props.type==="number";jh(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),s&&(a=lk(a)),t[Af](a)}),r&&jh(t,"change",()=>{t.value=t.value.trim()}),e||(jh(t,"compositionstart",Sde),jh(t,"compositionend",tF),jh(t,"change",tF))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:i,number:s}},o){if(t[Af]=yv(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?lk(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||i&&t.value.trim()===l)||(t.value=l))}},rT={deep:!0,created(t,e,r){t[Af]=yv(r),jh(t,"change",()=>{const n=t._modelValue,i=mq(t),s=t.checked,o=t[Af];if(lr(n)){const a=XG(n,i),l=a!==-1;if(s&&!l)o(n.concat(i));else if(!s&&l){const u=[...n];u.splice(a,1),o(u)}}else if(NC(n)){const a=new Set(n);s?a.add(i):a.delete(i),o(a)}else o(gq(t,s))})},mounted:rF,beforeUpdate(t,e,r){t[Af]=yv(r),rF(t,e,r)}};function rF(t,{value:e},r){t._modelValue=e;let n;lr(e)?n=XG(e,r.props.value)>-1:NC(e)?n=e.has(r.props.value):n=gv(e,gq(t,!0)),t.checked!==n&&(t.checked=n)}const pq={created(t,{value:e},r){t.checked=gv(e,r.props.value),t[Af]=yv(r),jh(t,"change",()=>{t[Af](mq(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[Af]=yv(n),e!==r&&(t.checked=gv(e,n.props.value))}};function mq(t){return"_value"in t?t._value:t.value}function gq(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Tde=["ctrl","shift","alt","meta"],Cde={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Tde.some(r=>t[`${r}Key`]&&!e.includes(r))},_n=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=Cde[e[o]];if(a&&a(i,e))return}return t(i,...s)})},Ede={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Li=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const s=Hf(i.key);if(e.some(o=>o===s||Ede[o]===s))return t(i)})},Ade=io({patchProp:mde},Jce);let nF;function vq(){return nF||(nF=Cce(Ade))}const dp=(...t)=>{vq().render(...t)},yq=(...t)=>{const e=vq().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=kde(n);if(!i)return;const s=e._component;!Lr(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,Pde(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Pde(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function kde(t){return nn(t)?document.querySelector(t):t}const Ide='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Dde=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,iF=t=>Array.from(t.querySelectorAll(Ide)).filter(e=>Rde(e)&&Dde(e)),Rde=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Ww=function(t,e,...r){let n;e.includes("mouse")||e.includes("click")?n="MouseEvents":e.includes("key")?n="KeyboardEvent":n="HTMLEvents";const i=document.createEvent(n);return i.initEvent(e,...r),t.dispatchEvent(i),t},_q=t=>!t.getAttribute("aria-owns"),bq=(t,e,r)=>{const{parentNode:n}=t;if(!n)return null;const i=n.querySelectorAll(r),s=Array.prototype.indexOf.call(i,t);return i[s+e]||null},qw=t=>{t&&(t.focus(),!_q(t)&&t.click())},ff=(t,e,{checkForDefaultPrevented:r=!0}={})=>i=>{const s=t==null?void 0:t(i);if(r===!1||!s)return e==null?void 0:e(i)};var Mde=Object.defineProperty,Ode=Object.defineProperties,$de=Object.getOwnPropertyDescriptors,sF=Object.getOwnPropertySymbols,Lde=Object.prototype.hasOwnProperty,Fde=Object.prototype.propertyIsEnumerable,oF=(t,e,r)=>e in t?Mde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nde=(t,e)=>{for(var r in e||(e={}))Lde.call(e,r)&&oF(t,r,e[r]);if(sF)for(var r of sF(e))Fde.call(e,r)&&oF(t,r,e[r]);return t},Bde=(t,e)=>Ode(t,$de(e));function aF(t,e){var r;const n=Ba();return dc(()=>{n.value=t()},Bde(Nde({},e),{flush:(r=e==null?void 0:e.flush)!=null?r:"sync"})),dy(n)}var lF;const Ln=typeof window<"u",Ude=t=>typeof t<"u",xq=t=>typeof t=="function",Vde=t=>typeof t=="string",_v=()=>{},xk=Ln&&((lF=window==null?void 0:window.navigator)==null?void 0:lF.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function xc(t){return typeof t=="function"?t():_(t)}function GM(t,e){function r(...n){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(s)})}return r}const wq=t=>t();function zde(t,e={}){let r,n,i=_v;const s=a=>{clearTimeout(a),i(),i=_v};return a=>{const l=xc(t),u=xc(e.maxWait);return r&&s(r),l<=0||u!==void 0&&u<=0?(n&&(s(n),n=null),Promise.resolve(a())):new Promise((d,f)=>{i=e.rejectOnCancel?f:d,u&&!n&&(n=setTimeout(()=>{r&&s(r),n=null,d(a())},u)),r=setTimeout(()=>{n&&s(n),n=null,d(a())},l)})}}function Hde(t,e=!0,r=!0,n=!1){let i=0,s,o=!0,a=_v,l;const u=()=>{s&&(clearTimeout(s),s=void 0,a(),a=_v)};return f=>{const h=xc(t),g=Date.now()-i,v=()=>l=f();return u(),h<=0?(i=Date.now(),v()):(g>h&&(r||!o)?(i=Date.now(),v()):e&&(l=new Promise((p,b)=>{a=n?b:p,s=setTimeout(()=>{i=Date.now(),o=!0,p(v()),u()},Math.max(0,h-g))})),!r&&!s&&(s=setTimeout(()=>o=!0,h)),o=!1,l)}}function jde(t=wq){const e=ve(!0);function r(){e.value=!1}function n(){e.value=!0}const i=(...s)=>{e.value&&t(...s)};return{isActive:dy(e),pause:r,resume:n,eventFilter:i}}function Gde(t){return t}function py(t){return SM()?(TM(t),!0):!1}function Wde(t,e=200,r={}){return GM(zde(e,r),t)}function qde(t,e=200,r={}){const n=ve(t.value),i=Wde(()=>{n.value=t.value},e,r);return Yt(t,()=>i()),n}function Xde(t,e=200,r=!1,n=!0,i=!1){return GM(Hde(e,r,n,i),t)}function Yde(t){return typeof t=="function"?pe(t):ve(t)}function Sq(t,e=!0){Dn()?zn(t):e?t():Wr(t)}function bv(t,e,r={}){const{immediate:n=!0}=r,i=ve(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){i.value=!1,o()}function l(...u){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...u)},xc(e))}return n&&(i.value=!0,Ln&&l()),py(a),{isPending:dy(i),start:l,stop:a}}function Kde(t=!1,e={}){const{truthyValue:r=!0,falsyValue:n=!1}=e,i=qr(t),s=ve(t);function o(a){if(arguments.length)return s.value=a,s.value;{const l=xc(r);return s.value=s.value===l?xc(n):l,s.value}}return i?o:[s,o]}var uF=Object.getOwnPropertySymbols,Zde=Object.prototype.hasOwnProperty,Qde=Object.prototype.propertyIsEnumerable,Jde=(t,e)=>{var r={};for(var n in t)Zde.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&uF)for(var n of uF(t))e.indexOf(n)<0&&Qde.call(t,n)&&(r[n]=t[n]);return r};function efe(t,e,r={}){const n=r,{eventFilter:i=wq}=n,s=Jde(n,["eventFilter"]);return Yt(t,GM(i,e),s)}var tfe=Object.defineProperty,rfe=Object.defineProperties,nfe=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,Tq=Object.prototype.hasOwnProperty,Cq=Object.prototype.propertyIsEnumerable,cF=(t,e,r)=>e in t?tfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ife=(t,e)=>{for(var r in e||(e={}))Tq.call(e,r)&&cF(t,r,e[r]);if(nT)for(var r of nT(e))Cq.call(e,r)&&cF(t,r,e[r]);return t},sfe=(t,e)=>rfe(t,nfe(e)),ofe=(t,e)=>{var r={};for(var n in t)Tq.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&nT)for(var n of nT(t))e.indexOf(n)<0&&Cq.call(t,n)&&(r[n]=t[n]);return r};function afe(t,e,r={}){const n=r,{eventFilter:i}=n,s=ofe(n,["eventFilter"]),{eventFilter:o,pause:a,resume:l,isActive:u}=jde(i);return{stop:efe(t,e,sfe(ife({},s),{eventFilter:o})),pause:a,resume:l,isActive:u}}function ud(t){var e;const r=xc(t);return(e=r==null?void 0:r.$el)!=null?e:r}const wc=Ln?window:void 0,lfe=Ln?window.document:void 0;function gs(...t){let e,r,n,i;if(Vde(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=wc):[e,r,n,i]=t,!e)return _v;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],o=()=>{s.forEach(d=>d()),s.length=0},a=(d,f,h,g)=>(d.addEventListener(f,h,g),()=>d.removeEventListener(f,h,g)),l=Yt(()=>[ud(e),xc(i)],([d,f])=>{o(),d&&s.push(...r.flatMap(h=>n.map(g=>a(d,h,g,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return py(u),u}let dF=!1;function Eq(t,e,r={}){const{window:n=wc,ignore:i=[],capture:s=!0,detectIframe:o=!1}=r;if(!n)return;xk&&!dF&&(dF=!0,Array.from(n.document.body.children).forEach(h=>h.addEventListener("click",_v)));let a=!0;const l=h=>i.some(g=>{if(typeof g=="string")return Array.from(n.document.querySelectorAll(g)).some(v=>v===h.target||h.composedPath().includes(v));{const v=ud(g);return v&&(h.target===v||h.composedPath().includes(v))}}),d=[gs(n,"click",h=>{const g=ud(t);if(!(!g||g===h.target||h.composedPath().includes(g))){if(h.detail===0&&(a=!l(h)),!a){a=!0;return}e(h)}},{passive:!0,capture:s}),gs(n,"pointerdown",h=>{const g=ud(t);g&&(a=!h.composedPath().includes(g)&&!l(h))},{passive:!0}),o&&gs(n,"blur",h=>{var g;const v=ud(t);((g=n.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(v!=null&&v.contains(n.document.activeElement))&&e(h)})].filter(Boolean);return()=>d.forEach(h=>h())}function WM(t,e=!1){const r=ve(),n=()=>r.value=!!t();return n(),Sq(n,e),r}function ufe(t,e={}){const{window:r=wc}=e,n=WM(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const s=ve(!1),o=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},a=()=>{n.value&&(o(),i=r.matchMedia(Yde(t).value),s.value=i.matches,"addEventListener"in i?i.addEventListener("change",a):i.addListener(a))};return dc(a),py(()=>o()),s}function cfe(t){return JSON.parse(JSON.stringify(t))}const wk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sk="__vueuse_ssr_handlers__";wk[Sk]=wk[Sk]||{};const dfe=wk[Sk];function Aq(t,e){return dfe[t]||e}function ffe(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var hfe=Object.defineProperty,fF=Object.getOwnPropertySymbols,pfe=Object.prototype.hasOwnProperty,mfe=Object.prototype.propertyIsEnumerable,hF=(t,e,r)=>e in t?hfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pF=(t,e)=>{for(var r in e||(e={}))pfe.call(e,r)&&hF(t,r,e[r]);if(fF)for(var r of fF(e))mfe.call(e,r)&&hF(t,r,e[r]);return t};const gfe={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},mF="vueuse-storage";function vfe(t,e,r,n={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:d,window:f=wc,eventFilter:h,onError:g=N=>{console.error(N)}}=n,v=(d?Ba:ve)(e);if(!r)try{r=Aq("getDefaultStorage",()=>{var N;return(N=wc)==null?void 0:N.localStorage})()}catch(N){g(N)}if(!r)return v;const p=xc(e),b=ffe(p),S=(i=n.serializer)!=null?i:gfe[b],{pause:C,resume:T}=afe(v,()=>A(v.value),{flush:s,deep:o,eventFilter:h});return f&&a&&(gs(f,"storage",O),gs(f,mF,I)),O(),v;function A(N){try{if(N==null)r.removeItem(t);else{const G=S.write(N),ie=r.getItem(t);ie!==G&&(r.setItem(t,G),f&&f.dispatchEvent(new CustomEvent(mF,{detail:{key:t,oldValue:ie,newValue:G,storageArea:r}})))}}catch(G){g(G)}}function E(N){const G=N?N.newValue:r.getItem(t);if(G==null)return l&&p!==null&&r.setItem(t,S.write(p)),p;if(!N&&u){const ie=S.read(G);return xq(u)?u(ie,p):b==="object"&&!Array.isArray(ie)?pF(pF({},p),ie):ie}else return typeof G!="string"?G:S.read(G)}function I(N){O(N.detail)}function O(N){if(!(N&&N.storageArea!==r)){if(N&&N.key==null){v.value=p;return}if(!(N&&N.key!==t)){C();try{v.value=E(N)}catch(G){g(G)}finally{N?Wr(T):T()}}}}}function Pq(t){return ufe("(prefers-color-scheme: dark)",t)}var yfe=Object.defineProperty,gF=Object.getOwnPropertySymbols,_fe=Object.prototype.hasOwnProperty,bfe=Object.prototype.propertyIsEnumerable,vF=(t,e,r)=>e in t?yfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xfe=(t,e)=>{for(var r in e||(e={}))_fe.call(e,r)&&vF(t,r,e[r]);if(gF)for(var r of gF(e))bfe.call(e,r)&&vF(t,r,e[r]);return t};function wfe(t={}){const{selector:e="html",attribute:r="class",initialValue:n="auto",window:i=wc,storage:s,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:u}=t,d=xfe({auto:"",light:"light",dark:"dark"},t.modes||{}),f=Pq({window:i}),h=pe(()=>f.value?"dark":"light"),g=l||(o==null?ve(n):vfe(o,n,s,{window:i,listenToStorageChanges:a})),v=pe({get(){return g.value==="auto"&&!u?h.value:g.value},set(C){g.value=C}}),p=Aq("updateHTMLAttrs",(C,T,A)=>{const E=i==null?void 0:i.document.querySelector(C);if(E)if(T==="class"){const I=A.split(/\s/g);Object.values(d).flatMap(O=>(O||"").split(/\s/g)).filter(Boolean).forEach(O=>{I.includes(O)?E.classList.add(O):E.classList.remove(O)})}else E.setAttribute(T,A)});function b(C){var T;const A=C==="auto"?h.value:C;p(e,r,(T=d[A])!=null?T:A)}function S(C){t.onChanged?t.onChanged(C,b):b(C)}return Yt(v,S,{flush:"post",immediate:!0}),u&&Yt(h,()=>S(v.value),{flush:"post"}),Sq(()=>S(v.value)),v}function Sfe(t,e,{window:r=wc,initialValue:n=""}={}){const i=ve(n),s=pe(()=>{var o;return ud(e)||((o=r==null?void 0:r.document)==null?void 0:o.documentElement)});return Yt([s,()=>xc(t)],([o,a])=>{var l;if(o&&r){const u=(l=r.getComputedStyle(o).getPropertyValue(a))==null?void 0:l.trim();i.value=u||n}},{immediate:!0}),Yt(i,o=>{var a;(a=s.value)!=null&&a.style&&s.value.style.setProperty(xc(t),o)}),i}var Tfe=Object.defineProperty,Cfe=Object.defineProperties,Efe=Object.getOwnPropertyDescriptors,yF=Object.getOwnPropertySymbols,Afe=Object.prototype.hasOwnProperty,Pfe=Object.prototype.propertyIsEnumerable,_F=(t,e,r)=>e in t?Tfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kfe=(t,e)=>{for(var r in e||(e={}))Afe.call(e,r)&&_F(t,r,e[r]);if(yF)for(var r of yF(e))Pfe.call(e,r)&&_F(t,r,e[r]);return t},Ife=(t,e)=>Cfe(t,Efe(e));function Dfe(t={}){const{valueDark:e="dark",valueLight:r="",window:n=wc}=t,i=wfe(Ife(kfe({},t),{onChanged:(a,l)=>{var u;t.onChanged?(u=t.onChanged)==null||u.call(t,a==="dark"):l(a)},modes:{dark:e,light:r}})),s=Pq({window:n});return pe({get(){return i.value==="dark"},set(a){a===s.value?i.value="auto":i.value=a?"dark":"light"}})}function Rfe({document:t=lfe}={}){if(!t)return ve("visible");const e=ve(t.visibilityState);return gs(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var bF=Object.getOwnPropertySymbols,Mfe=Object.prototype.hasOwnProperty,Ofe=Object.prototype.propertyIsEnumerable,$fe=(t,e)=>{var r={};for(var n in t)Mfe.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&bF)for(var n of bF(t))e.indexOf(n)<0&&Ofe.call(t,n)&&(r[n]=t[n]);return r};function ko(t,e,r={}){const n=r,{window:i=wc}=n,s=$fe(n,["window"]);let o;const a=WM(()=>i&&"ResizeObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},u=Yt(()=>ud(t),f=>{l(),a.value&&i&&f&&(o=new ResizeObserver(e),o.observe(f,s))},{immediate:!0,flush:"post"}),d=()=>{l(),u()};return py(d),{isSupported:a,stop:d}}var xF=Object.getOwnPropertySymbols,Lfe=Object.prototype.hasOwnProperty,Ffe=Object.prototype.propertyIsEnumerable,Nfe=(t,e)=>{var r={};for(var n in t)Lfe.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&xF)for(var n of xF(t))e.indexOf(n)<0&&Ffe.call(t,n)&&(r[n]=t[n]);return r};function Bfe(t,e,r={}){const n=r,{window:i=wc}=n,s=Nfe(n,["window"]);let o;const a=WM(()=>i&&"MutationObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},u=Yt(()=>ud(t),f=>{l(),a.value&&i&&f&&(o=new MutationObserver(e),o.observe(f,s))},{immediate:!0}),d=()=>{l(),u()};return py(d),{isSupported:a,stop:d}}var wF;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(wF||(wF={}));var Ufe=Object.defineProperty,SF=Object.getOwnPropertySymbols,Vfe=Object.prototype.hasOwnProperty,zfe=Object.prototype.propertyIsEnumerable,TF=(t,e,r)=>e in t?Ufe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hfe=(t,e)=>{for(var r in e||(e={}))Vfe.call(e,r)&&TF(t,r,e[r]);if(SF)for(var r of SF(e))zfe.call(e,r)&&TF(t,r,e[r]);return t};const jfe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Hfe({linear:Gde},jfe);function Gfe(t,e,r,n={}){var i,s,o;const{clone:a=!1,passive:l=!1,eventName:u,deep:d=!1,defaultValue:f}=n,h=Dn(),g=r||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((o=(s=h==null?void 0:h.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let v=u;e||(e="modelValue"),v=u||v||`update:${e.toString()}`;const p=S=>a?xq(a)?a(S):cfe(S):S,b=()=>Ude(t[e])?p(t[e]):f;if(l){const S=b(),C=ve(S);return Yt(()=>t[e],T=>C.value=p(T)),Yt(C,T=>{(T!==t[e]||d)&&g(v,T)},{deep:d}),C}else return pe({get(){return b()},set(S){g(v,S)}})}function Wfe({window:t=wc}={}){if(!t)return ve(!1);const e=ve(t.document.hasFocus());return gs(t,"blur",()=>{e.value=!1}),gs(t,"focus",()=>{e.value=!0}),e}const qfe=()=>Ln&&/firefox/i.test(window.navigator.userAgent),Xfe=(t,e)=>{if(!Ln||!t||!e)return!1;const r=t.getBoundingClientRect();let n;return e instanceof Element?n=e.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<n.bottom&&r.bottom>n.top&&r.right>n.left&&r.left<n.right};var Yfe=typeof global=="object"&&global&&global.Object===Object&&global;const kq=Yfe;var Kfe=typeof self=="object"&&self&&self.Object===Object&&self,Zfe=kq||Kfe||Function("return this")();const Cc=Zfe;var Qfe=Cc.Symbol;const Iu=Qfe;var Iq=Object.prototype,Jfe=Iq.hasOwnProperty,ehe=Iq.toString,i_=Iu?Iu.toStringTag:void 0;function the(t){var e=Jfe.call(t,i_),r=t[i_];try{t[i_]=void 0;var n=!0}catch{}var i=ehe.call(t);return n&&(e?t[i_]=r:delete t[i_]),i}var rhe=Object.prototype,nhe=rhe.toString;function ihe(t){return nhe.call(t)}var she="[object Null]",ohe="[object Undefined]",CF=Iu?Iu.toStringTag:void 0;function Lm(t){return t==null?t===void 0?ohe:she:CF&&CF in Object(t)?the(t):ihe(t)}function Cd(t){return t!=null&&typeof t=="object"}var ahe="[object Symbol]";function YC(t){return typeof t=="symbol"||Cd(t)&&Lm(t)==ahe}function Dq(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var lhe=Array.isArray;const ja=lhe;var uhe=1/0,EF=Iu?Iu.prototype:void 0,AF=EF?EF.toString:void 0;function Rq(t){if(typeof t=="string")return t;if(ja(t))return Dq(t,Rq)+"";if(YC(t))return AF?AF.call(t):"";var e=t+"";return e=="0"&&1/t==-uhe?"-0":e}var che=/\s/;function dhe(t){for(var e=t.length;e--&&che.test(t.charAt(e)););return e}var fhe=/^\s+/;function hhe(t){return t&&t.slice(0,dhe(t)+1).replace(fhe,"")}function Ga(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var PF=0/0,phe=/^[-+]0x[0-9a-f]+$/i,mhe=/^0b[01]+$/i,ghe=/^0o[0-7]+$/i,vhe=parseInt;function Tk(t){if(typeof t=="number")return t;if(YC(t))return PF;if(Ga(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ga(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hhe(t);var r=mhe.test(t);return r||ghe.test(t)?vhe(t.slice(2),r?2:8):phe.test(t)?PF:+t}var kF=1/0,yhe=17976931348623157e292;function _he(t){if(!t)return t===0?t:0;if(t=Tk(t),t===kF||t===-kF){var e=t<0?-1:1;return e*yhe}return t===t?t:0}function bhe(t){var e=_he(t),r=e%1;return e===e?r?e-r:e:0}function qM(t){return t}var xhe="[object AsyncFunction]",whe="[object Function]",She="[object GeneratorFunction]",The="[object Proxy]";function XM(t){if(!Ga(t))return!1;var e=Lm(t);return e==whe||e==She||e==xhe||e==The}var Che=Cc["__core-js_shared__"];const KA=Che;var IF=function(){var t=/[^.]+$/.exec(KA&&KA.keys&&KA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ehe(t){return!!IF&&IF in t}var Ahe=Function.prototype,Phe=Ahe.toString;function Fm(t){if(t!=null){try{return Phe.call(t)}catch{}try{return t+""}catch{}}return""}var khe=/[\\^$.*+?()[\]{}|]/g,Ihe=/^\[object .+?Constructor\]$/,Dhe=Function.prototype,Rhe=Object.prototype,Mhe=Dhe.toString,Ohe=Rhe.hasOwnProperty,$he=RegExp("^"+Mhe.call(Ohe).replace(khe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lhe(t){if(!Ga(t)||Ehe(t))return!1;var e=XM(t)?$he:Ihe;return e.test(Fm(t))}function Fhe(t,e){return t==null?void 0:t[e]}function Nm(t,e){var r=Fhe(t,e);return Lhe(r)?r:void 0}var Nhe=Nm(Cc,"WeakMap");const Ck=Nhe;var DF=Object.create,Bhe=function(){function t(){}return function(e){if(!Ga(e))return{};if(DF)return DF(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Uhe=Bhe;function Vhe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Mq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var zhe=800,Hhe=16,jhe=Date.now;function Ghe(t){var e=0,r=0;return function(){var n=jhe(),i=Hhe-(n-r);if(r=n,i>0){if(++e>=zhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Whe(t){return function(){return t}}var qhe=function(){try{var t=Nm(Object,"defineProperty");return t({},"",{}),t}catch{}}();const iT=qhe;var Xhe=iT?function(t,e){return iT(t,"toString",{configurable:!0,enumerable:!1,value:Whe(e),writable:!0})}:qM;const Yhe=Xhe;var Khe=Ghe(Yhe);const Oq=Khe;function Zhe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function Qhe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Jhe=9007199254740991,epe=/^(?:0|[1-9]\d*)$/;function KC(t,e){var r=typeof t;return e=e??Jhe,!!e&&(r=="number"||r!="symbol"&&epe.test(t))&&t>-1&&t%1==0&&t<e}function YM(t,e,r){e=="__proto__"&&iT?iT(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function b1(t,e){return t===e||t!==t&&e!==e}var tpe=Object.prototype,rpe=tpe.hasOwnProperty;function KM(t,e,r){var n=t[e];(!(rpe.call(t,e)&&b1(n,r))||r===void 0&&!(e in t))&&YM(t,e,r)}function x1(t,e,r,n){var i=!r;r||(r={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=n?n(r[a],t[a],a,r,t):void 0;l===void 0&&(l=t[a]),i?YM(r,a,l):KM(r,a,l)}return r}var RF=Math.max;function $q(t,e,r){return e=RF(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=RF(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),Vhe(t,this,a)}}function npe(t,e){return Oq($q(t,e,qM),t+"")}var ipe=9007199254740991;function ZM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ipe}function my(t){return t!=null&&ZM(t.length)&&!XM(t)}function spe(t,e,r){if(!Ga(r))return!1;var n=typeof e;return(n=="number"?my(r)&&KC(e,r.length):n=="string"&&e in r)?b1(r[e],t):!1}function ope(t){return npe(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&spe(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,s)}return e})}var ape=Object.prototype;function QM(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ape;return t===r}function lpe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var upe="[object Arguments]";function MF(t){return Cd(t)&&Lm(t)==upe}var Lq=Object.prototype,cpe=Lq.hasOwnProperty,dpe=Lq.propertyIsEnumerable,fpe=MF(function(){return arguments}())?MF:function(t){return Cd(t)&&cpe.call(t,"callee")&&!dpe.call(t,"callee")};const nb=fpe;function hpe(){return!1}var Fq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,OF=Fq&&typeof module=="object"&&module&&!module.nodeType&&module,ppe=OF&&OF.exports===Fq,$F=ppe?Cc.Buffer:void 0,mpe=$F?$F.isBuffer:void 0,gpe=mpe||hpe;const ib=gpe;var vpe="[object Arguments]",ype="[object Array]",_pe="[object Boolean]",bpe="[object Date]",xpe="[object Error]",wpe="[object Function]",Spe="[object Map]",Tpe="[object Number]",Cpe="[object Object]",Epe="[object RegExp]",Ape="[object Set]",Ppe="[object String]",kpe="[object WeakMap]",Ipe="[object ArrayBuffer]",Dpe="[object DataView]",Rpe="[object Float32Array]",Mpe="[object Float64Array]",Ope="[object Int8Array]",$pe="[object Int16Array]",Lpe="[object Int32Array]",Fpe="[object Uint8Array]",Npe="[object Uint8ClampedArray]",Bpe="[object Uint16Array]",Upe="[object Uint32Array]",ns={};ns[Rpe]=ns[Mpe]=ns[Ope]=ns[$pe]=ns[Lpe]=ns[Fpe]=ns[Npe]=ns[Bpe]=ns[Upe]=!0;ns[vpe]=ns[ype]=ns[Ipe]=ns[_pe]=ns[Dpe]=ns[bpe]=ns[xpe]=ns[wpe]=ns[Spe]=ns[Tpe]=ns[Cpe]=ns[Epe]=ns[Ape]=ns[Ppe]=ns[kpe]=!1;function Vpe(t){return Cd(t)&&ZM(t.length)&&!!ns[Lm(t)]}function JM(t){return function(e){return t(e)}}var Nq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m2=Nq&&typeof module=="object"&&module&&!module.nodeType&&module,zpe=m2&&m2.exports===Nq,ZA=zpe&&kq.process,Hpe=function(){try{var t=m2&&m2.require&&m2.require("util").types;return t||ZA&&ZA.binding&&ZA.binding("util")}catch{}}();const xv=Hpe;var LF=xv&&xv.isTypedArray,jpe=LF?JM(LF):Vpe;const eO=jpe;var Gpe=Object.prototype,Wpe=Gpe.hasOwnProperty;function Bq(t,e){var r=ja(t),n=!r&&nb(t),i=!r&&!n&&ib(t),s=!r&&!n&&!i&&eO(t),o=r||n||i||s,a=o?lpe(t.length,String):[],l=a.length;for(var u in t)(e||Wpe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||KC(u,l)))&&a.push(u);return a}function Uq(t,e){return function(r){return t(e(r))}}var qpe=Uq(Object.keys,Object);const Xpe=qpe;var Ype=Object.prototype,Kpe=Ype.hasOwnProperty;function Zpe(t){if(!QM(t))return Xpe(t);var e=[];for(var r in Object(t))Kpe.call(t,r)&&r!="constructor"&&e.push(r);return e}function w1(t){return my(t)?Bq(t):Zpe(t)}function Qpe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Jpe=Object.prototype,e0e=Jpe.hasOwnProperty;function t0e(t){if(!Ga(t))return Qpe(t);var e=QM(t),r=[];for(var n in t)n=="constructor"&&(e||!e0e.call(t,n))||r.push(n);return r}function S1(t){return my(t)?Bq(t,!0):t0e(t)}var r0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n0e=/^\w*$/;function tO(t,e){if(ja(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||YC(t)?!0:n0e.test(t)||!r0e.test(t)||e!=null&&t in Object(e)}var i0e=Nm(Object,"create");const sb=i0e;function s0e(){this.__data__=sb?sb(null):{},this.size=0}function o0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var a0e="__lodash_hash_undefined__",l0e=Object.prototype,u0e=l0e.hasOwnProperty;function c0e(t){var e=this.__data__;if(sb){var r=e[t];return r===a0e?void 0:r}return u0e.call(e,t)?e[t]:void 0}var d0e=Object.prototype,f0e=d0e.hasOwnProperty;function h0e(t){var e=this.__data__;return sb?e[t]!==void 0:f0e.call(e,t)}var p0e="__lodash_hash_undefined__";function m0e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=sb&&e===void 0?p0e:e,this}function mm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mm.prototype.clear=s0e;mm.prototype.delete=o0e;mm.prototype.get=c0e;mm.prototype.has=h0e;mm.prototype.set=m0e;function g0e(){this.__data__=[],this.size=0}function ZC(t,e){for(var r=t.length;r--;)if(b1(t[r][0],e))return r;return-1}var v0e=Array.prototype,y0e=v0e.splice;function _0e(t){var e=this.__data__,r=ZC(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():y0e.call(e,r,1),--this.size,!0}function b0e(t){var e=this.__data__,r=ZC(e,t);return r<0?void 0:e[r][1]}function x0e(t){return ZC(this.__data__,t)>-1}function w0e(t,e){var r=this.__data__,n=ZC(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Wf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wf.prototype.clear=g0e;Wf.prototype.delete=_0e;Wf.prototype.get=b0e;Wf.prototype.has=x0e;Wf.prototype.set=w0e;var S0e=Nm(Cc,"Map");const ob=S0e;function T0e(){this.size=0,this.__data__={hash:new mm,map:new(ob||Wf),string:new mm}}function C0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function QC(t,e){var r=t.__data__;return C0e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function E0e(t){var e=QC(this,t).delete(t);return this.size-=e?1:0,e}function A0e(t){return QC(this,t).get(t)}function P0e(t){return QC(this,t).has(t)}function k0e(t,e){var r=QC(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function qf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qf.prototype.clear=T0e;qf.prototype.delete=E0e;qf.prototype.get=A0e;qf.prototype.has=P0e;qf.prototype.set=k0e;var I0e="Expected a function";function rO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(I0e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(rO.Cache||qf),r}rO.Cache=qf;var D0e=500;function R0e(t){var e=rO(t,function(n){return r.size===D0e&&r.clear(),n}),r=e.cache;return e}var M0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O0e=/\\(\\)?/g,$0e=R0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(M0e,function(r,n,i,s){e.push(i?s.replace(O0e,"$1"):n||r)}),e});const L0e=$0e;function F0e(t){return t==null?"":Rq(t)}function JC(t,e){return ja(t)?t:tO(t,e)?[t]:L0e(F0e(t))}var N0e=1/0;function T1(t){if(typeof t=="string"||YC(t))return t;var e=t+"";return e=="0"&&1/t==-N0e?"-0":e}function nO(t,e){e=JC(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[T1(e[r++])];return r&&r==n?t:void 0}function fu(t,e,r){var n=t==null?void 0:nO(t,e);return n===void 0?r:n}function iO(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var FF=Iu?Iu.isConcatSpreadable:void 0;function B0e(t){return ja(t)||nb(t)||!!(FF&&t&&t[FF])}function eE(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=B0e),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?eE(a,e-1,r,n,i):iO(i,a):n||(i[i.length]=a)}return i}function Vq(t){var e=t==null?0:t.length;return e?eE(t,1):[]}function U0e(t){return Oq($q(t,void 0,Vq),t+"")}var V0e=Uq(Object.getPrototypeOf,Object);const sO=V0e;var z0e="[object Object]",H0e=Function.prototype,j0e=Object.prototype,zq=H0e.toString,G0e=j0e.hasOwnProperty,W0e=zq.call(Object);function q0e(t){if(!Cd(t)||Lm(t)!=z0e)return!1;var e=sO(t);if(e===null)return!0;var r=G0e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&zq.call(r)==W0e}function sc(){if(!arguments.length)return[];var t=arguments[0];return ja(t)?t:[t]}function X0e(){this.__data__=new Wf,this.size=0}function Y0e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function K0e(t){return this.__data__.get(t)}function Z0e(t){return this.__data__.has(t)}var Q0e=200;function J0e(t,e){var r=this.__data__;if(r instanceof Wf){var n=r.__data__;if(!ob||n.length<Q0e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new qf(n)}return r.set(t,e),this.size=r.size,this}function fc(t){var e=this.__data__=new Wf(t);this.size=e.size}fc.prototype.clear=X0e;fc.prototype.delete=Y0e;fc.prototype.get=K0e;fc.prototype.has=Z0e;fc.prototype.set=J0e;function eme(t,e){return t&&x1(e,w1(e),t)}function tme(t,e){return t&&x1(e,S1(e),t)}var Hq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NF=Hq&&typeof module=="object"&&module&&!module.nodeType&&module,rme=NF&&NF.exports===Hq,BF=rme?Cc.Buffer:void 0,UF=BF?BF.allocUnsafe:void 0;function jq(t,e){if(e)return t.slice();var r=t.length,n=UF?UF(r):new t.constructor(r);return t.copy(n),n}function nme(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Gq(){return[]}var ime=Object.prototype,sme=ime.propertyIsEnumerable,VF=Object.getOwnPropertySymbols,ome=VF?function(t){return t==null?[]:(t=Object(t),nme(VF(t),function(e){return sme.call(t,e)}))}:Gq;const oO=ome;function ame(t,e){return x1(t,oO(t),e)}var lme=Object.getOwnPropertySymbols,ume=lme?function(t){for(var e=[];t;)iO(e,oO(t)),t=sO(t);return e}:Gq;const Wq=ume;function cme(t,e){return x1(t,Wq(t),e)}function qq(t,e,r){var n=e(t);return ja(t)?n:iO(n,r(t))}function Ek(t){return qq(t,w1,oO)}function dme(t){return qq(t,S1,Wq)}var fme=Nm(Cc,"DataView");const Ak=fme;var hme=Nm(Cc,"Promise");const Pk=hme;var pme=Nm(Cc,"Set");const kk=pme;var zF="[object Map]",mme="[object Object]",HF="[object Promise]",jF="[object Set]",GF="[object WeakMap]",WF="[object DataView]",gme=Fm(Ak),vme=Fm(ob),yme=Fm(Pk),_me=Fm(kk),bme=Fm(Ck),v0=Lm;(Ak&&v0(new Ak(new ArrayBuffer(1)))!=WF||ob&&v0(new ob)!=zF||Pk&&v0(Pk.resolve())!=HF||kk&&v0(new kk)!=jF||Ck&&v0(new Ck)!=GF)&&(v0=function(t){var e=Lm(t),r=e==mme?t.constructor:void 0,n=r?Fm(r):"";if(n)switch(n){case gme:return WF;case vme:return zF;case yme:return HF;case _me:return jF;case bme:return GF}return e});const ab=v0;var xme=Object.prototype,wme=xme.hasOwnProperty;function Sme(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&wme.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Tme=Cc.Uint8Array;const sT=Tme;function aO(t){var e=new t.constructor(t.byteLength);return new sT(e).set(new sT(t)),e}function Cme(t,e){var r=e?aO(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Eme=/\w*$/;function Ame(t){var e=new t.constructor(t.source,Eme.exec(t));return e.lastIndex=t.lastIndex,e}var qF=Iu?Iu.prototype:void 0,XF=qF?qF.valueOf:void 0;function Pme(t){return XF?Object(XF.call(t)):{}}function Xq(t,e){var r=e?aO(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var kme="[object Boolean]",Ime="[object Date]",Dme="[object Map]",Rme="[object Number]",Mme="[object RegExp]",Ome="[object Set]",$me="[object String]",Lme="[object Symbol]",Fme="[object ArrayBuffer]",Nme="[object DataView]",Bme="[object Float32Array]",Ume="[object Float64Array]",Vme="[object Int8Array]",zme="[object Int16Array]",Hme="[object Int32Array]",jme="[object Uint8Array]",Gme="[object Uint8ClampedArray]",Wme="[object Uint16Array]",qme="[object Uint32Array]";function Xme(t,e,r){var n=t.constructor;switch(e){case Fme:return aO(t);case kme:case Ime:return new n(+t);case Nme:return Cme(t,r);case Bme:case Ume:case Vme:case zme:case Hme:case jme:case Gme:case Wme:case qme:return Xq(t,r);case Dme:return new n;case Rme:case $me:return new n(t);case Mme:return Ame(t);case Ome:return new n;case Lme:return Pme(t)}}function Yq(t){return typeof t.constructor=="function"&&!QM(t)?Uhe(sO(t)):{}}var Yme="[object Map]";function Kme(t){return Cd(t)&&ab(t)==Yme}var YF=xv&&xv.isMap,Zme=YF?JM(YF):Kme;const Qme=Zme;var Jme="[object Set]";function ege(t){return Cd(t)&&ab(t)==Jme}var KF=xv&&xv.isSet,tge=KF?JM(KF):ege;const rge=tge;var nge=1,ige=2,sge=4,Kq="[object Arguments]",oge="[object Array]",age="[object Boolean]",lge="[object Date]",uge="[object Error]",Zq="[object Function]",cge="[object GeneratorFunction]",dge="[object Map]",fge="[object Number]",Qq="[object Object]",hge="[object RegExp]",pge="[object Set]",mge="[object String]",gge="[object Symbol]",vge="[object WeakMap]",yge="[object ArrayBuffer]",_ge="[object DataView]",bge="[object Float32Array]",xge="[object Float64Array]",wge="[object Int8Array]",Sge="[object Int16Array]",Tge="[object Int32Array]",Cge="[object Uint8Array]",Ege="[object Uint8ClampedArray]",Age="[object Uint16Array]",Pge="[object Uint32Array]",Yi={};Yi[Kq]=Yi[oge]=Yi[yge]=Yi[_ge]=Yi[age]=Yi[lge]=Yi[bge]=Yi[xge]=Yi[wge]=Yi[Sge]=Yi[Tge]=Yi[dge]=Yi[fge]=Yi[Qq]=Yi[hge]=Yi[pge]=Yi[mge]=Yi[gge]=Yi[Cge]=Yi[Ege]=Yi[Age]=Yi[Pge]=!0;Yi[uge]=Yi[Zq]=Yi[vge]=!1;function g2(t,e,r,n,i,s){var o,a=e&nge,l=e&ige,u=e&sge;if(r&&(o=i?r(t,n,i,s):r(t)),o!==void 0)return o;if(!Ga(t))return t;var d=ja(t);if(d){if(o=Sme(t),!a)return Mq(t,o)}else{var f=ab(t),h=f==Zq||f==cge;if(ib(t))return jq(t,a);if(f==Qq||f==Kq||h&&!i){if(o=l||h?{}:Yq(t),!a)return l?cme(t,tme(o,t)):ame(t,eme(o,t))}else{if(!Yi[f])return i?t:{};o=Xme(t,f,a)}}s||(s=new fc);var g=s.get(t);if(g)return g;s.set(t,o),rge(t)?t.forEach(function(b){o.add(g2(b,e,r,b,t,s))}):Qme(t)&&t.forEach(function(b,S){o.set(S,g2(b,e,r,S,t,s))});var v=u?l?dme:Ek:l?S1:w1,p=d?void 0:v(t);return Zhe(p||t,function(b,S){p&&(S=b,b=t[S]),KM(o,S,g2(b,e,r,S,t,s))}),o}var kge=4;function ZF(t){return g2(t,kge)}var Ige=1,Dge=4;function oT(t){return g2(t,Ige|Dge)}var Rge="__lodash_hash_undefined__";function Mge(t){return this.__data__.set(t,Rge),this}function Oge(t){return this.__data__.has(t)}function aT(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new qf;++e<r;)this.add(t[e])}aT.prototype.add=aT.prototype.push=Mge;aT.prototype.has=Oge;function $ge(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Lge(t,e){return t.has(e)}var Fge=1,Nge=2;function Jq(t,e,r,n,i,s){var o=r&Fge,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=r&Nge?new aT:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],p=e[f];if(n)var b=o?n(p,v,f,e,t,s):n(v,p,f,t,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!$ge(e,function(S,C){if(!Lge(g,C)&&(v===S||i(v,S,r,n,s)))return g.push(C)})){h=!1;break}}else if(!(v===p||i(v,p,r,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function Bge(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Uge(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Vge=1,zge=2,Hge="[object Boolean]",jge="[object Date]",Gge="[object Error]",Wge="[object Map]",qge="[object Number]",Xge="[object RegExp]",Yge="[object Set]",Kge="[object String]",Zge="[object Symbol]",Qge="[object ArrayBuffer]",Jge="[object DataView]",QF=Iu?Iu.prototype:void 0,QA=QF?QF.valueOf:void 0;function eve(t,e,r,n,i,s,o){switch(r){case Jge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Qge:return!(t.byteLength!=e.byteLength||!s(new sT(t),new sT(e)));case Hge:case jge:case qge:return b1(+t,+e);case Gge:return t.name==e.name&&t.message==e.message;case Xge:case Kge:return t==e+"";case Wge:var a=Bge;case Yge:var l=n&Vge;if(a||(a=Uge),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=zge,o.set(t,e);var d=Jq(a(t),a(e),n,i,s,o);return o.delete(t),d;case Zge:if(QA)return QA.call(t)==QA.call(e)}return!1}var tve=1,rve=Object.prototype,nve=rve.hasOwnProperty;function ive(t,e,r,n,i,s){var o=r&tve,a=Ek(t),l=a.length,u=Ek(e),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:nve.call(e,h)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var p=!0;s.set(t,e),s.set(e,t);for(var b=o;++f<l;){h=a[f];var S=t[h],C=e[h];if(n)var T=o?n(C,S,h,e,t,s):n(S,C,h,t,e,s);if(!(T===void 0?S===C||i(S,C,r,n,s):T)){p=!1;break}b||(b=h=="constructor")}if(p&&!b){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(p=!1)}return s.delete(t),s.delete(e),p}var sve=1,JF="[object Arguments]",eN="[object Array]",dx="[object Object]",ove=Object.prototype,tN=ove.hasOwnProperty;function ave(t,e,r,n,i,s){var o=ja(t),a=ja(e),l=o?eN:ab(t),u=a?eN:ab(e);l=l==JF?dx:l,u=u==JF?dx:u;var d=l==dx,f=u==dx,h=l==u;if(h&&ib(t)){if(!ib(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new fc),o||eO(t)?Jq(t,e,r,n,i,s):eve(t,e,l,r,n,i,s);if(!(r&sve)){var g=d&&tN.call(t,"__wrapped__"),v=f&&tN.call(e,"__wrapped__");if(g||v){var p=g?t.value():t,b=v?e.value():e;return s||(s=new fc),i(p,b,r,n,s)}}return h?(s||(s=new fc),ive(t,e,r,n,i,s)):!1}function tE(t,e,r,n,i){return t===e?!0:t==null||e==null||!Cd(t)&&!Cd(e)?t!==t&&e!==e:ave(t,e,r,n,tE,i)}var lve=1,uve=2;function cve(t,e,r,n){var i=r.length,s=i,o=!n;if(t==null)return!s;for(t=Object(t);i--;){var a=r[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=r[i];var l=a[0],u=t[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new fc;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?tE(d,u,lve|uve,n,f):h))return!1}}return!0}function eX(t){return t===t&&!Ga(t)}function dve(t){for(var e=w1(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,eX(i)]}return e}function tX(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function fve(t){var e=dve(t);return e.length==1&&e[0][2]?tX(e[0][0],e[0][1]):function(r){return r===t||cve(r,t,e)}}function hve(t,e){return t!=null&&e in Object(t)}function pve(t,e,r){e=JC(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var o=T1(e[n]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&ZM(i)&&KC(o,i)&&(ja(t)||nb(t)))}function rX(t,e){return t!=null&&pve(t,e,hve)}var mve=1,gve=2;function vve(t,e){return tO(t)&&eX(e)?tX(T1(t),e):function(r){var n=fu(r,t);return n===void 0&&n===e?rX(r,t):tE(e,n,mve|gve)}}function yve(t){return function(e){return e==null?void 0:e[t]}}function _ve(t){return function(e){return nO(e,t)}}function bve(t){return tO(t)?yve(T1(t)):_ve(t)}function nX(t){return typeof t=="function"?t:t==null?qM:typeof t=="object"?ja(t)?vve(t[0],t[1]):fve(t):bve(t)}function xve(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),a=o.length;a--;){var l=o[t?a:++i];if(r(s[l],l,s)===!1)break}return e}}var wve=xve();const iX=wve;function Sve(t,e){return t&&iX(t,e,w1)}function Tve(t,e){return function(r,n){if(r==null)return r;if(!my(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var Cve=Tve(Sve);const Eve=Cve;var Ave=function(){return Cc.Date.now()};const JA=Ave;var Pve="Expected a function",kve=Math.max,Ive=Math.min;function fp(t,e,r){var n,i,s,o,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Pve);e=Tk(e)||0,Ga(r)&&(d=!!r.leading,f="maxWait"in r,s=f?kve(Tk(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function g(I){var O=n,N=i;return n=i=void 0,u=I,o=t.apply(N,O),o}function v(I){return u=I,a=setTimeout(S,e),d?g(I):o}function p(I){var O=I-l,N=I-u,G=e-O;return f?Ive(G,s-N):G}function b(I){var O=I-l,N=I-u;return l===void 0||O>=e||O<0||f&&N>=s}function S(){var I=JA();if(b(I))return C(I);a=setTimeout(S,p(I))}function C(I){return a=void 0,h&&n?g(I):(n=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,n=l=i=a=void 0}function A(){return a===void 0?o:C(JA())}function E(){var I=JA(),O=b(I);if(n=arguments,i=this,l=I,O){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(S,e),g(l)}return a===void 0&&(a=setTimeout(S,e)),o}return E.cancel=T,E.flush=A,E}function Ik(t,e,r){(r!==void 0&&!b1(t[e],r)||r===void 0&&!(e in t))&&YM(t,e,r)}function Dve(t){return Cd(t)&&my(t)}function Dk(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Rve(t){return x1(t,S1(t))}function Mve(t,e,r,n,i,s,o){var a=Dk(t,r),l=Dk(e,r),u=o.get(l);if(u){Ik(t,r,u);return}var d=s?s(a,l,r+"",t,e,o):void 0,f=d===void 0;if(f){var h=ja(l),g=!h&&ib(l),v=!h&&!g&&eO(l);d=l,h||g||v?ja(a)?d=a:Dve(a)?d=Mq(a):g?(f=!1,d=jq(l,!0)):v?(f=!1,d=Xq(l,!0)):d=[]:q0e(l)||nb(l)?(d=a,nb(a)?d=Rve(a):(!Ga(a)||XM(a))&&(d=Yq(l))):f=!1}f&&(o.set(l,d),i(d,l,n,s,o),o.delete(l)),Ik(t,r,d)}function sX(t,e,r,n,i){t!==e&&iX(e,function(s,o){if(i||(i=new fc),Ga(s))Mve(t,e,o,r,sX,n,i);else{var a=n?n(Dk(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Ik(t,o,a)}},S1)}var Ove=Math.max,$ve=Math.min;function Lve(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=n-1;return r!==void 0&&(i=bhe(r),i=r<0?Ove(n+i,0):$ve(i,n-1)),Qhe(t,nX(e),i,!0)}function Fve(t,e){var r=-1,n=my(t)?Array(t.length):[];return Eve(t,function(i,s,o){n[++r]=e(i,s,o)}),n}function Nve(t,e){var r=ja(t)?Dq:Fve;return r(t,nX(e))}function Bve(t,e){return eE(Nve(t,e),1)}var Uve=1/0;function Vve(t){var e=t==null?0:t.length;return e?eE(t,Uve):[]}function lb(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function $l(t,e){return tE(t,e)}function Ed(t){return t==null}function oX(t){return t===void 0}var zve=ope(function(t,e,r){sX(t,e,r)});const Hve=zve;function aX(t,e,r,n){if(!Ga(t))return t;e=JC(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=T1(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var d=a[l];u=n?n(d,l,a):void 0,u===void 0&&(u=Ga(d)?d:KC(e[i+1])?[]:{})}KM(a,l,u),a=a[l]}return t}function jve(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=nO(t,o);r(a,o)&&aX(s,JC(o,t),a)}return s}function Gve(t,e){return jve(t,e,function(r,n){return rX(t,n)})}var Wve=U0e(function(t,e){return t==null?{}:Gve(t,e)});const lX=Wve;function qve(t,e,r){return t==null?t:aX(t,e,r)}var Xve="Expected a function";function e3(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Xve);return Ga(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),fp(t,e,{leading:n,maxWait:e,trailing:i})}const Yo=t=>t===void 0,yl=t=>typeof t=="boolean",qn=t=>typeof t=="number",hu=t=>!t&&t!==0||lr(t)&&t.length===0||En(t)&&!Object.keys(t).length,Ll=t=>typeof Element>"u"?!1:t instanceof Element,ub=t=>Ed(t),Yve=t=>nn(t)?!Number.isNaN(Number(t)):!1,Kve=t=>Ln?window.requestAnimationFrame(t):setTimeout(t,16),Zve=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),ad=t=>g1(t),Rk=t=>Object.keys(t),Qve=t=>Object.entries(t),Xw=(t,e,r)=>({get value(){return fu(t,e,r)},set value(n){qve(t,e,n)}});class Jve extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function _l(t,e){throw new Jve(`[${t}] ${e}`)}const uX=(t="")=>t.split(" ").filter(e=>!!e.trim()),mu=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},oc=(t,e)=>{!t||!e.trim()||t.classList.add(...uX(e))},Fl=(t,e)=>{!t||!e.trim()||t.classList.remove(...uX(e))},Gh=(t,e)=>{var r;if(!Ln||!t||!e)return"";let n=jl(e);n==="float"&&(n="cssFloat");try{const i=t.style[n];if(i)return i;const s=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return s?s[n]:""}catch{return t.style[n]}};function Du(t,e="px"){if(!t)return"";if(qn(t)||Yve(t))return`${t}${e}`;if(nn(t))return t}const eye=(t,e)=>{if(!Ln)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],n=Gh(t,r);return["scroll","auto","overlay"].some(i=>n.includes(i))},tye=(t,e)=>{if(!Ln)return;let r=t;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(eye(r,e))return r;r=r.parentNode}return r};let fx;const rye=t=>{var e;if(!Ln)return 0;if(fx!==void 0)return fx;const r=document.createElement("div");r.className=`${t}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const n=r.offsetWidth;r.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",r.appendChild(i);const s=i.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),fx=n-s,fx};function cX(t,e){if(!Ln)return;if(!e){t.scrollTop=0;return}const r=[];let n=e.offsetParent;for(;n!==null&&t!==n&&t.contains(n);)r.push(n),n=n.offsetParent;const i=e.offsetTop+r.reduce((l,u)=>l+u.offsetTop,0),s=i+e.offsetHeight,o=t.scrollTop,a=o+t.clientHeight;i<o?t.scrollTop=i:s>a&&(t.scrollTop=s-t.clientHeight)}/*! Element Plus Icons Vue v2.3.1 */var nye=rt({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),C1=nye,iye=rt({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),gm=iye,sye=rt({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Tu=sye,oye=rt({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),dX=oye,aye=rt({name:"Calendar",__name:"calendar",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),lye=aye,uye=rt({name:"ChatLineRound",__name:"chat-line-round",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),Ue("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),cye=uye,dye=rt({name:"Check",__name:"check",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),rE=dye,fye=rt({name:"CircleCheck",__name:"circle-check",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ue("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),lO=fye,hye=rt({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),fX=hye,pye=rt({name:"CircleClose",__name:"circle-close",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),gy=pye,mye=rt({name:"Clock",__name:"clock",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Ue("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Ue("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),gye=mye,vye=rt({name:"Close",__name:"close",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),$f=vye,yye=rt({name:"Coin",__name:"coin",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"}),Ue("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"}),Ue("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224m0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160"})]))}}),rN=yye,_ye=rt({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),hp=_ye,bye=rt({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),pp=bye,xye=rt({name:"Delete",__name:"delete",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),wye=xye,Sye=rt({name:"Document",__name:"document",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),Tye=Sye,Cye=rt({name:"Expand",__name:"expand",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}}),Eye=Cye,Aye=rt({name:"Fold",__name:"fold",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}}),Pye=Aye,kye=rt({name:"FullScreen",__name:"full-screen",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),Iye=kye,Dye=rt({name:"Hide",__name:"hide",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Ue("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),Rye=Dye,Mye=rt({name:"InfoFilled",__name:"info-filled",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),hX=Mye,Oye=rt({name:"Iphone",__name:"iphone",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}}),$ye=Oye,Lye=rt({name:"Loading",__name:"loading",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),vm=Lye,Fye=rt({name:"Menu",__name:"menu",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),Nye=Fye,Bye=rt({name:"MessageBox",__name:"message-box",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M288 384h448v64H288zm96-128h256v64H384zM131.456 512H384v128h256V512h252.544L721.856 192H302.144zM896 576H704v128H320V576H128v256h768zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"})]))}}),Uye=Bye,Vye=rt({name:"Message",__name:"message",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),Ue("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}}),nN=Vye,zye=rt({name:"MoreFilled",__name:"more-filled",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),iN=zye,Hye=rt({name:"More",__name:"more",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),jye=Hye,Gye=rt({name:"Operation",__name:"operation",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),Wye=Gye,qye=rt({name:"Platform",__name:"platform",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64zM128 704V128h768v576z"})]))}}),Xye=qye,Yye=rt({name:"Plus",__name:"plus",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),pX=Yye,Kye=rt({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Zye=Kye,Qye=rt({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Jye=Qye,e_e=rt({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),t_e=e_e,r_e=rt({name:"Search",__name:"search",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),n_e=r_e,i_e=rt({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),mX=i_e,s_e=rt({name:"SwitchButton",__name:"switch-button",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),Ue("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),o_e=s_e,a_e=rt({name:"Timer",__name:"timer",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),Ue("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),Ue("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}}),l_e=a_e,u_e=rt({name:"UploadFilled",__name:"upload-filled",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),c_e=u_e,d_e=rt({name:"UserFilled",__name:"user-filled",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})]))}}),f_e=d_e,h_e=rt({name:"View",__name:"view",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),p_e=h_e,m_e=rt({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),uO=m_e,g_e=rt({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),gX=g_e,v_e=rt({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,r)=>(me(),$e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),y_e=v_e;const vX="__epPropKey",Bt=t=>t,__e=t=>En(t)&&!!t[vX],nE=(t,e)=>{if(!En(t)||__e(t))return t;const{values:r,required:n,default:i,type:s,validator:o}=t,l={type:s,required:!!n,validator:r||o?u=>{let d=!1,f=[];if(r&&(f=Array.from(r),Xn(t,"default")&&f.push(i),d||(d=f.includes(u))),o&&(d||(d=o(u))),!d&&f.length>0){const h=[...new Set(f)].map(g=>JSON.stringify(g)).join(", ");Kce(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return d}:void 0,[vX]:!0};return Xn(t,"default")&&(l.default=i),l},kr=t=>lb(Object.entries(t).map(([e,r])=>[e,nE(r,e)])),ro=Bt([String,Object,Function]),yX={Close:$f},_X={Close:$f,SuccessFilled:mX,InfoFilled:hX,WarningFilled:uO,CircleCloseFilled:fX},wv={success:mX,warning:uO,error:fX,info:hX},bX={validating:vm,success:lO,error:gy},gi=(t,e)=>{if(t.install=r=>{for(const n of[t,...Object.values(e??{})])r.component(n.name,n)},e)for(const[r,n]of Object.entries(e))t[r]=n;return t},xX=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),No=t=>(t.install=Qn,t),b_e=(...t)=>e=>{t.forEach(r=>{Lr(r)?r(e):r.value=e})},Zr={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},x_e=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],es="update:modelValue",Lf="change",kp=["","default","small","large"],w_e=t=>["",...kp].includes(t);var Yw=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Yw||{});const v2=t=>{const e=lr(t)?t:[t],r=[];return e.forEach(n=>{var i;lr(n)?r.push(...v2(n)):Ha(n)&&lr(n.children)?r.push(...v2(n.children)):(r.push(n),Ha(n)&&((i=n.component)!=null&&i.subTree)&&r.push(...v2(n.component.subTree)))}),r},sN=t=>[...new Set(t)],$a=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],S_e=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Ro=t=>t,T_e=["class","style"],C_e=/^on[A-Z]/,wX=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=pe(()=>((r==null?void 0:r.value)||[]).concat(T_e)),i=Dn();return pe(i?()=>{var s;return lb(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&C_e.test(o))))}:()=>({}))},ep=({from:t,replacement:e,scope:r,version:n,ref:i,type:s="API"},o)=>{Yt(()=>_(o),a=>{},{immediate:!0})},SX=(t,e,r,n)=>{let i={offsetX:0,offsetY:0};const s=u=>{const d=u.clientX,f=u.clientY,{offsetX:h,offsetY:g}=i,v=t.value.getBoundingClientRect(),p=v.left,b=v.top,S=v.width,C=v.height,T=document.documentElement.clientWidth,A=document.documentElement.clientHeight,E=-p+h,I=-b+g,O=T-p-S+h,N=A-b-C+g,G=W=>{let q=h+W.clientX-d,J=g+W.clientY-f;n!=null&&n.value||(q=Math.min(Math.max(q,E),O),J=Math.min(Math.max(J,I),N)),i={offsetX:q,offsetY:J},t.value&&(t.value.style.transform=`translate(${Du(q)}, ${Du(J)})`)},ie=()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",ie)};document.addEventListener("mousemove",G),document.addEventListener("mouseup",ie)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",s)},a=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",s)},l=()=>{i={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return zn(()=>{dc(()=>{r.value?o():a()})}),Bs(()=>{a()}),{resetPosition:l}};var E_e={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const A_e=t=>(e,r)=>P_e(e,r,_(t)),P_e=(t,e,r)=>fu(r,t,t).replace(/\{(\w+)\}/g,(n,i)=>{var s;return`${(s=e==null?void 0:e[i])!=null?s:`{${i}}`}`}),k_e=t=>{const e=pe(()=>_(t).name),r=qr(t)?t:ve(t);return{lang:e,locale:r,t:A_e(t)}},TX=Symbol("localeContextKey"),Si=t=>{const e=t||Mr(TX,ve());return k_e(pe(()=>e.value||E_e))},y2="el",I_e="is-",t0=(t,e,r,n,i)=>{let s=`${t}-${e}`;return r&&(s+=`-${r}`),n&&(s+=`__${n}`),i&&(s+=`--${i}`),s},CX=Symbol("namespaceContextKey"),cO=t=>{const e=t||(Dn()?Mr(CX,ve(y2)):ve(y2));return pe(()=>_(e)||y2)},sr=(t,e)=>{const r=cO(e);return{namespace:r,b:(p="")=>t0(r.value,t,p,"",""),e:p=>p?t0(r.value,t,"",p,""):"",m:p=>p?t0(r.value,t,"","",p):"",be:(p,b)=>p&&b?t0(r.value,t,p,b,""):"",em:(p,b)=>p&&b?t0(r.value,t,"",p,b):"",bm:(p,b)=>p&&b?t0(r.value,t,p,"",b):"",bem:(p,b,S)=>p&&b&&S?t0(r.value,t,p,b,S):"",is:(p,...b)=>{const S=b.length>=1?b[0]:!0;return p&&S?`${I_e}${p}`:""},cssVar:p=>{const b={};for(const S in p)p[S]&&(b[`--${r.value}-${S}`]=p[S]);return b},cssVarName:p=>`--${r.value}-${p}`,cssVarBlock:p=>{const b={};for(const S in p)p[S]&&(b[`--${r.value}-${t}-${S}`]=p[S]);return b},cssVarBlockName:p=>`--${r.value}-${t}-${p}`}},EX=(t,e={})=>{qr(t)||_l("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||sr("popup"),n=pe(()=>r.bm("parent","hidden"));if(!Ln||mu(document.body,n.value))return;let i=0,s=!1,o="0";const a=()=>{setTimeout(()=>{Fl(document==null?void 0:document.body,n.value),s&&document&&(document.body.style.width=o)},200)};Yt(t,l=>{if(!l){a();return}s=!mu(document.body,n.value),s&&(o=document.body.style.width),i=rye(r.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,d=Gh(document.body,"overflowY");i>0&&(u||d==="scroll")&&s&&(document.body.style.width=`calc(100% - ${i}px)`),oc(document.body,n.value)}),TM(()=>a())},D_e=nE({type:Bt(Boolean),default:null}),R_e=nE({type:Bt(Function)}),AX=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],i={[t]:D_e,[r]:R_e};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:d,onHide:f})=>{const h=Dn(),{emit:g}=h,v=h.props,p=pe(()=>Lr(v[r])),b=pe(()=>v[t]===null),S=O=>{o.value!==!0&&(o.value=!0,a&&(a.value=O),Lr(d)&&d(O))},C=O=>{o.value!==!1&&(o.value=!1,a&&(a.value=O),Lr(f)&&f(O))},T=O=>{if(v.disabled===!0||Lr(u)&&!u())return;const N=p.value&&Ln;N&&g(e,!0),(b.value||!N)&&S(O)},A=O=>{if(v.disabled===!0||!Ln)return;const N=p.value&&Ln;N&&g(e,!1),(b.value||!N)&&C(O)},E=O=>{yl(O)&&(v.disabled&&O?p.value&&g(e,!1):o.value!==O&&(O?S():C()))},I=()=>{o.value?A():T()};return Yt(()=>v[t],E),l&&h.appContext.config.globalProperties.$route!==void 0&&Yt(()=>({...h.proxy.$route}),()=>{l.value&&o.value&&A()}),zn(()=>{E(v[t])}),{hide:A,show:T,toggle:I,hasUpdateHandler:p}},useModelToggleProps:i,useModelToggleEmits:n}};AX("modelValue");const PX=t=>{const e=Dn();return pe(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})};var pl="top",Ru="bottom",Mu="right",ml="left",dO="auto",E1=[pl,Ru,Mu,ml],Sv="start",cb="end",M_e="clippingParents",kX="viewport",s_="popper",O_e="reference",oN=E1.reduce(function(t,e){return t.concat([e+"-"+Sv,e+"-"+cb])},[]),vy=[].concat(E1,[dO]).reduce(function(t,e){return t.concat([e,e+"-"+Sv,e+"-"+cb])},[]),$_e="beforeRead",L_e="read",F_e="afterRead",N_e="beforeMain",B_e="main",U_e="afterMain",V_e="beforeWrite",z_e="write",H_e="afterWrite",j_e=[$_e,L_e,F_e,N_e,B_e,U_e,V_e,z_e,H_e];function Ad(t){return t?(t.nodeName||"").toLowerCase():null}function Ec(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Tv(t){var e=Ec(t).Element;return t instanceof e||t instanceof Element}function Cu(t){var e=Ec(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fO(t){if(typeof ShadowRoot>"u")return!1;var e=Ec(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function G_e(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!Cu(s)||!Ad(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function W_e(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(l,u){return l[u]="",l},{});!Cu(i)||!Ad(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var IX={name:"applyStyles",enabled:!0,phase:"write",fn:G_e,effect:W_e,requires:["computeStyles"]};function gd(t){return t.split("-")[0]}var Y0=Math.max,lT=Math.min,Cv=Math.round;function Ev(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(Cu(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(n=Cv(r.width)/o||1),s>0&&(i=Cv(r.height)/s||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function hO(t){var e=Ev(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function DX(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&fO(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ff(t){return Ec(t).getComputedStyle(t)}function q_e(t){return["table","td","th"].indexOf(Ad(t))>=0}function Ip(t){return((Tv(t)?t.ownerDocument:t.document)||window.document).documentElement}function iE(t){return Ad(t)==="html"?t:t.assignedSlot||t.parentNode||(fO(t)?t.host:null)||Ip(t)}function aN(t){return!Cu(t)||Ff(t).position==="fixed"?null:t.offsetParent}function X_e(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&Cu(t)){var n=Ff(t);if(n.position==="fixed")return null}var i=iE(t);for(fO(i)&&(i=i.host);Cu(i)&&["html","body"].indexOf(Ad(i))<0;){var s=Ff(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function A1(t){for(var e=Ec(t),r=aN(t);r&&q_e(r)&&Ff(r).position==="static";)r=aN(r);return r&&(Ad(r)==="html"||Ad(r)==="body"&&Ff(r).position==="static")?e:r||X_e(t)||e}function pO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function _2(t,e,r){return Y0(t,lT(e,r))}function Y_e(t,e,r){var n=_2(t,e,r);return n>r?r:n}function RX(){return{top:0,right:0,bottom:0,left:0}}function MX(t){return Object.assign({},RX(),t)}function OX(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var K_e=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,MX(typeof t!="number"?t:OX(t,E1))};function Z_e(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=gd(r.placement),l=pO(a),u=[ml,Mu].indexOf(a)>=0,d=u?"height":"width";if(!(!s||!o)){var f=K_e(i.padding,r),h=hO(s),g=l==="y"?pl:ml,v=l==="y"?Ru:Mu,p=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],b=o[l]-r.rects.reference[l],S=A1(s),C=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,T=p/2-b/2,A=f[g],E=C-h[d]-f[v],I=C/2-h[d]/2+T,O=_2(A,I,E),N=l;r.modifiersData[n]=(e={},e[N]=O,e.centerOffset=O-I,e)}}function Q_e(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!DX(e.elements.popper,i)||(e.elements.arrow=i))}var J_e={name:"arrow",enabled:!0,phase:"main",fn:Z_e,effect:Q_e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Av(t){return t.split("-")[1]}var e2e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function t2e(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:Cv(e*i)/i||0,y:Cv(r*i)/i||0}}function lN(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,g=h===void 0?0:h,v=o.y,p=v===void 0?0:v,b=typeof d=="function"?d({x:g,y:p}):{x:g,y:p};g=b.x,p=b.y;var S=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),T=ml,A=pl,E=window;if(u){var I=A1(r),O="clientHeight",N="clientWidth";if(I===Ec(r)&&(I=Ip(r),Ff(I).position!=="static"&&a==="absolute"&&(O="scrollHeight",N="scrollWidth")),I=I,i===pl||(i===ml||i===Mu)&&s===cb){A=Ru;var G=f&&I===E&&E.visualViewport?E.visualViewport.height:I[O];p-=G-n.height,p*=l?1:-1}if(i===ml||(i===pl||i===Ru)&&s===cb){T=Mu;var ie=f&&I===E&&E.visualViewport?E.visualViewport.width:I[N];g-=ie-n.width,g*=l?1:-1}}var W=Object.assign({position:a},u&&e2e),q=d===!0?t2e({x:g,y:p}):{x:g,y:p};if(g=q.x,p=q.y,l){var J;return Object.assign({},W,(J={},J[A]=C?"0":"",J[T]=S?"0":"",J.transform=(E.devicePixelRatio||1)<=1?"translate("+g+"px, "+p+"px)":"translate3d("+g+"px, "+p+"px, 0)",J))}return Object.assign({},W,(e={},e[A]=C?p+"px":"",e[T]=S?g+"px":"",e.transform="",e))}function r2e(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,u={placement:gd(e.placement),variation:Av(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,lN(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,lN(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var $X={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:r2e,data:{}},hx={passive:!0};function n2e(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,l=Ec(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",r.update,hx)}),a&&l.addEventListener("resize",r.update,hx),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",r.update,hx)}),a&&l.removeEventListener("resize",r.update,hx)}}var LX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:n2e,data:{}},i2e={left:"right",right:"left",bottom:"top",top:"bottom"};function Kw(t){return t.replace(/left|right|bottom|top/g,function(e){return i2e[e]})}var s2e={start:"end",end:"start"};function uN(t){return t.replace(/start|end/g,function(e){return s2e[e]})}function mO(t){var e=Ec(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function gO(t){return Ev(Ip(t)).left+mO(t).scrollLeft}function o2e(t){var e=Ec(t),r=Ip(t),n=e.visualViewport,i=r.clientWidth,s=r.clientHeight,o=0,a=0;return n&&(i=n.width,s=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,a=n.offsetTop)),{width:i,height:s,x:o+gO(t),y:a}}function a2e(t){var e,r=Ip(t),n=mO(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Y0(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Y0(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+gO(t),l=-n.scrollTop;return Ff(i||r).direction==="rtl"&&(a+=Y0(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function vO(t){var e=Ff(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function FX(t){return["html","body","#document"].indexOf(Ad(t))>=0?t.ownerDocument.body:Cu(t)&&vO(t)?t:FX(iE(t))}function b2(t,e){var r;e===void 0&&(e=[]);var n=FX(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Ec(n),o=i?[s].concat(s.visualViewport||[],vO(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(b2(iE(o)))}function Mk(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function l2e(t){var e=Ev(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function cN(t,e){return e===kX?Mk(o2e(t)):Tv(e)?l2e(e):Mk(a2e(Ip(t)))}function u2e(t){var e=b2(iE(t)),r=["absolute","fixed"].indexOf(Ff(t).position)>=0,n=r&&Cu(t)?A1(t):t;return Tv(n)?e.filter(function(i){return Tv(i)&&DX(i,n)&&Ad(i)!=="body"}):[]}function c2e(t,e,r){var n=e==="clippingParents"?u2e(t):[].concat(e),i=[].concat(n,[r]),s=i[0],o=i.reduce(function(a,l){var u=cN(t,l);return a.top=Y0(u.top,a.top),a.right=lT(u.right,a.right),a.bottom=lT(u.bottom,a.bottom),a.left=Y0(u.left,a.left),a},cN(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function NX(t){var e=t.reference,r=t.element,n=t.placement,i=n?gd(n):null,s=n?Av(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case pl:l={x:o,y:e.y-r.height};break;case Ru:l={x:o,y:e.y+e.height};break;case Mu:l={x:e.x+e.width,y:a};break;case ml:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?pO(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Sv:l[u]=l[u]-(e[d]/2-r[d]/2);break;case cb:l[u]=l[u]+(e[d]/2-r[d]/2);break}}return l}function db(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.boundary,o=s===void 0?M_e:s,a=r.rootBoundary,l=a===void 0?kX:a,u=r.elementContext,d=u===void 0?s_:u,f=r.altBoundary,h=f===void 0?!1:f,g=r.padding,v=g===void 0?0:g,p=MX(typeof v!="number"?v:OX(v,E1)),b=d===s_?O_e:s_,S=t.rects.popper,C=t.elements[h?b:d],T=c2e(Tv(C)?C:C.contextElement||Ip(t.elements.popper),o,l),A=Ev(t.elements.reference),E=NX({reference:A,element:S,strategy:"absolute",placement:i}),I=Mk(Object.assign({},S,E)),O=d===s_?I:A,N={top:T.top-O.top+p.top,bottom:O.bottom-T.bottom+p.bottom,left:T.left-O.left+p.left,right:O.right-T.right+p.right},G=t.modifiersData.offset;if(d===s_&&G){var ie=G[i];Object.keys(N).forEach(function(W){var q=[Mu,Ru].indexOf(W)>=0?1:-1,J=[pl,Ru].indexOf(W)>=0?"y":"x";N[W]+=ie[J]*q})}return N}function d2e(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?vy:l,d=Av(n),f=d?a?oN:oN.filter(function(v){return Av(v)===d}):E1,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var g=h.reduce(function(v,p){return v[p]=db(t,{placement:p,boundary:i,rootBoundary:s,padding:o})[gd(p)],v},{});return Object.keys(g).sort(function(v,p){return g[v]-g[p]})}function f2e(t){if(gd(t)===dO)return[];var e=Kw(t);return[uN(t),e,uN(e)]}function h2e(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,g=r.flipVariations,v=g===void 0?!0:g,p=r.allowedAutoPlacements,b=e.options.placement,S=gd(b),C=S===b,T=l||(C||!v?[Kw(b)]:f2e(b)),A=[b].concat(T).reduce(function(Qe,ht){return Qe.concat(gd(ht)===dO?d2e(e,{placement:ht,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:p}):ht)},[]),E=e.rects.reference,I=e.rects.popper,O=new Map,N=!0,G=A[0],ie=0;ie<A.length;ie++){var W=A[ie],q=gd(W),J=Av(W)===Sv,X=[pl,Ru].indexOf(q)>=0,R=X?"width":"height",z=db(e,{placement:W,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),re=X?J?Mu:ml:J?Ru:pl;E[R]>I[R]&&(re=Kw(re));var oe=Kw(re),H=[];if(s&&H.push(z[q]<=0),a&&H.push(z[re]<=0,z[oe]<=0),H.every(function(Qe){return Qe})){G=W,N=!1;break}O.set(W,H)}if(N)for(var ee=v?3:1,ae=function(Qe){var ht=A.find(function(je){var ze=O.get(je);if(ze)return ze.slice(0,Qe).every(function(ut){return ut})});if(ht)return G=ht,"break"},be=ee;be>0;be--){var Me=ae(be);if(Me==="break")break}e.placement!==G&&(e.modifiersData[n]._skip=!0,e.placement=G,e.reset=!0)}}var p2e={name:"flip",enabled:!0,phase:"main",fn:h2e,requiresIfExists:["offset"],data:{_skip:!1}};function dN(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function fN(t){return[pl,Mu,Ru,ml].some(function(e){return t[e]>=0})}function m2e(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=db(e,{elementContext:"reference"}),a=db(e,{altBoundary:!0}),l=dN(o,n),u=dN(a,i,s),d=fN(l),f=fN(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var g2e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:m2e};function v2e(t,e,r){var n=gd(t),i=[ml,pl].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ml,Mu].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function y2e(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=vy.reduce(function(d,f){return d[f]=v2e(f,e.rects,s),d},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}var _2e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:y2e};function b2e(t){var e=t.state,r=t.name;e.modifiersData[r]=NX({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var BX={name:"popperOffsets",enabled:!0,phase:"read",fn:b2e,data:{}};function x2e(t){return t==="x"?"y":"x"}function w2e(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,g=h===void 0?!0:h,v=r.tetherOffset,p=v===void 0?0:v,b=db(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),S=gd(e.placement),C=Av(e.placement),T=!C,A=pO(S),E=x2e(A),I=e.modifiersData.popperOffsets,O=e.rects.reference,N=e.rects.popper,G=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,ie=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,q={x:0,y:0};if(I){if(s){var J,X=A==="y"?pl:ml,R=A==="y"?Ru:Mu,z=A==="y"?"height":"width",re=I[A],oe=re+b[X],H=re-b[R],ee=g?-N[z]/2:0,ae=C===Sv?O[z]:N[z],be=C===Sv?-N[z]:-O[z],Me=e.elements.arrow,Qe=g&&Me?hO(Me):{width:0,height:0},ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:RX(),je=ht[X],ze=ht[R],ut=_2(0,O[z],Qe[z]),ct=T?O[z]/2-ee-ut-je-ie.mainAxis:ae-ut-je-ie.mainAxis,mt=T?-O[z]/2+ee+ut+ze+ie.mainAxis:be+ut+ze+ie.mainAxis,jt=e.elements.arrow&&A1(e.elements.arrow),vt=jt?A==="y"?jt.clientTop||0:jt.clientLeft||0:0,se=(J=W==null?void 0:W[A])!=null?J:0,Pe=re+ct-se-vt,tt=re+mt-se,et=_2(g?lT(oe,Pe):oe,re,g?Y0(H,tt):H);I[A]=et,q[A]=et-re}if(a){var ot,St=A==="x"?pl:ml,Dt=A==="x"?Ru:Mu,_t=I[E],Kt=E==="y"?"height":"width",Ut=_t+b[St],lt=_t-b[Dt],kt=[pl,ml].indexOf(S)!==-1,yt=(ot=W==null?void 0:W[E])!=null?ot:0,Pt=kt?Ut:_t-O[Kt]-N[Kt]-yt+ie.altAxis,Er=kt?_t+O[Kt]+N[Kt]-yt-ie.altAxis:lt,zt=g&&kt?Y_e(Pt,_t,Er):_2(g?Pt:Ut,_t,g?Er:lt);I[E]=zt,q[E]=zt-_t}e.modifiersData[n]=q}}var S2e={name:"preventOverflow",enabled:!0,phase:"main",fn:w2e,requiresIfExists:["offset"]};function T2e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function C2e(t){return t===Ec(t)||!Cu(t)?mO(t):T2e(t)}function E2e(t){var e=t.getBoundingClientRect(),r=Cv(e.width)/t.offsetWidth||1,n=Cv(e.height)/t.offsetHeight||1;return r!==1||n!==1}function A2e(t,e,r){r===void 0&&(r=!1);var n=Cu(e),i=Cu(e)&&E2e(e),s=Ip(e),o=Ev(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Ad(e)!=="body"||vO(s))&&(a=C2e(e)),Cu(e)?(l=Ev(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=gO(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function P2e(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function k2e(t){var e=P2e(t);return j_e.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function I2e(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function D2e(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var hN={placement:"bottom",modifiers:[],strategy:"absolute"};function pN(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function yO(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?hN:i;return function(o,a,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},hN,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(p){var b=typeof p=="function"?p(u.options):p;v(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:Tv(o)?b2(o):o.contextElement?b2(o.contextElement):[],popper:b2(a)};var S=k2e(D2e([].concat(n,u.options.modifiers)));return u.orderedModifiers=S.filter(function(C){return C.enabled}),g(),h.update()},forceUpdate:function(){if(!f){var p=u.elements,b=p.reference,S=p.popper;if(pN(b,S)){u.rects={reference:A2e(b,A1(S),u.options.strategy==="fixed"),popper:hO(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var T=u.orderedModifiers[C],A=T.fn,E=T.options,I=E===void 0?{}:E,O=T.name;typeof A=="function"&&(u=A({state:u,options:I,name:O,instance:h})||u)}}}},update:I2e(function(){return new Promise(function(p){h.forceUpdate(),p(u)})}),destroy:function(){v(),f=!0}};if(!pN(o,a))return h;h.setOptions(l).then(function(p){!f&&l.onFirstUpdate&&l.onFirstUpdate(p)});function g(){u.orderedModifiers.forEach(function(p){var b=p.name,S=p.options,C=S===void 0?{}:S,T=p.effect;if(typeof T=="function"){var A=T({state:u,name:b,instance:h,options:C}),E=function(){};d.push(A||E)}})}function v(){d.forEach(function(p){return p()}),d=[]}return h}}yO();var R2e=[LX,BX,$X,IX];yO({defaultModifiers:R2e});var M2e=[LX,BX,$X,IX,_2e,p2e,S2e,J_e,g2e],O2e=yO({defaultModifiers:M2e});const $2e=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=L2e(l);Object.assign(o.value,u)},requires:["computeStyles"]},i=pe(()=>{const{onFirstUpdate:l,placement:u,strategy:d,modifiers:f}=_(r);return{onFirstUpdate:l,placement:u||"bottom",strategy:d||"absolute",modifiers:[...f||[],n,{name:"applyStyles",enabled:!1}]}}),s=Ba(),o=ve({styles:{popper:{position:_(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{s.value&&(s.value.destroy(),s.value=void 0)};return Yt(i,l=>{const u=_(s);u&&u.setOptions(l)},{deep:!0}),Yt([t,e],([l,u])=>{a(),!(!l||!u)&&(s.value=O2e(l,u,_(i)))}),Bs(()=>{a()}),{state:pe(()=>{var l;return{...((l=_(s))==null?void 0:l.state)||{}}}),styles:pe(()=>_(o).styles),attributes:pe(()=>_(o).attributes),update:()=>{var l;return(l=_(s))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=_(s))==null?void 0:l.forceUpdate()},instanceRef:pe(()=>_(s))}};function L2e(t){const e=Object.keys(t.elements),r=lb(e.map(i=>[i,t.styles[i]||{}])),n=lb(e.map(i=>[i,t.attributes[i]]));return{styles:r,attributes:n}}const _O=t=>{if(!t)return{onClick:Qn,onMousedown:Qn,onMouseup:Qn};let e=!1,r=!1;return{onClick:o=>{e&&r&&t(o),e=r=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{r=o.target===o.currentTarget}}};function mN(){let t;const e=(n,i)=>{r(),t=window.setTimeout(n,i)},r=()=>window.clearTimeout(t);return py(()=>r()),{registerTimeout:e,cancelTimeout:r}}const gN={prefix:Math.floor(Math.random()*1e4),current:0},F2e=Symbol("elIdInjection"),UX=()=>Dn()?Mr(F2e,gN):gN,Sc=t=>{const e=UX(),r=cO();return pe(()=>_(t)||`${r.value}-id-${e.prefix}-${e.current++}`)};let kg=[];const vN=t=>{const e=t;e.key===Zr.esc&&kg.forEach(r=>r(e))},N2e=t=>{zn(()=>{kg.length===0&&document.addEventListener("keydown",vN),Ln&&kg.push(t)}),Bs(()=>{kg=kg.filter(e=>e!==t),kg.length===0&&Ln&&document.removeEventListener("keydown",vN)})};let yN;const VX=()=>{const t=cO(),e=UX(),r=pe(()=>`${t.value}-popper-container-${e.prefix}`),n=pe(()=>`#${r.value}`);return{id:r,selector:n}},B2e=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},U2e=()=>{const{id:t,selector:e}=VX();return GC(()=>{Ln&&(!yN||!document.body.querySelector(e.value))&&(yN=B2e(t.value))}),{id:t,selector:e}},V2e=kr({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),z2e=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:i})=>{const{registerTimeout:s}=mN(),{registerTimeout:o,cancelTimeout:a}=mN();return{onOpen:d=>{s(()=>{n(d);const f=_(r);qn(f)&&f>0&&o(()=>{i(d)},f)},_(t))},onClose:d=>{a(),s(()=>{i(d)},_(e))}}},zX=Symbol("elForwardRef"),H2e=t=>{bi(zX,{setForwardRef:r=>{t.value=r}})},j2e=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),_N={current:0},bN=ve(0),HX=2e3,xN=Symbol("elZIndexContextKey"),jX=Symbol("zIndexContextKey"),sE=t=>{const e=Dn()?Mr(xN,_N):_N,r=t||(Dn()?Mr(jX,void 0):void 0),n=pe(()=>{const o=_(r);return qn(o)?o:HX}),i=pe(()=>n.value+bN.value),s=()=>(e.current++,bN.value=e.current,i.value);return!Ln&&Mr(xN),{initialZIndex:n,currentZIndex:i,nextZIndex:s}};function G2e(t){let e;function r(){if(t.value==null)return;const{selectionStart:i,selectionEnd:s,value:o}=t.value;if(i==null||s==null)return;const a=o.slice(0,Math.max(0,i)),l=o.slice(Math.max(0,s));e={selectionStart:i,selectionEnd:s,value:o,beforeTxt:a,afterTxt:l}}function n(){if(t.value==null||e==null)return;const{value:i}=t.value,{beforeTxt:s,afterTxt:o,selectionStart:a}=e;if(s==null||o==null||a==null)return;let l=i.length;if(i.endsWith(o))l=i.length-o.length;else if(i.startsWith(s))l=s.length;else{const u=s[a-1],d=i.indexOf(u,a-1);d!==-1&&(l=d+1)}t.value.setSelectionRange(l,l)}return[r,n]}const W2e=(t,e,r)=>v2(t.subTree).filter(s=>{var o;return Ha(s)&&((o=s.type)==null?void 0:o.name)===e&&!!s.component}).map(s=>s.component.uid).map(s=>r[s]).filter(s=>!!s),q2e=(t,e)=>{const r={},n=Ba([]);return{children:n,addChild:o=>{r[o.uid]=o,n.value=W2e(t,e,r)},removeChild:o=>{delete r[o],n.value=n.value.filter(a=>a.uid!==o)}}},Ac=nE({type:String,values:kp,required:!1}),GX=Symbol("size"),WX=()=>{const t=Mr(GX,{});return pe(()=>_(t.size)||"")};function qX(t,{beforeFocus:e,afterFocus:r,beforeBlur:n,afterBlur:i}={}){const s=Dn(),{emit:o}=s,a=Ba(),l=ve(!1),u=h=>{Lr(e)&&e(h)||l.value||(l.value=!0,o("focus",h),r==null||r())},d=h=>{var g;Lr(n)&&n(h)||h.relatedTarget&&((g=a.value)!=null&&g.contains(h.relatedTarget))||(l.value=!1,o("blur",h),i==null||i())},f=()=>{var h,g;(h=a.value)!=null&&h.contains(document.activeElement)&&a.value!==document.activeElement||(g=t.value)==null||g.focus()};return Yt(a,h=>{h&&h.setAttribute("tabindex","-1")}),gs(a,"focus",u,!0),gs(a,"blur",d,!0),gs(a,"click",f,!0),{isFocused:l,wrapperRef:a,handleFocus:u,handleBlur:d}}function bO({afterComposition:t,emit:e}){const r=ve(!1),n=a=>{e==null||e("compositionstart",a),r.value=!0},i=a=>{var l;e==null||e("compositionupdate",a);const u=(l=a.target)==null?void 0:l.value,d=u[u.length-1]||"";r.value=!S_e(d)},s=a=>{e==null||e("compositionend",a),r.value&&(r.value=!1,Wr(()=>t(a)))};return{isComposing:r,handleComposition:a=>{a.type==="compositionend"?s(a):i(a)},handleCompositionStart:n,handleCompositionUpdate:i,handleCompositionEnd:s}}const XX=Symbol("emptyValuesContextKey"),X2e=["",void 0,null],Y2e=void 0,xO=kr({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Lr(t)?!t():!t}}),wO=(t,e)=>{const r=Dn()?Mr(XX,ve({})):ve({}),n=pe(()=>t.emptyValues||r.value.emptyValues||X2e),i=pe(()=>Lr(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:Lr(r.value.valueOnClear)?r.value.valueOnClear():r.value.valueOnClear!==void 0?r.value.valueOnClear:e!==void 0?e:Y2e),s=o=>n.value.includes(o);return n.value.includes(i.value),{emptyValues:n,valueOnClear:i,isEmptyValue:s}},K2e=kr({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Xf=t=>lX(K2e,t),YX=Symbol(),uT=ve();function oE(t,e=void 0){const r=Dn()?Mr(YX,uT):uT;return t?pe(()=>{var n,i;return(i=(n=r.value)==null?void 0:n[t])!=null?i:e}):r}function aE(t,e){const r=oE(),n=sr(t,pe(()=>{var a;return((a=r.value)==null?void 0:a.namespace)||y2})),i=Si(pe(()=>{var a;return(a=r.value)==null?void 0:a.locale})),s=sE(pe(()=>{var a;return((a=r.value)==null?void 0:a.zIndex)||HX})),o=pe(()=>{var a;return _(e)||((a=r.value)==null?void 0:a.size)||""});return Z2e(pe(()=>_(r)||{})),{ns:n,locale:i,zIndex:s,size:o}}const Z2e=(t,e,r=!1)=>{var n;const i=!!Dn(),s=i?oE():void 0,o=(n=e==null?void 0:e.provide)!=null?n:i?bi:void 0;if(!o)return;const a=pe(()=>{const l=_(t);return s!=null&&s.value?Q2e(s.value,l):l});return o(YX,a),o(TX,pe(()=>a.value.locale)),o(CX,pe(()=>a.value.namespace)),o(jX,pe(()=>a.value.zIndex)),o(GX,{size:pe(()=>a.value.size||"")}),o(XX,pe(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(r||!uT.value)&&(uT.value=a.value),a},Q2e=(t,e)=>{const r=[...new Set([...Rk(t),...Rk(e)])],n={};for(const i of r)n[i]=e[i]!==void 0?e[i]:t[i];return n},Kc={};var Ir=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const J2e=kr({size:{type:Bt([Number,String])},color:{type:String}}),ebe=rt({name:"ElIcon",inheritAttrs:!1}),tbe=rt({...ebe,props:J2e,setup(t){const e=t,r=sr("icon"),n=pe(()=>{const{size:i,color:s}=e;return!i&&!s?{}:{fontSize:Yo(i)?void 0:Du(i),"--color":s}});return(i,s)=>(me(),$e("i",vo({class:_(r).b(),style:_(n)},i.$attrs),[Ft(i.$slots,"default")],16))}});var rbe=Ir(tbe,[["__file","icon.vue"]]);const Rr=gi(rbe),yy=Symbol("formContextKey"),ym=Symbol("formItemContextKey"),Ou=(t,e={})=>{const r=ve(void 0),n=e.prop?r:PX("size"),i=e.global?r:WX(),s=e.form?{size:void 0}:Mr(yy,void 0),o=e.formItem?{size:void 0}:Mr(ym,void 0);return pe(()=>n.value||_(t)||(o==null?void 0:o.size)||(s==null?void 0:s.size)||i.value||"")},Yf=t=>{const e=PX("disabled"),r=Mr(yy,void 0);return pe(()=>e.value||_(t)||(r==null?void 0:r.disabled)||!1)},$d=()=>{const t=Mr(yy,void 0),e=Mr(ym,void 0);return{form:t,formItem:e}},P1=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=ve(!1)),n||(n=ve(!1));const i=ve();let s;const o=pe(()=>{var a;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return zn(()=>{s=Yt([ms(t,"id"),r],([a,l])=>{const u=a??(l?void 0:Sc().value);u!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(n!=null&&n.value)&&!l&&u&&e.addInputId(u)),i.value=u)},{immediate:!0})}),Gf(()=>{s&&s(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}},nbe=kr({size:{type:String,values:kp},disabled:Boolean}),ibe=kr({...nbe,model:Object,rules:{type:Bt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),sbe={validate:(t,e,r)=>(lr(t)||nn(t))&&yl(e)&&nn(r)};function obe(){const t=ve([]),e=pe(()=>{if(!t.value.length)return"0";const s=Math.max(...t.value);return s?`${s}px`:""});function r(s){const o=t.value.indexOf(s);return o===-1&&e.value,o}function n(s,o){if(s&&o){const a=r(o);t.value.splice(a,1,s)}else s&&t.value.push(s)}function i(s){const o=r(s);o>-1&&t.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:n,deregisterLabelWidth:i}}const px=(t,e)=>{const r=sc(e);return r.length>0?t.filter(n=>n.prop&&r.includes(n.prop)):t},abe="ElForm",lbe=rt({name:abe}),ube=rt({...lbe,props:ibe,emits:sbe,setup(t,{expose:e,emit:r}){const n=t,i=[],s=Ou(),o=sr("form"),a=pe(()=>{const{labelPosition:T,inline:A}=n;return[o.b(),o.m(s.value||"default"),{[o.m(`label-${T}`)]:T,[o.m("inline")]:A}]}),l=T=>i.find(A=>A.prop===T),u=T=>{i.push(T)},d=T=>{T.prop&&i.splice(i.indexOf(T),1)},f=(T=[])=>{n.model&&px(i,T).forEach(A=>A.resetField())},h=(T=[])=>{px(i,T).forEach(A=>A.clearValidate())},g=pe(()=>!!n.model),v=T=>{if(i.length===0)return[];const A=px(i,T);return A.length?A:[]},p=async T=>S(void 0,T),b=async(T=[])=>{if(!g.value)return!1;const A=v(T);if(A.length===0)return!0;let E={};for(const I of A)try{await I.validate("")}catch(O){E={...E,...O}}return Object.keys(E).length===0?!0:Promise.reject(E)},S=async(T=[],A)=>{const E=!Lr(A);try{const I=await b(T);return I===!0&&await(A==null?void 0:A(I)),I}catch(I){if(I instanceof Error)throw I;const O=I;return n.scrollToError&&C(Object.keys(O)[0]),await(A==null?void 0:A(!1,O)),E&&Promise.reject(O)}},C=T=>{var A;const E=px(i,T)[0];E&&((A=E.$el)==null||A.scrollIntoView(n.scrollIntoViewOptions))};return Yt(()=>n.rules,()=>{n.validateOnRuleChange&&p().catch(T=>void 0)},{deep:!0}),bi(yy,an({...Hu(n),emit:r,resetFields:f,clearValidate:h,validateField:S,getField:l,addField:u,removeField:d,...obe()})),e({validate:p,validateField:S,resetFields:f,clearValidate:h,scrollToField:C,fields:i}),(T,A)=>(me(),$e("form",{class:Se(_(a))},[Ft(T.$slots,"default")],2))}});var cbe=Ir(ube,[["__file","form.vue"]]);function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function dbe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fb(t,e)}function Ok(t){return Ok=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ok(t)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fb(t,e)}function fbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zw(t,e,r){return fbe()?Zw=Reflect.construct.bind():Zw=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&fb(u,o.prototype),u},Zw.apply(null,arguments)}function hbe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function $k(t){var e=typeof Map=="function"?new Map:void 0;return $k=function(n){if(n===null||!hbe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Zw(n,arguments,Ok(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),fb(i,n)},$k(t)}var pbe=/%[sdj%]/g,mbe=function(){};function Lk(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function Ol(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=0,s=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(pbe,function(a){if(a==="%%")return"%";if(i>=s)return a;switch(a){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return a}});return o}return t}function gbe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function _o(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||gbe(e)&&typeof t=="string"&&!t)}function vbe(t,e,r){var n=[],i=0,s=t.length;function o(a){n.push.apply(n,a||[]),i++,i===s&&r(n)}t.forEach(function(a){e(a,o)})}function wN(t,e,r){var n=0,i=t.length;function s(o){if(o&&o.length){r(o);return}var a=n;n=n+1,a<i?e(t[a],s):r([])}s([])}function ybe(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,t[r]||[])}),e}var SN=function(t){dbe(e,t);function e(r,n){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=r,i.fields=n,i}return e}($k(Error));function _be(t,e,r,n,i){if(e.first){var s=new Promise(function(h,g){var v=function(S){return n(S),S.length?g(new SN(S,Lk(S))):h(i)},p=ybe(t);wN(p,r,v)});return s.catch(function(h){return h}),s}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,u=0,d=[],f=new Promise(function(h,g){var v=function(b){if(d.push.apply(d,b),u++,u===l)return n(d),d.length?g(new SN(d,Lk(d))):h(i)};a.length||(n(d),h(i)),a.forEach(function(p){var b=t[p];o.indexOf(p)!==-1?wN(b,r,v):vbe(b,r,v)})});return f.catch(function(h){return h}),f}function bbe(t){return!!(t&&t.message!==void 0)}function xbe(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function TN(t,e){return function(r){var n;return t.fullFields?n=xbe(e,t.fullFields):n=e[r.field||t.fullField],bbe(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function CN(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];typeof n=="object"&&typeof t[r]=="object"?t[r]=L0({},t[r],n):t[r]=n}}return t}var KX=function(e,r,n,i,s,o){e.required&&(!n.hasOwnProperty(e.field)||_o(r,o||e.type))&&i.push(Ol(s.messages.required,e.fullField))},wbe=function(e,r,n,i,s){(/^\s+$/.test(r)||r==="")&&i.push(Ol(s.messages.whitespace,e.fullField))},mx,Sbe=function(){if(mx)return mx;var t="[a-fA-F\\d:]",e=function(A){return A&&A.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"),o=new RegExp("^"+r+"$"),a=new RegExp("^"+i+"$"),l=function(A){return A&&A.exact?s:new RegExp("(?:"+e(A)+r+e(A)+")|(?:"+e(A)+i+e(A)+")","g")};l.v4=function(T){return T&&T.exact?o:new RegExp(""+e(T)+r+e(T),"g")},l.v6=function(T){return T&&T.exact?a:new RegExp(""+e(T)+i+e(T),"g")};var u="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,g="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",S='(?:[/?#][^\\s"]*)?',C="(?:"+u+"|www\\.)"+d+"(?:localhost|"+f+"|"+h+"|"+g+v+p+")"+b+S;return mx=new RegExp("(?:^"+C+"$)","i"),mx},EN={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},V_={integer:function(e){return V_.number(e)&&parseInt(e,10)===e},float:function(e){return V_.number(e)&&!V_.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!V_.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(EN.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Sbe())},hex:function(e){return typeof e=="string"&&!!e.match(EN.hex)}},Tbe=function(e,r,n,i,s){if(e.required&&r===void 0){KX(e,r,n,i,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?V_[a](r)||i.push(Ol(s.messages.types[a],e.fullField,e.type)):a&&typeof r!==e.type&&i.push(Ol(s.messages.types[a],e.fullField,e.type))},Cbe=function(e,r,n,i,s){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=r,f=null,h=typeof r=="number",g=typeof r=="string",v=Array.isArray(r);if(h?f="number":g?f="string":v&&(f="array"),!f)return!1;v&&(d=r.length),g&&(d=r.replace(u,"_").length),o?d!==e.len&&i.push(Ol(s.messages[f].len,e.fullField,e.len)):a&&!l&&d<e.min?i.push(Ol(s.messages[f].min,e.fullField,e.min)):l&&!a&&d>e.max?i.push(Ol(s.messages[f].max,e.fullField,e.max)):a&&l&&(d<e.min||d>e.max)&&i.push(Ol(s.messages[f].range,e.fullField,e.min,e.max))},ig="enum",Ebe=function(e,r,n,i,s){e[ig]=Array.isArray(e[ig])?e[ig]:[],e[ig].indexOf(r)===-1&&i.push(Ol(s.messages[ig],e.fullField,e[ig].join(", ")))},Abe=function(e,r,n,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||i.push(Ol(s.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||i.push(Ol(s.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},si={required:KX,whitespace:wbe,type:Tbe,range:Cbe,enum:Ebe,pattern:Abe},Pbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r,"string")&&!e.required)return n();si.required(e,r,i,o,s,"string"),_o(r,"string")||(si.type(e,r,i,o,s),si.range(e,r,i,o,s),si.pattern(e,r,i,o,s),e.whitespace===!0&&si.whitespace(e,r,i,o,s))}n(o)},kbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s),r!==void 0&&si.type(e,r,i,o,s)}n(o)},Ibe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(r===""&&(r=void 0),_o(r)&&!e.required)return n();si.required(e,r,i,o,s),r!==void 0&&(si.type(e,r,i,o,s),si.range(e,r,i,o,s))}n(o)},Dbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s),r!==void 0&&si.type(e,r,i,o,s)}n(o)},Rbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s),_o(r)||si.type(e,r,i,o,s)}n(o)},Mbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s),r!==void 0&&(si.type(e,r,i,o,s),si.range(e,r,i,o,s))}n(o)},Obe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s),r!==void 0&&(si.type(e,r,i,o,s),si.range(e,r,i,o,s))}n(o)},$be=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(r==null&&!e.required)return n();si.required(e,r,i,o,s,"array"),r!=null&&(si.type(e,r,i,o,s),si.range(e,r,i,o,s))}n(o)},Lbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s),r!==void 0&&si.type(e,r,i,o,s)}n(o)},Fbe="enum",Nbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s),r!==void 0&&si[Fbe](e,r,i,o,s)}n(o)},Bbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r,"string")&&!e.required)return n();si.required(e,r,i,o,s),_o(r,"string")||si.pattern(e,r,i,o,s)}n(o)},Ube=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r,"date")&&!e.required)return n();if(si.required(e,r,i,o,s),!_o(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),si.type(e,l,i,o,s),l&&si.range(e,l.getTime(),i,o,s)}}n(o)},Vbe=function(e,r,n,i,s){var o=[],a=Array.isArray(r)?"array":typeof r;si.required(e,r,i,o,s,a),n(o)},t3=function(e,r,n,i,s){var o=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(_o(r,o)&&!e.required)return n();si.required(e,r,i,a,s,o),_o(r,o)||si.type(e,r,i,a,s)}n(a)},zbe=function(e,r,n,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(_o(r)&&!e.required)return n();si.required(e,r,i,o,s)}n(o)},x2={string:Pbe,method:kbe,number:Ibe,boolean:Dbe,regexp:Rbe,integer:Mbe,float:Obe,array:$be,object:Lbe,enum:Nbe,pattern:Bbe,date:Ube,url:t3,hex:t3,email:t3,required:Vbe,any:zbe};function Fk(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Nk=Fk(),k1=function(){function t(r){this.rules=null,this._messages=Nk,this.define(r)}var e=t.prototype;return e.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(s){var o=n[s];i.rules[s]=Array.isArray(o)?o:[o]})},e.messages=function(n){return n&&(this._messages=CN(Fk(),n)),this._messages},e.validate=function(n,i,s){var o=this;i===void 0&&(i={}),s===void 0&&(s=function(){});var a=n,l=i,u=s;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function d(p){var b=[],S={};function C(A){if(Array.isArray(A)){var E;b=(E=b).concat.apply(E,A)}else b.push(A)}for(var T=0;T<p.length;T++)C(p[T]);b.length?(S=Lk(b),u(b,S)):u(null,a)}if(l.messages){var f=this.messages();f===Nk&&(f=Fk()),CN(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},g=l.keys||Object.keys(this.rules);g.forEach(function(p){var b=o.rules[p],S=a[p];b.forEach(function(C){var T=C;typeof T.transform=="function"&&(a===n&&(a=L0({},a)),S=a[p]=T.transform(S)),typeof T=="function"?T={validator:T}:T=L0({},T),T.validator=o.getValidationMethod(T),T.validator&&(T.field=p,T.fullField=T.fullField||p,T.type=o.getType(T),h[p]=h[p]||[],h[p].push({rule:T,value:S,source:a,field:p}))})});var v={};return _be(h,l,function(p,b){var S=p.rule,C=(S.type==="object"||S.type==="array")&&(typeof S.fields=="object"||typeof S.defaultField=="object");C=C&&(S.required||!S.required&&p.value),S.field=p.field;function T(I,O){return L0({},O,{fullField:S.fullField+"."+I,fullFields:S.fullFields?[].concat(S.fullFields,[I]):[I]})}function A(I){I===void 0&&(I=[]);var O=Array.isArray(I)?I:[I];!l.suppressWarning&&O.length&&t.warning("async-validator:",O),O.length&&S.message!==void 0&&(O=[].concat(S.message));var N=O.map(TN(S,a));if(l.first&&N.length)return v[S.field]=1,b(N);if(!C)b(N);else{if(S.required&&!p.value)return S.message!==void 0?N=[].concat(S.message).map(TN(S,a)):l.error&&(N=[l.error(S,Ol(l.messages.required,S.field))]),b(N);var G={};S.defaultField&&Object.keys(p.value).map(function(q){G[q]=S.defaultField}),G=L0({},G,p.rule.fields);var ie={};Object.keys(G).forEach(function(q){var J=G[q],X=Array.isArray(J)?J:[J];ie[q]=X.map(T.bind(null,q))});var W=new t(ie);W.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),W.validate(p.value,p.rule.options||l,function(q){var J=[];N&&N.length&&J.push.apply(J,N),q&&q.length&&J.push.apply(J,q),b(J.length?J:null)})}}var E;if(S.asyncValidator)E=S.asyncValidator(S,p.value,A,p.source,l);else if(S.validator){try{E=S.validator(S,p.value,A,p.source,l)}catch(I){console.error==null||console.error(I),l.suppressValidatorError||setTimeout(function(){throw I},0),A(I.message)}E===!0?A():E===!1?A(typeof S.message=="function"?S.message(S.fullField||S.field):S.message||(S.fullField||S.field)+" fails"):E instanceof Array?A(E):E instanceof Error&&A(E.message)}E&&E.then&&E.then(function(){return A()},function(I){return A(I)})},function(p){d(p)},a)},e.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!x2.hasOwnProperty(n.type))throw new Error(Ol("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),s=i.indexOf("message");return s!==-1&&i.splice(s,1),i.length===1&&i[0]==="required"?x2.required:x2[this.getType(n)]||void 0},t}();k1.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");x2[e]=r};k1.warning=mbe;k1.messages=Nk;k1.validators=x2;const Hbe=["","error","validating","success"],jbe=kr({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Bt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Bt([Object,Array])},error:String,validateStatus:{type:String,values:Hbe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:kp}}),AN="ElLabelWrap";var Gbe=rt({name:AN,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const r=Mr(yy,void 0),n=Mr(ym);n||_l(AN,"usage: <el-form-item><label-wrap /></el-form-item>");const i=sr("form"),s=ve(),o=ve(0),a=()=>{var d;if((d=s.value)!=null&&d.firstElementChild){const f=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(d="update")=>{Wr(()=>{e.default&&t.isAutoWidth&&(d==="update"?o.value=a():d==="remove"&&(r==null||r.deregisterLabelWidth(o.value)))})},u=()=>l("update");return zn(()=>{u()}),Bs(()=>{l("remove")}),Pp(()=>u()),Yt(o,(d,f)=>{t.updateAll&&(r==null||r.registerLabelWidth(d,f))}),ko(pe(()=>{var d,f;return(f=(d=s.value)==null?void 0:d.firstElementChild)!=null?f:null}),u),()=>{var d,f;if(!e)return null;const{isAutoWidth:h}=t;if(h){const g=r==null?void 0:r.autoLabelWidth,v=n==null?void 0:n.hasLabel,p={};if(v&&g&&g!=="auto"){const b=Math.max(0,Number.parseInt(g,10)-o.value),C=(n.labelPosition||r.labelPosition)==="left"?"marginRight":"marginLeft";b&&(p[C]=`${b}px`)}return F("div",{ref:s,class:[i.be("item","label-wrap")],style:p},[(d=e.default)==null?void 0:d.call(e)])}else return F(Sr,{ref:s},[(f=e.default)==null?void 0:f.call(e)])}}});const Wbe=rt({name:"ElFormItem"}),qbe=rt({...Wbe,props:jbe,setup(t,{expose:e}){const r=t,n=bl(),i=Mr(yy,void 0),s=Mr(ym,void 0),o=Ou(void 0,{formItem:!1}),a=sr("form-item"),l=Sc().value,u=ve([]),d=ve(""),f=qde(d,100),h=ve(""),g=ve();let v,p=!1;const b=pe(()=>r.labelPosition||(i==null?void 0:i.labelPosition)),S=pe(()=>{if(b.value==="top")return{};const ut=Du(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return ut?{width:ut}:{}}),C=pe(()=>{if(b.value==="top"||i!=null&&i.inline)return{};if(!r.label&&!r.labelWidth&&ie)return{};const ut=Du(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return!r.label&&!n.label?{marginLeft:ut}:{}}),T=pe(()=>[a.b(),a.m(o.value),a.is("error",d.value==="error"),a.is("validating",d.value==="validating"),a.is("success",d.value==="success"),a.is("required",R.value||r.required),a.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:i==null?void 0:i.statusIcon,[a.m(`label-${b.value}`)]:b.value}]),A=pe(()=>yl(r.inlineMessage)?r.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),E=pe(()=>[a.e("error"),{[a.em("error","inline")]:A.value}]),I=pe(()=>r.prop?nn(r.prop)?r.prop:r.prop.join("."):""),O=pe(()=>!!(r.label||n.label)),N=pe(()=>r.for||(u.value.length===1?u.value[0]:void 0)),G=pe(()=>!N.value&&O.value),ie=!!s,W=pe(()=>{const ut=i==null?void 0:i.model;if(!(!ut||!r.prop))return Xw(ut,r.prop).value}),q=pe(()=>{const{required:ut}=r,ct=[];r.rules&&ct.push(...sc(r.rules));const mt=i==null?void 0:i.rules;if(mt&&r.prop){const jt=Xw(mt,r.prop).value;jt&&ct.push(...sc(jt))}if(ut!==void 0){const jt=ct.map((vt,se)=>[vt,se]).filter(([vt])=>Object.keys(vt).includes("required"));if(jt.length>0)for(const[vt,se]of jt)vt.required!==ut&&(ct[se]={...vt,required:ut});else ct.push({required:ut})}return ct}),J=pe(()=>q.value.length>0),X=ut=>q.value.filter(mt=>!mt.trigger||!ut?!0:Array.isArray(mt.trigger)?mt.trigger.includes(ut):mt.trigger===ut).map(({trigger:mt,...jt})=>jt),R=pe(()=>q.value.some(ut=>ut.required)),z=pe(()=>{var ut;return f.value==="error"&&r.showMessage&&((ut=i==null?void 0:i.showMessage)!=null?ut:!0)}),re=pe(()=>`${r.label||""}${(i==null?void 0:i.labelSuffix)||""}`),oe=ut=>{d.value=ut},H=ut=>{var ct,mt;const{errors:jt,fields:vt}=ut;(!jt||!vt)&&console.error(ut),oe("error"),h.value=jt?(mt=(ct=jt==null?void 0:jt[0])==null?void 0:ct.message)!=null?mt:`${r.prop} is required`:"",i==null||i.emit("validate",r.prop,!1,h.value)},ee=()=>{oe("success"),i==null||i.emit("validate",r.prop,!0,"")},ae=async ut=>{const ct=I.value;return new k1({[ct]:ut}).validate({[ct]:W.value},{firstFields:!0}).then(()=>(ee(),!0)).catch(jt=>(H(jt),Promise.reject(jt)))},be=async(ut,ct)=>{if(p||!r.prop)return!1;const mt=Lr(ct);if(!J.value)return ct==null||ct(!1),!1;const jt=X(ut);return jt.length===0?(ct==null||ct(!0),!0):(oe("validating"),ae(jt).then(()=>(ct==null||ct(!0),!0)).catch(vt=>{const{fields:se}=vt;return ct==null||ct(!1,se),mt?!1:Promise.reject(se)}))},Me=()=>{oe(""),h.value="",p=!1},Qe=async()=>{const ut=i==null?void 0:i.model;if(!ut||!r.prop)return;const ct=Xw(ut,r.prop);p=!0,ct.value=ZF(v),await Wr(),Me(),p=!1},ht=ut=>{u.value.includes(ut)||u.value.push(ut)},je=ut=>{u.value=u.value.filter(ct=>ct!==ut)};Yt(()=>r.error,ut=>{h.value=ut||"",oe(ut?"error":"")},{immediate:!0}),Yt(()=>r.validateStatus,ut=>oe(ut||""));const ze=an({...Hu(r),$el:g,size:o,validateState:d,labelId:l,inputIds:u,isGroup:G,hasLabel:O,fieldValue:W,addInputId:ht,removeInputId:je,resetField:Qe,clearValidate:Me,validate:be});return bi(ym,ze),zn(()=>{r.prop&&(i==null||i.addField(ze),v=ZF(W.value))}),Bs(()=>{i==null||i.removeField(ze)}),e({size:o,validateMessage:h,validateState:d,validate:be,clearValidate:Me,resetField:Qe}),(ut,ct)=>{var mt;return me(),$e("div",{ref_key:"formItemRef",ref:g,class:Se(_(T)),role:_(G)?"group":void 0,"aria-labelledby":_(G)?_(l):void 0},[F(_(Gbe),{"is-auto-width":_(S).width==="auto","update-all":((mt=_(i))==null?void 0:mt.labelWidth)==="auto"},{default:te(()=>[_(O)?(me(),Ct(_i(_(N)?"label":"div"),{key:0,id:_(l),for:_(N),class:Se(_(a).e("label")),style:dn(_(S))},{default:te(()=>[Ft(ut.$slots,"label",{label:_(re)},()=>[Et(cr(_(re)),1)])]),_:3},8,["id","for","class","style"])):gt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Ue("div",{class:Se(_(a).e("content")),style:dn(_(C))},[Ft(ut.$slots,"default"),F(fq,{name:`${_(a).namespace.value}-zoom-in-top`},{default:te(()=>[_(z)?Ft(ut.$slots,"error",{key:0,error:h.value},()=>[Ue("div",{class:Se(_(E))},cr(h.value),3)]):gt("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var ZX=Ir(qbe,[["__file","form-item.vue"]]);const Pc=gi(cbe,{FormItem:ZX}),da=No(ZX);let Xu;const Xbe=`
  height:0 !important;
  visibility:hidden !important;
  ${qfe()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ybe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Kbe(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Ybe.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:r}}function PN(t,e=1,r){var n;Xu||(Xu=document.createElement("textarea"),document.body.appendChild(Xu));const{paddingSize:i,borderSize:s,boxSizing:o,contextStyle:a}=Kbe(t);Xu.setAttribute("style",`${a};${Xbe}`),Xu.value=t.value||t.placeholder||"";let l=Xu.scrollHeight;const u={};o==="border-box"?l=l+s:o==="content-box"&&(l=l-i),Xu.value="";const d=Xu.scrollHeight-i;if(qn(e)){let f=d*e;o==="border-box"&&(f=f+i+s),l=Math.max(f,l),u.minHeight=`${f}px`}if(qn(r)){let f=d*r;o==="border-box"&&(f=f+i+s),l=Math.min(f,l)}return u.height=`${l}px`,(n=Xu.parentNode)==null||n.removeChild(Xu),Xu=void 0,u}const Zbe=kr({id:{type:String,default:void 0},size:Ac,disabled:Boolean,modelValue:{type:Bt([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Bt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ro},prefixIcon:{type:ro},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Bt([Object,Array,String]),default:()=>Ro({})},autofocus:Boolean,rows:{type:Number,default:2},...Xf(["ariaLabel"])}),Qbe={[es]:t=>nn(t),input:t=>nn(t),change:t=>nn(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Jbe=rt({name:"ElInput",inheritAttrs:!1}),e1e=rt({...Jbe,props:Zbe,emits:Qbe,setup(t,{expose:e,emit:r}){const n=t,i=fy(),s=bl(),o=pe(()=>{const yt={};return n.containerRole==="combobox"&&(yt["aria-haspopup"]=i["aria-haspopup"],yt["aria-owns"]=i["aria-owns"],yt["aria-expanded"]=i["aria-expanded"]),yt}),a=pe(()=>[n.type==="textarea"?b.b():p.b(),p.m(g.value),p.is("disabled",v.value),p.is("exceed",Me.value),{[p.b("group")]:s.prepend||s.append,[p.m("prefix")]:s.prefix||n.prefixIcon,[p.m("suffix")]:s.suffix||n.suffixIcon||n.clearable||n.showPassword,[p.bm("suffix","password-clear")]:H.value&&ee.value,[p.b("hidden")]:n.type==="hidden"},i.class]),l=pe(()=>[p.e("wrapper"),p.is("focus",G.value)]),u=wX({excludeKeys:pe(()=>Object.keys(o.value))}),{form:d,formItem:f}=$d(),{inputId:h}=P1(n,{formItemContext:f}),g=Ou(),v=Yf(),p=sr("input"),b=sr("textarea"),S=Ba(),C=Ba(),T=ve(!1),A=ve(!1),E=ve(),I=Ba(n.inputStyle),O=pe(()=>S.value||C.value),{wrapperRef:N,isFocused:G,handleFocus:ie,handleBlur:W}=qX(O,{beforeFocus(){return v.value},afterBlur(){var yt;n.validateEvent&&((yt=f==null?void 0:f.validate)==null||yt.call(f,"blur").catch(Pt=>void 0))}}),q=pe(()=>{var yt;return(yt=d==null?void 0:d.statusIcon)!=null?yt:!1}),J=pe(()=>(f==null?void 0:f.validateState)||""),X=pe(()=>J.value&&bX[J.value]),R=pe(()=>A.value?p_e:Rye),z=pe(()=>[i.style]),re=pe(()=>[n.inputStyle,I.value,{resize:n.resize}]),oe=pe(()=>Ed(n.modelValue)?"":String(n.modelValue)),H=pe(()=>n.clearable&&!v.value&&!n.readonly&&!!oe.value&&(G.value||T.value)),ee=pe(()=>n.showPassword&&!v.value&&!n.readonly&&!!oe.value&&(!!oe.value||G.value)),ae=pe(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!v.value&&!n.readonly&&!n.showPassword),be=pe(()=>oe.value.length),Me=pe(()=>!!ae.value&&be.value>Number(n.maxlength)),Qe=pe(()=>!!s.suffix||!!n.suffixIcon||H.value||n.showPassword||ae.value||!!J.value&&q.value),[ht,je]=G2e(S);ko(C,yt=>{if(ct(),!ae.value||n.resize!=="both")return;const Pt=yt[0],{width:Er}=Pt.contentRect;E.value={right:`calc(100% - ${Er+15+6}px)`}});const ze=()=>{const{type:yt,autosize:Pt}=n;if(!(!Ln||yt!=="textarea"||!C.value))if(Pt){const Er=En(Pt)?Pt.minRows:void 0,zt=En(Pt)?Pt.maxRows:void 0,xr=PN(C.value,Er,zt);I.value={overflowY:"hidden",...xr},Wr(()=>{C.value.offsetHeight,I.value=xr})}else I.value={minHeight:PN(C.value).minHeight}},ct=(yt=>{let Pt=!1;return()=>{var Er;if(Pt||!n.autosize)return;((Er=C.value)==null?void 0:Er.offsetParent)===null||(yt(),Pt=!0)}})(ze),mt=()=>{const yt=O.value,Pt=n.formatter?n.formatter(oe.value):oe.value;!yt||yt.value===Pt||(yt.value=Pt)},jt=async yt=>{ht();let{value:Pt}=yt.target;if(n.formatter&&(Pt=n.parser?n.parser(Pt):Pt),!se.value){if(Pt===oe.value){mt();return}r(es,Pt),r("input",Pt),await Wr(),mt(),je()}},vt=yt=>{r("change",yt.target.value)},{isComposing:se,handleCompositionStart:Pe,handleCompositionUpdate:tt,handleCompositionEnd:et}=bO({emit:r,afterComposition:jt}),ot=()=>{A.value=!A.value,St()},St=async()=>{var yt;await Wr(),(yt=O.value)==null||yt.focus()},Dt=()=>{var yt;return(yt=O.value)==null?void 0:yt.blur()},_t=yt=>{T.value=!1,r("mouseleave",yt)},Kt=yt=>{T.value=!0,r("mouseenter",yt)},Ut=yt=>{r("keydown",yt)},lt=()=>{var yt;(yt=O.value)==null||yt.select()},kt=()=>{r(es,""),r("change",""),r("clear"),r("input","")};return Yt(()=>n.modelValue,()=>{var yt;Wr(()=>ze()),n.validateEvent&&((yt=f==null?void 0:f.validate)==null||yt.call(f,"change").catch(Pt=>void 0))}),Yt(oe,()=>mt()),Yt(()=>n.type,async()=>{await Wr(),mt(),ze()}),zn(()=>{!n.formatter&&n.parser,mt(),Wr(ze)}),e({input:S,textarea:C,ref:O,textareaStyle:re,autosize:ms(n,"autosize"),isComposing:se,focus:St,blur:Dt,select:lt,clear:kt,resizeTextarea:ze}),(yt,Pt)=>(me(),$e("div",vo(_(o),{class:[_(a),{[_(p).bm("group","append")]:yt.$slots.append,[_(p).bm("group","prepend")]:yt.$slots.prepend}],style:_(z),role:yt.containerRole,onMouseenter:Kt,onMouseleave:_t}),[gt(" input "),yt.type!=="textarea"?(me(),$e(Sr,{key:0},[gt(" prepend slot "),yt.$slots.prepend?(me(),$e("div",{key:0,class:Se(_(p).be("group","prepend"))},[Ft(yt.$slots,"prepend")],2)):gt("v-if",!0),Ue("div",{ref_key:"wrapperRef",ref:N,class:Se(_(l))},[gt(" prefix slot "),yt.$slots.prefix||yt.prefixIcon?(me(),$e("span",{key:0,class:Se(_(p).e("prefix"))},[Ue("span",{class:Se(_(p).e("prefix-inner"))},[Ft(yt.$slots,"prefix"),yt.prefixIcon?(me(),Ct(_(Rr),{key:0,class:Se(_(p).e("icon"))},{default:te(()=>[(me(),Ct(_i(yt.prefixIcon)))]),_:1},8,["class"])):gt("v-if",!0)],2)],2)):gt("v-if",!0),Ue("input",vo({id:_(h),ref_key:"input",ref:S,class:_(p).e("inner")},_(u),{minlength:yt.minlength,maxlength:yt.maxlength,type:yt.showPassword?A.value?"text":"password":yt.type,disabled:_(v),readonly:yt.readonly,autocomplete:yt.autocomplete,tabindex:yt.tabindex,"aria-label":yt.ariaLabel,placeholder:yt.placeholder,style:yt.inputStyle,form:yt.form,autofocus:yt.autofocus,onCompositionstart:_(Pe),onCompositionupdate:_(tt),onCompositionend:_(et),onInput:jt,onChange:vt,onKeydown:Ut}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),gt(" suffix slot "),_(Qe)?(me(),$e("span",{key:1,class:Se(_(p).e("suffix"))},[Ue("span",{class:Se(_(p).e("suffix-inner"))},[!_(H)||!_(ee)||!_(ae)?(me(),$e(Sr,{key:0},[Ft(yt.$slots,"suffix"),yt.suffixIcon?(me(),Ct(_(Rr),{key:0,class:Se(_(p).e("icon"))},{default:te(()=>[(me(),Ct(_i(yt.suffixIcon)))]),_:1},8,["class"])):gt("v-if",!0)],64)):gt("v-if",!0),_(H)?(me(),Ct(_(Rr),{key:1,class:Se([_(p).e("icon"),_(p).e("clear")]),onMousedown:_n(_(Qn),["prevent"]),onClick:kt},{default:te(()=>[F(_(gy))]),_:1},8,["class","onMousedown"])):gt("v-if",!0),_(ee)?(me(),Ct(_(Rr),{key:2,class:Se([_(p).e("icon"),_(p).e("password")]),onClick:ot},{default:te(()=>[(me(),Ct(_i(_(R))))]),_:1},8,["class"])):gt("v-if",!0),_(ae)?(me(),$e("span",{key:3,class:Se(_(p).e("count"))},[Ue("span",{class:Se(_(p).e("count-inner"))},cr(_(be))+" / "+cr(yt.maxlength),3)],2)):gt("v-if",!0),_(J)&&_(X)&&_(q)?(me(),Ct(_(Rr),{key:4,class:Se([_(p).e("icon"),_(p).e("validateIcon"),_(p).is("loading",_(J)==="validating")])},{default:te(()=>[(me(),Ct(_i(_(X))))]),_:1},8,["class"])):gt("v-if",!0)],2)],2)):gt("v-if",!0)],2),gt(" append slot "),yt.$slots.append?(me(),$e("div",{key:1,class:Se(_(p).be("group","append"))},[Ft(yt.$slots,"append")],2)):gt("v-if",!0)],64)):(me(),$e(Sr,{key:1},[gt(" textarea "),Ue("textarea",vo({id:_(h),ref_key:"textarea",ref:C,class:[_(b).e("inner"),_(p).is("focus",_(G))]},_(u),{minlength:yt.minlength,maxlength:yt.maxlength,tabindex:yt.tabindex,disabled:_(v),readonly:yt.readonly,autocomplete:yt.autocomplete,style:_(re),"aria-label":yt.ariaLabel,placeholder:yt.placeholder,form:yt.form,autofocus:yt.autofocus,rows:yt.rows,onCompositionstart:_(Pe),onCompositionupdate:_(tt),onCompositionend:_(et),onInput:jt,onFocus:_(ie),onBlur:_(W),onChange:vt,onKeydown:Ut}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),_(ae)?(me(),$e("span",{key:0,style:dn(E.value),class:Se(_(p).e("count"))},cr(_(be))+" / "+cr(yt.maxlength),7)):gt("v-if",!0)],64))],16,["role"]))}});var t1e=Ir(e1e,[["__file","input.vue"]]);const ji=gi(t1e),sg=4,r1e={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},n1e=({move:t,size:e,bar:r})=>({[r.size]:e,transform:`translate${r.axis}(${t}%)`}),SO=Symbol("scrollbarContextKey"),i1e=kr({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),s1e="Thumb",o1e=rt({__name:"thumb",props:i1e,setup(t){const e=t,r=Mr(SO),n=sr("scrollbar");r||_l(s1e,"can not inject scrollbar context");const i=ve(),s=ve(),o=ve({}),a=ve(!1);let l=!1,u=!1,d=Ln?document.onselectstart:null;const f=pe(()=>r1e[e.vertical?"vertical":"horizontal"]),h=pe(()=>n1e({size:e.size,move:e.move,bar:f.value})),g=pe(()=>i.value[f.value.offset]**2/r.wrapElement[f.value.scrollSize]/e.ratio/s.value[f.value.offset]),v=I=>{var O;if(I.stopPropagation(),I.ctrlKey||[1,2].includes(I.button))return;(O=window.getSelection())==null||O.removeAllRanges(),b(I);const N=I.currentTarget;N&&(o.value[f.value.axis]=N[f.value.offset]-(I[f.value.client]-N.getBoundingClientRect()[f.value.direction]))},p=I=>{if(!s.value||!i.value||!r.wrapElement)return;const O=Math.abs(I.target.getBoundingClientRect()[f.value.direction]-I[f.value.client]),N=s.value[f.value.offset]/2,G=(O-N)*100*g.value/i.value[f.value.offset];r.wrapElement[f.value.scroll]=G*r.wrapElement[f.value.scrollSize]/100},b=I=>{I.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",C),d=document.onselectstart,document.onselectstart=()=>!1},S=I=>{if(!i.value||!s.value||l===!1)return;const O=o.value[f.value.axis];if(!O)return;const N=(i.value.getBoundingClientRect()[f.value.direction]-I[f.value.client])*-1,G=s.value[f.value.offset]-O,ie=(N-G)*100*g.value/i.value[f.value.offset];r.wrapElement[f.value.scroll]=ie*r.wrapElement[f.value.scrollSize]/100},C=()=>{l=!1,o.value[f.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",C),E(),u&&(a.value=!1)},T=()=>{u=!1,a.value=!!e.size},A=()=>{u=!0,a.value=l};Bs(()=>{E(),document.removeEventListener("mouseup",C)});const E=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return gs(ms(r,"scrollbarElement"),"mousemove",T),gs(ms(r,"scrollbarElement"),"mouseleave",A),(I,O)=>(me(),Ct(xl,{name:_(n).b("fade"),persisted:""},{default:te(()=>[wn(Ue("div",{ref_key:"instance",ref:i,class:Se([_(n).e("bar"),_(n).is(_(f).key)]),onMousedown:p},[Ue("div",{ref_key:"thumb",ref:s,class:Se(_(n).e("thumb")),style:dn(_(h)),onMousedown:v},null,38)],34),[[Ai,I.always||a.value]])]),_:1},8,["name"]))}});var kN=Ir(o1e,[["__file","thumb.vue"]]);const a1e=kr({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),l1e=rt({__name:"bar",props:a1e,setup(t,{expose:e}){const r=t,n=Mr(SO),i=ve(0),s=ve(0),o=ve(""),a=ve(""),l=ve(1),u=ve(1);return e({handleScroll:h=>{if(h){const g=h.offsetHeight-sg,v=h.offsetWidth-sg;s.value=h.scrollTop*100/g*l.value,i.value=h.scrollLeft*100/v*u.value}},update:()=>{const h=n==null?void 0:n.wrapElement;if(!h)return;const g=h.offsetHeight-sg,v=h.offsetWidth-sg,p=g**2/h.scrollHeight,b=v**2/h.scrollWidth,S=Math.max(p,r.minSize),C=Math.max(b,r.minSize);l.value=p/(g-p)/(S/(g-S)),u.value=b/(v-b)/(C/(v-C)),a.value=S+sg<g?`${S}px`:"",o.value=C+sg<v?`${C}px`:""}}),(h,g)=>(me(),$e(Sr,null,[F(kN,{move:i.value,ratio:u.value,size:o.value,always:h.always},null,8,["move","ratio","size","always"]),F(kN,{move:s.value,ratio:l.value,size:a.value,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var u1e=Ir(l1e,[["__file","bar.vue"]]);const c1e=kr({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Bt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Xf(["ariaLabel","ariaOrientation"])}),d1e={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(qn)},f1e="ElScrollbar",h1e=rt({name:f1e}),p1e=rt({...h1e,props:c1e,emits:d1e,setup(t,{expose:e,emit:r}){const n=t,i=sr("scrollbar");let s,o,a=0,l=0;const u=ve(),d=ve(),f=ve(),h=ve(),g=pe(()=>{const E={};return n.height&&(E.height=Du(n.height)),n.maxHeight&&(E.maxHeight=Du(n.maxHeight)),[n.wrapStyle,E]}),v=pe(()=>[n.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!n.native}]),p=pe(()=>[i.e("view"),n.viewClass]),b=()=>{var E;d.value&&((E=h.value)==null||E.handleScroll(d.value),a=d.value.scrollTop,l=d.value.scrollLeft,r("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function S(E,I){En(E)?d.value.scrollTo(E):qn(E)&&qn(I)&&d.value.scrollTo(E,I)}const C=E=>{qn(E)&&(d.value.scrollTop=E)},T=E=>{qn(E)&&(d.value.scrollLeft=E)},A=()=>{var E;(E=h.value)==null||E.update()};return Yt(()=>n.noresize,E=>{E?(s==null||s(),o==null||o()):({stop:s}=ko(f,A),o=gs("resize",A))},{immediate:!0}),Yt(()=>[n.maxHeight,n.height],()=>{n.native||Wr(()=>{var E;A(),d.value&&((E=h.value)==null||E.handleScroll(d.value))})}),bi(SO,an({scrollbarElement:u,wrapElement:d})),kW(()=>{d.value&&(d.value.scrollTop=a,d.value.scrollLeft=l)}),zn(()=>{n.native||Wr(()=>{A()})}),Pp(()=>A()),e({wrapRef:d,update:A,scrollTo:S,setScrollTop:C,setScrollLeft:T,handleScroll:b}),(E,I)=>(me(),$e("div",{ref_key:"scrollbarRef",ref:u,class:Se(_(i).b())},[Ue("div",{ref_key:"wrapRef",ref:d,class:Se(_(v)),style:dn(_(g)),tabindex:E.tabindex,onScroll:b},[(me(),Ct(_i(E.tag),{id:E.id,ref_key:"resizeRef",ref:f,class:Se(_(p)),style:dn(E.viewStyle),role:E.role,"aria-label":E.ariaLabel,"aria-orientation":E.ariaOrientation},{default:te(()=>[Ft(E.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),E.native?gt("v-if",!0):(me(),Ct(u1e,{key:0,ref_key:"barRef",ref:h,always:E.always,"min-size":E.minSize},null,8,["always","min-size"]))],2))}});var m1e=Ir(p1e,[["__file","scrollbar.vue"]]);const Bm=gi(m1e),TO=Symbol("popper"),QX=Symbol("popperContent"),g1e=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],JX=kr({role:{type:String,values:g1e,default:"tooltip"}}),v1e=rt({name:"ElPopper",inheritAttrs:!1}),y1e=rt({...v1e,props:JX,setup(t,{expose:e}){const r=t,n=ve(),i=ve(),s=ve(),o=ve(),a=pe(()=>r.role),l={triggerRef:n,popperInstanceRef:i,contentRef:s,referenceRef:o,role:a};return e(l),bi(TO,l),(u,d)=>Ft(u.$slots,"default")}});var _1e=Ir(y1e,[["__file","popper.vue"]]);const eY=kr({arrowOffset:{type:Number,default:5}}),b1e=rt({name:"ElPopperArrow",inheritAttrs:!1}),x1e=rt({...b1e,props:eY,setup(t,{expose:e}){const r=t,n=sr("popper"),{arrowOffset:i,arrowRef:s,arrowStyle:o}=Mr(QX,void 0);return Yt(()=>r.arrowOffset,a=>{i.value=a}),Bs(()=>{s.value=void 0}),e({arrowRef:s}),(a,l)=>(me(),$e("span",{ref_key:"arrowRef",ref:s,class:Se(_(n).e("arrow")),style:dn(_(o)),"data-popper-arrow":""},null,6))}});var w1e=Ir(x1e,[["__file","arrow.vue"]]);const S1e="ElOnlyChild",T1e=rt({name:S1e,setup(t,{slots:e,attrs:r}){var n;const i=Mr(zX),s=j2e((n=i==null?void 0:i.setForwardRef)!=null?n:Qn);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,r);if(!a||a.length>1)return null;const l=tY(a);return l?wn(Of(l,r),[[s]]):null}}});function tY(t){if(!t)return null;const e=t;for(const r of e){if(En(r))switch(r.type){case Xo:continue;case hy:case"svg":return IN(r);case Sr:return tY(r.children);default:return r}return IN(r)}return null}function IN(t){const e=sr("only-child");return F("span",{class:e.e("content")},[t])}const rY=kr({virtualRef:{type:Bt(Object)},virtualTriggering:Boolean,onMouseenter:{type:Bt(Function)},onMouseleave:{type:Bt(Function)},onClick:{type:Bt(Function)},onKeydown:{type:Bt(Function)},onFocus:{type:Bt(Function)},onBlur:{type:Bt(Function)},onContextmenu:{type:Bt(Function)},id:String,open:Boolean}),C1e=rt({name:"ElPopperTrigger",inheritAttrs:!1}),E1e=rt({...C1e,props:rY,setup(t,{expose:e}){const r=t,{role:n,triggerRef:i}=Mr(TO,void 0);H2e(i);const s=pe(()=>a.value?r.id:void 0),o=pe(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),a=pe(()=>{if(n&&n.value!=="tooltip")return n.value}),l=pe(()=>a.value?`${r.open}`:void 0);let u;const d=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return zn(()=>{Yt(()=>r.virtualRef,f=>{f&&(i.value=ud(f))},{immediate:!0}),Yt(i,(f,h)=>{u==null||u(),u=void 0,Ll(f)&&(d.forEach(g=>{var v;const p=r[g];p&&(f.addEventListener(g.slice(2).toLowerCase(),p),(v=h==null?void 0:h.removeEventListener)==null||v.call(h,g.slice(2).toLowerCase(),p))}),u=Yt([s,o,a,l],g=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((v,p)=>{Ed(g[p])?f.removeAttribute(v):f.setAttribute(v,g[p])})},{immediate:!0})),Ll(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(g=>h.removeAttribute(g))},{immediate:!0})}),Bs(()=>{if(u==null||u(),u=void 0,i.value&&Ll(i.value)){const f=i.value;d.forEach(h=>{const g=r[h];g&&f.removeEventListener(h.slice(2).toLowerCase(),g)}),i.value=void 0}}),e({triggerRef:i}),(f,h)=>f.virtualTriggering?gt("v-if",!0):(me(),Ct(_(T1e),vo({key:0},f.$attrs,{"aria-controls":_(s),"aria-describedby":_(o),"aria-expanded":_(l),"aria-haspopup":_(a)}),{default:te(()=>[Ft(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var A1e=Ir(E1e,[["__file","trigger.vue"]]);const r3="focus-trap.focus-after-trapped",n3="focus-trap.focus-after-released",P1e="focus-trap.focusout-prevented",DN={cancelable:!0,bubbles:!1},k1e={cancelable:!0,bubbles:!1},RN="focusAfterTrapped",MN="focusAfterReleased",nY=Symbol("elFocusTrap"),CO=ve(),lE=ve(0),EO=ve(0);let gx=0;const iY=t=>{const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},ON=(t,e)=>{for(const r of t)if(!I1e(r,e))return r},I1e=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},D1e=t=>{const e=iY(t),r=ON(e,t),n=ON(e.reverse(),t);return[r,n]},R1e=t=>t instanceof HTMLInputElement&&"select"in t,Ih=(t,e)=>{if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),EO.value=window.performance.now(),t!==r&&R1e(t)&&e&&t.select()}};function $N(t,e){const r=[...t],n=t.indexOf(e);return n!==-1&&r.splice(n,1),r}const M1e=()=>{let t=[];return{push:n=>{const i=t[0];i&&n!==i&&i.pause(),t=$N(t,n),t.unshift(n)},remove:n=>{var i,s;t=$N(t,n),(s=(i=t[0])==null?void 0:i.resume)==null||s.call(i)}}},O1e=(t,e=!1)=>{const r=document.activeElement;for(const n of t)if(Ih(n,e),document.activeElement!==r)return},LN=M1e(),$1e=()=>lE.value>EO.value,vx=()=>{CO.value="pointer",lE.value=window.performance.now()},FN=()=>{CO.value="keyboard",lE.value=window.performance.now()},L1e=()=>(zn(()=>{gx===0&&(document.addEventListener("mousedown",vx),document.addEventListener("touchstart",vx),document.addEventListener("keydown",FN)),gx++}),Bs(()=>{gx--,gx<=0&&(document.removeEventListener("mousedown",vx),document.removeEventListener("touchstart",vx),document.removeEventListener("keydown",FN))}),{focusReason:CO,lastUserFocusTimestamp:lE,lastAutomatedFocusTimestamp:EO}),yx=t=>new CustomEvent(P1e,{...k1e,detail:t}),F1e=rt({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[RN,MN,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const r=ve();let n,i;const{focusReason:s}=L1e();N2e(v=>{t.trapped&&!o.paused&&e("release-requested",v)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=v=>{if(!t.loop&&!t.trapped||o.paused)return;const{key:p,altKey:b,ctrlKey:S,metaKey:C,currentTarget:T,shiftKey:A}=v,{loop:E}=t,I=p===Zr.tab&&!b&&!S&&!C,O=document.activeElement;if(I&&O){const N=T,[G,ie]=D1e(N);if(G&&ie){if(!A&&O===ie){const q=yx({focusReason:s.value});e("focusout-prevented",q),q.defaultPrevented||(v.preventDefault(),E&&Ih(G,!0))}else if(A&&[G,N].includes(O)){const q=yx({focusReason:s.value});e("focusout-prevented",q),q.defaultPrevented||(v.preventDefault(),E&&Ih(ie,!0))}}else if(O===N){const q=yx({focusReason:s.value});e("focusout-prevented",q),q.defaultPrevented||v.preventDefault()}}};bi(nY,{focusTrapRef:r,onKeydown:a}),Yt(()=>t.focusTrapEl,v=>{v&&(r.value=v)},{immediate:!0}),Yt([r],([v],[p])=>{v&&(v.addEventListener("keydown",a),v.addEventListener("focusin",d),v.addEventListener("focusout",f)),p&&(p.removeEventListener("keydown",a),p.removeEventListener("focusin",d),p.removeEventListener("focusout",f))});const l=v=>{e(RN,v)},u=v=>e(MN,v),d=v=>{const p=_(r);if(!p)return;const b=v.target,S=v.relatedTarget,C=b&&p.contains(b);t.trapped||S&&p.contains(S)||(n=S),C&&e("focusin",v),!o.paused&&t.trapped&&(C?i=b:Ih(i,!0))},f=v=>{const p=_(r);if(!(o.paused||!p))if(t.trapped){const b=v.relatedTarget;!Ed(b)&&!p.contains(b)&&setTimeout(()=>{if(!o.paused&&t.trapped){const S=yx({focusReason:s.value});e("focusout-prevented",S),S.defaultPrevented||Ih(i,!0)}},0)}else{const b=v.target;b&&p.contains(b)||e("focusout",v)}};async function h(){await Wr();const v=_(r);if(v){LN.push(o);const p=v.contains(document.activeElement)?n:document.activeElement;if(n=p,!v.contains(p)){const S=new Event(r3,DN);v.addEventListener(r3,l),v.dispatchEvent(S),S.defaultPrevented||Wr(()=>{let C=t.focusStartEl;nn(C)||(Ih(C),document.activeElement!==C&&(C="first")),C==="first"&&O1e(iY(v),!0),(document.activeElement===p||C==="container")&&Ih(v)})}}}function g(){const v=_(r);if(v){v.removeEventListener(r3,l);const p=new CustomEvent(n3,{...DN,detail:{focusReason:s.value}});v.addEventListener(n3,u),v.dispatchEvent(p),!p.defaultPrevented&&(s.value=="keyboard"||!$1e()||v.contains(document.activeElement))&&Ih(n??document.body),v.removeEventListener(n3,u),LN.remove(o)}}return zn(()=>{t.trapped&&h(),Yt(()=>t.trapped,v=>{v?h():g()})}),Bs(()=>{t.trapped&&g(),r.value&&(r.value.removeEventListener("keydown",a),r.value.removeEventListener("focusin",d),r.value.removeEventListener("focusout",f),r.value=void 0)}),{onKeydown:a}}});function N1e(t,e,r,n,i,s){return Ft(t.$slots,"default",{handleKeydown:t.onKeydown})}var uE=Ir(F1e,[["render",N1e],["__file","focus-trap.vue"]]);const B1e=["fixed","absolute"],U1e=kr({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Bt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:vy,default:"bottom"},popperOptions:{type:Bt(Object),default:()=>({})},strategy:{type:String,values:B1e,default:"absolute"}}),sY=kr({...U1e,id:String,style:{type:Bt([String,Array,Object])},className:{type:Bt([String,Array,Object])},effect:{type:Bt(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Bt([String,Array,Object])},popperStyle:{type:Bt([String,Array,Object])},referenceEl:{type:Bt(Object)},triggerTargetEl:{type:Bt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Xf(["ariaLabel"])}),V1e={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},z1e=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:i}=t,s={placement:r,strategy:n,...i,modifiers:[...j1e(t),...e]};return G1e(s,i==null?void 0:i.modifiers),s},H1e=t=>{if(Ln)return ud(t)};function j1e(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function G1e(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const W1e=0,q1e=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:i}=Mr(TO,void 0),s=ve(),o=ve(),a=pe(()=>({name:"eventListeners",enabled:!!t.visible})),l=pe(()=>{var S;const C=_(s),T=(S=_(o))!=null?S:W1e;return{name:"arrow",enabled:!oX(C),options:{element:C,padding:T}}}),u=pe(()=>({onFirstUpdate:()=>{v()},...z1e(t,[_(l),_(a)])})),d=pe(()=>H1e(t.referenceEl)||_(n)),{attributes:f,state:h,styles:g,update:v,forceUpdate:p,instanceRef:b}=$2e(d,r,u);return Yt(b,S=>e.value=S),zn(()=>{Yt(()=>{var S;return(S=_(d))==null?void 0:S.getBoundingClientRect()},()=>{v()})}),{attributes:f,arrowRef:s,contentRef:r,instanceRef:b,state:h,styles:g,role:i,forceUpdate:p,update:v}},X1e=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:i}=sE(),s=sr("popper"),o=pe(()=>_(e).popper),a=ve(qn(t.zIndex)?t.zIndex:i()),l=pe(()=>[s.b(),s.is("pure",t.pure),s.is(t.effect),t.popperClass]),u=pe(()=>[{zIndex:_(a)},_(r).popper,t.popperStyle||{}]),d=pe(()=>n.value==="dialog"?"false":void 0),f=pe(()=>_(r).arrow||{});return{ariaModal:d,arrowStyle:f,contentAttrs:o,contentClass:l,contentStyle:u,contentZIndex:a,updateZIndex:()=>{a.value=qn(t.zIndex)?t.zIndex:i()}}},Y1e=(t,e)=>{const r=ve(!1),n=ve();return{focusStartRef:n,trapped:r,onFocusAfterReleased:u=>{var d;((d=u.detail)==null?void 0:d.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:u=>{t.visible&&!r.value&&(u.target&&(n.value=u.target),r.value=!0)},onFocusoutPrevented:u=>{t.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},K1e=rt({name:"ElPopperContent"}),Z1e=rt({...K1e,props:sY,emits:V1e,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:i,trapped:s,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:d}=Y1e(n,r),{attributes:f,arrowRef:h,contentRef:g,styles:v,instanceRef:p,role:b,update:S}=q1e(n),{ariaModal:C,arrowStyle:T,contentAttrs:A,contentClass:E,contentStyle:I,updateZIndex:O}=X1e(n,{styles:v,attributes:f,role:b}),N=Mr(ym,void 0),G=ve();bi(QX,{arrowStyle:T,arrowRef:h,arrowOffset:G}),N&&bi(ym,{...N,addInputId:Qn,removeInputId:Qn});let ie;const W=(J=!0)=>{S(),J&&O()},q=()=>{W(!1),n.visible&&n.focusOnShow?s.value=!0:n.visible===!1&&(s.value=!1)};return zn(()=>{Yt(()=>n.triggerTargetEl,(J,X)=>{ie==null||ie(),ie=void 0;const R=_(J||g.value),z=_(X||g.value);Ll(R)&&(ie=Yt([b,()=>n.ariaLabel,C,()=>n.id],re=>{["role","aria-label","aria-modal","id"].forEach((oe,H)=>{Ed(re[H])?R.removeAttribute(oe):R.setAttribute(oe,re[H])})},{immediate:!0})),z!==R&&Ll(z)&&["role","aria-label","aria-modal","id"].forEach(re=>{z.removeAttribute(re)})},{immediate:!0}),Yt(()=>n.visible,q,{immediate:!0})}),Bs(()=>{ie==null||ie(),ie=void 0}),e({popperContentRef:g,popperInstanceRef:p,updatePopper:W,contentStyle:I}),(J,X)=>(me(),$e("div",vo({ref_key:"contentRef",ref:g},_(A),{style:_(I),class:_(E),tabindex:"-1",onMouseenter:R=>J.$emit("mouseenter",R),onMouseleave:R=>J.$emit("mouseleave",R)}),[F(_(uE),{trapped:_(s),"trap-on-focus-in":!0,"focus-trap-el":_(g),"focus-start-el":_(i),onFocusAfterTrapped:_(a),onFocusAfterReleased:_(o),onFocusin:_(l),onFocusoutPrevented:_(u),onReleaseRequested:_(d)},{default:te(()=>[Ft(J.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var Q1e=Ir(Z1e,[["__file","content.vue"]]);const J1e=gi(_1e),cE=Symbol("elTooltip"),dE=kr({...V2e,...sY,appendTo:{type:Bt([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Bt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Xf(["ariaLabel"])}),oY=kr({...rY,disabled:Boolean,trigger:{type:Bt([String,Array]),default:"hover"},triggerKeys:{type:Bt(Array),default:()=>[Zr.enter,Zr.space]}}),{useModelToggleProps:exe,useModelToggleEmits:txe,useModelToggle:rxe}=AX("visible"),nxe=kr({...JX,...exe,...dE,...oY,...eY,showArrow:{type:Boolean,default:!0}}),ixe=[...txe,"before-show","before-hide","show","hide","open","close"],sxe=(t,e)=>lr(t)?t.includes(e):t===e,og=(t,e,r)=>n=>{sxe(_(t),e)&&r(n)},oxe=rt({name:"ElTooltipTrigger"}),axe=rt({...oxe,props:oY,setup(t,{expose:e}){const r=t,n=sr("tooltip"),{controlled:i,id:s,open:o,onOpen:a,onClose:l,onToggle:u}=Mr(cE,void 0),d=ve(null),f=()=>{if(_(i)||r.disabled)return!0},h=ms(r,"trigger"),g=ff(f,og(h,"hover",a)),v=ff(f,og(h,"hover",l)),p=ff(f,og(h,"click",A=>{A.button===0&&u(A)})),b=ff(f,og(h,"focus",a)),S=ff(f,og(h,"focus",l)),C=ff(f,og(h,"contextmenu",A=>{A.preventDefault(),u(A)})),T=ff(f,A=>{const{code:E}=A;r.triggerKeys.includes(E)&&(A.preventDefault(),u(A))});return e({triggerRef:d}),(A,E)=>(me(),Ct(_(A1e),{id:_(s),"virtual-ref":A.virtualRef,open:_(o),"virtual-triggering":A.virtualTriggering,class:Se(_(n).e("trigger")),onBlur:_(S),onClick:_(p),onContextmenu:_(C),onFocus:_(b),onMouseenter:_(g),onMouseleave:_(v),onKeydown:_(T)},{default:te(()=>[Ft(A.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var lxe=Ir(axe,[["__file","trigger.vue"]]);const uxe=kr({to:{type:Bt([String,Object]),required:!0},disabled:Boolean}),cxe=rt({__name:"teleport",props:uxe,setup(t){return(e,r)=>e.disabled?Ft(e.$slots,"default",{key:0}):(me(),Ct(ece,{key:1,to:e.to},[Ft(e.$slots,"default")],8,["to"]))}});var dxe=Ir(cxe,[["__file","teleport.vue"]]);const fE=gi(dxe),fxe=rt({name:"ElTooltipContent",inheritAttrs:!1}),hxe=rt({...fxe,props:dE,setup(t,{expose:e}){const r=t,{selector:n}=VX(),i=sr("tooltip"),s=ve(null);let o;const{controlled:a,id:l,open:u,trigger:d,onClose:f,onOpen:h,onShow:g,onHide:v,onBeforeShow:p,onBeforeHide:b}=Mr(cE,void 0),S=pe(()=>r.transition||`${i.namespace.value}-fade-in-linear`),C=pe(()=>r.persistent);Bs(()=>{o==null||o()});const T=pe(()=>_(C)?!0:_(u)),A=pe(()=>r.disabled?!1:_(u)),E=pe(()=>r.appendTo||n.value),I=pe(()=>{var z;return(z=r.style)!=null?z:{}}),O=ve(!0),N=()=>{v(),O.value=!0},G=()=>{if(_(a))return!0},ie=ff(G,()=>{r.enterable&&_(d)==="hover"&&h()}),W=ff(G,()=>{_(d)==="hover"&&f()}),q=()=>{var z,re;(re=(z=s.value)==null?void 0:z.updatePopper)==null||re.call(z),p==null||p()},J=()=>{b==null||b()},X=()=>{g(),o=Eq(pe(()=>{var z;return(z=s.value)==null?void 0:z.popperContentRef}),()=>{if(_(a))return;_(d)!=="hover"&&f()})},R=()=>{r.virtualTriggering||f()};return Yt(()=>_(u),z=>{z?O.value=!1:o==null||o()},{flush:"post"}),Yt(()=>r.content,()=>{var z,re;(re=(z=s.value)==null?void 0:z.updatePopper)==null||re.call(z)}),e({contentRef:s}),(z,re)=>(me(),Ct(_(fE),{disabled:!z.teleported,to:_(E)},{default:te(()=>[F(xl,{name:_(S),onAfterLeave:N,onBeforeEnter:q,onAfterEnter:X,onBeforeLeave:J},{default:te(()=>[_(T)?wn((me(),Ct(_(Q1e),vo({key:0,id:_(l),ref_key:"contentRef",ref:s},z.$attrs,{"aria-label":z.ariaLabel,"aria-hidden":O.value,"boundaries-padding":z.boundariesPadding,"fallback-placements":z.fallbackPlacements,"gpu-acceleration":z.gpuAcceleration,offset:z.offset,placement:z.placement,"popper-options":z.popperOptions,strategy:z.strategy,effect:z.effect,enterable:z.enterable,pure:z.pure,"popper-class":z.popperClass,"popper-style":[z.popperStyle,_(I)],"reference-el":z.referenceEl,"trigger-target-el":z.triggerTargetEl,visible:_(A),"z-index":z.zIndex,onMouseenter:_(ie),onMouseleave:_(W),onBlur:R,onClose:_(f)}),{default:te(()=>[Ft(z.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Ai,_(A)]]):gt("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var pxe=Ir(hxe,[["__file","content.vue"]]);const mxe=rt({name:"ElTooltip"}),gxe=rt({...mxe,props:nxe,emits:ixe,setup(t,{expose:e,emit:r}){const n=t;U2e();const i=Sc(),s=ve(),o=ve(),a=()=>{var S;const C=_(s);C&&((S=C.popperInstanceRef)==null||S.update())},l=ve(!1),u=ve(),{show:d,hide:f,hasUpdateHandler:h}=rxe({indicator:l,toggleReason:u}),{onOpen:g,onClose:v}=z2e({showAfter:ms(n,"showAfter"),hideAfter:ms(n,"hideAfter"),autoClose:ms(n,"autoClose"),open:d,close:f}),p=pe(()=>yl(n.visible)&&!h.value);bi(cE,{controlled:p,id:i,open:dy(l),trigger:ms(n,"trigger"),onOpen:S=>{g(S)},onClose:S=>{v(S)},onToggle:S=>{_(l)?v(S):g(S)},onShow:()=>{r("show",u.value)},onHide:()=>{r("hide",u.value)},onBeforeShow:()=>{r("before-show",u.value)},onBeforeHide:()=>{r("before-hide",u.value)},updatePopper:a}),Yt(()=>n.disabled,S=>{S&&l.value&&(l.value=!1)});const b=S=>{var C,T;const A=(T=(C=o.value)==null?void 0:C.contentRef)==null?void 0:T.popperContentRef,E=(S==null?void 0:S.relatedTarget)||document.activeElement;return A&&A.contains(E)};return IW(()=>l.value&&f()),e({popperRef:s,contentRef:o,isFocusInsideContent:b,updatePopper:a,onOpen:g,onClose:v,hide:f}),(S,C)=>(me(),Ct(_(J1e),{ref_key:"popperRef",ref:s,role:S.role},{default:te(()=>[F(lxe,{disabled:S.disabled,trigger:S.trigger,"trigger-keys":S.triggerKeys,"virtual-ref":S.virtualRef,"virtual-triggering":S.virtualTriggering},{default:te(()=>[S.$slots.default?Ft(S.$slots,"default",{key:0}):gt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),F(pxe,{ref_key:"contentRef",ref:o,"aria-label":S.ariaLabel,"boundaries-padding":S.boundariesPadding,content:S.content,disabled:S.disabled,effect:S.effect,enterable:S.enterable,"fallback-placements":S.fallbackPlacements,"hide-after":S.hideAfter,"gpu-acceleration":S.gpuAcceleration,offset:S.offset,persistent:S.persistent,"popper-class":S.popperClass,"popper-style":S.popperStyle,placement:S.placement,"popper-options":S.popperOptions,pure:S.pure,"raw-content":S.rawContent,"reference-el":S.referenceEl,"trigger-target-el":S.triggerTargetEl,"show-after":S.showAfter,strategy:S.strategy,teleported:S.teleported,transition:S.transition,"virtual-triggering":S.virtualTriggering,"z-index":S.zIndex,"append-to":S.appendTo},{default:te(()=>[Ft(S.$slots,"content",{},()=>[S.rawContent?(me(),$e("span",{key:0,innerHTML:S.content},null,8,["innerHTML"])):(me(),$e("span",{key:1},cr(S.content),1))]),S.showArrow?(me(),Ct(_(w1e),{key:0,"arrow-offset":S.arrowOffset},null,8,["arrow-offset"])):gt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var vxe=Ir(gxe,[["__file","tooltip.vue"]]);const mp=gi(vxe),yxe=kr({size:{type:[Number,String],values:kp,default:"",validator:t=>qn(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:ro},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Bt(String),default:"cover"}}),_xe={error:t=>t instanceof Event},bxe=rt({name:"ElAvatar"}),xxe=rt({...bxe,props:yxe,emits:_xe,setup(t,{emit:e}){const r=t,n=sr("avatar"),i=ve(!1),s=pe(()=>{const{size:u,icon:d,shape:f}=r,h=[n.b()];return nn(u)&&h.push(n.m(u)),d&&h.push(n.m("icon")),f&&h.push(n.m(f)),h}),o=pe(()=>{const{size:u}=r;return qn(u)?n.cssVarBlock({size:Du(u)||""}):void 0}),a=pe(()=>({objectFit:r.fit}));Yt(()=>r.src,()=>i.value=!1);function l(u){i.value=!0,e("error",u)}return(u,d)=>(me(),$e("span",{class:Se(_(s)),style:dn(_(o))},[(u.src||u.srcSet)&&!i.value?(me(),$e("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:dn(_(a)),onError:l},null,44,["src","alt","srcset"])):u.icon?(me(),Ct(_(Rr),{key:1},{default:te(()=>[(me(),Ct(_i(u.icon)))]),_:1})):Ft(u.$slots,"default",{key:2})],6))}});var wxe=Ir(xxe,[["__file","avatar.vue"]]);const Sxe=gi(wxe),Txe=kr({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Bt([String,Object,Array])},offset:{type:Bt(Array),default:[0,0]},badgeClass:{type:String}}),Cxe=rt({name:"ElBadge"}),Exe=rt({...Cxe,props:Txe,setup(t,{expose:e}){const r=t,n=sr("badge"),i=pe(()=>r.isDot?"":qn(r.value)&&qn(r.max)?r.max<r.value?`${r.max}+`:r.value===0&&!r.showZero?"":`${r.value}`:`${r.value}`),s=pe(()=>{var o,a,l,u,d;return[{backgroundColor:r.color,marginRight:Du(-((a=(o=r.offset)==null?void 0:o[0])!=null?a:0)),marginTop:Du((u=(l=r.offset)==null?void 0:l[1])!=null?u:0)},(d=r.badgeStyle)!=null?d:{}]});return e({content:i}),(o,a)=>(me(),$e("div",{class:Se(_(n).b())},[Ft(o.$slots,"default"),F(xl,{name:`${_(n).namespace.value}-zoom-in-center`,persisted:""},{default:te(()=>[wn(Ue("sup",{class:Se([_(n).e("content"),_(n).em("content",o.type),_(n).is("fixed",!!o.$slots.default),_(n).is("dot",o.isDot),o.badgeClass]),style:dn(_(s)),textContent:cr(_(i))},null,14,["textContent"]),[[Ai,!o.hidden&&(_(i)||o.isDot)]])]),_:1},8,["name"])],2))}});var Axe=Ir(Exe,[["__file","badge.vue"]]);const aY=gi(Axe),lY=Symbol("buttonGroupContextKey"),Pxe=(t,e)=>{ep({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},pe(()=>t.type==="text"));const r=Mr(lY,void 0),n=oE("button"),{form:i}=$d(),s=Ou(pe(()=>r==null?void 0:r.size)),o=Yf(),a=ve(),l=bl(),u=pe(()=>t.type||(r==null?void 0:r.type)||""),d=pe(()=>{var v,p,b;return(b=(p=t.autoInsertSpace)!=null?p:(v=n.value)==null?void 0:v.autoInsertSpace)!=null?b:!1}),f=pe(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),h=pe(()=>{var v;const p=(v=l.default)==null?void 0:v.call(l);if(d.value&&(p==null?void 0:p.length)===1){const b=p[0];if((b==null?void 0:b.type)===hy){const S=b.children;return/^\p{Unified_Ideograph}{2}$/u.test(S.trim())}}return!1});return{_disabled:o,_size:s,_type:u,_ref:a,_props:f,shouldAddSpace:h,handleClick:v=>{if(o.value||t.loading){v.stopPropagation();return}t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",v)}}},kxe=["default","primary","success","warning","info","danger","text",""],Ixe=["button","submit","reset"],Bk=kr({size:Ac,disabled:Boolean,type:{type:String,values:kxe,default:""},icon:{type:ro},nativeType:{type:String,values:Ixe,default:"button"},loading:Boolean,loadingIcon:{type:ro,default:()=>vm},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Bt([String,Object]),default:"button"}}),Dxe={click:t=>t instanceof MouseEvent};function Qo(t,e){Rxe(t)&&(t="100%");var r=Mxe(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function _x(t){return Math.min(1,Math.max(0,t))}function Rxe(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Mxe(t){return typeof t=="string"&&t.indexOf("%")!==-1}function uY(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function bx(t){return t<=1?"".concat(Number(t)*100,"%"):t}function F0(t){return t.length===1?"0"+t:String(t)}function Oxe(t,e,r){return{r:Qo(t,255)*255,g:Qo(e,255)*255,b:Qo(r,255)*255}}function NN(t,e,r){t=Qo(t,255),e=Qo(e,255),r=Qo(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s=0,o=0,a=(n+i)/2;if(n===i)o=0,s=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function i3(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function $xe(t,e,r){var n,i,s;if(t=Qo(t,360),e=Qo(e,100),r=Qo(r,100),e===0)i=r,s=r,n=r;else{var o=r<.5?r*(1+e):r+e-r*e,a=2*r-o;n=i3(a,o,t+1/3),i=i3(a,o,t),s=i3(a,o,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function BN(t,e,r){t=Qo(t,255),e=Qo(e,255),r=Qo(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s=0,o=n,a=n-i,l=n===0?0:a/n;if(n===i)s=0;else{switch(n){case t:s=(e-r)/a+(e<r?6:0);break;case e:s=(r-t)/a+2;break;case r:s=(t-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function Lxe(t,e,r){t=Qo(t,360)*6,e=Qo(e,100),r=Qo(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),o=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,u=[r,o,s,s,a,r][l],d=[a,r,r,o,s,s][l],f=[s,s,a,r,r,o][l];return{r:u*255,g:d*255,b:f*255}}function UN(t,e,r,n){var i=[F0(Math.round(t).toString(16)),F0(Math.round(e).toString(16)),F0(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Fxe(t,e,r,n,i){var s=[F0(Math.round(t).toString(16)),F0(Math.round(e).toString(16)),F0(Math.round(r).toString(16)),F0(Nxe(n))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Nxe(t){return Math.round(parseFloat(t)*255).toString(16)}function VN(t){return kl(t)/255}function kl(t){return parseInt(t,16)}function Bxe(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Uk={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Uxe(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Hxe(t)),typeof t=="object"&&(Jd(t.r)&&Jd(t.g)&&Jd(t.b)?(e=Oxe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Jd(t.h)&&Jd(t.s)&&Jd(t.v)?(n=bx(t.s),i=bx(t.v),e=Lxe(t.h,n,i),o=!0,a="hsv"):Jd(t.h)&&Jd(t.s)&&Jd(t.l)&&(n=bx(t.s),s=bx(t.l),e=$xe(t.h,n,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=uY(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var Vxe="[-\\+]?\\d+%?",zxe="[-\\+]?\\d*\\.\\d+%?",Xh="(?:".concat(zxe,")|(?:").concat(Vxe,")"),s3="[\\s|\\(]+(".concat(Xh,")[,|\\s]+(").concat(Xh,")[,|\\s]+(").concat(Xh,")\\s*\\)?"),o3="[\\s|\\(]+(".concat(Xh,")[,|\\s]+(").concat(Xh,")[,|\\s]+(").concat(Xh,")[,|\\s]+(").concat(Xh,")\\s*\\)?"),ec={CSS_UNIT:new RegExp(Xh),rgb:new RegExp("rgb"+s3),rgba:new RegExp("rgba"+o3),hsl:new RegExp("hsl"+s3),hsla:new RegExp("hsla"+o3),hsv:new RegExp("hsv"+s3),hsva:new RegExp("hsva"+o3),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Hxe(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Uk[t])t=Uk[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=ec.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=ec.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ec.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=ec.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ec.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=ec.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ec.hex8.exec(t),r?{r:kl(r[1]),g:kl(r[2]),b:kl(r[3]),a:VN(r[4]),format:e?"name":"hex8"}:(r=ec.hex6.exec(t),r?{r:kl(r[1]),g:kl(r[2]),b:kl(r[3]),format:e?"name":"hex"}:(r=ec.hex4.exec(t),r?{r:kl(r[1]+r[1]),g:kl(r[2]+r[2]),b:kl(r[3]+r[3]),a:VN(r[4]+r[4]),format:e?"name":"hex8"}:(r=ec.hex3.exec(t),r?{r:kl(r[1]+r[1]),g:kl(r[2]+r[2]),b:kl(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Jd(t){return!!ec.CSS_UNIT.exec(String(t))}var cY=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=Bxe(e)),this.originalInput=e;var i=Uxe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=uY(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=BN(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=BN(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=NN(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=NN(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),UN(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),Fxe(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(Qo(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(Qo(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+UN(this.r,this.g,this.b,!1),r=0,n=Object.entries(Uk);r<n.length;r++){var i=n[r],s=i[0],o=i[1];if(e===o)return s}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,i=this.a<1&&this.a>=0,s=!r&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=_x(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=_x(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=_x(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=_x(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),i=new t(e).toRgb(),s=r/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return new t(o)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,s=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(new t(n));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(new t({h:n,s:i,v:s})),s=(s+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),i=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new t({h:(n+o*s)%360,s:r.s,l:r.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function mh(t,e=20){return t.mix("#141414",e).toString()}function jxe(t){const e=Yf(),r=sr("button");return pe(()=>{let n={},i=t.color;if(i){const s=i.match(/var\((.*?)\)/);s&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(s[1]));const o=new cY(i),a=t.dark?o.tint(20).toString():mh(o,20);if(t.plain)n=r.cssVarBlock({"bg-color":t.dark?mh(o,90):o.tint(90).toString(),"text-color":i,"border-color":t.dark?mh(o,50):o.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":a,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":a}),e.value&&(n[r.cssVarBlockName("disabled-bg-color")]=t.dark?mh(o,90):o.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=t.dark?mh(o,50):o.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=t.dark?mh(o,80):o.tint(80).toString());else{const l=t.dark?mh(o,30):o.tint(30).toString(),u=o.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":a,"active-border-color":a}),e.value){const d=t.dark?mh(o,50):o.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=d,n[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=d}}}return n})}const Gxe=rt({name:"ElButton"}),Wxe=rt({...Gxe,props:Bk,emits:Dxe,setup(t,{expose:e,emit:r}){const n=t,i=jxe(n),s=sr("button"),{_ref:o,_size:a,_type:l,_disabled:u,_props:d,shouldAddSpace:f,handleClick:h}=Pxe(n,r),g=pe(()=>[s.b(),s.m(l.value),s.m(a.value),s.is("disabled",u.value),s.is("loading",n.loading),s.is("plain",n.plain),s.is("round",n.round),s.is("circle",n.circle),s.is("text",n.text),s.is("link",n.link),s.is("has-bg",n.bg)]);return e({ref:o,size:a,type:l,disabled:u,shouldAddSpace:f}),(v,p)=>(me(),Ct(_i(v.tag),vo({ref_key:"_ref",ref:o},_(d),{class:_(g),style:_(i),onClick:_(h)}),{default:te(()=>[v.loading?(me(),$e(Sr,{key:0},[v.$slots.loading?Ft(v.$slots,"loading",{key:0}):(me(),Ct(_(Rr),{key:1,class:Se(_(s).is("loading"))},{default:te(()=>[(me(),Ct(_i(v.loadingIcon)))]),_:1},8,["class"]))],64)):v.icon||v.$slots.icon?(me(),Ct(_(Rr),{key:1},{default:te(()=>[v.icon?(me(),Ct(_i(v.icon),{key:0})):Ft(v.$slots,"icon",{key:1})]),_:3})):gt("v-if",!0),v.$slots.default?(me(),$e("span",{key:2,class:Se({[_(s).em("text","expand")]:_(f)})},[Ft(v.$slots,"default")],2)):gt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var qxe=Ir(Wxe,[["__file","button.vue"]]);const Xxe={size:Bk.size,type:Bk.type},Yxe=rt({name:"ElButtonGroup"}),Kxe=rt({...Yxe,props:Xxe,setup(t){const e=t;bi(lY,an({size:ms(e,"size"),type:ms(e,"type")}));const r=sr("button");return(n,i)=>(me(),$e("div",{class:Se(_(r).b("group"))},[Ft(n.$slots,"default")],2))}});var dY=Ir(Kxe,[["__file","button-group.vue"]]);const Bn=gi(qxe,{ButtonGroup:dY});No(dY);var yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var hY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",d="week",f="month",h="quarter",g="year",v="date",p="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(X){var R=["th","st","nd","rd"],z=X%100;return"["+X+(R[(z-20)%10]||R[z]||R[0])+"]"}},T=function(X,R,z){var re=String(X);return!re||re.length>=R?X:""+Array(R+1-re.length).join(z)+X},A={s:T,z:function(X){var R=-X.utcOffset(),z=Math.abs(R),re=Math.floor(z/60),oe=z%60;return(R<=0?"+":"-")+T(re,2,"0")+":"+T(oe,2,"0")},m:function X(R,z){if(R.date()<z.date())return-X(z,R);var re=12*(z.year()-R.year())+(z.month()-R.month()),oe=R.clone().add(re,f),H=z-oe<0,ee=R.clone().add(re+(H?-1:1),f);return+(-(re+(z-oe)/(H?oe-ee:ee-oe))||0)},a:function(X){return X<0?Math.ceil(X)||0:Math.floor(X)},p:function(X){return{M:f,y:g,w:d,d:u,D:v,h:l,m:a,s:o,ms:s,Q:h}[X]||String(X||"").toLowerCase().replace(/s$/,"")},u:function(X){return X===void 0}},E="en",I={};I[E]=C;var O="$isDayjsObject",N=function(X){return X instanceof q||!(!X||!X[O])},G=function X(R,z,re){var oe;if(!R)return E;if(typeof R=="string"){var H=R.toLowerCase();I[H]&&(oe=H),z&&(I[H]=z,oe=H);var ee=R.split("-");if(!oe&&ee.length>1)return X(ee[0])}else{var ae=R.name;I[ae]=R,oe=ae}return!re&&oe&&(E=oe),oe||!re&&E},ie=function(X,R){if(N(X))return X.clone();var z=typeof R=="object"?R:{};return z.date=X,z.args=arguments,new q(z)},W=A;W.l=G,W.i=N,W.w=function(X,R){return ie(X,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var q=function(){function X(z){this.$L=G(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[O]=!0}var R=X.prototype;return R.parse=function(z){this.$d=function(re){var oe=re.date,H=re.utc;if(oe===null)return new Date(NaN);if(W.u(oe))return new Date;if(oe instanceof Date)return new Date(oe);if(typeof oe=="string"&&!/Z$/i.test(oe)){var ee=oe.match(b);if(ee){var ae=ee[2]-1||0,be=(ee[7]||"0").substring(0,3);return H?new Date(Date.UTC(ee[1],ae,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,be)):new Date(ee[1],ae,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,be)}}return new Date(oe)}(z),this.init()},R.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},R.$utils=function(){return W},R.isValid=function(){return this.$d.toString()!==p},R.isSame=function(z,re){var oe=ie(z);return this.startOf(re)<=oe&&oe<=this.endOf(re)},R.isAfter=function(z,re){return ie(z)<this.startOf(re)},R.isBefore=function(z,re){return this.endOf(re)<ie(z)},R.$g=function(z,re,oe){return W.u(z)?this[re]:this.set(oe,z)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(z,re){var oe=this,H=!!W.u(re)||re,ee=W.p(z),ae=function(ct,mt){var jt=W.w(oe.$u?Date.UTC(oe.$y,mt,ct):new Date(oe.$y,mt,ct),oe);return H?jt:jt.endOf(u)},be=function(ct,mt){return W.w(oe.toDate()[ct].apply(oe.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(mt)),oe)},Me=this.$W,Qe=this.$M,ht=this.$D,je="set"+(this.$u?"UTC":"");switch(ee){case g:return H?ae(1,0):ae(31,11);case f:return H?ae(1,Qe):ae(0,Qe+1);case d:var ze=this.$locale().weekStart||0,ut=(Me<ze?Me+7:Me)-ze;return ae(H?ht-ut:ht+(6-ut),Qe);case u:case v:return be(je+"Hours",0);case l:return be(je+"Minutes",1);case a:return be(je+"Seconds",2);case o:return be(je+"Milliseconds",3);default:return this.clone()}},R.endOf=function(z){return this.startOf(z,!1)},R.$set=function(z,re){var oe,H=W.p(z),ee="set"+(this.$u?"UTC":""),ae=(oe={},oe[u]=ee+"Date",oe[v]=ee+"Date",oe[f]=ee+"Month",oe[g]=ee+"FullYear",oe[l]=ee+"Hours",oe[a]=ee+"Minutes",oe[o]=ee+"Seconds",oe[s]=ee+"Milliseconds",oe)[H],be=H===u?this.$D+(re-this.$W):re;if(H===f||H===g){var Me=this.clone().set(v,1);Me.$d[ae](be),Me.init(),this.$d=Me.set(v,Math.min(this.$D,Me.daysInMonth())).$d}else ae&&this.$d[ae](be);return this.init(),this},R.set=function(z,re){return this.clone().$set(z,re)},R.get=function(z){return this[W.p(z)]()},R.add=function(z,re){var oe,H=this;z=Number(z);var ee=W.p(re),ae=function(Qe){var ht=ie(H);return W.w(ht.date(ht.date()+Math.round(Qe*z)),H)};if(ee===f)return this.set(f,this.$M+z);if(ee===g)return this.set(g,this.$y+z);if(ee===u)return ae(1);if(ee===d)return ae(7);var be=(oe={},oe[a]=n,oe[l]=i,oe[o]=r,oe)[ee]||1,Me=this.$d.getTime()+z*be;return W.w(Me,this)},R.subtract=function(z,re){return this.add(-1*z,re)},R.format=function(z){var re=this,oe=this.$locale();if(!this.isValid())return oe.invalidDate||p;var H=z||"YYYY-MM-DDTHH:mm:ssZ",ee=W.z(this),ae=this.$H,be=this.$m,Me=this.$M,Qe=oe.weekdays,ht=oe.months,je=oe.meridiem,ze=function(mt,jt,vt,se){return mt&&(mt[jt]||mt(re,H))||vt[jt].slice(0,se)},ut=function(mt){return W.s(ae%12||12,mt,"0")},ct=je||function(mt,jt,vt){var se=mt<12?"AM":"PM";return vt?se.toLowerCase():se};return H.replace(S,function(mt,jt){return jt||function(vt){switch(vt){case"YY":return String(re.$y).slice(-2);case"YYYY":return W.s(re.$y,4,"0");case"M":return Me+1;case"MM":return W.s(Me+1,2,"0");case"MMM":return ze(oe.monthsShort,Me,ht,3);case"MMMM":return ze(ht,Me);case"D":return re.$D;case"DD":return W.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return ze(oe.weekdaysMin,re.$W,Qe,2);case"ddd":return ze(oe.weekdaysShort,re.$W,Qe,3);case"dddd":return Qe[re.$W];case"H":return String(ae);case"HH":return W.s(ae,2,"0");case"h":return ut(1);case"hh":return ut(2);case"a":return ct(ae,be,!0);case"A":return ct(ae,be,!1);case"m":return String(be);case"mm":return W.s(be,2,"0");case"s":return String(re.$s);case"ss":return W.s(re.$s,2,"0");case"SSS":return W.s(re.$ms,3,"0");case"Z":return ee}return null}(mt)||ee.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(z,re,oe){var H,ee=this,ae=W.p(re),be=ie(z),Me=(be.utcOffset()-this.utcOffset())*n,Qe=this-be,ht=function(){return W.m(ee,be)};switch(ae){case g:H=ht()/12;break;case f:H=ht();break;case h:H=ht()/3;break;case d:H=(Qe-Me)/6048e5;break;case u:H=(Qe-Me)/864e5;break;case l:H=Qe/i;break;case a:H=Qe/n;break;case o:H=Qe/r;break;default:H=Qe}return oe?H:W.a(H)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return I[this.$L]},R.locale=function(z,re){if(!z)return this.$L;var oe=this.clone(),H=G(z,re,!0);return H&&(oe.$L=H),oe},R.clone=function(){return W.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},X}(),J=q.prototype;return ie.prototype=J,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",f],["$y",g],["$D",v]].forEach(function(X){J[X[1]]=function(R){return this.$g(R,X[0],X[1])}}),ie.extend=function(X,R){return X.$i||(X(R,q,ie),X.$i=!0),ie},ie.locale=G,ie.isDayjs=N,ie.unix=function(X){return ie(1e3*X)},ie.en=I[E],ie.Ls=I,ie.p={},ie})})(hY);var Zxe=hY.exports;const $r=oo(Zxe);var pY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},u=function(b){return(b=+b)+(b>68?1900:2e3)},d=function(b){return function(S){this[b]=+S}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(S){if(!S||S==="Z")return 0;var C=S.match(/([+-]|\d\d)/g),T=60*C[1]+(+C[2]||0);return T===0?0:C[0]==="+"?-T:T}(b)}],h=function(b){var S=l[b];return S&&(S.indexOf?S:S.s.concat(S.f))},g=function(b,S){var C,T=l.meridiem;if(T){for(var A=1;A<=24;A+=1)if(b.indexOf(T(A,0,S))>-1){C=A>12;break}}else C=b===(S?"pm":"PM");return C},v={A:[a,function(b){this.afternoon=g(b,!1)}],a:[a,function(b){this.afternoon=g(b,!0)}],Q:[i,function(b){this.month=3*(b-1)+1}],S:[i,function(b){this.milliseconds=100*+b}],SS:[s,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[o,d("seconds")],ss:[o,d("seconds")],m:[o,d("minutes")],mm:[o,d("minutes")],H:[o,d("hours")],h:[o,d("hours")],HH:[o,d("hours")],hh:[o,d("hours")],D:[o,d("day")],DD:[s,d("day")],Do:[a,function(b){var S=l.ordinal,C=b.match(/\d+/);if(this.day=C[0],S)for(var T=1;T<=31;T+=1)S(T).replace(/\[|\]/g,"")===b&&(this.day=T)}],w:[o,d("week")],ww:[s,d("week")],M:[o,d("month")],MM:[s,d("month")],MMM:[a,function(b){var S=h("months"),C=(h("monthsShort")||S.map(function(T){return T.slice(0,3)})).indexOf(b)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[a,function(b){var S=h("months").indexOf(b)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,d("year")],YY:[s,function(b){this.year=u(b)}],YYYY:[/\d{4}/,d("year")],Z:f,ZZ:f};function p(b){var S,C;S=b,C=l&&l.formats;for(var T=(b=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ie,W,q){var J=q&&q.toUpperCase();return W||C[q]||r[q]||C[J].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(X,R,z){return R||z.slice(1)})})).match(n),A=T.length,E=0;E<A;E+=1){var I=T[E],O=v[I],N=O&&O[0],G=O&&O[1];T[E]=G?{regex:N,parser:G}:I.replace(/^\[|\]$/g,"")}return function(ie){for(var W={},q=0,J=0;q<A;q+=1){var X=T[q];if(typeof X=="string")J+=X.length;else{var R=X.regex,z=X.parser,re=ie.slice(J),oe=R.exec(re)[0];z.call(W,oe),ie=ie.replace(oe,"")}}return function(H){var ee=H.afternoon;if(ee!==void 0){var ae=H.hours;ee?ae<12&&(H.hours+=12):ae===12&&(H.hours=0),delete H.afternoon}}(W),W}}return function(b,S,C){C.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(u=b.parseTwoDigitYear);var T=S.prototype,A=T.parse;T.parse=function(E){var I=E.date,O=E.utc,N=E.args;this.$u=O;var G=N[1];if(typeof G=="string"){var ie=N[2]===!0,W=N[3]===!0,q=ie||W,J=N[2];W&&(J=N[2]),l=this.$locale(),!ie&&J&&(l=C.Ls[J]),this.$d=function(re,oe,H,ee){try{if(["x","X"].indexOf(oe)>-1)return new Date((oe==="X"?1e3:1)*re);var ae=p(oe)(re),be=ae.year,Me=ae.month,Qe=ae.day,ht=ae.hours,je=ae.minutes,ze=ae.seconds,ut=ae.milliseconds,ct=ae.zone,mt=ae.week,jt=new Date,vt=Qe||(be||Me?1:jt.getDate()),se=be||jt.getFullYear(),Pe=0;be&&!Me||(Pe=Me>0?Me-1:jt.getMonth());var tt,et=ht||0,ot=je||0,St=ze||0,Dt=ut||0;return ct?new Date(Date.UTC(se,Pe,vt,et,ot,St,Dt+60*ct.offset*1e3)):H?new Date(Date.UTC(se,Pe,vt,et,ot,St,Dt)):(tt=new Date(se,Pe,vt,et,ot,St,Dt),mt&&(tt=ee(tt).week(mt).toDate()),tt)}catch{return new Date("")}}(I,G,O,C),this.init(),J&&J!==!0&&(this.$L=this.locale(J).$L),q&&I!=this.format(G)&&(this.$d=new Date("")),l={}}else if(G instanceof Array)for(var X=G.length,R=1;R<=X;R+=1){N[1]=G[R-1];var z=C.apply(this,N);if(z.isValid()){this.$d=z.$d,this.$L=z.$L,this.init();break}R===X&&(this.$d=new Date(""))}else A.call(this,E)}}})})(pY);var Qxe=pY.exports;const Jxe=oo(Qxe),zN=["hours","minutes","seconds"],HN="HH:mm:ss",Ig="YYYY-MM-DD",ewe={date:Ig,dates:Ig,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${Ig} ${HN}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Ig,datetimerange:`${Ig} ${HN}`},a3=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],mY=t=>Array.from(Array.from({length:t}).keys()),gY=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),vY=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),jN=function(t,e){const r=qS(t),n=qS(e);return r&&n?t.getTime()===e.getTime():!r&&!n?t===e:!1},GN=function(t,e){const r=lr(t),n=lr(e);return r&&n?t.length!==e.length?!1:t.every((i,s)=>jN(i,e[s])):!r&&!n?jN(t,e):!1},WN=function(t,e,r){const n=hu(e)||e==="x"?$r(t).locale(r):$r(t,e).locale(r);return n.isValid()?n:void 0},qN=function(t,e,r){return hu(e)?t:e==="x"?+t:$r(t).locale(r).format(e)},l3=(t,e)=>{var r;const n=[],i=e==null?void 0:e();for(let s=0;s<t;s++)n.push((r=i==null?void 0:i.includes(s))!=null?r:!1);return n},yY=kr({disabledHours:{type:Bt(Function)},disabledMinutes:{type:Bt(Function)},disabledSeconds:{type:Bt(Function)}}),twe=kr({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),_Y=kr({id:{type:Bt([Array,String])},name:{type:Bt([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Bt([String,Object]),default:gy},editable:{type:Boolean,default:!0},prefixIcon:{type:Bt([String,Object]),default:""},size:Ac,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Bt(Object),default:()=>({})},modelValue:{type:Bt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Bt([Date,Array])},defaultTime:{type:Bt([Date,Array])},isRange:Boolean,...yY,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Bt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Bt(String),values:vy,default:"bottom"},fallbackPlacements:{type:Bt(Array),default:["bottom","top","right","left"]},...xO,...Xf(["ariaLabel"])}),rwe=rt({name:"Picker"}),nwe=rt({...rwe,props:_Y,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:r}){const n=t,i=fy(),{lang:s}=Si(),o=sr("date"),a=sr("input"),l=sr("range"),{form:u,formItem:d}=$d(),f=Mr("ElPopperOptions",{}),{valueOnClear:h}=wO(n,null),g=ve(),v=ve(),p=ve(!1),b=ve(!1),S=ve(null);let C=!1,T=!1;const A=pe(()=>[o.b("editor"),o.bm("editor",n.type),a.e("wrapper"),o.is("disabled",Me.value),o.is("active",p.value),l.b("editor"),_t?l.bm("editor",_t.value):"",i.class]),E=pe(()=>[a.e("icon"),l.e("close-icon"),vt.value?"":l.e("close-icon--hidden")]);Yt(p,c=>{c?Wr(()=>{c&&(S.value=n.modelValue)}):(kt.value=null,Wr(()=>{I(n.modelValue)}))});const I=(c,$t)=>{($t||!GN(c,S.value))&&(r("change",c),n.validateEvent&&(d==null||d.validate("change").catch(ur=>void 0)))},O=c=>{if(!GN(n.modelValue,c)){let $t;lr(c)?$t=c.map(ur=>qN(ur,n.valueFormat,s.value)):c&&($t=qN(c,n.valueFormat,s.value)),r("update:modelValue",c&&$t,s.value)}},N=c=>{r("keydown",c)},G=pe(()=>{if(v.value){const c=Dt.value?v.value:v.value.$el;return Array.from(c.querySelectorAll("input"))}return[]}),ie=(c,$t,ur)=>{const he=G.value;he.length&&(!ur||ur==="min"?(he[0].setSelectionRange(c,$t),he[0].focus()):ur==="max"&&(he[1].setSelectionRange(c,$t),he[1].focus()))},W=()=>{H(!0,!0),Wr(()=>{T=!1})},q=(c="",$t=!1)=>{$t||(T=!0),p.value=$t;let ur;lr(c)?ur=c.map(he=>he.toDate()):ur=c&&c.toDate(),kt.value=null,O(ur)},J=()=>{b.value=!0},X=()=>{r("visible-change",!0)},R=c=>{(c==null?void 0:c.key)===Zr.esc&&H(!0,!0)},z=()=>{b.value=!1,p.value=!1,T=!1,r("visible-change",!1)},re=()=>{p.value=!0},oe=()=>{p.value=!1},H=(c=!0,$t=!1)=>{T=$t;const[ur,he]=_(G);let w=ur;!c&&Dt.value&&(w=he),w&&w.focus()},ee=c=>{n.readonly||Me.value||p.value||T||(p.value=!0,r("focus",c))};let ae;const be=c=>{const $t=async()=>{setTimeout(()=>{var ur;ae===$t&&(!((ur=g.value)!=null&&ur.isFocusInsideContent()&&!C)&&G.value.filter(he=>he.contains(document.activeElement)).length===0&&(yt(),p.value=!1,r("blur",c),n.validateEvent&&(d==null||d.validate("blur").catch(he=>void 0))),C=!1)},0)};ae=$t,$t()},Me=pe(()=>n.disabled||(u==null?void 0:u.disabled)),Qe=pe(()=>{let c;if(Pe.value?Ee.value.getDefaultValue&&(c=Ee.value.getDefaultValue()):lr(n.modelValue)?c=n.modelValue.map($t=>WN($t,n.valueFormat,s.value)):c=WN(n.modelValue,n.valueFormat,s.value),Ee.value.getRangeAvailableTime){const $t=Ee.value.getRangeAvailableTime(c);$l($t,c)||(c=$t,Pe.value||O(lr(c)?c.map(ur=>ur.toDate()):c.toDate()))}return lr(c)&&c.some($t=>!$t)&&(c=[]),c}),ht=pe(()=>{if(!Ee.value.panelReady)return"";const c=Er(Qe.value);return lr(kt.value)?[kt.value[0]||c&&c[0]||"",kt.value[1]||c&&c[1]||""]:kt.value!==null?kt.value:!ze.value&&Pe.value||!p.value&&Pe.value?"":c?ut.value||ct.value||mt.value?c.join(", "):c:""}),je=pe(()=>n.type.includes("time")),ze=pe(()=>n.type.startsWith("time")),ut=pe(()=>n.type==="dates"),ct=pe(()=>n.type==="months"),mt=pe(()=>n.type==="years"),jt=pe(()=>n.prefixIcon||(je.value?gye:lye)),vt=ve(!1),se=c=>{n.readonly||Me.value||(vt.value&&(c.stopPropagation(),W(),Ee.value.handleClear?Ee.value.handleClear():O(h.value),I(h.value,!0),vt.value=!1,z()),r("clear"))},Pe=pe(()=>{const{modelValue:c}=n;return!c||lr(c)&&!c.filter(Boolean).length}),tt=async c=>{var $t;n.readonly||Me.value||((($t=c.target)==null?void 0:$t.tagName)!=="INPUT"||G.value.includes(document.activeElement))&&(p.value=!0)},et=()=>{n.readonly||Me.value||!Pe.value&&n.clearable&&(vt.value=!0)},ot=()=>{vt.value=!1},St=c=>{var $t;n.readonly||Me.value||((($t=c.touches[0].target)==null?void 0:$t.tagName)!=="INPUT"||G.value.includes(document.activeElement))&&(p.value=!0)},Dt=pe(()=>n.type.includes("range")),_t=Ou(),Kt=pe(()=>{var c,$t;return($t=(c=_(g))==null?void 0:c.popperRef)==null?void 0:$t.contentRef}),Ut=pe(()=>{var c;return _(Dt)?_(v):(c=_(v))==null?void 0:c.$el}),lt=Eq(Ut,c=>{const $t=_(Kt),ur=_(Ut);$t&&(c.target===$t||c.composedPath().includes($t))||c.target===ur||c.composedPath().includes(ur)||(p.value=!1)});Bs(()=>{lt==null||lt()});const kt=ve(null),yt=()=>{if(kt.value){const c=Pt(ht.value);c&&zt(c)&&(O(lr(c)?c.map($t=>$t.toDate()):c.toDate()),kt.value=null)}kt.value===""&&(O(h.value),I(h.value),kt.value=null)},Pt=c=>c?Ee.value.parseUserInput(c):null,Er=c=>c?Ee.value.formatToString(c):null,zt=c=>Ee.value.isValidValue(c),xr=async c=>{if(n.readonly||Me.value)return;const{code:$t}=c;if(N(c),$t===Zr.esc){p.value===!0&&(p.value=!1,c.preventDefault(),c.stopPropagation());return}if($t===Zr.down&&(Ee.value.handleFocusPicker&&(c.preventDefault(),c.stopPropagation()),p.value===!1&&(p.value=!0,await Wr()),Ee.value.handleFocusPicker)){Ee.value.handleFocusPicker();return}if($t===Zr.tab){C=!0;return}if($t===Zr.enter||$t===Zr.numpadEnter){(kt.value===null||kt.value===""||zt(Pt(ht.value)))&&(yt(),p.value=!1),c.stopPropagation();return}if(kt.value){c.stopPropagation();return}Ee.value.handleKeydownInput&&Ee.value.handleKeydownInput(c)},Ot=c=>{kt.value=c,p.value||(p.value=!0)},Re=c=>{const $t=c.target;kt.value?kt.value=[$t.value,kt.value[1]]:kt.value=[$t.value,null]},Ie=c=>{const $t=c.target;kt.value?kt.value=[kt.value[0],$t.value]:kt.value=[null,$t.value]},nt=()=>{var c;const $t=kt.value,ur=Pt($t&&$t[0]),he=_(Qe);if(ur&&ur.isValid()){kt.value=[Er(ur),((c=ht.value)==null?void 0:c[1])||null];const w=[ur,he&&(he[1]||null)];zt(w)&&(O(w),kt.value=null)}},le=()=>{var c;const $t=_(kt),ur=Pt($t&&$t[1]),he=_(Qe);if(ur&&ur.isValid()){kt.value=[((c=_(ht))==null?void 0:c[0])||null,Er(ur)];const w=[he&&he[0],ur];zt(w)&&(O(w),kt.value=null)}},Ee=ve({}),Fe=c=>{Ee.value[c[0]]=c[1],Ee.value.panelReady=!0},He=c=>{r("calendar-change",c)},Ar=(c,$t,ur)=>{r("panel-change",c,$t,ur)};return bi("EP_PICKER_BASE",{props:n}),e({focus:H,handleFocusInput:ee,handleBlurInput:be,handleOpen:re,handleClose:oe,onPick:q}),(c,$t)=>(me(),Ct(_(mp),vo({ref_key:"refPopper",ref:g,visible:p.value,effect:"light",pure:"",trigger:"click"},c.$attrs,{role:"dialog",teleported:"",transition:`${_(o).namespace.value}-zoom-in-top`,"popper-class":[`${_(o).namespace.value}-picker__popper`,c.popperClass],"popper-options":_(f),"fallback-placements":c.fallbackPlacements,"gpu-acceleration":!1,placement:c.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:J,onShow:X,onHide:z}),{default:te(()=>[_(Dt)?(me(),$e("div",{key:1,ref_key:"inputRef",ref:v,class:Se(_(A)),style:dn(c.$attrs.style),onClick:ee,onMouseenter:et,onMouseleave:ot,onTouchstartPassive:St,onKeydown:xr},[_(jt)?(me(),Ct(_(Rr),{key:0,class:Se([_(a).e("icon"),_(l).e("icon")]),onMousedown:_n(tt,["prevent"]),onTouchstartPassive:St},{default:te(()=>[(me(),Ct(_i(_(jt))))]),_:1},8,["class","onMousedown"])):gt("v-if",!0),Ue("input",{id:c.id&&c.id[0],autocomplete:"off",name:c.name&&c.name[0],placeholder:c.startPlaceholder,value:_(ht)&&_(ht)[0],disabled:_(Me),readonly:!c.editable||c.readonly,class:Se(_(l).b("input")),onMousedown:tt,onInput:Re,onChange:nt,onFocus:ee,onBlur:be},null,42,["id","name","placeholder","value","disabled","readonly"]),Ft(c.$slots,"range-separator",{},()=>[Ue("span",{class:Se(_(l).b("separator"))},cr(c.rangeSeparator),3)]),Ue("input",{id:c.id&&c.id[1],autocomplete:"off",name:c.name&&c.name[1],placeholder:c.endPlaceholder,value:_(ht)&&_(ht)[1],disabled:_(Me),readonly:!c.editable||c.readonly,class:Se(_(l).b("input")),onMousedown:tt,onFocus:ee,onBlur:be,onInput:Ie,onChange:le},null,42,["id","name","placeholder","value","disabled","readonly"]),c.clearIcon?(me(),Ct(_(Rr),{key:1,class:Se(_(E)),onClick:se},{default:te(()=>[(me(),Ct(_i(c.clearIcon)))]),_:1},8,["class"])):gt("v-if",!0)],38)):(me(),Ct(_(ji),{key:0,id:c.id,ref_key:"inputRef",ref:v,"container-role":"combobox","model-value":_(ht),name:c.name,size:_(_t),disabled:_(Me),placeholder:c.placeholder,class:Se([_(o).b("editor"),_(o).bm("editor",c.type),c.$attrs.class]),style:dn(c.$attrs.style),readonly:!c.editable||c.readonly||_(ut)||_(ct)||_(mt)||c.type==="week","aria-label":c.ariaLabel,tabindex:c.tabindex,"validate-event":!1,onInput:Ot,onFocus:ee,onBlur:be,onKeydown:xr,onChange:yt,onMousedown:tt,onMouseenter:et,onMouseleave:ot,onTouchstartPassive:St,onClick:_n(()=>{},["stop"])},{prefix:te(()=>[_(jt)?(me(),Ct(_(Rr),{key:0,class:Se(_(a).e("icon")),onMousedown:_n(tt,["prevent"]),onTouchstartPassive:St},{default:te(()=>[(me(),Ct(_i(_(jt))))]),_:1},8,["class","onMousedown"])):gt("v-if",!0)]),suffix:te(()=>[vt.value&&c.clearIcon?(me(),Ct(_(Rr),{key:0,class:Se(`${_(a).e("icon")} clear-icon`),onClick:_n(se,["stop"])},{default:te(()=>[(me(),Ct(_i(c.clearIcon)))]),_:1},8,["class","onClick"])):gt("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown","onClick"]))]),content:te(()=>[Ft(c.$slots,"default",{visible:p.value,actualVisible:b.value,parsedValue:_(Qe),format:c.format,dateFormat:c.dateFormat,timeFormat:c.timeFormat,unlinkPanels:c.unlinkPanels,type:c.type,defaultValue:c.defaultValue,onPick:q,onSelectRange:ie,onSetPickerOption:Fe,onCalendarChange:He,onPanelChange:Ar,onKeydown:R,onMousedown:_n(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var iwe=Ir(nwe,[["__file","picker.vue"]]);const swe=kr({...twe,datetimeRole:String,parsedValue:{type:Bt(Object)}}),owe=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:r})=>{const n=(o,a,l,u)=>{const d={hour:t,minute:e,second:r};let f=o;return["hour","minute","second"].forEach(h=>{if(d[h]){let g;const v=d[h];switch(h){case"minute":{g=v(f.hour(),a,u);break}case"second":{g=v(f.hour(),f.minute(),a,u);break}default:{g=v(a,u);break}}if(g!=null&&g.length&&!g.includes(f[h]())){const p=l?0:g.length-1;f=f[h](g[p])}}}),f},i={};return{timePickerOptions:i,getAvailableTime:n,onSetOption:([o,a])=>{i[o]=a}}},u3=t=>{const e=(n,i)=>n||i,r=n=>n!==!0;return t.map(e).filter(r)},bY=(t,e,r)=>({getHoursList:(o,a)=>l3(24,t&&(()=>t==null?void 0:t(o,a))),getMinutesList:(o,a,l)=>l3(60,e&&(()=>e==null?void 0:e(o,a,l))),getSecondsList:(o,a,l,u)=>l3(60,r&&(()=>r==null?void 0:r(o,a,l,u)))}),awe=(t,e,r)=>{const{getHoursList:n,getMinutesList:i,getSecondsList:s}=bY(t,e,r);return{getAvailableHours:(u,d)=>u3(n(u,d)),getAvailableMinutes:(u,d,f)=>u3(i(u,d,f)),getAvailableSeconds:(u,d,f,h)=>u3(s(u,d,f,h))}},lwe=t=>{const e=ve(t.parsedValue);return Yt(()=>t.visible,r=>{r||(e.value=t.parsedValue)}),e},Dh=new Map;if(Ln){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const r of Dh.values())for(const{documentHandler:n}of r)n(e,t);t=void 0}})}function XN(t,e){let r=[];return Array.isArray(e.arg)?r=e.arg:Ll(e.arg)&&r.push(e.arg),function(n,i){const s=e.instance.popperRef,o=n.target,a=i==null?void 0:i.target,l=!e||!e.instance,u=!o||!a,d=t.contains(o)||t.contains(a),f=t===o,h=r.length&&r.some(v=>v==null?void 0:v.contains(o))||r.length&&r.includes(a),g=s&&(s.contains(o)||s.contains(a));l||u||d||f||h||g||e.value(n,i)}}const _m={beforeMount(t,e){Dh.has(t)||Dh.set(t,[]),Dh.get(t).push({documentHandler:XN(t,e),bindingFn:e.value})},updated(t,e){Dh.has(t)||Dh.set(t,[]);const r=Dh.get(t),n=r.findIndex(s=>s.bindingFn===e.oldValue),i={documentHandler:XN(t,e),bindingFn:e.value};n>=0?r.splice(n,1,i):r.push(i)},unmounted(t){Dh.delete(t)}},uwe=100,cwe=600,YN={beforeMount(t,e){const r=e.value,{interval:n=uwe,delay:i=cwe}=Lr(r)?{}:r;let s,o;const a=()=>Lr(r)?r():r.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),s&&(clearInterval(s),s=void 0)};t.addEventListener("mousedown",u=>{u.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{s=setInterval(()=>{a()},n)},i))})}},Vk="_trap-focus-children",N0=[],KN=t=>{if(N0.length===0)return;const e=N0[N0.length-1][Vk];if(e.length>0&&t.code===Zr.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const r=t.shiftKey,n=t.target===e[0],i=t.target===e[e.length-1];n&&r&&(t.preventDefault(),e[e.length-1].focus()),i&&!r&&(t.preventDefault(),e[0].focus())}},dwe={beforeMount(t){t[Vk]=iF(t),N0.push(t),N0.length<=1&&document.addEventListener("keydown",KN)},updated(t){Wr(()=>{t[Vk]=iF(t)})},unmounted(){N0.shift(),N0.length===0&&document.removeEventListener("keydown",KN)}};var ZN=!1,D0,zk,Hk,Qw,Jw,xY,eS,jk,Gk,Wk,wY,qk,Xk,SY,TY;function Qa(){if(!ZN){ZN=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),r=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(qk=/\b(iPhone|iP[ao]d)/.exec(t),Xk=/\b(iP[ao]d)/.exec(t),Wk=/Android/i.exec(t),SY=/FBAN\/\w+;/i.exec(t),TY=/Mobile/i.exec(t),wY=!!/Win64/.exec(t),e){D0=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,D0&&document&&document.documentMode&&(D0=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(t);xY=n?parseFloat(n[1])+4:D0,zk=e[2]?parseFloat(e[2]):NaN,Hk=e[3]?parseFloat(e[3]):NaN,Qw=e[4]?parseFloat(e[4]):NaN,Qw?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Jw=e&&e[1]?parseFloat(e[1]):NaN):Jw=NaN}else D0=zk=Hk=Jw=Qw=NaN;if(r){if(r[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);eS=i?parseFloat(i[1].replace("_",".")):!0}else eS=!1;jk=!!r[2],Gk=!!r[3]}else eS=jk=Gk=!1}}var Yk={ie:function(){return Qa()||D0},ieCompatibilityMode:function(){return Qa()||xY>D0},ie64:function(){return Yk.ie()&&wY},firefox:function(){return Qa()||zk},opera:function(){return Qa()||Hk},webkit:function(){return Qa()||Qw},safari:function(){return Yk.webkit()},chrome:function(){return Qa()||Jw},windows:function(){return Qa()||jk},osx:function(){return Qa()||eS},linux:function(){return Qa()||Gk},iphone:function(){return Qa()||qk},mobile:function(){return Qa()||qk||Xk||Wk||TY},nativeApp:function(){return Qa()||SY},android:function(){return Qa()||Wk},ipad:function(){return Qa()||Xk}},fwe=Yk,xx=!!(typeof window<"u"&&window.document&&window.document.createElement),hwe={canUseDOM:xx,canUseWorkers:typeof Worker<"u",canUseEventListeners:xx&&!!(window.addEventListener||window.attachEvent),canUseViewport:xx&&!!window.screen,isInWorker:!xx},CY=hwe,EY;CY.canUseDOM&&(EY=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function pwe(t,e){if(!CY.canUseDOM||e&&!("addEventListener"in document))return!1;var r="on"+t,n=r in document;if(!n){var i=document.createElement("div");i.setAttribute(r,"return;"),n=typeof i[r]=="function"}return!n&&EY&&t==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var mwe=pwe,QN=10,JN=40,eB=800;function AY(t){var e=0,r=0,n=0,i=0;return"detail"in t&&(r=t.detail),"wheelDelta"in t&&(r=-t.wheelDelta/120),"wheelDeltaY"in t&&(r=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=r,r=0),n=e*QN,i=r*QN,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||i)&&t.deltaMode&&(t.deltaMode==1?(n*=JN,i*=JN):(n*=eB,i*=eB)),n&&!e&&(e=n<1?-1:1),i&&!r&&(r=i<1?-1:1),{spinX:e,spinY:r,pixelX:n,pixelY:i}}AY.getEventType=function(){return fwe.firefox()?"DOMMouseScroll":mwe("wheel")?"wheel":"mousewheel"};var gwe=AY;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const vwe=function(t,e){if(t&&t.addEventListener){const r=function(n){const i=gwe(n);e&&Reflect.apply(e,this,[n,i])};t.addEventListener("wheel",r,{passive:!0})}},ywe={beforeMount(t,e){vwe(t,e.value)}},_we=kr({role:{type:String,required:!0},spinnerDate:{type:Bt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Bt(String),default:""},...yY}),bwe=rt({__name:"basic-time-spinner",props:_we,emits:["change","select-range","set-option"],setup(t,{emit:e}){const r=t,n=sr("time"),{getHoursList:i,getMinutesList:s,getSecondsList:o}=bY(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let a=!1;const l=ve(),u=ve(),d=ve(),f=ve(),h={hours:u,minutes:d,seconds:f},g=pe(()=>r.showSeconds?zN:zN.slice(0,2)),v=pe(()=>{const{spinnerDate:H}=r,ee=H.hour(),ae=H.minute(),be=H.second();return{hours:ee,minutes:ae,seconds:be}}),p=pe(()=>{const{hours:H,minutes:ee}=_(v);return{hours:i(r.role),minutes:s(H,r.role),seconds:o(H,ee,r.role)}}),b=pe(()=>{const{hours:H,minutes:ee,seconds:ae}=_(v);return{hours:a3(H,23),minutes:a3(ee,59),seconds:a3(ae,59)}}),S=fp(H=>{a=!1,A(H)},200),C=H=>{if(!!!r.amPmMode)return"";const ae=r.amPmMode==="A";let be=H<12?" am":" pm";return ae&&(be=be.toUpperCase()),be},T=H=>{let ee;switch(H){case"hours":ee=[0,2];break;case"minutes":ee=[3,5];break;case"seconds":ee=[6,8];break}const[ae,be]=ee;e("select-range",ae,be),l.value=H},A=H=>{O(H,_(v)[H])},E=()=>{A("hours"),A("minutes"),A("seconds")},I=H=>H.querySelector(`.${n.namespace.value}-scrollbar__wrap`),O=(H,ee)=>{if(r.arrowControl)return;const ae=_(h[H]);ae&&ae.$el&&(I(ae.$el).scrollTop=Math.max(0,ee*N(H)))},N=H=>{const ee=_(h[H]),ae=ee==null?void 0:ee.$el.querySelector("li");return ae&&Number.parseFloat(Gh(ae,"height"))||0},G=()=>{W(1)},ie=()=>{W(-1)},W=H=>{l.value||T("hours");const ee=l.value,ae=_(v)[ee],be=l.value==="hours"?24:60,Me=q(ee,ae,H,be);J(ee,Me),O(ee,Me),Wr(()=>T(ee))},q=(H,ee,ae,be)=>{let Me=(ee+ae+be)%be;const Qe=_(p)[H];for(;Qe[Me]&&Me!==ee;)Me=(Me+ae+be)%be;return Me},J=(H,ee)=>{if(_(p)[H][ee])return;const{hours:Me,minutes:Qe,seconds:ht}=_(v);let je;switch(H){case"hours":je=r.spinnerDate.hour(ee).minute(Qe).second(ht);break;case"minutes":je=r.spinnerDate.hour(Me).minute(ee).second(ht);break;case"seconds":je=r.spinnerDate.hour(Me).minute(Qe).second(ee);break}e("change",je)},X=(H,{value:ee,disabled:ae})=>{ae||(J(H,ee),T(H),O(H,ee))},R=H=>{a=!0,S(H);const ee=Math.min(Math.round((I(_(h[H]).$el).scrollTop-(z(H)*.5-10)/N(H)+3)/N(H)),H==="hours"?23:59);J(H,ee)},z=H=>_(h[H]).$el.offsetHeight,re=()=>{const H=ee=>{const ae=_(h[ee]);ae&&ae.$el&&(I(ae.$el).onscroll=()=>{R(ee)})};H("hours"),H("minutes"),H("seconds")};zn(()=>{Wr(()=>{!r.arrowControl&&re(),E(),r.role==="start"&&T("hours")})});const oe=(H,ee)=>{h[ee].value=H};return e("set-option",[`${r.role}_scrollDown`,W]),e("set-option",[`${r.role}_emitSelectRange`,T]),Yt(()=>r.spinnerDate,()=>{a||E()}),(H,ee)=>(me(),$e("div",{class:Se([_(n).b("spinner"),{"has-seconds":H.showSeconds}])},[H.arrowControl?gt("v-if",!0):(me(!0),$e(Sr,{key:0},mi(_(g),ae=>(me(),Ct(_(Bm),{key:ae,ref_for:!0,ref:be=>oe(be,ae),class:Se(_(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":_(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:be=>T(ae),onMousemove:be=>A(ae)},{default:te(()=>[(me(!0),$e(Sr,null,mi(_(p)[ae],(be,Me)=>(me(),$e("li",{key:Me,class:Se([_(n).be("spinner","item"),_(n).is("active",Me===_(v)[ae]),_(n).is("disabled",be)]),onClick:Qe=>X(ae,{value:Me,disabled:be})},[ae==="hours"?(me(),$e(Sr,{key:0},[Et(cr(("0"+(H.amPmMode?Me%12||12:Me)).slice(-2))+cr(C(Me)),1)],64)):(me(),$e(Sr,{key:1},[Et(cr(("0"+Me).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),H.arrowControl?(me(!0),$e(Sr,{key:1},mi(_(g),ae=>(me(),$e("div",{key:ae,class:Se([_(n).be("spinner","wrapper"),_(n).is("arrow")]),onMouseenter:be=>T(ae)},[wn((me(),Ct(_(Rr),{class:Se(["arrow-up",_(n).be("spinner","arrow")])},{default:te(()=>[F(_(dX))]),_:1},8,["class"])),[[_(YN),ie]]),wn((me(),Ct(_(Rr),{class:Se(["arrow-down",_(n).be("spinner","arrow")])},{default:te(()=>[F(_(C1))]),_:1},8,["class"])),[[_(YN),G]]),Ue("ul",{class:Se(_(n).be("spinner","list"))},[(me(!0),$e(Sr,null,mi(_(b)[ae],(be,Me)=>(me(),$e("li",{key:Me,class:Se([_(n).be("spinner","item"),_(n).is("active",be===_(v)[ae]),_(n).is("disabled",_(p)[ae][be])])},[typeof be=="number"?(me(),$e(Sr,{key:0},[ae==="hours"?(me(),$e(Sr,{key:0},[Et(cr(("0"+(H.amPmMode?be%12||12:be)).slice(-2))+cr(C(be)),1)],64)):(me(),$e(Sr,{key:1},[Et(cr(("0"+be).slice(-2)),1)],64))],64)):gt("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):gt("v-if",!0)],2))}});var xwe=Ir(bwe,[["__file","basic-time-spinner.vue"]]);const wwe=rt({__name:"panel-time-pick",props:swe,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const r=t,n=Mr("EP_PICKER_BASE"),{arrowControl:i,disabledHours:s,disabledMinutes:o,disabledSeconds:a,defaultValue:l}=n.props,{getAvailableHours:u,getAvailableMinutes:d,getAvailableSeconds:f}=awe(s,o,a),h=sr("time"),{t:g,lang:v}=Si(),p=ve([0,2]),b=lwe(r),S=pe(()=>Yo(r.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),C=pe(()=>r.format.includes("ss")),T=pe(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),A=oe=>{const H=$r(oe).locale(v.value),ee=X(H);return H.isSame(ee)},E=()=>{e("pick",b.value,!1)},I=(oe=!1,H=!1)=>{H||e("pick",r.parsedValue,oe)},O=oe=>{if(!r.visible)return;const H=X(oe).millisecond(0);e("pick",H,!0)},N=(oe,H)=>{e("select-range",oe,H),p.value=[oe,H]},G=oe=>{const H=[0,3].concat(C.value?[6]:[]),ee=["hours","minutes"].concat(C.value?["seconds"]:[]),be=(H.indexOf(p.value[0])+oe+H.length)%H.length;W.start_emitSelectRange(ee[be])},ie=oe=>{const H=oe.code,{left:ee,right:ae,up:be,down:Me}=Zr;if([ee,ae].includes(H)){G(H===ee?-1:1),oe.preventDefault();return}if([be,Me].includes(H)){const Qe=H===be?-1:1;W.start_scrollDown(Qe),oe.preventDefault();return}},{timePickerOptions:W,onSetOption:q,getAvailableTime:J}=owe({getAvailableHours:u,getAvailableMinutes:d,getAvailableSeconds:f}),X=oe=>J(oe,r.datetimeRole||"",!0),R=oe=>oe?$r(oe,r.format).locale(v.value):null,z=oe=>oe?oe.format(r.format):null,re=()=>$r(l).locale(v.value);return e("set-picker-option",["isValidValue",A]),e("set-picker-option",["formatToString",z]),e("set-picker-option",["parseUserInput",R]),e("set-picker-option",["handleKeydownInput",ie]),e("set-picker-option",["getRangeAvailableTime",X]),e("set-picker-option",["getDefaultValue",re]),(oe,H)=>(me(),Ct(xl,{name:_(S)},{default:te(()=>[oe.actualVisible||oe.visible?(me(),$e("div",{key:0,class:Se(_(h).b("panel"))},[Ue("div",{class:Se([_(h).be("panel","content"),{"has-seconds":_(C)}])},[F(xwe,{ref:"spinner",role:oe.datetimeRole||"start","arrow-control":_(i),"show-seconds":_(C),"am-pm-mode":_(T),"spinner-date":oe.parsedValue,"disabled-hours":_(s),"disabled-minutes":_(o),"disabled-seconds":_(a),onChange:O,onSetOption:_(q),onSelectRange:N},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Ue("div",{class:Se(_(h).be("panel","footer"))},[Ue("button",{type:"button",class:Se([_(h).be("panel","btn"),"cancel"]),onClick:E},cr(_(g)("el.datepicker.cancel")),3),Ue("button",{type:"button",class:Se([_(h).be("panel","btn"),"confirm"]),onClick:ee=>I()},cr(_(g)("el.datepicker.confirm")),11,["onClick"])],2)],2)):gt("v-if",!0)]),_:1},8,["name"]))}});var Kk=Ir(wwe,[["__file","panel-time-pick.vue"]]),PY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){return function(r,n,i){var s=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,h,g,v,p){var b=f.name?f:f.$locale(),S=o(b[h]),C=o(b[g]),T=S||C.map(function(E){return E.slice(0,v)});if(!p)return T;var A=b.weekStart;return T.map(function(E,I){return T[(I+(A||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,h){return f.formats[h]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,b){return p||b.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):a(f,"months")},monthsShort:function(h){return h?h.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(f){return a(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return a(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return a(l(),"weekdaysMin","weekdays",2,f)}}})})(PY);var Swe=PY.exports;const Twe=oo(Swe),Cwe=kr({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Bt([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Ewe=rt({name:"ElCard"}),Awe=rt({...Ewe,props:Cwe,setup(t){const e=sr("card");return(r,n)=>(me(),$e("div",{class:Se([_(e).b(),_(e).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(me(),$e("div",{key:0,class:Se(_(e).e("header"))},[Ft(r.$slots,"header",{},()=>[Et(cr(r.header),1)])],2)):gt("v-if",!0),Ue("div",{class:Se([_(e).e("body"),r.bodyClass]),style:dn(r.bodyStyle)},[Ft(r.$slots,"default")],6),r.$slots.footer||r.footer?(me(),$e("div",{key:1,class:Se(_(e).e("footer"))},[Ft(r.$slots,"footer",{},()=>[Et(cr(r.footer),1)])],2)):gt("v-if",!0)],2))}});var Pwe=Ir(Awe,[["__file","card.vue"]]);const kwe=gi(Pwe),kY={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Ac,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Xf(["ariaControls"])},IY={[es]:t=>nn(t)||qn(t)||yl(t),change:t=>nn(t)||qn(t)||yl(t)},_y=Symbol("checkboxGroupContextKey"),Iwe=({model:t,isChecked:e})=>{const r=Mr(_y,void 0),n=pe(()=>{var s,o;const a=(s=r==null?void 0:r.max)==null?void 0:s.value,l=(o=r==null?void 0:r.min)==null?void 0:o.value;return!Yo(a)&&t.value.length>=a&&!e.value||!Yo(l)&&t.value.length<=l&&e.value});return{isDisabled:Yf(pe(()=>(r==null?void 0:r.disabled.value)||n.value)),isLimitDisabled:n}},Dwe=(t,{model:e,isLimitExceeded:r,hasOwnLabel:n,isDisabled:i,isLabeledByFormItem:s})=>{const o=Mr(_y,void 0),{formItem:a}=$d(),{emit:l}=Dn();function u(v){var p,b,S,C;return[!0,t.trueValue,t.trueLabel].includes(v)?(b=(p=t.trueValue)!=null?p:t.trueLabel)!=null?b:!0:(C=(S=t.falseValue)!=null?S:t.falseLabel)!=null?C:!1}function d(v,p){l("change",u(v),p)}function f(v){if(r.value)return;const p=v.target;l("change",u(p.checked),v)}async function h(v){r.value||!n.value&&!i.value&&s.value&&(v.composedPath().some(S=>S.tagName==="LABEL")||(e.value=u([!1,t.falseValue,t.falseLabel].includes(e.value)),await Wr(),d(e.value,v)))}const g=pe(()=>(o==null?void 0:o.validateEvent)||t.validateEvent);return Yt(()=>t.modelValue,()=>{g.value&&(a==null||a.validate("change").catch(v=>void 0))}),{handleChange:f,onClickRoot:h}},Rwe=t=>{const e=ve(!1),{emit:r}=Dn(),n=Mr(_y,void 0),i=pe(()=>Yo(n)===!1),s=ve(!1),o=pe({get(){var a,l;return i.value?(a=n==null?void 0:n.modelValue)==null?void 0:a.value:(l=t.modelValue)!=null?l:e.value},set(a){var l,u;i.value&&lr(a)?(s.value=((l=n==null?void 0:n.max)==null?void 0:l.value)!==void 0&&a.length>(n==null?void 0:n.max.value)&&a.length>o.value.length,s.value===!1&&((u=n==null?void 0:n.changeEvent)==null||u.call(n,a))):(r(es,a),e.value=a)}});return{model:o,isGroup:i,isLimitExceeded:s}},Mwe=(t,e,{model:r})=>{const n=Mr(_y,void 0),i=ve(!1),s=pe(()=>ub(t.value)?t.label:t.value),o=pe(()=>{const d=r.value;return yl(d)?d:lr(d)?En(s.value)?d.map(Gn).some(f=>$l(f,s.value)):d.map(Gn).includes(s.value):d!=null?d===t.trueValue||d===t.trueLabel:!!d}),a=Ou(pe(()=>{var d;return(d=n==null?void 0:n.size)==null?void 0:d.value}),{prop:!0}),l=Ou(pe(()=>{var d;return(d=n==null?void 0:n.size)==null?void 0:d.value})),u=pe(()=>!!e.default||!ub(s.value));return{checkboxButtonSize:a,isChecked:o,isFocused:i,checkboxSize:l,hasOwnLabel:u,actualValue:s}},DY=(t,e)=>{const{formItem:r}=$d(),{model:n,isGroup:i,isLimitExceeded:s}=Rwe(t),{isFocused:o,isChecked:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:d,actualValue:f}=Mwe(t,e,{model:n}),{isDisabled:h}=Iwe({model:n,isChecked:a}),{inputId:g,isLabeledByFormItem:v}=P1(t,{formItemContext:r,disableIdGeneration:d,disableIdManagement:i}),{handleChange:p,onClickRoot:b}=Dwe(t,{model:n,isLimitExceeded:s,hasOwnLabel:d,isDisabled:h,isLabeledByFormItem:v});return(()=>{function C(){var T,A;lr(n.value)&&!n.value.includes(f.value)?n.value.push(f.value):n.value=(A=(T=t.trueValue)!=null?T:t.trueLabel)!=null?A:!0}t.checked&&C()})(),ep({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},pe(()=>i.value&&ub(t.value))),ep({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},pe(()=>!!t.trueLabel)),ep({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},pe(()=>!!t.falseLabel)),{inputId:g,isLabeledByFormItem:v,isChecked:a,isDisabled:h,isFocused:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:d,model:n,actualValue:f,handleChange:p,onClickRoot:b}},Owe=rt({name:"ElCheckbox"}),$we=rt({...Owe,props:kY,emits:IY,setup(t){const e=t,r=bl(),{inputId:n,isLabeledByFormItem:i,isChecked:s,isDisabled:o,isFocused:a,checkboxSize:l,hasOwnLabel:u,model:d,actualValue:f,handleChange:h,onClickRoot:g}=DY(e,r),v=sr("checkbox"),p=pe(()=>[v.b(),v.m(l.value),v.is("disabled",o.value),v.is("bordered",e.border),v.is("checked",s.value)]),b=pe(()=>[v.e("input"),v.is("disabled",o.value),v.is("checked",s.value),v.is("indeterminate",e.indeterminate),v.is("focus",a.value)]);return(S,C)=>(me(),Ct(_i(!_(u)&&_(i)?"span":"label"),{class:Se(_(p)),"aria-controls":S.indeterminate?S.ariaControls:null,onClick:_(g)},{default:te(()=>{var T,A,E,I;return[Ue("span",{class:Se(_(b))},[S.trueValue||S.falseValue||S.trueLabel||S.falseLabel?wn((me(),$e("input",{key:0,id:_(n),"onUpdate:modelValue":O=>qr(d)?d.value=O:null,class:Se(_(v).e("original")),type:"checkbox",indeterminate:S.indeterminate,name:S.name,tabindex:S.tabindex,disabled:_(o),"true-value":(A=(T=S.trueValue)!=null?T:S.trueLabel)!=null?A:!0,"false-value":(I=(E=S.falseValue)!=null?E:S.falseLabel)!=null?I:!1,onChange:_(h),onFocus:O=>a.value=!0,onBlur:O=>a.value=!1,onClick:_n(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[rT,_(d)]]):wn((me(),$e("input",{key:1,id:_(n),"onUpdate:modelValue":O=>qr(d)?d.value=O:null,class:Se(_(v).e("original")),type:"checkbox",indeterminate:S.indeterminate,disabled:_(o),value:_(f),name:S.name,tabindex:S.tabindex,onChange:_(h),onFocus:O=>a.value=!0,onBlur:O=>a.value=!1,onClick:_n(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[rT,_(d)]]),Ue("span",{class:Se(_(v).e("inner"))},null,2)],2),_(u)?(me(),$e("span",{key:0,class:Se(_(v).e("label"))},[Ft(S.$slots,"default"),S.$slots.default?gt("v-if",!0):(me(),$e(Sr,{key:0},[Et(cr(S.label),1)],64))],2)):gt("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Lwe=Ir($we,[["__file","checkbox.vue"]]);const Fwe=rt({name:"ElCheckboxButton"}),Nwe=rt({...Fwe,props:kY,emits:IY,setup(t){const e=t,r=bl(),{isFocused:n,isChecked:i,isDisabled:s,checkboxButtonSize:o,model:a,actualValue:l,handleChange:u}=DY(e,r),d=Mr(_y,void 0),f=sr("checkbox"),h=pe(()=>{var v,p,b,S;const C=(p=(v=d==null?void 0:d.fill)==null?void 0:v.value)!=null?p:"";return{backgroundColor:C,borderColor:C,color:(S=(b=d==null?void 0:d.textColor)==null?void 0:b.value)!=null?S:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),g=pe(()=>[f.b("button"),f.bm("button",o.value),f.is("disabled",s.value),f.is("checked",i.value),f.is("focus",n.value)]);return(v,p)=>{var b,S,C,T;return me(),$e("label",{class:Se(_(g))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?wn((me(),$e("input",{key:0,"onUpdate:modelValue":A=>qr(a)?a.value=A:null,class:Se(_(f).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:_(s),"true-value":(S=(b=v.trueValue)!=null?b:v.trueLabel)!=null?S:!0,"false-value":(T=(C=v.falseValue)!=null?C:v.falseLabel)!=null?T:!1,onChange:_(u),onFocus:A=>n.value=!0,onBlur:A=>n.value=!1,onClick:_n(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[rT,_(a)]]):wn((me(),$e("input",{key:1,"onUpdate:modelValue":A=>qr(a)?a.value=A:null,class:Se(_(f).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:_(s),value:_(l),onChange:_(u),onFocus:A=>n.value=!0,onBlur:A=>n.value=!1,onClick:_n(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[rT,_(a)]]),v.$slots.default||v.label?(me(),$e("span",{key:2,class:Se(_(f).be("button","inner")),style:dn(_(i)?_(h):void 0)},[Ft(v.$slots,"default",{},()=>[Et(cr(v.label),1)])],6)):gt("v-if",!0)],2)}}});var RY=Ir(Nwe,[["__file","checkbox-button.vue"]]);const Bwe=kr({modelValue:{type:Bt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ac,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Xf(["ariaLabel"])}),Uwe={[es]:t=>lr(t),change:t=>lr(t)},Vwe=rt({name:"ElCheckboxGroup"}),zwe=rt({...Vwe,props:Bwe,emits:Uwe,setup(t,{emit:e}){const r=t,n=sr("checkbox"),{formItem:i}=$d(),{inputId:s,isLabeledByFormItem:o}=P1(r,{formItemContext:i}),a=async u=>{e(es,u),await Wr(),e("change",u)},l=pe({get(){return r.modelValue},set(u){a(u)}});return bi(_y,{...lX(Hu(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),Yt(()=>r.modelValue,()=>{r.validateEvent&&(i==null||i.validate("change").catch(u=>void 0))}),(u,d)=>{var f;return me(),Ct(_i(u.tag),{id:_(s),class:Se(_(n).b("group")),role:"group","aria-label":_(o)?void 0:u.ariaLabel||"checkbox-group","aria-labelledby":_(o)?(f=_(i))==null?void 0:f.labelId:void 0},{default:te(()=>[Ft(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var MY=Ir(zwe,[["__file","checkbox-group.vue"]]);const $u=gi(Lwe,{CheckboxButton:RY,CheckboxGroup:MY});No(RY);const OY=No(MY),$Y=kr({modelValue:{type:[String,Number,Boolean],default:void 0},size:Ac,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Hwe=kr({...$Y,border:Boolean}),LY={[es]:t=>nn(t)||qn(t)||yl(t),[Lf]:t=>nn(t)||qn(t)||yl(t)},FY=Symbol("radioGroupKey"),NY=(t,e)=>{const r=ve(),n=Mr(FY,void 0),i=pe(()=>!!n),s=pe(()=>ub(t.value)?t.label:t.value),o=pe({get(){return i.value?n.modelValue:t.modelValue},set(f){i.value?n.changeEvent(f):e&&e(es,f),r.value.checked=t.modelValue===s.value}}),a=Ou(pe(()=>n==null?void 0:n.size)),l=Yf(pe(()=>n==null?void 0:n.disabled)),u=ve(!1),d=pe(()=>l.value||i.value&&o.value!==s.value?-1:0);return ep({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},pe(()=>i.value&&ub(t.value))),{radioRef:r,isGroup:i,radioGroup:n,focus:u,size:a,disabled:l,tabIndex:d,modelValue:o,actualValue:s}},jwe=rt({name:"ElRadio"}),Gwe=rt({...jwe,props:Hwe,emits:LY,setup(t,{emit:e}){const r=t,n=sr("radio"),{radioRef:i,radioGroup:s,focus:o,size:a,disabled:l,modelValue:u,actualValue:d}=NY(r,e);function f(){Wr(()=>e("change",u.value))}return(h,g)=>{var v;return me(),$e("label",{class:Se([_(n).b(),_(n).is("disabled",_(l)),_(n).is("focus",_(o)),_(n).is("bordered",h.border),_(n).is("checked",_(u)===_(d)),_(n).m(_(a))])},[Ue("span",{class:Se([_(n).e("input"),_(n).is("disabled",_(l)),_(n).is("checked",_(u)===_(d))])},[wn(Ue("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":p=>qr(u)?u.value=p:null,class:Se(_(n).e("original")),value:_(d),name:h.name||((v=_(s))==null?void 0:v.name),disabled:_(l),checked:_(u)===_(d),type:"radio",onFocus:p=>o.value=!0,onBlur:p=>o.value=!1,onChange:f,onClick:_n(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[pq,_(u)]]),Ue("span",{class:Se(_(n).e("inner"))},null,2)],2),Ue("span",{class:Se(_(n).e("label")),onKeydown:_n(()=>{},["stop"])},[Ft(h.$slots,"default",{},()=>[Et(cr(h.label),1)])],42,["onKeydown"])],2)}}});var Wwe=Ir(Gwe,[["__file","radio.vue"]]);const qwe=kr({...$Y}),Xwe=rt({name:"ElRadioButton"}),Ywe=rt({...Xwe,props:qwe,setup(t){const e=t,r=sr("radio"),{radioRef:n,focus:i,size:s,disabled:o,modelValue:a,radioGroup:l,actualValue:u}=NY(e),d=pe(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,h)=>{var g;return me(),$e("label",{class:Se([_(r).b("button"),_(r).is("active",_(a)===_(u)),_(r).is("disabled",_(o)),_(r).is("focus",_(i)),_(r).bm("button",_(s))])},[wn(Ue("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":v=>qr(a)?a.value=v:null,class:Se(_(r).be("button","original-radio")),value:_(u),type:"radio",name:f.name||((g=_(l))==null?void 0:g.name),disabled:_(o),onFocus:v=>i.value=!0,onBlur:v=>i.value=!1,onClick:_n(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[pq,_(a)]]),Ue("span",{class:Se(_(r).be("button","inner")),style:dn(_(a)===_(u)?_(d):{}),onKeydown:_n(()=>{},["stop"])},[Ft(f.$slots,"default",{},()=>[Et(cr(f.label),1)])],46,["onKeydown"])],2)}}});var BY=Ir(Ywe,[["__file","radio-button.vue"]]);const Kwe=kr({id:{type:String,default:void 0},size:Ac,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Xf(["ariaLabel"])}),Zwe=LY,Qwe=rt({name:"ElRadioGroup"}),Jwe=rt({...Qwe,props:Kwe,emits:Zwe,setup(t,{emit:e}){const r=t,n=sr("radio"),i=Sc(),s=ve(),{formItem:o}=$d(),{inputId:a,isLabeledByFormItem:l}=P1(r,{formItemContext:o}),u=f=>{e(es,f),Wr(()=>e("change",f))};zn(()=>{const f=s.value.querySelectorAll("[type=radio]"),h=f[0];!Array.from(f).some(g=>g.checked)&&h&&(h.tabIndex=0)});const d=pe(()=>r.name||i.value);return bi(FY,an({...Hu(r),changeEvent:u,name:d})),Yt(()=>r.modelValue,()=>{r.validateEvent&&(o==null||o.validate("change").catch(f=>void 0))}),(f,h)=>(me(),$e("div",{id:_(a),ref_key:"radioGroupRef",ref:s,class:Se(_(n).b("group")),role:"radiogroup","aria-label":_(l)?void 0:f.ariaLabel||"radio-group","aria-labelledby":_(l)?_(o).labelId:void 0},[Ft(f.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var UY=Ir(Jwe,[["__file","radio-group.vue"]]);const AO=gi(Wwe,{RadioButton:BY,RadioGroup:UY}),VY=No(UY);No(BY);var eSe=rt({name:"NodeContent",setup(){return{ns:sr("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:r}=this.$parent,{data:n,label:i}=e,{renderLabelFn:s}=r;return br("span",{class:t.e("label")},s?s({node:e,data:n}):i)}});const PO=Symbol(),tSe=rt({name:"ElCascaderNode",components:{ElCheckbox:$u,ElRadio:AO,NodeContent:eSe,ElIcon:Rr,Check:rE,Loading:vm,ArrowRight:Tu},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const r=Mr(PO),n=sr("cascader-node"),i=pe(()=>r.isHoverMenu),s=pe(()=>r.config.multiple),o=pe(()=>r.config.checkStrictly),a=pe(()=>{var I;return(I=r.checkedNodes[0])==null?void 0:I.uid}),l=pe(()=>t.node.isDisabled),u=pe(()=>t.node.isLeaf),d=pe(()=>o.value&&!u.value||!l.value),f=pe(()=>g(r.expandingNode)),h=pe(()=>o.value&&r.checkedNodes.some(g)),g=I=>{var O;const{level:N,uid:G}=t.node;return((O=I==null?void 0:I.pathNodes[N-1])==null?void 0:O.uid)===G},v=()=>{f.value||r.expandNode(t.node)},p=I=>{const{node:O}=t;I!==O.checked&&r.handleCheckChange(O,I)},b=()=>{r.lazyLoad(t.node,()=>{u.value||v()})},S=I=>{i.value&&(C(),!u.value&&e("expand",I))},C=()=>{const{node:I}=t;!d.value||I.loading||(I.loaded?v():b())},T=()=>{i.value&&!u.value||(u.value&&!l.value&&!o.value&&!s.value?E(!0):C())},A=I=>{o.value?(p(I),t.node.loaded&&v()):E(I)},E=I=>{t.node.loaded?(p(I),!o.value&&v()):b()};return{panel:r,isHoverMenu:i,multiple:s,checkStrictly:o,checkedNodeId:a,isDisabled:l,isLeaf:u,expandable:d,inExpandingPath:f,inCheckedPath:h,ns:n,handleHoverExpand:S,handleExpand:C,handleClick:T,handleCheck:E,handleSelectCheck:A}}});function rSe(t,e,r,n,i,s){const o=Yn("el-checkbox"),a=Yn("el-radio"),l=Yn("check"),u=Yn("el-icon"),d=Yn("node-content"),f=Yn("loading"),h=Yn("arrow-right");return me(),$e("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:Se([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[gt(" prefix "),t.multiple?(me(),Ct(o,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:_n(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(me(),Ct(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:_n(()=>{},["stop"])},{default:te(()=>[gt(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Ue("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(me(),Ct(u,{key:2,class:Se(t.ns.e("prefix"))},{default:te(()=>[F(l)]),_:1},8,["class"])):gt("v-if",!0),gt(" content "),F(d),gt(" postfix "),t.isLeaf?gt("v-if",!0):(me(),$e(Sr,{key:3},[t.node.loading?(me(),Ct(u,{key:0,class:Se([t.ns.is("loading"),t.ns.e("postfix")])},{default:te(()=>[F(f)]),_:1},8,["class"])):(me(),Ct(u,{key:1,class:Se(["arrow-right",t.ns.e("postfix")])},{default:te(()=>[F(h)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var nSe=Ir(tSe,[["render",rSe],["__file","node.vue"]]);const iSe=rt({name:"ElCascaderMenu",components:{Loading:vm,ElIcon:Rr,ElScrollbar:Bm,ElCascaderNode:nSe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=Dn(),r=sr("cascader-menu"),{t:n}=Si(),i=Sc();let s=null,o=null;const a=Mr(PO),l=ve(null),u=pe(()=>!t.nodes.length),d=pe(()=>!a.initialLoaded),f=pe(()=>`${i.value}-${t.index}`),h=b=>{s=b.target},g=b=>{if(!(!a.isHoverMenu||!s||!l.value))if(s.contains(b.target)){v();const S=e.vnode.el,{left:C}=S.getBoundingClientRect(),{offsetWidth:T,offsetHeight:A}=S,E=b.clientX-C,I=s.offsetTop,O=I+s.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${E} ${I} L${T} 0 V${I} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${E} ${O} L${T} ${A} V${O} Z" />
        `}else o||(o=window.setTimeout(p,a.config.hoverThreshold))},v=()=>{o&&(clearTimeout(o),o=null)},p=()=>{l.value&&(l.value.innerHTML="",v())};return{ns:r,panel:a,hoverZone:l,isEmpty:u,isLoading:d,menuId:f,t:n,handleExpand:h,handleMouseMove:g,clearHoverZone:p}}});function sSe(t,e,r,n,i,s){const o=Yn("el-cascader-node"),a=Yn("loading"),l=Yn("el-icon"),u=Yn("el-scrollbar");return me(),Ct(u,{key:t.menuId,tag:"ul",role:"menu",class:Se(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:te(()=>{var d;return[(me(!0),$e(Sr,null,mi(t.nodes,f=>(me(),Ct(o,{key:f.uid,node:f,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(me(),$e("div",{key:0,class:Se(t.ns.e("empty-text"))},[F(l,{size:"14",class:Se(t.ns.is("loading"))},{default:te(()=>[F(a)]),_:1},8,["class"]),Et(" "+cr(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(me(),$e("div",{key:1,class:Se(t.ns.e("empty-text"))},[Ft(t.$slots,"empty",{},()=>[Et(cr(t.t("el.cascader.noData")),1)])],2)):(d=t.panel)!=null&&d.isHoverMenu?(me(),$e("svg",{key:2,ref:"hoverZone",class:Se(t.ns.e("hover-zone"))},null,2)):gt("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var oSe=Ir(iSe,[["render",sSe],["__file","menu.vue"]]);let aSe=0;const lSe=t=>{const e=[t];let{parent:r}=t;for(;r;)e.unshift(r),r=r.parent;return e};let Zk=class Qk{constructor(e,r,n,i=!1){this.data=e,this.config=r,this.parent=n,this.root=i,this.uid=aSe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:o,children:a}=r,l=e[a],u=lSe(this);this.level=i?0:n?n.level+1:1,this.value=e[s],this.label=e[o],this.pathNodes=u,this.pathValues=u.map(d=>d.value),this.pathLabels=u.map(d=>d.label),this.childrenData=l,this.children=(l||[]).map(d=>new Qk(d,r,this)),this.loaded=!r.lazy||this.isLeaf||!hu(l)}get isDisabled(){const{data:e,parent:r,config:n}=this,{disabled:i,checkStrictly:s}=n;return(Lr(i)?i(e,this):!!e[i])||!s&&(r==null?void 0:r.isDisabled)}get isLeaf(){const{data:e,config:r,childrenData:n,loaded:i}=this,{lazy:s,leaf:o}=r,a=Lr(o)?o(e,this):e[o];return Yo(a)?s&&!i?!1:!(Array.isArray(n)&&n.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:r,children:n}=this,i=new Qk(e,this.config,this);return Array.isArray(r)?r.push(e):this.childrenData=[e],n.push(i),i}calcText(e,r){const n=e?this.pathLabels.join(r):this.label;return this.text=n,n}broadcast(e,...r){const n=`onParent${ad(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...r),i[n]&&i[n](...r))})}emit(e,...r){const{parent:n}=this,i=`onChild${ad(e)}`;n&&(n[i]&&n[i](...r),n.emit(e,...r))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,r=e.filter(i=>!i.isDisabled),n=r.length?r.every(i=>i.checked):!1;this.setCheckState(n)}setCheckState(e){const r=this.children.length,n=this.children.reduce((i,s)=>{const o=s.checked?1:s.indeterminate?.5:0;return i+o},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&n!==r&&n>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:r,multiple:n}=this.config;r||!n?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const Jk=(t,e)=>t.reduce((r,n)=>(n.isLeaf?r.push(n):(!e&&r.push(n),r=r.concat(Jk(n.children,e))),r),[]);class tB{constructor(e,r){this.config=r;const n=(e||[]).map(i=>new Zk(i,this.config));this.nodes=n,this.allNodes=Jk(n,!1),this.leafNodes=Jk(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,r){const n=r?r.appendChild(e):new Zk(e,this.config);r||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(e,r){e.forEach(n=>this.appendNode(n,r))}getNodeByValue(e,r=!1){return!e&&e!==0?null:this.getFlattedNodes(r).find(i=>$l(i.value,e)||$l(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:n,level:i})=>$l(e.value,n)&&e.level===i)||null}}const zY=kr({modelValue:{type:Bt([Number,String,Array])},options:{type:Bt(Array),default:()=>[]},props:{type:Bt(Object),default:()=>({})}}),uSe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Qn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},cSe=t=>pe(()=>({...uSe,...t.props})),rB=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},dSe=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():_q(t)&&t.click()},fSe=(t,e)=>{const r=e.slice(0),n=r.map(s=>s.uid),i=t.reduce((s,o)=>{const a=n.indexOf(o.uid);return a>-1&&(s.push(o),r.splice(a,1),n.splice(a,1)),s},[]);return i.push(...r),i},hSe=rt({name:"ElCascaderPanel",components:{ElCascaderMenu:oSe},props:{...zY,border:{type:Boolean,default:!0},renderLabel:Function},emits:[es,Lf,"close","expand-change"],setup(t,{emit:e,slots:r}){let n=!1;const i=sr("cascader"),s=cSe(t);let o=null;const a=ve(!0),l=ve([]),u=ve(null),d=ve([]),f=ve(null),h=ve([]),g=pe(()=>s.value.expandTrigger==="hover"),v=pe(()=>t.renderLabel||r.default),p=()=>{const{options:q}=t,J=s.value;n=!1,o=new tB(q,J),d.value=[o.getNodes()],J.lazy&&hu(t.options)?(a.value=!1,b(void 0,X=>{X&&(o=new tB(X,J),d.value=[o.getNodes()]),a.value=!0,N(!1,!0)})):N(!1,!0)},b=(q,J)=>{const X=s.value;q=q||new Zk({},X,void 0,!0),q.loading=!0;const R=z=>{const re=q,oe=re.root?null:re;z&&(o==null||o.appendNodes(z,oe)),re.loading=!1,re.loaded=!0,re.childrenData=re.childrenData||[],J&&J(z)};X.lazyLoad(q,R)},S=(q,J)=>{var X;const{level:R}=q,z=d.value.slice(0,R);let re;q.isLeaf?re=q.pathNodes[R-2]:(re=q,z.push(q.children)),((X=f.value)==null?void 0:X.uid)!==(re==null?void 0:re.uid)&&(f.value=q,d.value=z,!J&&e("expand-change",(q==null?void 0:q.pathValues)||[]))},C=(q,J,X=!0)=>{const{checkStrictly:R,multiple:z}=s.value,re=h.value[0];n=!0,!z&&(re==null||re.doCheck(!1)),q.doCheck(J),O(),X&&!z&&!R&&e("close"),!X&&!z&&!R&&T(q)},T=q=>{q&&(q=q.parent,T(q),q&&S(q))},A=q=>o==null?void 0:o.getFlattedNodes(q),E=q=>{var J;return(J=A(q))==null?void 0:J.filter(X=>X.checked!==!1)},I=()=>{h.value.forEach(q=>q.doCheck(!1)),O(),d.value=d.value.slice(0,1),f.value=null,e("expand-change",[])},O=()=>{var q;const{checkStrictly:J,multiple:X}=s.value,R=h.value,z=E(!J),re=fSe(R,z),oe=re.map(H=>H.valueByOption);h.value=re,u.value=X?oe:(q=oe[0])!=null?q:null},N=(q=!1,J=!1)=>{const{modelValue:X}=t,{lazy:R,multiple:z,checkStrictly:re}=s.value,oe=!re;if(!(!a.value||n||!J&&$l(X,u.value)))if(R&&!q){const ee=sN(Vve($a(X))).map(ae=>o==null?void 0:o.getNodeByValue(ae)).filter(ae=>!!ae&&!ae.loaded&&!ae.loading);ee.length?ee.forEach(ae=>{b(ae,()=>N(!1,J))}):N(!0,J)}else{const H=z?$a(X):[X],ee=sN(H.map(ae=>o==null?void 0:o.getNodeByValue(ae,oe)));G(ee,J),u.value=oT(X)}},G=(q,J=!0)=>{const{checkStrictly:X}=s.value,R=h.value,z=q.filter(H=>!!H&&(X||H.isLeaf)),re=o==null?void 0:o.getSameNode(f.value),oe=J&&re||z[0];oe?oe.pathNodes.forEach(H=>S(H,!0)):f.value=null,R.forEach(H=>H.doCheck(!1)),an(z).forEach(H=>H.doCheck(!0)),h.value=z,Wr(ie)},ie=()=>{Ln&&l.value.forEach(q=>{const J=q==null?void 0:q.$el;if(J){const X=J.querySelector(`.${i.namespace.value}-scrollbar__wrap`),R=J.querySelector(`.${i.b("node")}.${i.is("active")}`)||J.querySelector(`.${i.b("node")}.in-active-path`);cX(X,R)}})},W=q=>{const J=q.target,{code:X}=q;switch(X){case Zr.up:case Zr.down:{q.preventDefault();const R=X===Zr.up?-1:1;qw(bq(J,R,`.${i.b("node")}[tabindex="-1"]`));break}case Zr.left:{q.preventDefault();const R=l.value[rB(J)-1],z=R==null?void 0:R.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);qw(z);break}case Zr.right:{q.preventDefault();const R=l.value[rB(J)+1],z=R==null?void 0:R.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);qw(z);break}case Zr.enter:dSe(J);break}};return bi(PO,an({config:s,expandingNode:f,checkedNodes:h,isHoverMenu:g,initialLoaded:a,renderLabelFn:v,lazyLoad:b,expandNode:S,handleCheckChange:C})),Yt([s,()=>t.options],p,{deep:!0,immediate:!0}),Yt(()=>t.modelValue,()=>{n=!1,N()},{deep:!0}),Yt(()=>u.value,q=>{$l(q,t.modelValue)||(e(es,q),e(Lf,q))}),RW(()=>l.value=[]),zn(()=>!hu(t.modelValue)&&N()),{ns:i,menuList:l,menus:d,checkedNodes:h,handleKeyDown:W,handleCheckChange:C,getFlattedNodes:A,getCheckedNodes:E,clearCheckedNodes:I,calculateCheckedValue:O,scrollToExpandingNode:ie}}});function pSe(t,e,r,n,i,s){const o=Yn("el-cascader-menu");return me(),$e("div",{class:Se([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(me(!0),$e(Sr,null,mi(t.menus,(a,l)=>(me(),Ct(o,{key:l,ref_for:!0,ref:u=>t.menuList[l]=u,index:l,nodes:[...a]},{empty:te(()=>[Ft(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var mSe=Ir(hSe,[["render",pSe],["__file","index.vue"]]);const gSe=gi(mSe),hb=kr({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:kp},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),vSe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},ySe=rt({name:"ElTag"}),_Se=rt({...ySe,props:hb,emits:vSe,setup(t,{emit:e}){const r=t,n=Ou(),i=sr("tag"),s=pe(()=>{const{type:u,hit:d,effect:f,closable:h,round:g}=r;return[i.b(),i.is("closable",h),i.m(u||"primary"),i.m(n.value),i.m(f),i.is("hit",d),i.is("round",g)]}),o=u=>{e("close",u)},a=u=>{e("click",u)},l=u=>{u.component.subTree.component.bum=null};return(u,d)=>u.disableTransitions?(me(),$e("span",{key:0,class:Se(_(s)),style:dn({backgroundColor:u.color}),onClick:a},[Ue("span",{class:Se(_(i).e("content"))},[Ft(u.$slots,"default")],2),u.closable?(me(),Ct(_(Rr),{key:0,class:Se(_(i).e("close")),onClick:_n(o,["stop"])},{default:te(()=>[F(_($f))]),_:1},8,["class","onClick"])):gt("v-if",!0)],6)):(me(),Ct(xl,{key:1,name:`${_(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:te(()=>[Ue("span",{class:Se(_(s)),style:dn({backgroundColor:u.color}),onClick:a},[Ue("span",{class:Se(_(i).e("content"))},[Ft(u.$slots,"default")],2),u.closable?(me(),Ct(_(Rr),{key:0,class:Se(_(i).e("close")),onClick:_n(o,["stop"])},{default:te(()=>[F(_($f))]),_:1},8,["class","onClick"])):gt("v-if",!0)],6)]),_:3},8,["name"]))}});var bSe=Ir(_Se,[["__file","tag.vue"]]);const eI=gi(bSe),xSe=kr({...zY,size:Ac,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Bt(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Bt(Function),default:()=>!0},placement:{type:Bt(String),values:vy,default:"bottom-start"},fallbackPlacements:{type:Bt(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:dE.teleported,tagType:{...hb.type,default:"info"},tagEffect:{...hb.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...xO}),wSe={[es]:t=>!0,[Lf]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>yl(t),expandChange:t=>!!t,removeTag:t=>!!t},SSe="ElCascader",TSe=rt({name:SSe}),CSe=rt({...TSe,props:xSe,emits:wSe,setup(t,{expose:e,emit:r}){const n=t,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:le})=>{const{modifiersData:Ee,placement:Fe}=le;["right","left","bottom","top"].includes(Fe)||(Ee.arrow.x=35)},requires:["arrow"]}]},s=fy();let o=0,a=0;const l=sr("cascader"),u=sr("input"),{t:d}=Si(),{form:f,formItem:h}=$d(),{valueOnClear:g}=wO(n),{isComposing:v,handleComposition:p}=bO({afterComposition(le){var Ee;const Fe=(Ee=le.target)==null?void 0:Ee.value;Ie(Fe)}}),b=ve(null),S=ve(null),C=ve(null),T=ve(null),A=ve(null),E=ve(!1),I=ve(!1),O=ve(!1),N=ve(!1),G=ve(""),ie=ve(""),W=ve([]),q=ve([]),J=ve([]),X=pe(()=>s.style),R=pe(()=>n.disabled||(f==null?void 0:f.disabled)),z=pe(()=>n.placeholder||d("el.cascader.placeholder")),re=pe(()=>ie.value||W.value.length>0||v.value?"":z.value),oe=Ou(),H=pe(()=>["small"].includes(oe.value)?"small":"default"),ee=pe(()=>!!n.props.multiple),ae=pe(()=>!n.filterable||ee.value),be=pe(()=>ee.value?ie.value:G.value),Me=pe(()=>{var le;return((le=T.value)==null?void 0:le.checkedNodes)||[]}),Qe=pe(()=>!n.clearable||R.value||O.value||!I.value?!1:!!Me.value.length),ht=pe(()=>{const{showAllLevels:le,separator:Ee}=n,Fe=Me.value;return Fe.length?ee.value?"":Fe[0].calcText(le,Ee):""}),je=pe(()=>(h==null?void 0:h.validateState)||""),ze=pe({get(){return oT(n.modelValue)},set(le){const Ee=le??g.value;r(es,Ee),r(Lf,Ee),n.validateEvent&&(h==null||h.validate("change").catch(Fe=>void 0))}}),ut=pe(()=>[l.b(),l.m(oe.value),l.is("disabled",R.value),s.class]),ct=pe(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",E.value)]),mt=pe(()=>l.is("focus",E.value||N.value)),jt=pe(()=>{var le,Ee;return(Ee=(le=b.value)==null?void 0:le.popperRef)==null?void 0:Ee.contentRef}),vt=le=>{var Ee,Fe,He;R.value||(le=le??!E.value,le!==E.value&&(E.value=le,(Fe=(Ee=S.value)==null?void 0:Ee.input)==null||Fe.setAttribute("aria-expanded",`${le}`),le?(se(),Wr((He=T.value)==null?void 0:He.scrollToExpandingNode)):n.filterable&&yt(),r("visibleChange",le)))},se=()=>{Wr(()=>{var le;(le=b.value)==null||le.updatePopper()})},Pe=()=>{O.value=!1},tt=le=>{const{showAllLevels:Ee,separator:Fe}=n;return{node:le,key:le.uid,text:le.calcText(Ee,Fe),hitState:!1,closable:!R.value&&!le.isDisabled,isCollapseTag:!1}},et=le=>{var Ee;const Fe=le.node;Fe.doCheck(!1),(Ee=T.value)==null||Ee.calculateCheckedValue(),r("removeTag",Fe.valueByOption)},ot=()=>{if(!ee.value)return;const le=Me.value,Ee=[],Fe=[];if(le.forEach(He=>Fe.push(tt(He))),q.value=Fe,le.length){le.slice(0,n.maxCollapseTags).forEach(c=>Ee.push(tt(c)));const He=le.slice(n.maxCollapseTags),Ar=He.length;Ar&&(n.collapseTags?Ee.push({key:-1,text:`+ ${Ar}`,closable:!1,isCollapseTag:!0}):He.forEach(c=>Ee.push(tt(c))))}W.value=Ee},St=()=>{var le,Ee;const{filterMethod:Fe,showAllLevels:He,separator:Ar}=n,c=(Ee=(le=T.value)==null?void 0:le.getFlattedNodes(!n.props.checkStrictly))==null?void 0:Ee.filter($t=>$t.isDisabled?!1:($t.calcText(He,Ar),Fe($t,be.value)));ee.value&&(W.value.forEach($t=>{$t.hitState=!1}),q.value.forEach($t=>{$t.hitState=!1})),O.value=!0,J.value=c,se()},Dt=()=>{var le;let Ee;O.value&&A.value?Ee=A.value.$el.querySelector(`.${l.e("suggestion-item")}`):Ee=(le=T.value)==null?void 0:le.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Ee&&(Ee.focus(),!O.value&&Ee.click())},_t=()=>{var le,Ee;const Fe=(le=S.value)==null?void 0:le.input,He=C.value,Ar=(Ee=A.value)==null?void 0:Ee.$el;if(!(!Ln||!Fe)){if(Ar){const c=Ar.querySelector(`.${l.e("suggestion-list")}`);c.style.minWidth=`${Fe.offsetWidth}px`}if(He){const{offsetHeight:c}=He,$t=W.value.length>0?`${Math.max(c+6,o)}px`:`${o}px`;Fe.style.height=$t,se()}}},Kt=le=>{var Ee;return(Ee=T.value)==null?void 0:Ee.getCheckedNodes(le)},Ut=le=>{se(),r("expandChange",le)},lt=le=>{if(!v.value)switch(le.code){case Zr.enter:vt();break;case Zr.down:vt(!0),Wr(Dt),le.preventDefault();break;case Zr.esc:E.value===!0&&(le.preventDefault(),le.stopPropagation(),vt(!1));break;case Zr.tab:vt(!1);break}},kt=()=>{var le;(le=T.value)==null||le.clearCheckedNodes(),!E.value&&n.filterable&&yt(),vt(!1),r("clear")},yt=()=>{const{value:le}=ht;G.value=le,ie.value=le},Pt=le=>{var Ee,Fe;const{checked:He}=le;ee.value?(Ee=T.value)==null||Ee.handleCheckChange(le,!He,!1):(!He&&((Fe=T.value)==null||Fe.handleCheckChange(le,!0,!1)),vt(!1))},Er=le=>{const Ee=le.target,{code:Fe}=le;switch(Fe){case Zr.up:case Zr.down:{const He=Fe===Zr.up?-1:1;qw(bq(Ee,He,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Zr.enter:Ee.click();break}},zt=()=>{const le=W.value,Ee=le[le.length-1];a=ie.value?0:a+1,!(!Ee||!a||n.collapseTags&&le.length>1)&&(Ee.hitState?et(Ee):Ee.hitState=!0)},xr=le=>{const Ee=le.target,Fe=l.e("search-input");Ee.className===Fe&&(N.value=!0),r("focus",le)},Ot=le=>{N.value=!1,r("blur",le)},Re=fp(()=>{const{value:le}=be;if(!le)return;const Ee=n.beforeFilter(le);bM(Ee)?Ee.then(St).catch(()=>{}):Ee!==!1?St():Pe()},n.debounce),Ie=(le,Ee)=>{!E.value&&vt(!0),!(Ee!=null&&Ee.isComposing)&&(le?Re():Pe())},nt=le=>Number.parseFloat(Sfe(u.cssVarName("input-height"),le).value)-2;return Yt(O,se),Yt([Me,R,()=>n.collapseTags],ot),Yt(W,()=>{Wr(()=>_t())}),Yt(oe,async()=>{await Wr();const le=S.value.input;o=nt(le)||o,_t()}),Yt(ht,yt,{immediate:!0}),zn(()=>{const le=S.value.input,Ee=nt(le);o=le.offsetHeight||Ee,ko(le,_t)}),e({getCheckedNodes:Kt,cascaderPanelRef:T,togglePopperVisible:vt,contentRef:jt,presentText:ht}),(le,Ee)=>(me(),Ct(_(mp),{ref_key:"tooltipRef",ref:b,visible:E.value,teleported:le.teleported,"popper-class":[_(l).e("dropdown"),le.popperClass],"popper-options":i,"fallback-placements":le.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:le.placement,transition:`${_(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:le.persistent,onHide:Pe},{default:te(()=>[wn((me(),$e("div",{class:Se(_(ut)),style:dn(_(X)),onClick:()=>vt(_(ae)?void 0:!0),onKeydown:lt,onMouseenter:Fe=>I.value=!0,onMouseleave:Fe=>I.value=!1},[F(_(ji),{ref_key:"input",ref:S,modelValue:G.value,"onUpdate:modelValue":Fe=>G.value=Fe,placeholder:_(re),readonly:_(ae),disabled:_(R),"validate-event":!1,size:_(oe),class:Se(_(mt)),tabindex:_(ee)&&le.filterable&&!_(R)?-1:void 0,onCompositionstart:_(p),onCompositionupdate:_(p),onCompositionend:_(p),onFocus:xr,onBlur:Ot,onInput:Ie},{suffix:te(()=>[_(Qe)?(me(),Ct(_(Rr),{key:"clear",class:Se([_(u).e("icon"),"icon-circle-close"]),onClick:_n(kt,["stop"])},{default:te(()=>[F(_(gy))]),_:1},8,["class","onClick"])):(me(),Ct(_(Rr),{key:"arrow-down",class:Se(_(ct)),onClick:_n(Fe=>vt(),["stop"])},{default:te(()=>[F(_(C1))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),_(ee)?(me(),$e("div",{key:0,ref_key:"tagWrapper",ref:C,class:Se([_(l).e("tags"),_(l).is("validate",!!_(je))])},[(me(!0),$e(Sr,null,mi(W.value,Fe=>(me(),Ct(_(eI),{key:Fe.key,type:le.tagType,size:_(H),effect:le.tagEffect,hit:Fe.hitState,closable:Fe.closable,"disable-transitions":"",onClose:He=>et(Fe)},{default:te(()=>[Fe.isCollapseTag===!1?(me(),$e("span",{key:0},cr(Fe.text),1)):(me(),Ct(_(mp),{key:1,disabled:E.value||!le.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:te(()=>[Ue("span",null,cr(Fe.text),1)]),content:te(()=>[Ue("div",{class:Se(_(l).e("collapse-tags"))},[(me(!0),$e(Sr,null,mi(q.value.slice(le.maxCollapseTags),(He,Ar)=>(me(),$e("div",{key:Ar,class:Se(_(l).e("collapse-tag"))},[(me(),Ct(_(eI),{key:He.key,class:"in-tooltip",type:le.tagType,size:_(H),effect:le.tagEffect,hit:He.hitState,closable:He.closable,"disable-transitions":"",onClose:c=>et(He)},{default:te(()=>[Ue("span",null,cr(He.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),le.filterable&&!_(R)?wn((me(),$e("input",{key:0,"onUpdate:modelValue":Fe=>ie.value=Fe,type:"text",class:Se(_(l).e("search-input")),placeholder:_(ht)?"":_(z),onInput:Fe=>Ie(ie.value,Fe),onClick:_n(Fe=>vt(!0),["stop"]),onKeydown:Li(zt,["delete"]),onCompositionstart:_(p),onCompositionupdate:_(p),onCompositionend:_(p),onFocus:xr,onBlur:Ot},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[hq,ie.value]]):gt("v-if",!0)],2)):gt("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[_(_m),()=>vt(!1),_(jt)]])]),content:te(()=>[wn(F(_(gSe),{ref_key:"cascaderPanelRef",ref:T,modelValue:_(ze),"onUpdate:modelValue":Fe=>qr(ze)?ze.value=Fe:null,options:le.options,props:n.props,border:!1,"render-label":le.$slots.default,onExpandChange:Ut,onClose:Fe=>le.$nextTick(()=>vt(!1))},{empty:te(()=>[Ft(le.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[Ai,!O.value]]),le.filterable?wn((me(),Ct(_(Bm),{key:0,ref_key:"suggestionPanel",ref:A,tag:"ul",class:Se(_(l).e("suggestion-panel")),"view-class":_(l).e("suggestion-list"),onKeydown:Er},{default:te(()=>[J.value.length?(me(!0),$e(Sr,{key:0},mi(J.value,Fe=>(me(),$e("li",{key:Fe.uid,class:Se([_(l).e("suggestion-item"),_(l).is("checked",Fe.checked)]),tabindex:-1,onClick:He=>Pt(Fe)},[Ue("span",null,cr(Fe.text),1),Fe.checked?(me(),Ct(_(Rr),{key:0},{default:te(()=>[F(_(rE))]),_:1})):gt("v-if",!0)],10,["onClick"]))),128)):Ft(le.$slots,"empty",{key:1},()=>[Ue("li",{class:Se(_(l).e("empty-text"))},cr(_(d)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Ai,O.value]]):gt("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var ESe=Ir(CSe,[["__file","cascader.vue"]]);const ASe=gi(ESe),HY=Symbol("rowContextKey"),PSe=["start","center","end","space-around","space-between","space-evenly"],kSe=["top","middle","bottom"],ISe=kr({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:PSe,default:"start"},align:{type:String,values:kSe}}),DSe=rt({name:"ElRow"}),RSe=rt({...DSe,props:ISe,setup(t){const e=t,r=sr("row"),n=pe(()=>e.gutter);bi(HY,{gutter:n});const i=pe(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o}),s=pe(()=>[r.b(),r.is(`justify-${e.justify}`,e.justify!=="start"),r.is(`align-${e.align}`,!!e.align)]);return(o,a)=>(me(),Ct(_i(o.tag),{class:Se(_(s)),style:dn(_(i))},{default:te(()=>[Ft(o.$slots,"default")]),_:3},8,["class","style"]))}});var MSe=Ir(RSe,[["__file","row.vue"]]);const OSe=gi(MSe),$Se=kr({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Bt([Number,Object]),default:()=>Ro({})},sm:{type:Bt([Number,Object]),default:()=>Ro({})},md:{type:Bt([Number,Object]),default:()=>Ro({})},lg:{type:Bt([Number,Object]),default:()=>Ro({})},xl:{type:Bt([Number,Object]),default:()=>Ro({})}}),LSe=rt({name:"ElCol"}),FSe=rt({...LSe,props:$Se,setup(t){const e=t,{gutter:r}=Mr(HY,{gutter:pe(()=>0)}),n=sr("col"),i=pe(()=>{const o={};return r.value&&(o.paddingLeft=o.paddingRight=`${r.value/2}px`),o}),s=pe(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const d=e[u];qn(d)&&(u==="span"?o.push(n.b(`${e[u]}`)):d>0&&o.push(n.b(`${u}-${e[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{qn(e[u])?o.push(n.b(`${u}-${e[u]}`)):En(e[u])&&Object.entries(e[u]).forEach(([d,f])=>{o.push(d!=="span"?n.b(`${u}-${d}-${f}`):n.b(`${u}-${f}`))})}),r.value&&o.push(n.is("guttered")),[n.b(),o]});return(o,a)=>(me(),Ct(_i(o.tag),{class:Se(_(s)),style:dn(_(i))},{default:te(()=>[Ft(o.$slots,"default")]),_:3},8,["class","style"]))}});var NSe=Ir(FSe,[["__file","col.vue"]]);const jY=gi(NSe),BSe=rt({name:"ElCollapseTransition"}),USe=rt({...BSe,setup(t){const e=sr("collapse-transition"),r=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},n={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){r(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){r(i)},leaveCancelled(i){r(i)}};return(i,s)=>(me(),Ct(xl,vo({name:_(e).b()},uce(n)),{default:te(()=>[Ft(i.$slots,"default")]),_:3},16,["name"]))}});var VSe=Ir(USe,[["__file","collapse-transition.vue"]]);const zSe=gi(VSe),HSe=rt({name:"ElContainer"}),jSe=rt({...HSe,props:{direction:{type:String}},setup(t){const e=t,r=bl(),n=sr("container"),i=pe(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some(o=>{const a=o.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(s,o)=>(me(),$e("section",{class:Se([_(n).b(),_(n).is("vertical",_(i))])},[Ft(s.$slots,"default")],2))}});var GSe=Ir(jSe,[["__file","container.vue"]]);const WSe=rt({name:"ElAside"}),qSe=rt({...WSe,props:{width:{type:String,default:null}},setup(t){const e=t,r=sr("aside"),n=pe(()=>e.width?r.cssVarBlock({width:e.width}):{});return(i,s)=>(me(),$e("aside",{class:Se(_(r).b()),style:dn(_(n))},[Ft(i.$slots,"default")],6))}});var GY=Ir(qSe,[["__file","aside.vue"]]);const XSe=rt({name:"ElFooter"}),YSe=rt({...XSe,props:{height:{type:String,default:null}},setup(t){const e=t,r=sr("footer"),n=pe(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,s)=>(me(),$e("footer",{class:Se(_(r).b()),style:dn(_(n))},[Ft(i.$slots,"default")],6))}});var WY=Ir(YSe,[["__file","footer.vue"]]);const KSe=rt({name:"ElHeader"}),ZSe=rt({...KSe,props:{height:{type:String,default:null}},setup(t){const e=t,r=sr("header"),n=pe(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,s)=>(me(),$e("header",{class:Se(_(r).b()),style:dn(_(n))},[Ft(i.$slots,"default")],6))}});var qY=Ir(ZSe,[["__file","header.vue"]]);const QSe=rt({name:"ElMain"}),JSe=rt({...QSe,setup(t){const e=sr("main");return(r,n)=>(me(),$e("main",{class:Se(_(e).b())},[Ft(r.$slots,"default")],2))}});var XY=Ir(JSe,[["__file","main.vue"]]);const eTe=gi(GSe,{Aside:GY,Footer:WY,Header:qY,Main:XY});No(GY);No(WY);No(qY);const tTe=No(XY);var YY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){return function(r,n){var i=n.prototype,s=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var u=this.$utils(),d=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return u.s(a.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(a.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(a.$H===0?24:a.$H),f==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return f}});return s.bind(this)(d)}}})})(YY);var rTe=YY.exports;const nTe=oo(rTe);var KY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){var r="week",n="year";return function(i,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=o(this).startOf(n).add(1,n).date(u),f=o(this).endOf(r);if(d.isBefore(f))return 1}var h=o(this).startOf(n).date(u).startOf(r).subtract(1,"millisecond"),g=this.diff(h,r,!0);return g<0?o(this).startOf("week").week():Math.ceil(g)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(KY);var iTe=KY.exports;const sTe=oo(iTe);var ZY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){return function(r,n){n.prototype.weekYear=function(){var i=this.month(),s=this.week(),o=this.year();return s===1&&i===11?o+1:i===0&&s>=52?o-1:o}}})})(ZY);var oTe=ZY.exports;const aTe=oo(oTe);var QY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){return function(r,n,i){n.prototype.dayOfYear=function(s){var o=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return s==null?o:this.add(s-o,"day")}}})})(QY);var lTe=QY.exports;const uTe=oo(lTe);var JY={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(JY);var cTe=JY.exports;const dTe=oo(cTe);var eK={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(yo,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(eK);var fTe=eK.exports;const hTe=oo(fTe),hE=Symbol(),pTe=kr({..._Y,type:{type:Bt(String),default:"date"}}),mTe=["date","dates","year","years","month","months","week","range"],kO=kr({disabledDate:{type:Bt(Function)},date:{type:Bt(Object),required:!0},minDate:{type:Bt(Object)},maxDate:{type:Bt(Object)},parsedValue:{type:Bt([Object,Array])},rangeState:{type:Bt(Object),default:()=>({endDate:null,selecting:!1})}}),tK=kr({type:{type:Bt(String),required:!0,values:x_e},dateFormat:String,timeFormat:String}),IO=kr({unlinkPanels:Boolean,parsedValue:{type:Bt(Array)}}),DO=t=>({type:String,values:mTe,default:t}),gTe=kr({...tK,parsedValue:{type:Bt([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Pv=t=>{if(!lr(t))return!1;const[e,r]=t;return $r.isDayjs(e)&&$r.isDayjs(r)&&e.isSameOrBefore(r)},RO=(t,{lang:e,unit:r,unlinkPanels:n})=>{let i;if(lr(t)){let[s,o]=t.map(a=>$r(a).locale(e));return n||(o=s.add(1,r)),[s,o]}else t?i=$r(t):i=$r();return i=i.locale(e),[i,i.add(1,r)]},vTe=(t,e,{columnIndexOffset:r,startDate:n,nextEndDate:i,now:s,unit:o,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:u})=>{for(let d=0;d<t.row;d++){const f=e[d];for(let h=0;h<t.column;h++){let g=f[h+r];g||(g={row:d,column:h,type:"normal",inRange:!1,start:!1,end:!1});const v=d*t.column+h,p=a(v);g.dayjs=p,g.date=p.toDate(),g.timestamp=p.valueOf(),g.type="normal",g.inRange=!!(n&&p.isSameOrAfter(n,o)&&i&&p.isSameOrBefore(i,o))||!!(n&&p.isSameOrBefore(n,o)&&i&&p.isSameOrAfter(i,o)),n!=null&&n.isSameOrAfter(i)?(g.start=!!i&&p.isSame(i,o),g.end=n&&p.isSame(n,o)):(g.start=!!n&&p.isSame(n,o),g.end=!!i&&p.isSame(i,o)),p.isSame(s,o)&&(g.type="today"),l==null||l(g,{rowIndex:d,columnIndex:h}),f[h+r]=g}u==null||u(f)}},cT=(t,e,r)=>{const n=$r().locale(r).startOf("month").month(e).year(t),i=n.daysInMonth();return mY(i).map(s=>n.add(s,"day").toDate())},pb=(t,e,r,n)=>{const i=$r().year(t).month(e).startOf("month"),s=cT(t,e,r).find(o=>!(n!=null&&n(o)));return s?$r(s).locale(r):i.locale(r)},tI=(t,e,r)=>{const n=t.year();if(!(r!=null&&r(t.toDate())))return t.locale(e);const i=t.month();if(!cT(n,i,e).every(r))return pb(n,i,e,r);for(let s=0;s<12;s++)if(!cT(n,s,e).every(r))return pb(n,s,e,r);return t},yTe=kr({...kO,cellClassName:{type:Bt(Function)},showWeekNumber:Boolean,selectionMode:DO("date")}),_Te=["changerange","pick","select"],rI=(t="")=>["normal","today"].includes(t),bTe=(t,e)=>{const{lang:r}=Si(),n=ve(),i=ve(),s=ve(),o=ve(),a=ve([[],[],[],[],[],[]]);let l=!1;const u=t.date.$locale().weekStart||7,d=t.date.locale("en").localeData().weekdaysShort().map(H=>H.toLowerCase()),f=pe(()=>u>3?7-u:-u),h=pe(()=>{const H=t.date.startOf("month");return H.subtract(H.day()||7,"day")}),g=pe(()=>d.concat(d).slice(u,u+7)),v=pe(()=>Vq(_(A)).some(H=>H.isCurrent)),p=pe(()=>{const H=t.date.startOf("month"),ee=H.day()||7,ae=H.daysInMonth(),be=H.subtract(1,"month").daysInMonth();return{startOfMonthDay:ee,dateCountOfMonth:ae,dateCountOfLastMonth:be}}),b=pe(()=>t.selectionMode==="dates"?$a(t.parsedValue):[]),S=(H,{count:ee,rowIndex:ae,columnIndex:be})=>{const{startOfMonthDay:Me,dateCountOfMonth:Qe,dateCountOfLastMonth:ht}=_(p),je=_(f);if(ae>=0&&ae<=1){const ze=Me+je<0?7+Me+je:Me+je;if(be+ae*7>=ze)return H.text=ee,!0;H.text=ht-(ze-be%7)+1+ae*7,H.type="prev-month"}else return ee<=Qe?H.text=ee:(H.text=ee-Qe,H.type="next-month"),!0;return!1},C=(H,{columnIndex:ee,rowIndex:ae},be)=>{const{disabledDate:Me,cellClassName:Qe}=t,ht=_(b),je=S(H,{count:be,rowIndex:ae,columnIndex:ee}),ze=H.dayjs.toDate();return H.selected=ht.find(ut=>ut.isSame(H.dayjs,"day")),H.isSelected=!!H.selected,H.isCurrent=I(H),H.disabled=Me==null?void 0:Me(ze),H.customClass=Qe==null?void 0:Qe(ze),je},T=H=>{if(t.selectionMode==="week"){const[ee,ae]=t.showWeekNumber?[1,7]:[0,6],be=oe(H[ee+1]);H[ee].inRange=be,H[ee].start=be,H[ae].inRange=be,H[ae].end=be}},A=pe(()=>{const{minDate:H,maxDate:ee,rangeState:ae,showWeekNumber:be}=t,Me=_(f),Qe=_(a),ht="day";let je=1;if(be)for(let ze=0;ze<6;ze++)Qe[ze][0]||(Qe[ze][0]={type:"week",text:_(h).add(ze*7+1,ht).week()});return vTe({row:6,column:7},Qe,{startDate:H,columnIndexOffset:be?1:0,nextEndDate:ae.endDate||ee||ae.selecting&&H||null,now:$r().locale(_(r)).startOf(ht),unit:ht,relativeDateGetter:ze=>_(h).add(ze-Me,ht),setCellMetadata:(...ze)=>{C(...ze,je)&&(je+=1)},setRowMetadata:T}),Qe});Yt(()=>t.date,async()=>{var H;(H=_(n))!=null&&H.contains(document.activeElement)&&(await Wr(),await E())});const E=async()=>{var H;return(H=_(i))==null?void 0:H.focus()},I=H=>t.selectionMode==="date"&&rI(H.type)&&O(H,t.parsedValue),O=(H,ee)=>ee?$r(ee).locale(_(r)).isSame(t.date.date(Number(H.text)),"day"):!1,N=(H,ee)=>{const ae=H*7+(ee-(t.showWeekNumber?1:0))-_(f);return _(h).add(ae,"day")},G=H=>{var ee;if(!t.rangeState.selecting)return;let ae=H.target;if(ae.tagName==="SPAN"&&(ae=(ee=ae.parentNode)==null?void 0:ee.parentNode),ae.tagName==="DIV"&&(ae=ae.parentNode),ae.tagName!=="TD")return;const be=ae.parentNode.rowIndex-1,Me=ae.cellIndex;_(A)[be][Me].disabled||(be!==_(s)||Me!==_(o))&&(s.value=be,o.value=Me,e("changerange",{selecting:!0,endDate:N(be,Me)}))},ie=H=>!_(v)&&(H==null?void 0:H.text)===1&&H.type==="normal"||H.isCurrent,W=H=>{l||_(v)||t.selectionMode!=="date"||re(H,!0)},q=H=>{H.target.closest("td")&&(l=!0)},J=H=>{H.target.closest("td")&&(l=!1)},X=H=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:H,maxDate:null}),e("select",!0)):(H>=t.minDate?e("pick",{minDate:t.minDate,maxDate:H}):e("pick",{minDate:H,maxDate:t.minDate}),e("select",!1))},R=H=>{const ee=H.week(),ae=`${H.year()}w${ee}`;e("pick",{year:H.year(),week:ee,value:ae,date:H.startOf("week")})},z=(H,ee)=>{const ae=ee?$a(t.parsedValue).filter(be=>(be==null?void 0:be.valueOf())!==H.valueOf()):$a(t.parsedValue).concat([H]);e("pick",ae)},re=(H,ee=!1)=>{const ae=H.target.closest("td");if(!ae)return;const be=ae.parentNode.rowIndex-1,Me=ae.cellIndex,Qe=_(A)[be][Me];if(Qe.disabled||Qe.type==="week")return;const ht=N(be,Me);switch(t.selectionMode){case"range":{X(ht);break}case"date":{e("pick",ht,ee);break}case"week":{R(ht);break}case"dates":{z(ht,!!Qe.selected);break}}},oe=H=>{if(t.selectionMode!=="week")return!1;let ee=t.date.startOf("day");if(H.type==="prev-month"&&(ee=ee.subtract(1,"month")),H.type==="next-month"&&(ee=ee.add(1,"month")),ee=ee.date(Number.parseInt(H.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const ae=(t.parsedValue.day()-u+7)%7-1;return t.parsedValue.subtract(ae,"day").isSame(ee,"day")}return!1};return{WEEKS:g,rows:A,tbodyRef:n,currentCellRef:i,focus:E,isCurrent:I,isWeekActive:oe,isSelectedCell:ie,handlePickDate:re,handleMouseUp:J,handleMouseDown:q,handleMouseMove:G,handleFocus:W}},xTe=(t,{isCurrent:e,isWeekActive:r})=>{const n=sr("date-table"),{t:i}=Si(),s=pe(()=>[n.b(),{"is-week-mode":t.selectionMode==="week"}]),o=pe(()=>i("el.datepicker.dateTablePrompt")),a=pe(()=>i("el.datepicker.week"));return{tableKls:s,tableLabel:o,weekLabel:a,getCellClasses:d=>{const f=[];return rI(d.type)&&!d.disabled?(f.push("available"),d.type==="today"&&f.push("today")):f.push(d.type),e(d)&&f.push("current"),d.inRange&&(rI(d.type)||t.selectionMode==="week")&&(f.push("in-range"),d.start&&f.push("start-date"),d.end&&f.push("end-date")),d.disabled&&f.push("disabled"),d.selected&&f.push("selected"),d.customClass&&f.push(d.customClass),f.join(" ")},getRowKls:d=>[n.e("row"),{current:r(d)}],t:i}},wTe=kr({cell:{type:Bt(Object)}});var MO=rt({name:"ElDatePickerCell",props:wTe,setup(t){const e=sr("date-table-cell"),{slots:r}=Mr(hE);return()=>{const{cell:n}=t;return Ft(r,"default",{...n},()=>{var i;return[F("div",{class:e.b()},[F("span",{class:e.e("text")},[(i=n==null?void 0:n.renderText)!=null?i:n==null?void 0:n.text])])]})}}});const STe=rt({__name:"basic-date-table",props:yTe,emits:_Te,setup(t,{expose:e,emit:r}){const n=t,{WEEKS:i,rows:s,tbodyRef:o,currentCellRef:a,focus:l,isCurrent:u,isWeekActive:d,isSelectedCell:f,handlePickDate:h,handleMouseUp:g,handleMouseDown:v,handleMouseMove:p,handleFocus:b}=bTe(n,r),{tableLabel:S,tableKls:C,weekLabel:T,getCellClasses:A,getRowKls:E,t:I}=xTe(n,{isCurrent:u,isWeekActive:d});return e({focus:l}),(O,N)=>(me(),$e("table",{"aria-label":_(S),class:Se(_(C)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:_(h),onMousemove:_(p),onMousedown:_n(_(v),["prevent"]),onMouseup:_(g)},[Ue("tbody",{ref_key:"tbodyRef",ref:o},[Ue("tr",null,[O.showWeekNumber?(me(),$e("th",{key:0,scope:"col"},cr(_(T)),1)):gt("v-if",!0),(me(!0),$e(Sr,null,mi(_(i),(G,ie)=>(me(),$e("th",{key:ie,"aria-label":_(I)("el.datepicker.weeksFull."+G),scope:"col"},cr(_(I)("el.datepicker.weeks."+G)),9,["aria-label"]))),128))]),(me(!0),$e(Sr,null,mi(_(s),(G,ie)=>(me(),$e("tr",{key:ie,class:Se(_(E)(G[1]))},[(me(!0),$e(Sr,null,mi(G,(W,q)=>(me(),$e("td",{key:`${ie}.${q}`,ref_for:!0,ref:J=>_(f)(W)&&(a.value=J),class:Se(_(A)(W)),"aria-current":W.isCurrent?"date":void 0,"aria-selected":W.isCurrent,tabindex:_(f)(W)?0:-1,onFocus:_(b)},[F(_(MO),{cell:W},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var nI=Ir(STe,[["__file","basic-date-table.vue"]]);const TTe=kr({...kO,selectionMode:DO("month")}),CTe=rt({__name:"basic-month-table",props:TTe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:r}){const n=t,i=sr("month-table"),{t:s,lang:o}=Si(),a=ve(),l=ve(),u=ve(n.date.locale("en").localeData().monthsShort().map(T=>T.toLowerCase())),d=ve([[],[],[]]),f=ve(),h=ve(),g=pe(()=>{var T,A;const E=d.value,I=$r().locale(o.value).startOf("month");for(let O=0;O<3;O++){const N=E[O];for(let G=0;G<4;G++){const ie=N[G]||(N[G]={row:O,column:G,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ie.type="normal";const W=O*4+G,q=n.date.startOf("year").month(W),J=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;ie.inRange=!!(n.minDate&&q.isSameOrAfter(n.minDate,"month")&&J&&q.isSameOrBefore(J,"month"))||!!(n.minDate&&q.isSameOrBefore(n.minDate,"month")&&J&&q.isSameOrAfter(J,"month")),(T=n.minDate)!=null&&T.isSameOrAfter(J)?(ie.start=!!(J&&q.isSame(J,"month")),ie.end=n.minDate&&q.isSame(n.minDate,"month")):(ie.start=!!(n.minDate&&q.isSame(n.minDate,"month")),ie.end=!!(J&&q.isSame(J,"month"))),I.isSame(q)&&(ie.type="today"),ie.text=W,ie.disabled=((A=n.disabledDate)==null?void 0:A.call(n,q.toDate()))||!1}}return E}),v=()=>{var T;(T=l.value)==null||T.focus()},p=T=>{const A={},E=n.date.year(),I=new Date,O=T.text;return A.disabled=n.disabledDate?cT(E,O,o.value).every(n.disabledDate):!1,A.current=$a(n.parsedValue).findIndex(N=>$r.isDayjs(N)&&N.year()===E&&N.month()===O)>=0,A.today=I.getFullYear()===E&&I.getMonth()===O,T.inRange&&(A["in-range"]=!0,T.start&&(A["start-date"]=!0),T.end&&(A["end-date"]=!0)),A},b=T=>{const A=n.date.year(),E=T.text;return $a(n.date).findIndex(I=>I.year()===A&&I.month()===E)>=0},S=T=>{var A;if(!n.rangeState.selecting)return;let E=T.target;if(E.tagName==="SPAN"&&(E=(A=E.parentNode)==null?void 0:A.parentNode),E.tagName==="DIV"&&(E=E.parentNode),E.tagName!=="TD")return;const I=E.parentNode.rowIndex,O=E.cellIndex;g.value[I][O].disabled||(I!==f.value||O!==h.value)&&(f.value=I,h.value=O,r("changerange",{selecting:!0,endDate:n.date.startOf("year").month(I*4+O)}))},C=T=>{var A;const E=(A=T.target)==null?void 0:A.closest("td");if((E==null?void 0:E.tagName)!=="TD"||mu(E,"disabled"))return;const I=E.cellIndex,N=E.parentNode.rowIndex*4+I,G=n.date.startOf("year").month(N);if(n.selectionMode==="months"){if(T.type==="keydown"){r("pick",$a(n.parsedValue),!1);return}const ie=pb(n.date.year(),N,o.value,n.disabledDate),W=mu(E,"current")?$a(n.parsedValue).filter(q=>(q==null?void 0:q.month())!==ie.month()):$a(n.parsedValue).concat([$r(ie)]);r("pick",W)}else n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&G>=n.minDate?r("pick",{minDate:n.minDate,maxDate:G}):r("pick",{minDate:G,maxDate:n.minDate}),r("select",!1)):(r("pick",{minDate:G,maxDate:null}),r("select",!0)):r("pick",N)};return Yt(()=>n.date,async()=>{var T,A;(T=a.value)!=null&&T.contains(document.activeElement)&&(await Wr(),(A=l.value)==null||A.focus())}),e({focus:v}),(T,A)=>(me(),$e("table",{role:"grid","aria-label":_(s)("el.datepicker.monthTablePrompt"),class:Se(_(i).b()),onClick:C,onMousemove:S},[Ue("tbody",{ref_key:"tbodyRef",ref:a},[(me(!0),$e(Sr,null,mi(_(g),(E,I)=>(me(),$e("tr",{key:I},[(me(!0),$e(Sr,null,mi(E,(O,N)=>(me(),$e("td",{key:N,ref_for:!0,ref:G=>b(O)&&(l.value=G),class:Se(p(O)),"aria-selected":`${b(O)}`,"aria-label":_(s)(`el.datepicker.month${+O.text+1}`),tabindex:b(O)?0:-1,onKeydown:[Li(_n(C,["prevent","stop"]),["space"]),Li(_n(C,["prevent","stop"]),["enter"])]},[F(_(MO),{cell:{...O,renderText:_(s)("el.datepicker.months."+u.value[O.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var iI=Ir(CTe,[["__file","basic-month-table.vue"]]);const ETe=kr({...kO,selectionMode:DO("year")}),ATe=rt({__name:"basic-year-table",props:ETe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:r}){const n=t,i=(A,E)=>{const I=$r(String(A)).locale(E).startOf("year"),N=I.endOf("year").dayOfYear();return mY(N).map(G=>I.add(G,"day").toDate())},s=sr("year-table"),{t:o,lang:a}=Si(),l=ve(),u=ve(),d=pe(()=>Math.floor(n.date.year()/10)*10),f=ve([[],[],[]]),h=ve(),g=ve(),v=pe(()=>{var A;const E=f.value,I=$r().locale(a.value).startOf("year");for(let O=0;O<3;O++){const N=E[O];for(let G=0;G<4&&!(O*4+G>=10);G++){let ie=N[G];ie||(ie={row:O,column:G,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),ie.type="normal";const W=O*4+G+d.value,q=$r().year(W),J=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;ie.inRange=!!(n.minDate&&q.isSameOrAfter(n.minDate,"year")&&J&&q.isSameOrBefore(J,"year"))||!!(n.minDate&&q.isSameOrBefore(n.minDate,"year")&&J&&q.isSameOrAfter(J,"year")),(A=n.minDate)!=null&&A.isSameOrAfter(J)?(ie.start=!!(J&&q.isSame(J,"year")),ie.end=!!(n.minDate&&q.isSame(n.minDate,"year"))):(ie.start=!!(n.minDate&&q.isSame(n.minDate,"year")),ie.end=!!(J&&q.isSame(J,"year"))),I.isSame(q)&&(ie.type="today"),ie.text=W;const R=q.toDate();ie.disabled=n.disabledDate&&n.disabledDate(R)||!1,N[G]=ie}}return E}),p=()=>{var A;(A=u.value)==null||A.focus()},b=A=>{const E={},I=$r().locale(a.value),O=A.text;return E.disabled=n.disabledDate?i(O,a.value).every(n.disabledDate):!1,E.today=I.year()===O,E.current=$a(n.parsedValue).findIndex(N=>N.year()===O)>=0,A.inRange&&(E["in-range"]=!0,A.start&&(E["start-date"]=!0),A.end&&(E["end-date"]=!0)),E},S=A=>{const E=A.text;return $a(n.date).findIndex(I=>I.year()===E)>=0},C=A=>{var E;const I=(E=A.target)==null?void 0:E.closest("td");if(!I||!I.textContent||mu(I,"disabled"))return;const O=I.cellIndex,G=I.parentNode.rowIndex*4+O+d.value,ie=$r().year(G);if(n.selectionMode==="range")n.rangeState.selecting?(n.minDate&&ie>=n.minDate?r("pick",{minDate:n.minDate,maxDate:ie}):r("pick",{minDate:ie,maxDate:n.minDate}),r("select",!1)):(r("pick",{minDate:ie,maxDate:null}),r("select",!0));else if(n.selectionMode==="years"){if(A.type==="keydown"){r("pick",$a(n.parsedValue),!1);return}const W=tI(ie.startOf("year"),a.value,n.disabledDate),q=mu(I,"current")?$a(n.parsedValue).filter(J=>(J==null?void 0:J.year())!==G):$a(n.parsedValue).concat([W]);r("pick",q)}else r("pick",G)},T=A=>{var E;if(!n.rangeState.selecting)return;const I=(E=A.target)==null?void 0:E.closest("td");if(!I)return;const O=I.parentNode.rowIndex,N=I.cellIndex;v.value[O][N].disabled||(O!==h.value||N!==g.value)&&(h.value=O,g.value=N,r("changerange",{selecting:!0,endDate:$r().year(d.value).add(O*4+N,"year")}))};return Yt(()=>n.date,async()=>{var A,E;(A=l.value)!=null&&A.contains(document.activeElement)&&(await Wr(),(E=u.value)==null||E.focus())}),e({focus:p}),(A,E)=>(me(),$e("table",{role:"grid","aria-label":_(o)("el.datepicker.yearTablePrompt"),class:Se(_(s).b()),onClick:C,onMousemove:T},[Ue("tbody",{ref_key:"tbodyRef",ref:l},[(me(!0),$e(Sr,null,mi(_(v),(I,O)=>(me(),$e("tr",{key:O},[(me(!0),$e(Sr,null,mi(I,(N,G)=>(me(),$e("td",{key:`${O}_${G}`,ref_for:!0,ref:ie=>S(N)&&(u.value=ie),class:Se(["available",b(N)]),"aria-selected":S(N),"aria-label":String(N.text),tabindex:S(N)?0:-1,onKeydown:[Li(_n(C,["prevent","stop"]),["space"]),Li(_n(C,["prevent","stop"]),["enter"])]},[F(_(MO),{cell:N},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var sI=Ir(ATe,[["__file","basic-year-table.vue"]]);const PTe=rt({__name:"panel-date-pick",props:gTe,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const r=t,n=(Ie,nt,le)=>!0,i=sr("picker-panel"),s=sr("date-picker"),o=fy(),a=bl(),{t:l,lang:u}=Si(),d=Mr("EP_PICKER_BASE"),f=Mr(cE),{shortcuts:h,disabledDate:g,cellClassName:v,defaultTime:p}=d.props,b=ms(d.props,"defaultValue"),S=ve(),C=ve($r().locale(u.value)),T=ve(!1);let A=!1;const E=pe(()=>$r(p).locale(u.value)),I=pe(()=>C.value.month()),O=pe(()=>C.value.year()),N=ve([]),G=ve(null),ie=ve(null),W=Ie=>N.value.length>0?n(Ie,N.value,r.format||"HH:mm:ss"):!0,q=Ie=>p&&!tt.value&&!T.value&&!A?E.value.year(Ie.year()).month(Ie.month()).date(Ie.date()):ze.value?Ie.millisecond(0):Ie.startOf("day"),J=(Ie,...nt)=>{if(!Ie)e("pick",Ie,...nt);else if(lr(Ie)){const le=Ie.map(q);e("pick",le,...nt)}else e("pick",q(Ie),...nt);G.value=null,ie.value=null,T.value=!1,A=!1},X=async(Ie,nt)=>{if(ee.value==="date"){Ie=Ie;let le=r.parsedValue?r.parsedValue.year(Ie.year()).month(Ie.month()).date(Ie.date()):Ie;W(le)||(le=N.value[0][0].year(Ie.year()).month(Ie.month()).date(Ie.date())),C.value=le,J(le,ze.value||nt),r.type==="datetime"&&(await Wr(),zt())}else ee.value==="week"?J(Ie.date):ee.value==="dates"&&J(Ie,!0)},R=Ie=>{const nt=Ie?"add":"subtract";C.value=C.value[nt](1,"month"),Re("month")},z=Ie=>{const nt=C.value,le=Ie?"add":"subtract";C.value=re.value==="year"?nt[le](10,"year"):nt[le](1,"year"),Re("year")},re=ve("date"),oe=pe(()=>{const Ie=l("el.datepicker.year");if(re.value==="year"){const nt=Math.floor(O.value/10)*10;return Ie?`${nt} ${Ie} - ${nt+9} ${Ie}`:`${nt} - ${nt+9}`}return`${O.value} ${Ie}`}),H=Ie=>{const nt=Lr(Ie.value)?Ie.value():Ie.value;if(nt){A=!0,J($r(nt).locale(u.value));return}Ie.onClick&&Ie.onClick({attrs:o,slots:a,emit:e})},ee=pe(()=>{const{type:Ie}=r;return["week","month","months","year","years","dates"].includes(Ie)?Ie:"date"}),ae=pe(()=>ee.value==="dates"||ee.value==="months"||ee.value==="years"),be=pe(()=>ee.value==="date"?re.value:ee.value),Me=pe(()=>!!h.length),Qe=async(Ie,nt)=>{ee.value==="month"?(C.value=pb(C.value.year(),Ie,u.value,g),J(C.value,!1)):ee.value==="months"?J(Ie,nt??!0):(C.value=pb(C.value.year(),Ie,u.value,g),re.value="date",["month","year","date","week"].includes(ee.value)&&(J(C.value,!0),await Wr(),zt())),Re("month")},ht=async(Ie,nt)=>{if(ee.value==="year"){const le=C.value.startOf("year").year(Ie);C.value=tI(le,u.value,g),J(C.value,!1)}else if(ee.value==="years")J(Ie,nt??!0);else{const le=C.value.year(Ie);C.value=tI(le,u.value,g),re.value="month",["month","year","date","week"].includes(ee.value)&&(J(C.value,!0),await Wr(),zt())}Re("year")},je=async Ie=>{re.value=Ie,await Wr(),zt()},ze=pe(()=>r.type==="datetime"||r.type==="datetimerange"),ut=pe(()=>{const Ie=ze.value||ee.value==="dates",nt=ee.value==="years",le=ee.value==="months",Ee=re.value==="date",Fe=re.value==="year",He=re.value==="month";return Ie&&Ee||nt&&Fe||le&&He}),ct=pe(()=>g?r.parsedValue?lr(r.parsedValue)?g(r.parsedValue[0].toDate()):g(r.parsedValue.toDate()):!0:!1),mt=()=>{if(ae.value)J(r.parsedValue);else{let Ie=r.parsedValue;if(!Ie){const nt=$r(p).locale(u.value),le=Er();Ie=nt.year(le.year()).month(le.month()).date(le.date())}C.value=Ie,J(Ie)}},jt=pe(()=>g?g($r().locale(u.value).toDate()):!1),vt=()=>{const nt=$r().locale(u.value).toDate();T.value=!0,(!g||!g(nt))&&W(nt)&&(C.value=$r().locale(u.value),J(C.value))},se=pe(()=>r.timeFormat||vY(r.format)),Pe=pe(()=>r.dateFormat||gY(r.format)),tt=pe(()=>{if(ie.value)return ie.value;if(!(!r.parsedValue&&!b.value))return(r.parsedValue||C.value).format(se.value)}),et=pe(()=>{if(G.value)return G.value;if(!(!r.parsedValue&&!b.value))return(r.parsedValue||C.value).format(Pe.value)}),ot=ve(!1),St=()=>{ot.value=!0},Dt=()=>{ot.value=!1},_t=Ie=>({hour:Ie.hour(),minute:Ie.minute(),second:Ie.second(),year:Ie.year(),month:Ie.month(),date:Ie.date()}),Kt=(Ie,nt,le)=>{const{hour:Ee,minute:Fe,second:He}=_t(Ie),Ar=r.parsedValue?r.parsedValue.hour(Ee).minute(Fe).second(He):Ie;C.value=Ar,J(C.value,!0),le||(ot.value=nt)},Ut=Ie=>{const nt=$r(Ie,se.value).locale(u.value);if(nt.isValid()&&W(nt)){const{year:le,month:Ee,date:Fe}=_t(C.value);C.value=nt.year(le).month(Ee).date(Fe),ie.value=null,ot.value=!1,J(C.value,!0)}},lt=Ie=>{const nt=$r(Ie,Pe.value).locale(u.value);if(nt.isValid()){if(g&&g(nt.toDate()))return;const{hour:le,minute:Ee,second:Fe}=_t(C.value);C.value=nt.hour(le).minute(Ee).second(Fe),G.value=null,J(C.value,!0)}},kt=Ie=>$r.isDayjs(Ie)&&Ie.isValid()&&(g?!g(Ie.toDate()):!0),yt=Ie=>lr(Ie)?Ie.map(nt=>nt.format(r.format)):Ie.format(r.format),Pt=Ie=>$r(Ie,r.format).locale(u.value),Er=()=>{const Ie=$r(b.value).locale(u.value);if(!b.value){const nt=E.value;return $r().hour(nt.hour()).minute(nt.minute()).second(nt.second()).locale(u.value)}return Ie},zt=async()=>{var Ie;["week","month","year","date"].includes(ee.value)&&((Ie=S.value)==null||Ie.focus(),ee.value==="week"&&Ot(Zr.down))},xr=Ie=>{const{code:nt}=Ie;[Zr.up,Zr.down,Zr.left,Zr.right,Zr.home,Zr.end,Zr.pageUp,Zr.pageDown].includes(nt)&&(Ot(nt),Ie.stopPropagation(),Ie.preventDefault()),[Zr.enter,Zr.space,Zr.numpadEnter].includes(nt)&&G.value===null&&ie.value===null&&(Ie.preventDefault(),J(C.value,!1))},Ot=Ie=>{var nt;const{up:le,down:Ee,left:Fe,right:He,home:Ar,end:c,pageUp:$t,pageDown:ur}=Zr,he={year:{[le]:-4,[Ee]:4,[Fe]:-1,[He]:1,offset:(k,U)=>k.setFullYear(k.getFullYear()+U)},month:{[le]:-4,[Ee]:4,[Fe]:-1,[He]:1,offset:(k,U)=>k.setMonth(k.getMonth()+U)},week:{[le]:-1,[Ee]:1,[Fe]:-1,[He]:1,offset:(k,U)=>k.setDate(k.getDate()+U*7)},date:{[le]:-7,[Ee]:7,[Fe]:-1,[He]:1,[Ar]:k=>-k.getDay(),[c]:k=>-k.getDay()+6,[$t]:k=>-new Date(k.getFullYear(),k.getMonth(),0).getDate(),[ur]:k=>new Date(k.getFullYear(),k.getMonth()+1,0).getDate(),offset:(k,U)=>k.setDate(k.getDate()+U)}},w=C.value.toDate();for(;Math.abs(C.value.diff(w,"year",!0))<1;){const k=he[be.value];if(!k)return;if(k.offset(w,Lr(k[Ie])?k[Ie](w):(nt=k[Ie])!=null?nt:0),g&&g(w))break;const U=$r(w).locale(u.value);C.value=U,e("pick",U,!0);break}},Re=Ie=>{e("panel-change",C.value.toDate(),Ie,re.value)};return Yt(()=>ee.value,Ie=>{if(["month","year"].includes(Ie)){re.value=Ie;return}else if(Ie==="years"){re.value="year";return}else if(Ie==="months"){re.value="month";return}re.value="date"},{immediate:!0}),Yt(()=>re.value,()=>{f==null||f.updatePopper()}),Yt(()=>b.value,Ie=>{Ie&&(C.value=Er())},{immediate:!0}),Yt(()=>r.parsedValue,Ie=>{if(Ie){if(ae.value||Array.isArray(Ie))return;C.value=Ie}else C.value=Er()},{immediate:!0}),e("set-picker-option",["isValidValue",kt]),e("set-picker-option",["formatToString",yt]),e("set-picker-option",["parseUserInput",Pt]),e("set-picker-option",["handleFocusPicker",zt]),(Ie,nt)=>(me(),$e("div",{class:Se([_(i).b(),_(s).b(),{"has-sidebar":Ie.$slots.sidebar||_(Me),"has-time":_(ze)}])},[Ue("div",{class:Se(_(i).e("body-wrapper"))},[Ft(Ie.$slots,"sidebar",{class:Se(_(i).e("sidebar"))}),_(Me)?(me(),$e("div",{key:0,class:Se(_(i).e("sidebar"))},[(me(!0),$e(Sr,null,mi(_(h),(le,Ee)=>(me(),$e("button",{key:Ee,type:"button",class:Se(_(i).e("shortcut")),onClick:Fe=>H(le)},cr(le.text),11,["onClick"]))),128))],2)):gt("v-if",!0),Ue("div",{class:Se(_(i).e("body"))},[_(ze)?(me(),$e("div",{key:0,class:Se(_(s).e("time-header"))},[Ue("span",{class:Se(_(s).e("editor-wrap"))},[F(_(ji),{placeholder:_(l)("el.datepicker.selectDate"),"model-value":_(et),size:"small","validate-event":!1,onInput:le=>G.value=le,onChange:lt},null,8,["placeholder","model-value","onInput"])],2),wn((me(),$e("span",{class:Se(_(s).e("editor-wrap"))},[F(_(ji),{placeholder:_(l)("el.datepicker.selectTime"),"model-value":_(tt),size:"small","validate-event":!1,onFocus:St,onInput:le=>ie.value=le,onChange:Ut},null,8,["placeholder","model-value","onInput"]),F(_(Kk),{visible:ot.value,format:_(se),"parsed-value":C.value,onPick:Kt},null,8,["visible","format","parsed-value"])],2)),[[_(_m),Dt]])],2)):gt("v-if",!0),wn(Ue("div",{class:Se([_(s).e("header"),(re.value==="year"||re.value==="month")&&_(s).e("header--bordered")])},[Ue("span",{class:Se(_(s).e("prev-btn"))},[Ue("button",{type:"button","aria-label":_(l)("el.datepicker.prevYear"),class:Se(["d-arrow-left",_(i).e("icon-btn")]),onClick:le=>z(!1)},[Ft(Ie.$slots,"prev-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(hp))]),_:1})])],10,["aria-label","onClick"]),wn(Ue("button",{type:"button","aria-label":_(l)("el.datepicker.prevMonth"),class:Se([_(i).e("icon-btn"),"arrow-left"]),onClick:le=>R(!1)},[Ft(Ie.$slots,"prev-month",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(gm))]),_:1})])],10,["aria-label","onClick"]),[[Ai,re.value==="date"]])],2),Ue("span",{role:"button",class:Se(_(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Li(le=>je("year"),["enter"]),onClick:le=>je("year")},cr(_(oe)),43,["onKeydown","onClick"]),wn(Ue("span",{role:"button","aria-live":"polite",tabindex:"0",class:Se([_(s).e("header-label"),{active:re.value==="month"}]),onKeydown:Li(le=>je("month"),["enter"]),onClick:le=>je("month")},cr(_(l)(`el.datepicker.month${_(I)+1}`)),43,["onKeydown","onClick"]),[[Ai,re.value==="date"]]),Ue("span",{class:Se(_(s).e("next-btn"))},[wn(Ue("button",{type:"button","aria-label":_(l)("el.datepicker.nextMonth"),class:Se([_(i).e("icon-btn"),"arrow-right"]),onClick:le=>R(!0)},[Ft(Ie.$slots,"next-month",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(Tu))]),_:1})])],10,["aria-label","onClick"]),[[Ai,re.value==="date"]]),Ue("button",{type:"button","aria-label":_(l)("el.datepicker.nextYear"),class:Se([_(i).e("icon-btn"),"d-arrow-right"]),onClick:le=>z(!0)},[Ft(Ie.$slots,"next-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(pp))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[Ai,re.value!=="time"]]),Ue("div",{class:Se(_(i).e("content")),onKeydown:xr},[re.value==="date"?(me(),Ct(nI,{key:0,ref_key:"currentViewRef",ref:S,"selection-mode":_(ee),date:C.value,"parsed-value":Ie.parsedValue,"disabled-date":_(g),"cell-class-name":_(v),onPick:X},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):gt("v-if",!0),re.value==="year"?(me(),Ct(sI,{key:1,ref_key:"currentViewRef",ref:S,"selection-mode":_(ee),date:C.value,"disabled-date":_(g),"parsed-value":Ie.parsedValue,onPick:ht},null,8,["selection-mode","date","disabled-date","parsed-value"])):gt("v-if",!0),re.value==="month"?(me(),Ct(iI,{key:2,ref_key:"currentViewRef",ref:S,"selection-mode":_(ee),date:C.value,"parsed-value":Ie.parsedValue,"disabled-date":_(g),onPick:Qe},null,8,["selection-mode","date","parsed-value","disabled-date"])):gt("v-if",!0)],34)],2)],2),wn(Ue("div",{class:Se(_(i).e("footer"))},[wn(F(_(Bn),{text:"",size:"small",class:Se(_(i).e("link-btn")),disabled:_(jt),onClick:vt},{default:te(()=>[Et(cr(_(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Ai,!_(ae)]]),F(_(Bn),{plain:"",size:"small",class:Se(_(i).e("link-btn")),disabled:_(ct),onClick:mt},{default:te(()=>[Et(cr(_(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Ai,_(ut)]])],2))}});var kTe=Ir(PTe,[["__file","panel-date-pick.vue"]]);const ITe=kr({...tK,...IO,visible:Boolean}),rK=t=>{const{emit:e}=Dn(),r=fy(),n=bl();return s=>{const o=Lr(s.value)?s.value():s.value;if(o){e("pick",[$r(o[0]).locale(t.value),$r(o[1]).locale(t.value)]);return}s.onClick&&s.onClick({attrs:r,slots:n,emit:e})}},nK=(t,{defaultValue:e,leftDate:r,rightDate:n,unit:i,onParsedValueChanged:s})=>{const{emit:o}=Dn(),{pickerNs:a}=Mr(hE),l=sr("date-range-picker"),{t:u,lang:d}=Si(),f=rK(d),h=ve(),g=ve(),v=ve({endDate:null,selecting:!1}),p=A=>{v.value=A},b=(A=!1)=>{const E=_(h),I=_(g);Pv([E,I])&&o("pick",[E,I],A)},S=A=>{v.value.selecting=A,A||(v.value.endDate=null)},C=A=>{if(lr(A)&&A.length===2){const[E,I]=A;h.value=E,r.value=E,g.value=I,s(_(h),_(g))}else T()},T=()=>{const[A,E]=RO(_(e),{lang:_(d),unit:i,unlinkPanels:t.unlinkPanels});h.value=void 0,g.value=void 0,r.value=A,n.value=E};return Yt(e,A=>{A&&T()},{immediate:!0}),Yt(()=>t.parsedValue,C,{immediate:!0}),{minDate:h,maxDate:g,rangeState:v,lang:d,ppNs:a,drpNs:l,handleChangeRange:p,handleRangeConfirm:b,handleShortcutClick:f,onSelect:S,onReset:C,t:u}},wx="month",DTe=rt({__name:"panel-date-range",props:ITe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const r=t,n=Mr("EP_PICKER_BASE"),{disabledDate:i,cellClassName:s,defaultTime:o,clearable:a}=n.props,l=ms(n.props,"format"),u=ms(n.props,"shortcuts"),d=ms(n.props,"defaultValue"),{lang:f}=Si(),h=ve($r().locale(f.value)),g=ve($r().locale(f.value).add(1,wx)),{minDate:v,maxDate:p,rangeState:b,ppNs:S,drpNs:C,handleChangeRange:T,handleRangeConfirm:A,handleShortcutClick:E,onSelect:I,onReset:O,t:N}=nK(r,{defaultValue:d,leftDate:h,rightDate:g,unit:wx,onParsedValueChanged:nt});Yt(()=>r.visible,le=>{!le&&b.value.selecting&&(O(r.parsedValue),I(!1))});const G=ve({min:null,max:null}),ie=ve({min:null,max:null}),W=pe(()=>`${h.value.year()} ${N("el.datepicker.year")} ${N(`el.datepicker.month${h.value.month()+1}`)}`),q=pe(()=>`${g.value.year()} ${N("el.datepicker.year")} ${N(`el.datepicker.month${g.value.month()+1}`)}`),J=pe(()=>h.value.year()),X=pe(()=>h.value.month()),R=pe(()=>g.value.year()),z=pe(()=>g.value.month()),re=pe(()=>!!u.value.length),oe=pe(()=>G.value.min!==null?G.value.min:v.value?v.value.format(Me.value):""),H=pe(()=>G.value.max!==null?G.value.max:p.value||v.value?(p.value||v.value).format(Me.value):""),ee=pe(()=>ie.value.min!==null?ie.value.min:v.value?v.value.format(be.value):""),ae=pe(()=>ie.value.max!==null?ie.value.max:p.value||v.value?(p.value||v.value).format(be.value):""),be=pe(()=>r.timeFormat||vY(l.value)),Me=pe(()=>r.dateFormat||gY(l.value)),Qe=le=>Pv(le)&&(i?!i(le[0].toDate())&&!i(le[1].toDate()):!0),ht=()=>{h.value=h.value.subtract(1,"year"),r.unlinkPanels||(g.value=h.value.add(1,"month")),se("year")},je=()=>{h.value=h.value.subtract(1,"month"),r.unlinkPanels||(g.value=h.value.add(1,"month")),se("month")},ze=()=>{r.unlinkPanels?g.value=g.value.add(1,"year"):(h.value=h.value.add(1,"year"),g.value=h.value.add(1,"month")),se("year")},ut=()=>{r.unlinkPanels?g.value=g.value.add(1,"month"):(h.value=h.value.add(1,"month"),g.value=h.value.add(1,"month")),se("month")},ct=()=>{h.value=h.value.add(1,"year"),se("year")},mt=()=>{h.value=h.value.add(1,"month"),se("month")},jt=()=>{g.value=g.value.subtract(1,"year"),se("year")},vt=()=>{g.value=g.value.subtract(1,"month"),se("month")},se=le=>{e("panel-change",[h.value.toDate(),g.value.toDate()],le)},Pe=pe(()=>{const le=(X.value+1)%12,Ee=X.value+1>=12?1:0;return r.unlinkPanels&&new Date(J.value+Ee,le)<new Date(R.value,z.value)}),tt=pe(()=>r.unlinkPanels&&R.value*12+z.value-(J.value*12+X.value+1)>=12),et=pe(()=>!(v.value&&p.value&&!b.value.selecting&&Pv([v.value,p.value]))),ot=pe(()=>r.type==="datetime"||r.type==="datetimerange"),St=(le,Ee)=>{if(le)return o?$r(o[Ee]||o).locale(f.value).year(le.year()).month(le.month()).date(le.date()):le},Dt=(le,Ee=!0)=>{const Fe=le.minDate,He=le.maxDate,Ar=St(Fe,0),c=St(He,1);p.value===c&&v.value===Ar||(e("calendar-change",[Fe.toDate(),He&&He.toDate()]),p.value=c,v.value=Ar,!(!Ee||ot.value)&&A())},_t=ve(!1),Kt=ve(!1),Ut=()=>{_t.value=!1},lt=()=>{Kt.value=!1},kt=(le,Ee)=>{G.value[Ee]=le;const Fe=$r(le,Me.value).locale(f.value);if(Fe.isValid()){if(i&&i(Fe.toDate()))return;Ee==="min"?(h.value=Fe,v.value=(v.value||h.value).year(Fe.year()).month(Fe.month()).date(Fe.date()),!r.unlinkPanels&&(!p.value||p.value.isBefore(v.value))&&(g.value=Fe.add(1,"month"),p.value=v.value.add(1,"month"))):(g.value=Fe,p.value=(p.value||g.value).year(Fe.year()).month(Fe.month()).date(Fe.date()),!r.unlinkPanels&&(!v.value||v.value.isAfter(p.value))&&(h.value=Fe.subtract(1,"month"),v.value=p.value.subtract(1,"month")))}},yt=(le,Ee)=>{G.value[Ee]=null},Pt=(le,Ee)=>{ie.value[Ee]=le;const Fe=$r(le,be.value).locale(f.value);Fe.isValid()&&(Ee==="min"?(_t.value=!0,v.value=(v.value||h.value).hour(Fe.hour()).minute(Fe.minute()).second(Fe.second())):(Kt.value=!0,p.value=(p.value||g.value).hour(Fe.hour()).minute(Fe.minute()).second(Fe.second()),g.value=p.value))},Er=(le,Ee)=>{ie.value[Ee]=null,Ee==="min"?(h.value=v.value,_t.value=!1,(!p.value||p.value.isBefore(v.value))&&(p.value=v.value)):(g.value=p.value,Kt.value=!1,p.value&&p.value.isBefore(v.value)&&(v.value=p.value))},zt=(le,Ee,Fe)=>{ie.value.min||(le&&(h.value=le,v.value=(v.value||h.value).hour(le.hour()).minute(le.minute()).second(le.second())),Fe||(_t.value=Ee),(!p.value||p.value.isBefore(v.value))&&(p.value=v.value,g.value=le))},xr=(le,Ee,Fe)=>{ie.value.max||(le&&(g.value=le,p.value=(p.value||g.value).hour(le.hour()).minute(le.minute()).second(le.second())),Fe||(Kt.value=Ee),p.value&&p.value.isBefore(v.value)&&(v.value=p.value))},Ot=()=>{h.value=RO(_(d),{lang:_(f),unit:"month",unlinkPanels:r.unlinkPanels})[0],g.value=h.value.add(1,"month"),p.value=void 0,v.value=void 0,e("pick",null)},Re=le=>lr(le)?le.map(Ee=>Ee.format(l.value)):le.format(l.value),Ie=le=>lr(le)?le.map(Ee=>$r(Ee,l.value).locale(f.value)):$r(le,l.value).locale(f.value);function nt(le,Ee){if(r.unlinkPanels&&Ee){const Fe=(le==null?void 0:le.year())||0,He=(le==null?void 0:le.month())||0,Ar=Ee.year(),c=Ee.month();g.value=Fe===Ar&&He===c?Ee.add(1,wx):Ee}else g.value=h.value.add(1,wx),Ee&&(g.value=g.value.hour(Ee.hour()).minute(Ee.minute()).second(Ee.second()))}return e("set-picker-option",["isValidValue",Qe]),e("set-picker-option",["parseUserInput",Ie]),e("set-picker-option",["formatToString",Re]),e("set-picker-option",["handleClear",Ot]),(le,Ee)=>(me(),$e("div",{class:Se([_(S).b(),_(C).b(),{"has-sidebar":le.$slots.sidebar||_(re),"has-time":_(ot)}])},[Ue("div",{class:Se(_(S).e("body-wrapper"))},[Ft(le.$slots,"sidebar",{class:Se(_(S).e("sidebar"))}),_(re)?(me(),$e("div",{key:0,class:Se(_(S).e("sidebar"))},[(me(!0),$e(Sr,null,mi(_(u),(Fe,He)=>(me(),$e("button",{key:He,type:"button",class:Se(_(S).e("shortcut")),onClick:Ar=>_(E)(Fe)},cr(Fe.text),11,["onClick"]))),128))],2)):gt("v-if",!0),Ue("div",{class:Se(_(S).e("body"))},[_(ot)?(me(),$e("div",{key:0,class:Se(_(C).e("time-header"))},[Ue("span",{class:Se(_(C).e("editors-wrap"))},[Ue("span",{class:Se(_(C).e("time-picker-wrap"))},[F(_(ji),{size:"small",disabled:_(b).selecting,placeholder:_(N)("el.datepicker.startDate"),class:Se(_(C).e("editor")),"model-value":_(oe),"validate-event":!1,onInput:Fe=>kt(Fe,"min"),onChange:Fe=>yt(Fe,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),wn((me(),$e("span",{class:Se(_(C).e("time-picker-wrap"))},[F(_(ji),{size:"small",class:Se(_(C).e("editor")),disabled:_(b).selecting,placeholder:_(N)("el.datepicker.startTime"),"model-value":_(ee),"validate-event":!1,onFocus:Fe=>_t.value=!0,onInput:Fe=>Pt(Fe,"min"),onChange:Fe=>Er(Fe,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),F(_(Kk),{visible:_t.value,format:_(be),"datetime-role":"start","parsed-value":h.value,onPick:zt},null,8,["visible","format","parsed-value"])],2)),[[_(_m),Ut]])],2),Ue("span",null,[F(_(Rr),null,{default:te(()=>[F(_(Tu))]),_:1})]),Ue("span",{class:Se([_(C).e("editors-wrap"),"is-right"])},[Ue("span",{class:Se(_(C).e("time-picker-wrap"))},[F(_(ji),{size:"small",class:Se(_(C).e("editor")),disabled:_(b).selecting,placeholder:_(N)("el.datepicker.endDate"),"model-value":_(H),readonly:!_(v),"validate-event":!1,onInput:Fe=>kt(Fe,"max"),onChange:Fe=>yt(Fe,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),wn((me(),$e("span",{class:Se(_(C).e("time-picker-wrap"))},[F(_(ji),{size:"small",class:Se(_(C).e("editor")),disabled:_(b).selecting,placeholder:_(N)("el.datepicker.endTime"),"model-value":_(ae),readonly:!_(v),"validate-event":!1,onFocus:Fe=>_(v)&&(Kt.value=!0),onInput:Fe=>Pt(Fe,"max"),onChange:Fe=>Er(Fe,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),F(_(Kk),{"datetime-role":"end",visible:Kt.value,format:_(be),"parsed-value":g.value,onPick:xr},null,8,["visible","format","parsed-value"])],2)),[[_(_m),lt]])],2)],2)):gt("v-if",!0),Ue("div",{class:Se([[_(S).e("content"),_(C).e("content")],"is-left"])},[Ue("div",{class:Se(_(C).e("header"))},[Ue("button",{type:"button",class:Se([_(S).e("icon-btn"),"d-arrow-left"]),"aria-label":_(N)("el.datepicker.prevYear"),onClick:ht},[Ft(le.$slots,"prev-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(hp))]),_:1})])],10,["aria-label"]),Ue("button",{type:"button",class:Se([_(S).e("icon-btn"),"arrow-left"]),"aria-label":_(N)("el.datepicker.prevMonth"),onClick:je},[Ft(le.$slots,"prev-month",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(gm))]),_:1})])],10,["aria-label"]),le.unlinkPanels?(me(),$e("button",{key:0,type:"button",disabled:!_(tt),class:Se([[_(S).e("icon-btn"),{"is-disabled":!_(tt)}],"d-arrow-right"]),"aria-label":_(N)("el.datepicker.nextYear"),onClick:ct},[Ft(le.$slots,"next-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(pp))]),_:1})])],10,["disabled","aria-label"])):gt("v-if",!0),le.unlinkPanels?(me(),$e("button",{key:1,type:"button",disabled:!_(Pe),class:Se([[_(S).e("icon-btn"),{"is-disabled":!_(Pe)}],"arrow-right"]),"aria-label":_(N)("el.datepicker.nextMonth"),onClick:mt},[Ft(le.$slots,"next-month",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(Tu))]),_:1})])],10,["disabled","aria-label"])):gt("v-if",!0),Ue("div",null,cr(_(W)),1)],2),F(nI,{"selection-mode":"range",date:h.value,"min-date":_(v),"max-date":_(p),"range-state":_(b),"disabled-date":_(i),"cell-class-name":_(s),onChangerange:_(T),onPick:Dt,onSelect:_(I)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Ue("div",{class:Se([[_(S).e("content"),_(C).e("content")],"is-right"])},[Ue("div",{class:Se(_(C).e("header"))},[le.unlinkPanels?(me(),$e("button",{key:0,type:"button",disabled:!_(tt),class:Se([[_(S).e("icon-btn"),{"is-disabled":!_(tt)}],"d-arrow-left"]),"aria-label":_(N)("el.datepicker.prevYear"),onClick:jt},[Ft(le.$slots,"prev-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(hp))]),_:1})])],10,["disabled","aria-label"])):gt("v-if",!0),le.unlinkPanels?(me(),$e("button",{key:1,type:"button",disabled:!_(Pe),class:Se([[_(S).e("icon-btn"),{"is-disabled":!_(Pe)}],"arrow-left"]),"aria-label":_(N)("el.datepicker.prevMonth"),onClick:vt},[Ft(le.$slots,"prev-month",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(gm))]),_:1})])],10,["disabled","aria-label"])):gt("v-if",!0),Ue("button",{type:"button","aria-label":_(N)("el.datepicker.nextYear"),class:Se([_(S).e("icon-btn"),"d-arrow-right"]),onClick:ze},[Ft(le.$slots,"next-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(pp))]),_:1})])],10,["aria-label"]),Ue("button",{type:"button",class:Se([_(S).e("icon-btn"),"arrow-right"]),"aria-label":_(N)("el.datepicker.nextMonth"),onClick:ut},[Ft(le.$slots,"next-month",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(Tu))]),_:1})])],10,["aria-label"]),Ue("div",null,cr(_(q)),1)],2),F(nI,{"selection-mode":"range",date:g.value,"min-date":_(v),"max-date":_(p),"range-state":_(b),"disabled-date":_(i),"cell-class-name":_(s),onChangerange:_(T),onPick:Dt,onSelect:_(I)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),_(ot)?(me(),$e("div",{key:0,class:Se(_(S).e("footer"))},[_(a)?(me(),Ct(_(Bn),{key:0,text:"",size:"small",class:Se(_(S).e("link-btn")),onClick:Ot},{default:te(()=>[Et(cr(_(N)("el.datepicker.clear")),1)]),_:1},8,["class"])):gt("v-if",!0),F(_(Bn),{plain:"",size:"small",class:Se(_(S).e("link-btn")),disabled:_(et),onClick:Fe=>_(A)(!1)},{default:te(()=>[Et(cr(_(N)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):gt("v-if",!0)],2))}});var RTe=Ir(DTe,[["__file","panel-date-range.vue"]]);const MTe=kr({...IO}),OTe=["pick","set-picker-option","calendar-change"],$Te=({unlinkPanels:t,leftDate:e,rightDate:r})=>{const{t:n}=Si(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(r.value=r.value.subtract(1,"year"))},s=()=>{t.value||(e.value=e.value.add(1,"year")),r.value=r.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},a=()=>{r.value=r.value.subtract(1,"year")},l=pe(()=>`${e.value.year()} ${n("el.datepicker.year")}`),u=pe(()=>`${r.value.year()} ${n("el.datepicker.year")}`),d=pe(()=>e.value.year()),f=pe(()=>r.value.year()===e.value.year()?e.value.year()+1:r.value.year());return{leftPrevYear:i,rightNextYear:s,leftNextYear:o,rightPrevYear:a,leftLabel:l,rightLabel:u,leftYear:d,rightYear:f}},Sx="year",LTe=rt({name:"DatePickerMonthRange"}),FTe=rt({...LTe,props:MTe,emits:OTe,setup(t,{emit:e}){const r=t,{lang:n}=Si(),i=Mr("EP_PICKER_BASE"),{shortcuts:s,disabledDate:o}=i.props,a=ms(i.props,"format"),l=ms(i.props,"defaultValue"),u=ve($r().locale(n.value)),d=ve($r().locale(n.value).add(1,Sx)),{minDate:f,maxDate:h,rangeState:g,ppNs:v,drpNs:p,handleChangeRange:b,handleRangeConfirm:S,handleShortcutClick:C,onSelect:T}=nK(r,{defaultValue:l,leftDate:u,rightDate:d,unit:Sx,onParsedValueChanged:oe}),A=pe(()=>!!s.length),{leftPrevYear:E,rightNextYear:I,leftNextYear:O,rightPrevYear:N,leftLabel:G,rightLabel:ie,leftYear:W,rightYear:q}=$Te({unlinkPanels:ms(r,"unlinkPanels"),leftDate:u,rightDate:d}),J=pe(()=>r.unlinkPanels&&q.value>W.value+1),X=(H,ee=!0)=>{const ae=H.minDate,be=H.maxDate;h.value===be&&f.value===ae||(e("calendar-change",[ae.toDate(),be&&be.toDate()]),h.value=be,f.value=ae,ee&&S())},R=()=>{u.value=RO(_(l),{lang:_(n),unit:"year",unlinkPanels:r.unlinkPanels})[0],d.value=u.value.add(1,"year"),e("pick",null)},z=H=>lr(H)?H.map(ee=>ee.format(a.value)):H.format(a.value),re=H=>lr(H)?H.map(ee=>$r(ee,a.value).locale(n.value)):$r(H,a.value).locale(n.value);function oe(H,ee){if(r.unlinkPanels&&ee){const ae=(H==null?void 0:H.year())||0,be=ee.year();d.value=ae===be?ee.add(1,Sx):ee}else d.value=u.value.add(1,Sx)}return e("set-picker-option",["isValidValue",Pv]),e("set-picker-option",["formatToString",z]),e("set-picker-option",["parseUserInput",re]),e("set-picker-option",["handleClear",R]),(H,ee)=>(me(),$e("div",{class:Se([_(v).b(),_(p).b(),{"has-sidebar":!!H.$slots.sidebar||_(A)}])},[Ue("div",{class:Se(_(v).e("body-wrapper"))},[Ft(H.$slots,"sidebar",{class:Se(_(v).e("sidebar"))}),_(A)?(me(),$e("div",{key:0,class:Se(_(v).e("sidebar"))},[(me(!0),$e(Sr,null,mi(_(s),(ae,be)=>(me(),$e("button",{key:be,type:"button",class:Se(_(v).e("shortcut")),onClick:Me=>_(C)(ae)},cr(ae.text),11,["onClick"]))),128))],2)):gt("v-if",!0),Ue("div",{class:Se(_(v).e("body"))},[Ue("div",{class:Se([[_(v).e("content"),_(p).e("content")],"is-left"])},[Ue("div",{class:Se(_(p).e("header"))},[Ue("button",{type:"button",class:Se([_(v).e("icon-btn"),"d-arrow-left"]),onClick:_(E)},[Ft(H.$slots,"prev-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(hp))]),_:1})])],10,["onClick"]),H.unlinkPanels?(me(),$e("button",{key:0,type:"button",disabled:!_(J),class:Se([[_(v).e("icon-btn"),{[_(v).is("disabled")]:!_(J)}],"d-arrow-right"]),onClick:_(O)},[Ft(H.$slots,"next-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(pp))]),_:1})])],10,["disabled","onClick"])):gt("v-if",!0),Ue("div",null,cr(_(G)),1)],2),F(iI,{"selection-mode":"range",date:u.value,"min-date":_(f),"max-date":_(h),"range-state":_(g),"disabled-date":_(o),onChangerange:_(b),onPick:X,onSelect:_(T)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Ue("div",{class:Se([[_(v).e("content"),_(p).e("content")],"is-right"])},[Ue("div",{class:Se(_(p).e("header"))},[H.unlinkPanels?(me(),$e("button",{key:0,type:"button",disabled:!_(J),class:Se([[_(v).e("icon-btn"),{"is-disabled":!_(J)}],"d-arrow-left"]),onClick:_(N)},[Ft(H.$slots,"prev-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(hp))]),_:1})])],10,["disabled","onClick"])):gt("v-if",!0),Ue("button",{type:"button",class:Se([_(v).e("icon-btn"),"d-arrow-right"]),onClick:_(I)},[Ft(H.$slots,"next-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(pp))]),_:1})])],10,["onClick"]),Ue("div",null,cr(_(ie)),1)],2),F(iI,{"selection-mode":"range",date:d.value,"min-date":_(f),"max-date":_(h),"range-state":_(g),"disabled-date":_(o),onChangerange:_(b),onPick:X,onSelect:_(T)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var NTe=Ir(FTe,[["__file","panel-month-range.vue"]]);const BTe=kr({...IO}),UTe=["pick","set-picker-option","calendar-change"],VTe=({unlinkPanels:t,leftDate:e,rightDate:r})=>{const n=()=>{e.value=e.value.subtract(10,"year"),t.value||(r.value=r.value.subtract(10,"year"))},i=()=>{t.value||(e.value=e.value.add(10,"year")),r.value=r.value.add(10,"year")},s=()=>{e.value=e.value.add(10,"year")},o=()=>{r.value=r.value.subtract(10,"year")},a=pe(()=>{const f=Math.floor(e.value.year()/10)*10;return`${f}-${f+9}`}),l=pe(()=>{const f=Math.floor(r.value.year()/10)*10;return`${f}-${f+9}`}),u=pe(()=>Math.floor(e.value.year()/10)*10+9),d=pe(()=>Math.floor(r.value.year()/10)*10);return{leftPrevYear:n,rightNextYear:i,leftNextYear:s,rightPrevYear:o,leftLabel:a,rightLabel:l,leftYear:u,rightYear:d}},nB="year",zTe=rt({name:"DatePickerYearRange"}),HTe=rt({...zTe,props:BTe,emits:UTe,setup(t,{emit:e}){const r=t,{lang:n}=Si(),i=ve($r().locale(n.value)),s=ve(i.value.add(10,"year")),{pickerNs:o}=Mr(hE),a=sr("date-range-picker"),l=pe(()=>!!X.length),u=pe(()=>[o.b(),a.b(),{"has-sidebar":!!bl().sidebar||l.value}]),d=pe(()=>({content:[o.e("content"),a.e("content"),"is-left"],arrowLeftBtn:[o.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),{[o.is("disabled")]:!E.value},"d-arrow-right"]})),f=pe(()=>({content:[o.e("content"),a.e("content"),"is-right"],arrowLeftBtn:[o.e("icon-btn"),{"is-disabled":!E.value},"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),"d-arrow-right"]})),h=rK(n),{leftPrevYear:g,rightNextYear:v,leftNextYear:p,rightPrevYear:b,leftLabel:S,rightLabel:C,leftYear:T,rightYear:A}=VTe({unlinkPanels:ms(r,"unlinkPanels"),leftDate:i,rightDate:s}),E=pe(()=>r.unlinkPanels&&A.value>T.value+1),I=ve(),O=ve(),N=ve({endDate:null,selecting:!1}),G=Me=>{N.value=Me},ie=(Me,Qe=!0)=>{const ht=Me.minDate,je=Me.maxDate;O.value===je&&I.value===ht||(e("calendar-change",[ht.toDate(),je&&je.toDate()]),O.value=je,I.value=ht,Qe&&W())},W=(Me=!1)=>{Pv([I.value,O.value])&&e("pick",[I.value,O.value],Me)},q=Me=>{N.value.selecting=Me,Me||(N.value.endDate=null)},J=Mr("EP_PICKER_BASE"),{shortcuts:X,disabledDate:R}=J.props,z=ms(J.props,"format"),re=ms(J.props,"defaultValue"),oe=()=>{let Me;if(lr(re.value)){const Qe=$r(re.value[0]);let ht=$r(re.value[1]);return r.unlinkPanels||(ht=Qe.add(10,nB)),[Qe,ht]}else re.value?Me=$r(re.value):Me=$r();return Me=Me.locale(n.value),[Me,Me.add(10,nB)]};Yt(()=>re.value,Me=>{if(Me){const Qe=oe();i.value=Qe[0],s.value=Qe[1]}},{immediate:!0}),Yt(()=>r.parsedValue,Me=>{if(Me&&Me.length===2)if(I.value=Me[0],O.value=Me[1],i.value=I.value,r.unlinkPanels&&O.value){const Qe=I.value.year(),ht=O.value.year();s.value=Qe===ht?O.value.add(10,"year"):O.value}else s.value=i.value.add(10,"year");else{const Qe=oe();I.value=void 0,O.value=void 0,i.value=Qe[0],s.value=Qe[1]}},{immediate:!0});const H=Me=>lr(Me)?Me.map(Qe=>$r(Qe,z.value).locale(n.value)):$r(Me,z.value).locale(n.value),ee=Me=>lr(Me)?Me.map(Qe=>Qe.format(z.value)):Me.format(z.value),ae=Me=>Pv(Me)&&(R?!R(Me[0].toDate())&&!R(Me[1].toDate()):!0),be=()=>{const Me=oe();i.value=Me[0],s.value=Me[1],O.value=void 0,I.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",ae]),e("set-picker-option",["parseUserInput",H]),e("set-picker-option",["formatToString",ee]),e("set-picker-option",["handleClear",be]),(Me,Qe)=>(me(),$e("div",{class:Se(_(u))},[Ue("div",{class:Se(_(o).e("body-wrapper"))},[Ft(Me.$slots,"sidebar",{class:Se(_(o).e("sidebar"))}),_(l)?(me(),$e("div",{key:0,class:Se(_(o).e("sidebar"))},[(me(!0),$e(Sr,null,mi(_(X),(ht,je)=>(me(),$e("button",{key:je,type:"button",class:Se(_(o).e("shortcut")),onClick:ze=>_(h)(ht)},cr(ht.text),11,["onClick"]))),128))],2)):gt("v-if",!0),Ue("div",{class:Se(_(o).e("body"))},[Ue("div",{class:Se(_(d).content)},[Ue("div",{class:Se(_(a).e("header"))},[Ue("button",{type:"button",class:Se(_(d).arrowLeftBtn),onClick:_(g)},[Ft(Me.$slots,"prev-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(hp))]),_:1})])],10,["onClick"]),Me.unlinkPanels?(me(),$e("button",{key:0,type:"button",disabled:!_(E),class:Se(_(d).arrowRightBtn),onClick:_(p)},[Ft(Me.$slots,"next-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(pp))]),_:1})])],10,["disabled","onClick"])):gt("v-if",!0),Ue("div",null,cr(_(S)),1)],2),F(sI,{"selection-mode":"range",date:i.value,"min-date":I.value,"max-date":O.value,"range-state":N.value,"disabled-date":_(R),onChangerange:G,onPick:ie,onSelect:q},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Ue("div",{class:Se(_(f).content)},[Ue("div",{class:Se(_(a).e("header"))},[Me.unlinkPanels?(me(),$e("button",{key:0,type:"button",disabled:!_(E),class:Se(_(f).arrowLeftBtn),onClick:_(b)},[Ft(Me.$slots,"prev-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(hp))]),_:1})])],10,["disabled","onClick"])):gt("v-if",!0),Ue("button",{type:"button",class:Se(_(f).arrowRightBtn),onClick:_(v)},[Ft(Me.$slots,"next-year",{},()=>[F(_(Rr),null,{default:te(()=>[F(_(pp))]),_:1})])],10,["onClick"]),Ue("div",null,cr(_(C)),1)],2),F(sI,{"selection-mode":"range",date:s.value,"min-date":I.value,"max-date":O.value,"range-state":N.value,"disabled-date":_(R),onChangerange:G,onPick:ie,onSelect:q},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var jTe=Ir(HTe,[["__file","panel-year-range.vue"]]);const GTe=function(t){switch(t){case"daterange":case"datetimerange":return RTe;case"monthrange":return NTe;case"yearrange":return jTe;default:return kTe}};$r.extend(Twe);$r.extend(nTe);$r.extend(Jxe);$r.extend(sTe);$r.extend(aTe);$r.extend(uTe);$r.extend(dTe);$r.extend(hTe);var WTe=rt({name:"ElDatePicker",install:null,props:pTe,emits:["update:modelValue"],setup(t,{expose:e,emit:r,slots:n}){const i=sr("picker-panel");bi("ElPopperOptions",an(ms(t,"popperOptions"))),bi(hE,{slots:n,pickerNs:i});const s=ve();e({focus:(l=!0)=>{var u;(u=s.value)==null||u.focus(l)},handleOpen:()=>{var l;(l=s.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=s.value)==null||l.handleClose()}});const a=l=>{r("update:modelValue",l)};return()=>{var l;const u=(l=t.format)!=null?l:ewe[t.type]||Ig,d=GTe(t.type);return F(iwe,vo(t,{format:u,type:t.type,ref:s,"onUpdate:modelValue":a}),{default:f=>F(d,f,{"prev-month":n["prev-month"],"next-month":n["next-month"],"prev-year":n["prev-year"],"next-year":n["next-year"]}),"range-separator":n["range-separator"]})}}});const iK=gi(WTe),qTe=kr({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Bt([String,Array,Object])},zIndex:{type:Bt([String,Number])}}),XTe={click:t=>t instanceof MouseEvent},YTe="overlay";var KTe=rt({name:"ElOverlay",props:qTe,emits:XTe,setup(t,{slots:e,emit:r}){const n=sr(YTe),i=l=>{r("click",l)},{onClick:s,onMousedown:o,onMouseup:a}=_O(t.customMaskEvent?void 0:i);return()=>t.mask?F("div",{class:[n.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:s,onMousedown:o,onMouseup:a},[Ft(e,"default")],Yw.STYLE|Yw.CLASS|Yw.PROPS,["onClick","onMouseup","onMousedown"]):br("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ft(e,"default")])}});const OO=KTe,sK=Symbol("dialogInjectionKey"),oK=kr({center:Boolean,alignCenter:Boolean,closeIcon:{type:ro},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ZTe={close:()=>!0},QTe=rt({name:"ElDialogContent"}),JTe=rt({...QTe,props:oK,emits:ZTe,setup(t,{expose:e}){const r=t,{t:n}=Si(),{Close:i}=yX,{dialogRef:s,headerRef:o,bodyId:a,ns:l,style:u}=Mr(sK),{focusTrapRef:d}=Mr(nY),f=pe(()=>[l.b(),l.is("fullscreen",r.fullscreen),l.is("draggable",r.draggable),l.is("align-center",r.alignCenter),{[l.m("center")]:r.center}]),h=b_e(d,s),g=pe(()=>r.draggable),v=pe(()=>r.overflow),{resetPosition:p}=SX(s,o,g,v);return e({resetPosition:p}),(b,S)=>(me(),$e("div",{ref:_(h),class:Se(_(f)),style:dn(_(u)),tabindex:"-1"},[Ue("header",{ref_key:"headerRef",ref:o,class:Se([_(l).e("header"),{"show-close":b.showClose}])},[Ft(b.$slots,"header",{},()=>[Ue("span",{role:"heading","aria-level":b.ariaLevel,class:Se(_(l).e("title"))},cr(b.title),11,["aria-level"])]),b.showClose?(me(),$e("button",{key:0,"aria-label":_(n)("el.dialog.close"),class:Se(_(l).e("headerbtn")),type:"button",onClick:C=>b.$emit("close")},[F(_(Rr),{class:Se(_(l).e("close"))},{default:te(()=>[(me(),Ct(_i(b.closeIcon||_(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):gt("v-if",!0)],2),Ue("div",{id:_(a),class:Se(_(l).e("body"))},[Ft(b.$slots,"default")],10,["id"]),b.$slots.footer?(me(),$e("footer",{key:0,class:Se(_(l).e("footer"))},[Ft(b.$slots,"footer")],2)):gt("v-if",!0)],6))}});var eCe=Ir(JTe,[["__file","dialog-content.vue"]]);const aK=kr({...oK,appendToBody:Boolean,appendTo:{type:Bt([String,Object]),default:"body"},beforeClose:{type:Bt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),lK={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[es]:t=>yl(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},uK=(t,e)=>{var r;const i=Dn().emit,{nextZIndex:s}=sE();let o="";const a=Sc(),l=Sc(),u=ve(!1),d=ve(!1),f=ve(!1),h=ve((r=t.zIndex)!=null?r:s());let g,v;const p=oE("namespace",y2),b=pe(()=>{const R={},z=`--${p.value}-dialog`;return t.fullscreen||(t.top&&(R[`${z}-margin-top`]=t.top),t.width&&(R[`${z}-width`]=Du(t.width))),R}),S=pe(()=>t.alignCenter?{display:"flex"}:{});function C(){i("opened")}function T(){i("closed"),i(es,!1),t.destroyOnClose&&(f.value=!1)}function A(){i("close")}function E(){v==null||v(),g==null||g(),t.openDelay&&t.openDelay>0?{stop:g}=bv(()=>G(),t.openDelay):G()}function I(){g==null||g(),v==null||v(),t.closeDelay&&t.closeDelay>0?{stop:v}=bv(()=>ie(),t.closeDelay):ie()}function O(){function R(z){z||(d.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(R):I()}function N(){t.closeOnClickModal&&O()}function G(){Ln&&(u.value=!0)}function ie(){u.value=!1}function W(){i("openAutoFocus")}function q(){i("closeAutoFocus")}function J(R){var z;((z=R.detail)==null?void 0:z.focusReason)==="pointer"&&R.preventDefault()}t.lockScroll&&EX(u);function X(){t.closeOnPressEscape&&O()}return Yt(()=>t.modelValue,R=>{R?(d.value=!1,E(),f.value=!0,h.value=oX(t.zIndex)?s():h.value++,Wr(()=>{i("open"),e.value&&(e.value.scrollTop=0)})):u.value&&I()}),Yt(()=>t.fullscreen,R=>{e.value&&(R?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),zn(()=>{t.modelValue&&(u.value=!0,f.value=!0,E())}),{afterEnter:C,afterLeave:T,beforeLeave:A,handleClose:O,onModalClick:N,close:I,doClose:ie,onOpenAutoFocus:W,onCloseAutoFocus:q,onCloseRequested:X,onFocusoutPrevented:J,titleId:a,bodyId:l,closed:d,style:b,overlayDialogStyle:S,rendered:f,visible:u,zIndex:h}},tCe=rt({name:"ElDialog",inheritAttrs:!1}),rCe=rt({...tCe,props:aK,emits:lK,setup(t,{expose:e}){const r=t,n=bl();ep({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},pe(()=>!!n.title));const i=sr("dialog"),s=ve(),o=ve(),a=ve(),{visible:l,titleId:u,bodyId:d,style:f,overlayDialogStyle:h,rendered:g,zIndex:v,afterEnter:p,afterLeave:b,beforeLeave:S,handleClose:C,onModalClick:T,onOpenAutoFocus:A,onCloseAutoFocus:E,onCloseRequested:I,onFocusoutPrevented:O}=uK(r,s);bi(sK,{dialogRef:s,headerRef:o,bodyId:d,ns:i,rendered:g,style:f});const N=_O(T),G=pe(()=>r.draggable&&!r.fullscreen);return e({visible:l,dialogContentRef:a,resetPosition:()=>{var W;(W=a.value)==null||W.resetPosition()}}),(W,q)=>(me(),Ct(_(fE),{to:W.appendTo,disabled:W.appendTo!=="body"?!1:!W.appendToBody},{default:te(()=>[F(xl,{name:"dialog-fade",onAfterEnter:_(p),onAfterLeave:_(b),onBeforeLeave:_(S),persisted:""},{default:te(()=>[wn(F(_(OO),{"custom-mask-event":"",mask:W.modal,"overlay-class":W.modalClass,"z-index":_(v)},{default:te(()=>[Ue("div",{role:"dialog","aria-modal":"true","aria-label":W.title||void 0,"aria-labelledby":W.title?void 0:_(u),"aria-describedby":_(d),class:Se(`${_(i).namespace.value}-overlay-dialog`),style:dn(_(h)),onClick:_(N).onClick,onMousedown:_(N).onMousedown,onMouseup:_(N).onMouseup},[F(_(uE),{loop:"",trapped:_(l),"focus-start-el":"container",onFocusAfterTrapped:_(A),onFocusAfterReleased:_(E),onFocusoutPrevented:_(O),onReleaseRequested:_(I)},{default:te(()=>[_(g)?(me(),Ct(eCe,vo({key:0,ref_key:"dialogContentRef",ref:a},W.$attrs,{center:W.center,"align-center":W.alignCenter,"close-icon":W.closeIcon,draggable:_(G),overflow:W.overflow,fullscreen:W.fullscreen,"show-close":W.showClose,title:W.title,"aria-level":W.headerAriaLevel,onClose:_(C)}),pk({header:te(()=>[W.$slots.title?Ft(W.$slots,"title",{key:1}):Ft(W.$slots,"header",{key:0,close:_(C),titleId:_(u),titleClass:_(i).e("title")})]),default:te(()=>[Ft(W.$slots,"default")]),_:2},[W.$slots.footer?{name:"footer",fn:te(()=>[Ft(W.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):gt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Ai,_(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var nCe=Ir(rCe,[["__file","dialog.vue"]]);const ca=gi(nCe),iCe=kr({...aK,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),sCe=lK,oCe=rt({name:"ElDrawer",inheritAttrs:!1}),aCe=rt({...oCe,props:iCe,emits:sCe,setup(t,{expose:e}){const r=t,n=bl();ep({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},pe(()=>!!n.title));const i=ve(),s=ve(),o=sr("drawer"),{t:a}=Si(),{afterEnter:l,afterLeave:u,beforeLeave:d,visible:f,rendered:h,titleId:g,bodyId:v,zIndex:p,onModalClick:b,onOpenAutoFocus:S,onCloseAutoFocus:C,onFocusoutPrevented:T,onCloseRequested:A,handleClose:E}=uK(r,i),I=pe(()=>r.direction==="rtl"||r.direction==="ltr"),O=pe(()=>Du(r.size));return e({handleClose:E,afterEnter:l,afterLeave:u}),(N,G)=>(me(),Ct(_(fE),{to:N.appendTo,disabled:N.appendTo!=="body"?!1:!N.appendToBody},{default:te(()=>[F(xl,{name:_(o).b("fade"),onAfterEnter:_(l),onAfterLeave:_(u),onBeforeLeave:_(d),persisted:""},{default:te(()=>[wn(F(_(OO),{mask:N.modal,"overlay-class":N.modalClass,"z-index":_(p),onClick:_(b)},{default:te(()=>[F(_(uE),{loop:"",trapped:_(f),"focus-trap-el":i.value,"focus-start-el":s.value,onFocusAfterTrapped:_(S),onFocusAfterReleased:_(C),onFocusoutPrevented:_(T),onReleaseRequested:_(A)},{default:te(()=>[Ue("div",vo({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":N.title||void 0,"aria-labelledby":N.title?void 0:_(g),"aria-describedby":_(v)},N.$attrs,{class:[_(o).b(),N.direction,_(f)&&"open"],style:_(I)?"width: "+_(O):"height: "+_(O),role:"dialog",onClick:_n(()=>{},["stop"])}),[Ue("span",{ref_key:"focusStartRef",ref:s,class:Se(_(o).e("sr-focus")),tabindex:"-1"},null,2),N.withHeader?(me(),$e("header",{key:0,class:Se(_(o).e("header"))},[N.$slots.title?Ft(N.$slots,"title",{key:1},()=>[gt(" DEPRECATED SLOT ")]):Ft(N.$slots,"header",{key:0,close:_(E),titleId:_(g),titleClass:_(o).e("title")},()=>[N.$slots.title?gt("v-if",!0):(me(),$e("span",{key:0,id:_(g),role:"heading","aria-level":N.headerAriaLevel,class:Se(_(o).e("title"))},cr(N.title),11,["id","aria-level"]))]),N.showClose?(me(),$e("button",{key:2,"aria-label":_(a)("el.drawer.close"),class:Se(_(o).e("close-btn")),type:"button",onClick:_(E)},[F(_(Rr),{class:Se(_(o).e("close"))},{default:te(()=>[F(_($f))]),_:1},8,["class"])],10,["aria-label","onClick"])):gt("v-if",!0)],2)):gt("v-if",!0),_(h)?(me(),$e("div",{key:1,id:_(v),class:Se(_(o).e("body"))},[Ft(N.$slots,"default")],10,["id"])):gt("v-if",!0),N.$slots.footer?(me(),$e("div",{key:2,class:Se(_(o).e("footer"))},[Ft(N.$slots,"footer")],2)):gt("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Ai,_(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var lCe=Ir(aCe,[["__file","drawer.vue"]]);const cK=gi(lCe),uCe=kr({urlList:{type:Bt(Array),default:()=>Ro([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Bt(String)}}),cCe={close:()=>!0,switch:t=>qn(t),rotate:t=>qn(t)},dCe=rt({name:"ElImageViewer"}),fCe=rt({...dCe,props:uCe,emits:cCe,setup(t,{expose:e,emit:r}){var n;const i=t,s={CONTAIN:{name:"contain",icon:hm(Iye)},ORIGINAL:{name:"original",icon:hm(t_e)}},{t:o}=Si(),a=sr("image-viewer"),{nextZIndex:l}=sE(),u=ve(),d=ve([]),f=wM(),h=ve(!0),g=ve(i.initialIndex),v=Ba(s.CONTAIN),p=ve({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),b=ve((n=i.zIndex)!=null?n:l()),S=pe(()=>{const{urlList:ee}=i;return ee.length<=1}),C=pe(()=>g.value===0),T=pe(()=>g.value===i.urlList.length-1),A=pe(()=>i.urlList[g.value]),E=pe(()=>[a.e("btn"),a.e("prev"),a.is("disabled",!i.infinite&&C.value)]),I=pe(()=>[a.e("btn"),a.e("next"),a.is("disabled",!i.infinite&&T.value)]),O=pe(()=>{const{scale:ee,deg:ae,offsetX:be,offsetY:Me,enableTransition:Qe}=p.value;let ht=be/ee,je=Me/ee;const ze=ae*Math.PI/180,ut=Math.cos(ze),ct=Math.sin(ze);ht=ht*ut+je*ct,je=je*ut-be/ee*ct;const mt={transform:`scale(${ee}) rotate(${ae}deg) translate(${ht}px, ${je}px)`,transition:Qe?"transform .3s":""};return v.value.name===s.CONTAIN.name&&(mt.maxWidth=mt.maxHeight="100%"),mt});function N(){ie(),r("close")}function G(){const ee=e3(be=>{switch(be.code){case Zr.esc:i.closeOnPressEscape&&N();break;case Zr.space:R();break;case Zr.left:re();break;case Zr.up:H("zoomIn");break;case Zr.right:oe();break;case Zr.down:H("zoomOut");break}}),ae=e3(be=>{const Me=be.deltaY||be.deltaX;H(Me<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});f.run(()=>{gs(document,"keydown",ee),gs(document,"wheel",ae)})}function ie(){f.stop()}function W(){h.value=!1}function q(ee){h.value=!1,ee.target.alt=o("el.image.error")}function J(ee){if(h.value||ee.button!==0||!u.value)return;p.value.enableTransition=!1;const{offsetX:ae,offsetY:be}=p.value,Me=ee.pageX,Qe=ee.pageY,ht=e3(ze=>{p.value={...p.value,offsetX:ae+ze.pageX-Me,offsetY:be+ze.pageY-Qe}}),je=gs(document,"mousemove",ht);gs(document,"mouseup",()=>{je()}),ee.preventDefault()}function X(){p.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function R(){if(h.value)return;const ee=Rk(s),ae=Object.values(s),be=v.value.name,Qe=(ae.findIndex(ht=>ht.name===be)+1)%ee.length;v.value=s[ee[Qe]],X()}function z(ee){const ae=i.urlList.length;g.value=(ee+ae)%ae}function re(){C.value&&!i.infinite||z(g.value-1)}function oe(){T.value&&!i.infinite||z(g.value+1)}function H(ee,ae={}){if(h.value)return;const{minScale:be,maxScale:Me}=i,{zoomRate:Qe,rotateDeg:ht,enableTransition:je}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...ae};switch(ee){case"zoomOut":p.value.scale>be&&(p.value.scale=Number.parseFloat((p.value.scale/Qe).toFixed(3)));break;case"zoomIn":p.value.scale<Me&&(p.value.scale=Number.parseFloat((p.value.scale*Qe).toFixed(3)));break;case"clockwise":p.value.deg+=ht,r("rotate",p.value.deg);break;case"anticlockwise":p.value.deg-=ht,r("rotate",p.value.deg);break}p.value.enableTransition=je}return Yt(A,()=>{Wr(()=>{const ee=d.value[0];ee!=null&&ee.complete||(h.value=!0)})}),Yt(g,ee=>{X(),r("switch",ee)}),zn(()=>{var ee,ae;G(),(ae=(ee=u.value)==null?void 0:ee.focus)==null||ae.call(ee)}),e({setActiveItem:z}),(ee,ae)=>(me(),Ct(_(fE),{to:"body",disabled:!ee.teleported},{default:te(()=>[F(xl,{name:"viewer-fade",appear:""},{default:te(()=>[Ue("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:Se(_(a).e("wrapper")),style:dn({zIndex:b.value})},[Ue("div",{class:Se(_(a).e("mask")),onClick:_n(be=>ee.hideOnClickModal&&N(),["self"])},null,10,["onClick"]),gt(" CLOSE "),Ue("span",{class:Se([_(a).e("btn"),_(a).e("close")]),onClick:N},[F(_(Rr),null,{default:te(()=>[F(_($f))]),_:1})],2),gt(" ARROW "),_(S)?gt("v-if",!0):(me(),$e(Sr,{key:0},[Ue("span",{class:Se(_(E)),onClick:re},[F(_(Rr),null,{default:te(()=>[F(_(gm))]),_:1})],2),Ue("span",{class:Se(_(I)),onClick:oe},[F(_(Rr),null,{default:te(()=>[F(_(Tu))]),_:1})],2)],64)),gt(" ACTIONS "),Ue("div",{class:Se([_(a).e("btn"),_(a).e("actions")])},[Ue("div",{class:Se(_(a).e("actions__inner"))},[F(_(Rr),{onClick:be=>H("zoomOut")},{default:te(()=>[F(_(y_e))]),_:1},8,["onClick"]),F(_(Rr),{onClick:be=>H("zoomIn")},{default:te(()=>[F(_(gX))]),_:1},8,["onClick"]),Ue("i",{class:Se(_(a).e("actions__divider"))},null,2),F(_(Rr),{onClick:R},{default:te(()=>[(me(),Ct(_i(_(v).icon)))]),_:1}),Ue("i",{class:Se(_(a).e("actions__divider"))},null,2),F(_(Rr),{onClick:be=>H("anticlockwise")},{default:te(()=>[F(_(Zye))]),_:1},8,["onClick"]),F(_(Rr),{onClick:be=>H("clockwise")},{default:te(()=>[F(_(Jye))]),_:1},8,["onClick"])],2)],2),gt(" CANVAS "),Ue("div",{class:Se(_(a).e("canvas"))},[(me(!0),$e(Sr,null,mi(ee.urlList,(be,Me)=>wn((me(),$e("img",{ref_for:!0,ref:Qe=>d.value[Me]=Qe,key:be,src:be,style:dn(_(O)),class:Se(_(a).e("img")),crossorigin:ee.crossorigin,onLoad:W,onError:q,onMousedown:J},null,46,["src","crossorigin"])),[[Ai,Me===g.value]])),128))],2),Ft(ee.$slots,"default")],6)]),_:3})]),_:3},8,["disabled"]))}});var hCe=Ir(fCe,[["__file","image-viewer.vue"]]);const pCe=gi(hCe),mCe=kr({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Bt([String,Object])},previewSrcList:{type:Bt(Array),default:()=>Ro([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Bt(String)}}),gCe={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>qn(t),close:()=>!0,show:()=>!0},vCe=rt({name:"ElImage",inheritAttrs:!1}),yCe=rt({...vCe,props:mCe,emits:gCe,setup(t,{emit:e}){const r=t;let n="";const{t:i}=Si(),s=sr("image"),o=fy(),a=pe(()=>lb(Object.entries(o).filter(([oe])=>/^(data-|on[A-Z])/i.test(oe)||["id","style"].includes(oe)))),l=wX({excludeListeners:!0,excludeKeys:pe(()=>Object.keys(a.value))}),u=ve(),d=ve(!1),f=ve(!0),h=ve(!1),g=ve(),v=ve(),p=Ln&&"loading"in HTMLImageElement.prototype;let b,S;const C=pe(()=>[s.e("inner"),A.value&&s.e("preview"),f.value&&s.is("loading")]),T=pe(()=>{const{fit:oe}=r;return Ln&&oe?{objectFit:oe}:{}}),A=pe(()=>{const{previewSrcList:oe}=r;return Array.isArray(oe)&&oe.length>0}),E=pe(()=>{const{previewSrcList:oe,initialIndex:H}=r;let ee=H;return H>oe.length-1&&(ee=0),ee}),I=pe(()=>r.loading==="eager"?!1:!p&&r.loading==="lazy"||r.lazy),O=()=>{Ln&&(f.value=!0,d.value=!1,u.value=r.src)};function N(oe){f.value=!1,d.value=!1,e("load",oe)}function G(oe){f.value=!1,d.value=!0,e("error",oe)}function ie(){Xfe(g.value,v.value)&&(O(),J())}const W=Xde(ie,200,!0);async function q(){var oe;if(!Ln)return;await Wr();const{scrollContainer:H}=r;Ll(H)?v.value=H:nn(H)&&H!==""?v.value=(oe=document.querySelector(H))!=null?oe:void 0:g.value&&(v.value=tye(g.value)),v.value&&(b=gs(v,"scroll",W),setTimeout(()=>ie(),100))}function J(){!Ln||!v.value||!W||(b==null||b(),v.value=void 0)}function X(oe){if(oe.ctrlKey){if(oe.deltaY<0)return oe.preventDefault(),!1;if(oe.deltaY>0)return oe.preventDefault(),!1}}function R(){A.value&&(S=gs("wheel",X,{passive:!1}),n=document.body.style.overflow,document.body.style.overflow="hidden",h.value=!0,e("show"))}function z(){S==null||S(),document.body.style.overflow=n,h.value=!1,e("close")}function re(oe){e("switch",oe)}return Yt(()=>r.src,()=>{I.value?(f.value=!0,d.value=!1,J(),q()):O()}),zn(()=>{I.value?q():O()}),(oe,H)=>(me(),$e("div",vo({ref_key:"container",ref:g},_(a),{class:[_(s).b(),oe.$attrs.class]}),[d.value?Ft(oe.$slots,"error",{key:0},()=>[Ue("div",{class:Se(_(s).e("error"))},cr(_(i)("el.image.error")),3)]):(me(),$e(Sr,{key:1},[u.value!==void 0?(me(),$e("img",vo({key:0},_(l),{src:u.value,loading:oe.loading,style:_(T),class:_(C),crossorigin:oe.crossorigin,onClick:R,onLoad:N,onError:G}),null,16,["src","loading","crossorigin"])):gt("v-if",!0),f.value?(me(),$e("div",{key:1,class:Se(_(s).e("wrapper"))},[Ft(oe.$slots,"placeholder",{},()=>[Ue("div",{class:Se(_(s).e("placeholder"))},null,2)])],2)):gt("v-if",!0)],64)),_(A)?(me(),$e(Sr,{key:2},[h.value?(me(),Ct(_(pCe),{key:0,"z-index":oe.zIndex,"initial-index":_(E),infinite:oe.infinite,"zoom-rate":oe.zoomRate,"min-scale":oe.minScale,"max-scale":oe.maxScale,"url-list":oe.previewSrcList,crossorigin:oe.crossorigin,"hide-on-click-modal":oe.hideOnClickModal,teleported:oe.previewTeleported,"close-on-press-escape":oe.closeOnPressEscape,onClose:z,onSwitch:re},{default:te(()=>[oe.$slots.viewer?(me(),$e("div",{key:0},[Ft(oe.$slots,"viewer")])):gt("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):gt("v-if",!0)],64)):gt("v-if",!0)],16))}});var _Ce=Ir(yCe,[["__file","image.vue"]]);const bCe=gi(_Ce);let xCe=class{constructor(e,r){this.parent=e,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",n=>{let i=!1;switch(n.code){case Zr.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Zr.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Zr.tab:{Ww(e,"mouseleave");break}case Zr.enter:case Zr.space:{i=!0,n.currentTarget.click();break}}return i&&(n.preventDefault(),n.stopPropagation()),!1})})}},wCe=class{constructor(e,r){this.domNode=e,this.submenu=null,this.submenu=null,this.init(r)}init(e){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${e}-menu`);r&&(this.submenu=new xCe(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let r=!1;switch(e.code){case Zr.down:{Ww(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case Zr.up:{Ww(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case Zr.tab:{Ww(e.currentTarget,"mouseleave");break}case Zr.enter:case Zr.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},SCe=class{constructor(e,r){this.domNode=e,this.init(r)}init(e){const r=this.domNode.childNodes;Array.from(r).forEach(n=>{n.nodeType===1&&new wCe(n,e)})}};const TCe=rt({name:"ElMenuCollapseTransition",setup(){const t=sr("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,n){oc(r,`${t.namespace.value}-opacity-transition`),r.style.opacity="1",n()},onAfterEnter(r){Fl(r,`${t.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),mu(r,t.m("collapse"))?(Fl(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),oc(r,t.m("collapse"))):(oc(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Fl(r,t.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){oc(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function CCe(t,e,r,n,i,s){return me(),Ct(xl,vo({mode:"out-in"},t.listeners),{default:te(()=>[Ft(t.$slots,"default")]),_:3},16)}var ECe=Ir(TCe,[["render",CCe],["__file","menu-collapse-transition.vue"]]);function dK(t,e){const r=pe(()=>{let i=t.parent;const s=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&s.unshift(i.props.index),i=i.parent;return s});return{parentMenu:pe(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:r}}function ACe(t){return pe(()=>{const r=t.backgroundColor;return r?new cY(r).shade(20).toString():""})}const fK=(t,e)=>{const r=sr("menu");return pe(()=>r.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":ACe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},PCe=kr({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ro},expandOpenIcon:{type:ro},collapseCloseIcon:{type:ro},collapseOpenIcon:{type:ro}}),c3="ElSubMenu";var $O=rt({name:c3,props:PCe,setup(t,{slots:e,expose:r}){const n=Dn(),{indexPath:i,parentMenu:s}=dK(n,pe(()=>t.index)),o=sr("menu"),a=sr("sub-menu"),l=Mr("rootMenu");l||_l(c3,"can not inject root menu");const u=Mr(`subMenu:${s.value.uid}`);u||_l(c3,"can not inject sub menu");const d=ve({}),f=ve({});let h;const g=ve(!1),v=ve(),p=ve(null),b=pe(()=>N.value==="horizontal"&&C.value?"bottom-start":"right-start"),S=pe(()=>N.value==="horizontal"&&C.value||N.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?I.value?t.expandOpenIcon:t.expandCloseIcon:C1:t.collapseCloseIcon&&t.collapseOpenIcon?I.value?t.collapseOpenIcon:t.collapseCloseIcon:Tu),C=pe(()=>u.level===0),T=pe(()=>{const ee=t.teleported;return ee===void 0?C.value:ee}),A=pe(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),E=pe(()=>N.value==="horizontal"&&C.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),I=pe(()=>l.openedMenus.includes(t.index)),O=pe(()=>{let ee=!1;return Object.values(d.value).forEach(ae=>{ae.active&&(ee=!0)}),Object.values(f.value).forEach(ae=>{ae.active&&(ee=!0)}),ee}),N=pe(()=>l.props.mode),G=an({index:t.index,indexPath:i,active:O}),ie=fK(l.props,u.level+1),W=pe(()=>{var ee;return(ee=t.popperOffset)!=null?ee:l.props.popperOffset}),q=pe(()=>{var ee;return(ee=t.popperClass)!=null?ee:l.props.popperClass}),J=pe(()=>{var ee;return(ee=t.showTimeout)!=null?ee:l.props.showTimeout}),X=pe(()=>{var ee;return(ee=t.hideTimeout)!=null?ee:l.props.hideTimeout}),R=()=>{var ee,ae,be;return(be=(ae=(ee=p.value)==null?void 0:ee.popperRef)==null?void 0:ae.popperInstanceRef)==null?void 0:be.destroy()},z=ee=>{ee||R()},re=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:i.value,active:O.value})},oe=(ee,ae=J.value)=>{var be;if(ee.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,h==null||h(),{stop:h}=bv(()=>{l.openMenu(t.index,i.value)},ae),T.value&&((be=s.value.vnode.el)==null||be.dispatchEvent(new MouseEvent("mouseenter")))}},H=(ee=!1)=>{var ae;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}h==null||h(),u.mouseInChild.value=!1,{stop:h}=bv(()=>!g.value&&l.closeMenu(t.index,i.value),X.value),T.value&&ee&&((ae=u.handleMouseleave)==null||ae.call(u,!0))};Yt(()=>l.props.collapse,ee=>z(!!ee));{const ee=be=>{f.value[be.index]=be},ae=be=>{delete f.value[be.index]};bi(`subMenu:${n.uid}`,{addSubMenu:ee,removeSubMenu:ae,handleMouseleave:H,mouseInChild:g,level:u.level+1})}return r({opened:I}),zn(()=>{l.addSubMenu(G),u.addSubMenu(G)}),Bs(()=>{u.removeSubMenu(G),l.removeSubMenu(G)}),()=>{var ee;const ae=[(ee=e.title)==null?void 0:ee.call(e),br(Rr,{class:a.e("icon-arrow"),style:{transform:I.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>nn(S.value)?br(n.appContext.components[S.value]):br(S.value)})],be=l.isMenuPopup?br(mp,{ref:p,visible:I.value,effect:"light",pure:!0,offset:W.value,showArrow:!1,persistent:!0,popperClass:q.value,placement:b.value,teleported:T.value,fallbackPlacements:E.value,transition:A.value,gpuAcceleration:!1},{content:()=>{var Me;return br("div",{class:[o.m(N.value),o.m("popup-container"),q.value],onMouseenter:Qe=>oe(Qe,100),onMouseleave:()=>H(!0),onFocus:Qe=>oe(Qe,100)},[br("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${b.value}`)],style:ie.value},[(Me=e.default)==null?void 0:Me.call(e)])])},default:()=>br("div",{class:a.e("title"),onClick:re},ae)}):br(Sr,{},[br("div",{class:a.e("title"),ref:v,onClick:re},ae),br(zSe,{},{default:()=>{var Me;return wn(br("ul",{role:"menu",class:[o.b(),o.m("inline")],style:ie.value},[(Me=e.default)==null?void 0:Me.call(e)]),[[Ai,I.value]])}})]);return br("li",{class:[a.b(),a.is("active",O.value),a.is("opened",I.value),a.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:I.value,onMouseenter:oe,onMouseleave:()=>H(),onFocus:oe},[be])}}});const kCe=kr({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Bt(Array),default:()=>Ro([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ro,default:()=>jye},popperEffect:{type:Bt(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),d3=t=>Array.isArray(t)&&t.every(e=>nn(e)),ICe={close:(t,e)=>nn(t)&&d3(e),open:(t,e)=>nn(t)&&d3(e),select:(t,e,r,n)=>nn(t)&&d3(e)&&En(r)&&(n===void 0||n instanceof Promise)};var DCe=rt({name:"ElMenu",props:kCe,emits:ICe,setup(t,{emit:e,slots:r,expose:n}){const i=Dn(),s=i.appContext.config.globalProperties.$router,o=ve(),a=sr("menu"),l=sr("sub-menu"),u=ve(-1),d=ve(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),f=ve(t.defaultActive),h=ve({}),g=ve({}),v=pe(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),p=()=>{const R=f.value&&h.value[f.value];if(!R||t.mode==="horizontal"||t.collapse)return;R.indexPath.forEach(re=>{const oe=g.value[re];oe&&b(re,oe.indexPath)})},b=(R,z)=>{d.value.includes(R)||(t.uniqueOpened&&(d.value=d.value.filter(re=>z.includes(re))),d.value.push(R),e("open",R,z))},S=R=>{const z=d.value.indexOf(R);z!==-1&&d.value.splice(z,1)},C=(R,z)=>{S(R),e("close",R,z)},T=({index:R,indexPath:z})=>{d.value.includes(R)?C(R,z):b(R,z)},A=R=>{(t.mode==="horizontal"||t.collapse)&&(d.value=[]);const{index:z,indexPath:re}=R;if(!(Ed(z)||Ed(re)))if(t.router&&s){const oe=R.route||z,H=s.push(oe).then(ee=>(ee||(f.value=z),ee));e("select",z,re,{index:z,indexPath:re,route:oe},H)}else f.value=z,e("select",z,re,{index:z,indexPath:re})},E=R=>{const z=h.value,re=z[R]||f.value&&z[f.value]||z[t.defaultActive];re?f.value=re.index:f.value=R},I=R=>{const z=getComputedStyle(R),re=Number.parseInt(z.marginLeft,10),oe=Number.parseInt(z.marginRight,10);return R.offsetWidth+re+oe||0},O=()=>{var R,z;if(!o.value)return-1;const re=Array.from((z=(R=o.value)==null?void 0:R.childNodes)!=null?z:[]).filter(ht=>ht.nodeName!=="#comment"&&(ht.nodeName!=="#text"||ht.nodeValue)),oe=64,H=getComputedStyle(o.value),ee=Number.parseInt(H.paddingLeft,10),ae=Number.parseInt(H.paddingRight,10),be=o.value.clientWidth-ee-ae;let Me=0,Qe=0;return re.forEach((ht,je)=>{Me+=I(ht),Me<=be-oe&&(Qe=je+1)}),Qe===re.length?-1:Qe},N=R=>g.value[R].indexPath,G=(R,z=33.34)=>{let re;return()=>{re&&clearTimeout(re),re=setTimeout(()=>{R()},z)}};let ie=!0;const W=()=>{if(u.value===O())return;const R=()=>{u.value=-1,Wr(()=>{u.value=O()})};ie?R():G(R)(),ie=!1};Yt(()=>t.defaultActive,R=>{h.value[R]||(f.value=""),E(R)}),Yt(()=>t.collapse,R=>{R&&(d.value=[])}),Yt(h.value,p);let q;dc(()=>{t.mode==="horizontal"&&t.ellipsis?q=ko(o,W).stop:q==null||q()});const J=ve(!1);{const R=H=>{g.value[H.index]=H},z=H=>{delete g.value[H.index]};bi("rootMenu",an({props:t,openedMenus:d,items:h,subMenus:g,activeIndex:f,isMenuPopup:v,addMenuItem:H=>{h.value[H.index]=H},removeMenuItem:H=>{delete h.value[H.index]},addSubMenu:R,removeSubMenu:z,openMenu:b,closeMenu:C,handleMenuItemClick:A,handleSubMenuClick:T})),bi(`subMenu:${i.uid}`,{addSubMenu:R,removeSubMenu:z,mouseInChild:J,level:0})}zn(()=>{t.mode==="horizontal"&&new SCe(i.vnode.el,a.namespace.value)}),n({open:z=>{const{indexPath:re}=g.value[z];re.forEach(oe=>b(oe,re))},close:S,handleResize:W});const X=fK(t,0);return()=>{var R,z;let re=(z=(R=r.default)==null?void 0:R.call(r))!=null?z:[];const oe=[];if(t.mode==="horizontal"&&o.value){const ae=v2(re),be=u.value===-1?ae:ae.slice(0,u.value),Me=u.value===-1?[]:ae.slice(u.value);Me!=null&&Me.length&&t.ellipsis&&(re=be,oe.push(br($O,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>br(Rr,{class:l.e("icon-more")},{default:()=>br(t.ellipsisIcon)}),default:()=>Me})))}const H=t.closeOnClickOutside?[[_m,()=>{d.value.length&&(J.value||(d.value.forEach(ae=>e("close",ae,N(ae))),d.value=[]))}]]:[],ee=wn(br("ul",{key:String(t.collapse),role:"menubar",ref:o,style:X.value,class:{[a.b()]:!0,[a.m(t.mode)]:!0,[a.m("collapse")]:t.collapse}},[...re,...oe]),H);return t.collapseTransition&&t.mode==="vertical"?br(ECe,()=>ee):ee}}});const RCe=kr({index:{type:Bt([String,null]),default:null},route:{type:Bt([String,Object])},disabled:Boolean}),MCe={click:t=>nn(t.index)&&Array.isArray(t.indexPath)},f3="ElMenuItem",OCe=rt({name:f3,components:{ElTooltip:mp},props:RCe,emits:MCe,setup(t,{emit:e}){const r=Dn(),n=Mr("rootMenu"),i=sr("menu"),s=sr("menu-item");n||_l(f3,"can not inject root menu");const{parentMenu:o,indexPath:a}=dK(r,ms(t,"index")),l=Mr(`subMenu:${o.value.uid}`);l||_l(f3,"can not inject sub menu");const u=pe(()=>t.index===n.activeIndex),d=an({index:t.index,indexPath:a,active:u}),f=()=>{t.disabled||(n.handleMenuItemClick({index:t.index,indexPath:a.value,route:t.route}),e("click",d))};return zn(()=>{l.addSubMenu(d),n.addMenuItem(d)}),Bs(()=>{l.removeSubMenu(d),n.removeMenuItem(d)}),{parentMenu:o,rootMenu:n,active:u,nsMenu:i,nsMenuItem:s,handleClick:f}}});function $Ce(t,e,r,n,i,s){const o=Yn("el-tooltip");return me(),$e("li",{class:Se([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:t.handleClick},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(me(),Ct(o,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:te(()=>[Ft(t.$slots,"title")]),default:te(()=>[Ue("div",{class:Se(t.nsMenu.be("tooltip","trigger"))},[Ft(t.$slots,"default")],2)]),_:3},8,["effect"])):(me(),$e(Sr,{key:1},[Ft(t.$slots,"default"),Ft(t.$slots,"title")],64))],10,["onClick"])}var hK=Ir(OCe,[["render",$Ce],["__file","menu-item.vue"]]);const LCe={title:String},FCe="ElMenuItemGroup",NCe=rt({name:FCe,props:LCe,setup(){return{ns:sr("menu-item-group")}}});function BCe(t,e,r,n,i,s){return me(),$e("li",{class:Se(t.ns.b())},[Ue("div",{class:Se(t.ns.e("title"))},[t.$slots.title?Ft(t.$slots,"title",{key:1}):(me(),$e(Sr,{key:0},[Et(cr(t.title),1)],64))],2),Ue("ul",null,[Ft(t.$slots,"default")])],2)}var pK=Ir(NCe,[["render",BCe],["__file","menu-item-group.vue"]]);const UCe=gi(DCe,{MenuItem:hK,MenuItemGroup:pK,SubMenu:$O}),VCe=No(hK),zCe=No(pK),HCe=No($O),mK=Symbol("elPaginationKey"),jCe=kr({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:ro}}),GCe={click:t=>t instanceof MouseEvent},WCe=rt({name:"ElPaginationPrev"}),qCe=rt({...WCe,props:jCe,emits:GCe,setup(t){const e=t,{t:r}=Si(),n=pe(()=>e.disabled||e.currentPage<=1);return(i,s)=>(me(),$e("button",{type:"button",class:"btn-prev",disabled:_(n),"aria-label":i.prevText||_(r)("el.pagination.prev"),"aria-disabled":_(n),onClick:o=>i.$emit("click",o)},[i.prevText?(me(),$e("span",{key:0},cr(i.prevText),1)):(me(),Ct(_(Rr),{key:1},{default:te(()=>[(me(),Ct(_i(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var XCe=Ir(qCe,[["__file","prev.vue"]]);const YCe=kr({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:ro}}),KCe=rt({name:"ElPaginationNext"}),ZCe=rt({...KCe,props:YCe,emits:["click"],setup(t){const e=t,{t:r}=Si(),n=pe(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,s)=>(me(),$e("button",{type:"button",class:"btn-next",disabled:_(n),"aria-label":i.nextText||_(r)("el.pagination.next"),"aria-disabled":_(n),onClick:o=>i.$emit("click",o)},[i.nextText?(me(),$e("span",{key:0},cr(i.nextText),1)):(me(),Ct(_(Rr),{key:1},{default:te(()=>[(me(),Ct(_i(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var QCe=Ir(ZCe,[["__file","next.vue"]]);const gK=Symbol("ElSelectGroup"),pE=Symbol("ElSelect");function JCe(t,e){const r=Mr(pE),n=Mr(gK,{disabled:!1}),i=pe(()=>d(sc(r.props.modelValue),t.value)),s=pe(()=>{var g;if(r.props.multiple){const v=sc((g=r.props.modelValue)!=null?g:[]);return!i.value&&v.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),o=pe(()=>t.label||(En(t.value)?"":t.value)),a=pe(()=>t.value||t.label||""),l=pe(()=>t.disabled||e.groupDisabled||s.value),u=Dn(),d=(g=[],v)=>{if(En(t.value)){const p=r.props.valueKey;return g&&g.some(b=>Gn(fu(b,p))===fu(v,p))}else return g&&g.includes(v)},f=()=>{!t.disabled&&!n.disabled&&(r.states.hoveringIndex=r.optionsArray.indexOf(u.proxy))},h=g=>{const v=new RegExp(Zve(g),"i");e.visible=v.test(o.value)||t.created};return Yt(()=>o.value,()=>{!t.created&&!r.props.remote&&r.setSelected()}),Yt(()=>t.value,(g,v)=>{const{remote:p,valueKey:b}=r.props;if(g!==v&&(r.onOptionDestroy(v,u.proxy),r.onOptionCreate(u.proxy)),!t.created&&!p){if(b&&En(g)&&En(v)&&g[b]===v[b])return;r.setSelected()}}),Yt(()=>n.disabled,()=>{e.groupDisabled=n.disabled},{immediate:!0}),{select:r,currentLabel:o,currentValue:a,itemSelected:i,isDisabled:l,hoverItem:f,updateOption:h}}const eEe=rt({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=sr("select"),r=Sc(),n=pe(()=>[e.be("dropdown","item"),e.is("disabled",_(a)),e.is("selected",_(o)),e.is("hovering",_(h))]),i=an({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:u,updateOption:d}=JCe(t,i),{visible:f,hover:h}=Hu(i),g=Dn().proxy;l.onOptionCreate(g),Bs(()=>{const p=g.value,{selected:b}=l.states,C=(l.props.multiple?b:[b]).some(T=>T.value===g.value);Wr(()=>{l.states.cachedOptions.get(p)===g&&!C&&l.states.cachedOptions.delete(p)}),l.onOptionDestroy(p,g)});function v(){a.value||l.handleOptionSelect(g)}return{ns:e,id:r,containerKls:n,currentLabel:s,itemSelected:o,isDisabled:a,select:l,hoverItem:u,updateOption:d,visible:f,hover:h,selectOptionClick:v,states:i}}});function tEe(t,e,r,n,i,s){return wn((me(),$e("li",{id:t.id,class:Se(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:t.hoverItem,onClick:_n(t.selectOptionClick,["stop"])},[Ft(t.$slots,"default",{},()=>[Ue("span",null,cr(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[Ai,t.visible]])}var LO=Ir(eEe,[["render",tEe],["__file","option.vue"]]);const rEe=rt({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Mr(pE),e=sr("select"),r=pe(()=>t.props.popperClass),n=pe(()=>t.props.multiple),i=pe(()=>t.props.fitInputWidth),s=ve("");function o(){var a;s.value=`${(a=t.selectRef)==null?void 0:a.offsetWidth}px`}return zn(()=>{o(),ko(t.selectRef,o)}),{ns:e,minWidth:s,popperClass:r,isMultiple:n,isFitInputWidth:i}}});function nEe(t,e,r,n,i,s){return me(),$e("div",{class:Se([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:dn({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(me(),$e("div",{key:0,class:Se(t.ns.be("dropdown","header"))},[Ft(t.$slots,"header")],2)):gt("v-if",!0),Ft(t.$slots,"default"),t.$slots.footer?(me(),$e("div",{key:1,class:Se(t.ns.be("dropdown","footer"))},[Ft(t.$slots,"footer")],2)):gt("v-if",!0)],6)}var iEe=Ir(rEe,[["render",nEe],["__file","select-dropdown.vue"]]);const sEe=11,oEe=(t,e)=>{const{t:r}=Si(),n=Sc(),i=sr("select"),s=sr("input"),o=an({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=ve(null),l=ve(null),u=ve(null),d=ve(null),f=ve(null),h=ve(null),g=ve(null),v=ve(null),p=ve(null),b=ve(null),S=ve(null),C=ve(null),{isComposing:T,handleCompositionStart:A,handleCompositionUpdate:E,handleCompositionEnd:I}=bO({afterComposition:Xe=>Er(Xe)}),{wrapperRef:O,isFocused:N}=qX(f,{beforeFocus(){return z.value},afterFocus(){t.automaticDropdown&&!G.value&&(G.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(Xe){var qe,Mt;return((qe=u.value)==null?void 0:qe.isFocusInsideContent(Xe))||((Mt=d.value)==null?void 0:Mt.isFocusInsideContent(Xe))},afterBlur(){G.value=!1,o.menuVisibleOnFocus=!1}}),G=ve(!1),ie=ve(),{form:W,formItem:q}=$d(),{inputId:J}=P1(t,{formItemContext:q}),{valueOnClear:X,isEmptyValue:R}=wO(t),z=pe(()=>t.disabled||(W==null?void 0:W.disabled)),re=pe(()=>lr(t.modelValue)?t.modelValue.length>0:!R(t.modelValue)),oe=pe(()=>t.clearable&&!z.value&&o.inputHovering&&re.value),H=pe(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),ee=pe(()=>i.is("reverse",H.value&&G.value)),ae=pe(()=>(q==null?void 0:q.validateState)||""),be=pe(()=>bX[ae.value]),Me=pe(()=>t.remote?300:0),Qe=pe(()=>t.loading?t.loadingText||r("el.select.loading"):t.remote&&!o.inputValue&&o.options.size===0?!1:t.filterable&&o.inputValue&&o.options.size>0&&ht.value===0?t.noMatchText||r("el.select.noMatch"):o.options.size===0?t.noDataText||r("el.select.noData"):null),ht=pe(()=>je.value.filter(Xe=>Xe.visible).length),je=pe(()=>{const Xe=Array.from(o.options.values()),qe=[];return o.optionValues.forEach(Mt=>{const Lt=Xe.findIndex(Gt=>Gt.value===Mt);Lt>-1&&qe.push(Xe[Lt])}),qe.length>=Xe.length?qe:Xe}),ze=pe(()=>Array.from(o.cachedOptions.values())),ut=pe(()=>{const Xe=je.value.filter(qe=>!qe.created).some(qe=>qe.currentLabel===o.inputValue);return t.filterable&&t.allowCreate&&o.inputValue!==""&&!Xe}),ct=()=>{t.filterable&&Lr(t.filterMethod)||t.filterable&&t.remote&&Lr(t.remoteMethod)||je.value.forEach(Xe=>{var qe;(qe=Xe.updateOption)==null||qe.call(Xe,o.inputValue)})},mt=Ou(),jt=pe(()=>["small"].includes(mt.value)?"small":"default"),vt=pe({get(){return G.value&&Qe.value!==!1},set(Xe){G.value=Xe}}),se=pe(()=>{if(t.multiple&&!Yo(t.modelValue))return sc(t.modelValue).length===0&&!o.inputValue;const Xe=lr(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||Yo(Xe)?!o.inputValue:!0}),Pe=pe(()=>{var Xe;const qe=(Xe=t.placeholder)!=null?Xe:r("el.select.placeholder");return t.multiple||!re.value?qe:o.selectedLabel}),tt=pe(()=>xk?null:"mouseenter");Yt(()=>t.modelValue,(Xe,qe)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(o.inputValue="",et("")),St(),!$l(Xe,qe)&&t.validateEvent&&(q==null||q.validate("change").catch(Mt=>void 0))},{flush:"post",deep:!0}),Yt(()=>G.value,Xe=>{Xe?et(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),e("visible-change",Xe)}),Yt(()=>o.options.entries(),()=>{var Xe;if(!Ln)return;const qe=((Xe=a.value)==null?void 0:Xe.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Yo(t.modelValue)||!Array.from(qe).includes(document.activeElement))&&St(),t.defaultFirstOption&&(t.filterable||t.remote)&&ht.value&&ot()},{flush:"post"}),Yt(()=>o.hoveringIndex,Xe=>{qn(Xe)&&Xe>-1?ie.value=je.value[Xe]||{}:ie.value={},je.value.forEach(qe=>{qe.hover=ie.value===qe})}),dc(()=>{o.isBeforeHide||ct()});const et=Xe=>{o.previousQuery===Xe||T.value||(o.previousQuery=Xe,t.filterable&&Lr(t.filterMethod)?t.filterMethod(Xe):t.filterable&&t.remote&&Lr(t.remoteMethod)&&t.remoteMethod(Xe),t.defaultFirstOption&&(t.filterable||t.remote)&&ht.value?Wr(ot):Wr(_t))},ot=()=>{const Xe=je.value.filter(Lt=>Lt.visible&&!Lt.disabled&&!Lt.states.groupDisabled),qe=Xe.find(Lt=>Lt.created),Mt=Xe[0];o.hoveringIndex=Ee(je.value,qe||Mt)},St=()=>{if(t.multiple)o.selectedLabel="";else{const qe=lr(t.modelValue)?t.modelValue[0]:t.modelValue,Mt=Dt(qe);o.selectedLabel=Mt.currentLabel,o.selected=[Mt];return}const Xe=[];Yo(t.modelValue)||sc(t.modelValue).forEach(qe=>{Xe.push(Dt(qe))}),o.selected=Xe},Dt=Xe=>{let qe;const Mt=Vw(Xe).toLowerCase()==="object",Lt=Vw(Xe).toLowerCase()==="null",Gt=Vw(Xe).toLowerCase()==="undefined";for(let fr=o.cachedOptions.size-1;fr>=0;fr--){const _e=ze.value[fr];if(Mt?fu(_e.value,t.valueKey)===fu(Xe,t.valueKey):_e.value===Xe){qe={value:Xe,currentLabel:_e.currentLabel,get isDisabled(){return _e.isDisabled}};break}}if(qe)return qe;const Zt=Mt?Xe.label:!Lt&&!Gt?Xe:"";return{value:Xe,currentLabel:Zt}},_t=()=>{o.hoveringIndex=je.value.findIndex(Xe=>o.selected.some(qe=>ue(qe)===ue(Xe)))},Kt=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},Ut=()=>{o.calculatorWidth=h.value.getBoundingClientRect().width},lt=()=>{o.collapseItemWidth=S.value.getBoundingClientRect().width},kt=()=>{var Xe,qe;(qe=(Xe=u.value)==null?void 0:Xe.updatePopper)==null||qe.call(Xe)},yt=()=>{var Xe,qe;(qe=(Xe=d.value)==null?void 0:Xe.updatePopper)==null||qe.call(Xe)},Pt=()=>{o.inputValue.length>0&&!G.value&&(G.value=!0),et(o.inputValue)},Er=Xe=>{if(o.inputValue=Xe.target.value,t.remote)zt();else return Pt()},zt=fp(()=>{Pt()},Me.value),xr=Xe=>{$l(t.modelValue,Xe)||e(Lf,Xe)},Ot=Xe=>Lve(Xe,qe=>!o.disabledOptions.has(qe)),Re=Xe=>{if(t.multiple&&Xe.code!==Zr.delete&&Xe.target.value.length<=0){const qe=sc(t.modelValue).slice(),Mt=Ot(qe);if(Mt<0)return;const Lt=qe[Mt];qe.splice(Mt,1),e(es,qe),xr(qe),e("remove-tag",Lt)}},Ie=(Xe,qe)=>{const Mt=o.selected.indexOf(qe);if(Mt>-1&&!z.value){const Lt=sc(t.modelValue).slice();Lt.splice(Mt,1),e(es,Lt),xr(Lt),e("remove-tag",qe.value)}Xe.stopPropagation(),ur()},nt=Xe=>{Xe.stopPropagation();const qe=t.multiple?[]:X.value;if(t.multiple)for(const Mt of o.selected)Mt.isDisabled&&qe.push(Mt.value);e(es,qe),xr(qe),o.hoveringIndex=-1,G.value=!1,e("clear"),ur()},le=Xe=>{var qe;if(t.multiple){const Mt=sc((qe=t.modelValue)!=null?qe:[]).slice(),Lt=Ee(Mt,Xe.value);Lt>-1?Mt.splice(Lt,1):(t.multipleLimit<=0||Mt.length<t.multipleLimit)&&Mt.push(Xe.value),e(es,Mt),xr(Mt),Xe.created&&et(""),t.filterable&&!t.reserveKeyword&&(o.inputValue="")}else e(es,Xe.value),xr(Xe.value),G.value=!1;ur(),!G.value&&Wr(()=>{Fe(Xe)})},Ee=(Xe=[],qe)=>{if(!En(qe))return Xe.indexOf(qe);const Mt=t.valueKey;let Lt=-1;return Xe.some((Gt,Zt)=>Gn(fu(Gt,Mt))===fu(qe,Mt)?(Lt=Zt,!0):!1),Lt},Fe=Xe=>{var qe,Mt,Lt,Gt,Zt;const Or=lr(Xe)?Xe[0]:Xe;let fr=null;if(Or!=null&&Or.value){const _e=je.value.filter(ar=>ar.value===Or.value);_e.length>0&&(fr=_e[0].$el)}if(u.value&&fr){const _e=(Gt=(Lt=(Mt=(qe=u.value)==null?void 0:qe.popperRef)==null?void 0:Mt.contentRef)==null?void 0:Lt.querySelector)==null?void 0:Gt.call(Lt,`.${i.be("dropdown","wrap")}`);_e&&cX(_e,fr)}(Zt=C.value)==null||Zt.handleScroll()},He=Xe=>{o.options.set(Xe.value,Xe),o.cachedOptions.set(Xe.value,Xe),Xe.disabled&&o.disabledOptions.set(Xe.value,Xe)},Ar=(Xe,qe)=>{o.options.get(Xe)===qe&&o.options.delete(Xe)},c=pe(()=>{var Xe,qe;return(qe=(Xe=u.value)==null?void 0:Xe.popperRef)==null?void 0:qe.contentRef}),$t=()=>{o.isBeforeHide=!1,Wr(()=>Fe(o.selected))},ur=()=>{var Xe;(Xe=f.value)==null||Xe.focus()},he=()=>{var Xe;(Xe=f.value)==null||Xe.blur()},w=Xe=>{nt(Xe)},k=()=>{G.value=!1,N.value&&he()},U=()=>{o.inputValue.length>0?o.inputValue="":G.value=!1},de=()=>{z.value||(xk&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:G.value=!G.value)},ye=()=>{G.value?je.value[o.hoveringIndex]&&le(je.value[o.hoveringIndex]):de()},ue=Xe=>En(Xe.value)?fu(Xe.value,t.valueKey):Xe.value,ke=pe(()=>je.value.filter(Xe=>Xe.visible).every(Xe=>Xe.disabled)),De=pe(()=>t.multiple?t.collapseTags?o.selected.slice(0,t.maxCollapseTags):o.selected:[]),we=pe(()=>t.multiple?t.collapseTags?o.selected.slice(t.maxCollapseTags):[]:[]),Be=Xe=>{if(!G.value){G.value=!0;return}if(!(o.options.size===0||o.filteredOptionsCount===0||T.value)&&!ke.value){Xe==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):Xe==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const qe=je.value[o.hoveringIndex];(qe.disabled===!0||qe.states.groupDisabled===!0||!qe.visible)&&Be(Xe),Wr(()=>Fe(ie.value))}},it=()=>{if(!l.value)return 0;const Xe=window.getComputedStyle(l.value);return Number.parseFloat(Xe.gap||"6px")},at=pe(()=>{const Xe=it();return{maxWidth:`${S.value&&t.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-Xe:o.selectionWidth}px`}}),ft=pe(()=>({maxWidth:`${o.selectionWidth}px`})),Nt=pe(()=>({width:`${Math.max(o.calculatorWidth,sEe)}px`}));return ko(l,Kt),ko(h,Ut),ko(p,kt),ko(O,kt),ko(b,yt),ko(S,lt),zn(()=>{St()}),{inputId:J,contentId:n,nsSelect:i,nsInput:s,states:o,isFocused:N,expanded:G,optionsArray:je,hoverOption:ie,selectSize:mt,filteredOptionsCount:ht,resetCalculatorWidth:Ut,updateTooltip:kt,updateTagTooltip:yt,debouncedOnInputChange:zt,onInput:Er,deletePrevTag:Re,deleteTag:Ie,deleteSelected:nt,handleOptionSelect:le,scrollToOption:Fe,hasModelValue:re,shouldShowPlaceholder:se,currentPlaceholder:Pe,mouseEnterEventName:tt,showClose:oe,iconComponent:H,iconReverse:ee,validateState:ae,validateIcon:be,showNewOption:ut,updateOptions:ct,collapseTagSize:jt,setSelected:St,selectDisabled:z,emptyText:Qe,handleCompositionStart:A,handleCompositionUpdate:E,handleCompositionEnd:I,onOptionCreate:He,onOptionDestroy:Ar,handleMenuEnter:$t,focus:ur,blur:he,handleClearClick:w,handleClickOutside:k,handleEsc:U,toggleMenu:de,selectOption:ye,getValueKey:ue,navigateOptions:Be,dropdownMenuVisible:vt,showTagList:De,collapseTagList:we,tagStyle:at,collapseTagStyle:ft,inputStyle:Nt,popperRef:c,inputRef:f,tooltipRef:u,tagTooltipRef:d,calculatorRef:h,prefixRef:g,suffixRef:v,selectRef:a,wrapperRef:O,selectionRef:l,scrollbarRef:C,menuRef:p,tagMenuRef:b,collapseItemRef:S}};var aEe=rt({name:"ElOptions",setup(t,{slots:e}){const r=Mr(pE);let n=[];return()=>{var i,s;const o=(i=e.default)==null?void 0:i.call(e),a=[];function l(u){lr(u)&&u.forEach(d=>{var f,h,g,v;const p=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;p==="ElOptionGroup"?l(!nn(d.children)&&!lr(d.children)&&Lr((h=d.children)==null?void 0:h.default)?(g=d.children)==null?void 0:g.default():d.children):p==="ElOption"?a.push((v=d.props)==null?void 0:v.value):lr(d.children)&&l(d.children)})}return o.length&&l((s=o[0])==null?void 0:s.children),$l(a,n)||(n=a,r&&(r.states.optionValues=a)),o}}});const lEe=kr({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Ac,effect:{type:Bt(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Bt(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:dE.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:ro,default:gy},fitInputWidth:Boolean,suffixIcon:{type:ro,default:C1},tagType:{...hb.type,default:"info"},tagEffect:{...hb.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:Bt(String),values:vy,default:"bottom-start"},fallbackPlacements:{type:Bt(Array),default:["bottom-start","top-start","right","left"]},appendTo:String,...xO,...Xf(["ariaLabel"])}),iB="ElSelect",uEe=rt({name:iB,componentName:iB,components:{ElSelectMenu:iEe,ElOption:LO,ElOptions:aEe,ElTag:eI,ElScrollbar:Bm,ElTooltip:mp,ElIcon:Rr},directives:{ClickOutside:_m},props:lEe,emits:[es,Lf,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const r=pe(()=>{const{modelValue:s,multiple:o}=t,a=o?[]:void 0;return lr(s)?o?s:a:o?a:s}),n=an({...Hu(t),modelValue:r}),i=oEe(n,e);return bi(pE,an({props:n,states:i.states,optionsArray:i.optionsArray,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy,selectRef:i.selectRef,setSelected:i.setSelected})),{...i,modelValue:r}}});function cEe(t,e,r,n,i,s){const o=Yn("el-tag"),a=Yn("el-tooltip"),l=Yn("el-icon"),u=Yn("el-option"),d=Yn("el-options"),f=Yn("el-scrollbar"),h=Yn("el-select-menu"),g=NM("click-outside");return wn((me(),$e("div",{ref:"selectRef",class:Se([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[d2(t.mouseEnterEventName)]:v=>t.states.inputHovering=!0,onMouseleave:v=>t.states.inputHovering=!1},[F(a,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,onBeforeShow:t.handleMenuEnter,onHide:v=>t.states.isBeforeHide=!1},{default:te(()=>{var v;return[Ue("div",{ref:"wrapperRef",class:Se([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:_n(t.toggleMenu,["prevent"])},[t.$slots.prefix?(me(),$e("div",{key:0,ref:"prefixRef",class:Se(t.nsSelect.e("prefix"))},[Ft(t.$slots,"prefix")],2)):gt("v-if",!0),Ue("div",{ref:"selectionRef",class:Se([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Ft(t.$slots,"tag",{key:0},()=>[(me(!0),$e(Sr,null,mi(t.showTagList,p=>(me(),$e("div",{key:t.getValueKey(p),class:Se(t.nsSelect.e("selected-item"))},[F(o,{closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:dn(t.tagStyle),onClose:b=>t.deleteTag(b,p)},{default:te(()=>[Ue("span",{class:Se(t.nsSelect.e("tags-text"))},[Ft(t.$slots,"label",{label:p.currentLabel,value:p.value},()=>[Et(cr(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(me(),Ct(a,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:te(()=>[Ue("div",{ref:"collapseItemRef",class:Se(t.nsSelect.e("selected-item"))},[F(o,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:dn(t.collapseTagStyle)},{default:te(()=>[Ue("span",{class:Se(t.nsSelect.e("tags-text"))}," + "+cr(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:te(()=>[Ue("div",{ref:"tagMenuRef",class:Se(t.nsSelect.e("selection"))},[(me(!0),$e(Sr,null,mi(t.collapseTagList,p=>(me(),$e("div",{key:t.getValueKey(p),class:Se(t.nsSelect.e("selected-item"))},[F(o,{class:"in-tooltip",closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:b=>t.deleteTag(b,p)},{default:te(()=>[Ue("span",{class:Se(t.nsSelect.e("tags-text"))},[Ft(t.$slots,"label",{label:p.currentLabel,value:p.value},()=>[Et(cr(p.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):gt("v-if",!0)]):gt("v-if",!0),t.selectDisabled?gt("v-if",!0):(me(),$e("div",{key:1,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[wn(Ue("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":p=>t.states.inputValue=p,type:"text",name:t.name,class:Se([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:dn(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((v=t.hoverOption)==null?void 0:v.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Li(_n(p=>t.navigateOptions("next"),["stop","prevent"]),["down"]),Li(_n(p=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),Li(_n(t.handleEsc,["stop","prevent"]),["esc"]),Li(_n(t.selectOption,["stop","prevent"]),["enter"]),Li(_n(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:_n(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[hq,t.states.inputValue]]),t.filterable?(me(),$e("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Se(t.nsSelect.e("input-calculator")),textContent:cr(t.states.inputValue)},null,10,["textContent"])):gt("v-if",!0)],2)),t.shouldShowPlaceholder?(me(),$e("div",{key:2,class:Se([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Ft(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[Ue("span",null,cr(t.currentPlaceholder),1)]):(me(),$e("span",{key:1},cr(t.currentPlaceholder),1))],2)):gt("v-if",!0)],2),Ue("div",{ref:"suffixRef",class:Se(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(me(),Ct(l,{key:0,class:Se([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:te(()=>[(me(),Ct(_i(t.iconComponent)))]),_:1},8,["class"])):gt("v-if",!0),t.showClose&&t.clearIcon?(me(),Ct(l,{key:1,class:Se([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:te(()=>[(me(),Ct(_i(t.clearIcon)))]),_:1},8,["class","onClick"])):gt("v-if",!0),t.validateState&&t.validateIcon?(me(),Ct(l,{key:2,class:Se([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:te(()=>[(me(),Ct(_i(t.validateIcon)))]),_:1},8,["class"])):gt("v-if",!0)],2)],10,["onClick"])]}),content:te(()=>[F(h,{ref:"menuRef"},{default:te(()=>[t.$slots.header?(me(),$e("div",{key:0,class:Se(t.nsSelect.be("dropdown","header")),onClick:_n(()=>{},["stop"])},[Ft(t.$slots,"header")],10,["onClick"])):gt("v-if",!0),wn(F(f,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:Se([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:te(()=>[t.showNewOption?(me(),Ct(u,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):gt("v-if",!0),F(d,null,{default:te(()=>[Ft(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Ai,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(me(),$e("div",{key:1,class:Se(t.nsSelect.be("dropdown","loading"))},[Ft(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(me(),$e("div",{key:2,class:Se(t.nsSelect.be("dropdown","empty"))},[Ft(t.$slots,"empty",{},()=>[Ue("span",null,cr(t.emptyText),1)])],2)):gt("v-if",!0),t.$slots.footer?(me(),$e("div",{key:3,class:Se(t.nsSelect.be("dropdown","footer")),onClick:_n(()=>{},["stop"])},[Ft(t.$slots,"footer")],10,["onClick"])):gt("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","onBeforeShow","onHide"])],16,["onMouseleave"])),[[g,t.handleClickOutside,t.popperRef]])}var dEe=Ir(uEe,[["render",cEe],["__file","select.vue"]]);const fEe=rt({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=sr("select"),r=ve(null),n=Dn(),i=ve([]);bi(gK,an({...Hu(t)}));const s=pe(()=>i.value.some(u=>u.visible===!0)),o=u=>{var d,f;return((d=u.type)==null?void 0:d.name)==="ElOption"&&!!((f=u.component)!=null&&f.proxy)},a=u=>{const d=sc(u),f=[];return d.forEach(h=>{var g,v;o(h)?f.push(h.component.proxy):(g=h.children)!=null&&g.length?f.push(...a(h.children)):(v=h.component)!=null&&v.subTree&&f.push(...a(h.component.subTree))}),f},l=()=>{i.value=a(n.subTree)};return zn(()=>{l()}),Bfe(r,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:r,visible:s,ns:e}}});function hEe(t,e,r,n,i,s){return wn((me(),$e("ul",{ref:"groupRef",class:Se(t.ns.be("group","wrap"))},[Ue("li",{class:Se(t.ns.be("group","title"))},cr(t.label),3),Ue("li",null,[Ue("ul",{class:Se(t.ns.b("group"))},[Ft(t.$slots,"default")],2)])],2)),[[Ai,t.visible]])}var vK=Ir(fEe,[["render",hEe],["__file","option-group.vue"]]);const by=gi(dEe,{Option:LO,OptionGroup:vK}),ic=No(LO);No(vK);const FO=()=>Mr(mK,{}),pEe=kr({pageSize:{type:Number,required:!0},pageSizes:{type:Bt(Array),default:()=>Ro([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:kp},appendSizeTo:String}),mEe=rt({name:"ElPaginationSizes"}),gEe=rt({...mEe,props:pEe,emits:["page-size-change"],setup(t,{emit:e}){const r=t,{t:n}=Si(),i=sr("pagination"),s=FO(),o=ve(r.pageSize);Yt(()=>r.pageSizes,(u,d)=>{if(!$l(u,d)&&Array.isArray(u)){const f=u.includes(r.pageSize)?r.pageSize:r.pageSizes[0];e("page-size-change",f)}}),Yt(()=>r.pageSize,u=>{o.value=u});const a=pe(()=>r.pageSizes);function l(u){var d;u!==o.value&&(o.value=u,(d=s.handleSizeChange)==null||d.call(s,Number(u)))}return(u,d)=>(me(),$e("span",{class:Se(_(i).e("sizes"))},[F(_(by),{"model-value":o.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,"append-to":u.appendSizeTo,onChange:l},{default:te(()=>[(me(!0),$e(Sr,null,mi(_(a),f=>(me(),Ct(_(ic),{key:f,value:f,label:f+_(n)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var vEe=Ir(gEe,[["__file","sizes.vue"]]);const yEe=kr({size:{type:String,values:kp}}),_Ee=rt({name:"ElPaginationJumper"}),bEe=rt({..._Ee,props:yEe,setup(t){const{t:e}=Si(),r=sr("pagination"),{pageCount:n,disabled:i,currentPage:s,changeEvent:o}=FO(),a=ve(),l=pe(()=>{var f;return(f=a.value)!=null?f:s==null?void 0:s.value});function u(f){a.value=f?+f:""}function d(f){f=Math.trunc(+f),o==null||o(f),a.value=void 0}return(f,h)=>(me(),$e("span",{class:Se(_(r).e("jump")),disabled:_(i)},[Ue("span",{class:Se([_(r).e("goto")])},cr(_(e)("el.pagination.goto")),3),F(_(ji),{size:f.size,class:Se([_(r).e("editor"),_(r).is("in-pagination")]),min:1,max:_(n),disabled:_(i),"model-value":_(l),"validate-event":!1,"aria-label":_(e)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:d},null,8,["size","class","max","disabled","model-value","aria-label"]),Ue("span",{class:Se([_(r).e("classifier")])},cr(_(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var xEe=Ir(bEe,[["__file","jumper.vue"]]);const wEe=kr({total:{type:Number,default:1e3}}),SEe=rt({name:"ElPaginationTotal"}),TEe=rt({...SEe,props:wEe,setup(t){const{t:e}=Si(),r=sr("pagination"),{disabled:n}=FO();return(i,s)=>(me(),$e("span",{class:Se(_(r).e("total")),disabled:_(n)},cr(_(e)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var CEe=Ir(TEe,[["__file","total.vue"]]);const EEe=kr({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),AEe=rt({name:"ElPaginationPager"}),PEe=rt({...AEe,props:EEe,emits:["change"],setup(t,{emit:e}){const r=t,n=sr("pager"),i=sr("icon"),{t:s}=Si(),o=ve(!1),a=ve(!1),l=ve(!1),u=ve(!1),d=ve(!1),f=ve(!1),h=pe(()=>{const A=r.pagerCount,E=(A-1)/2,I=Number(r.currentPage),O=Number(r.pageCount);let N=!1,G=!1;O>A&&(I>A-E&&(N=!0),I<O-E&&(G=!0));const ie=[];if(N&&!G){const W=O-(A-2);for(let q=W;q<O;q++)ie.push(q)}else if(!N&&G)for(let W=2;W<A;W++)ie.push(W);else if(N&&G){const W=Math.floor(A/2)-1;for(let q=I-W;q<=I+W;q++)ie.push(q)}else for(let W=2;W<O;W++)ie.push(W);return ie}),g=pe(()=>["more","btn-quickprev",i.b(),n.is("disabled",r.disabled)]),v=pe(()=>["more","btn-quicknext",i.b(),n.is("disabled",r.disabled)]),p=pe(()=>r.disabled?-1:0);dc(()=>{const A=(r.pagerCount-1)/2;o.value=!1,a.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-A&&(o.value=!0),r.currentPage<r.pageCount-A&&(a.value=!0))});function b(A=!1){r.disabled||(A?l.value=!0:u.value=!0)}function S(A=!1){A?d.value=!0:f.value=!0}function C(A){const E=A.target;if(E.tagName.toLowerCase()==="li"&&Array.from(E.classList).includes("number")){const I=Number(E.textContent);I!==r.currentPage&&e("change",I)}else E.tagName.toLowerCase()==="li"&&Array.from(E.classList).includes("more")&&T(A)}function T(A){const E=A.target;if(E.tagName.toLowerCase()==="ul"||r.disabled)return;let I=Number(E.textContent);const O=r.pageCount,N=r.currentPage,G=r.pagerCount-2;E.className.includes("more")&&(E.className.includes("quickprev")?I=N-G:E.className.includes("quicknext")&&(I=N+G)),Number.isNaN(+I)||(I<1&&(I=1),I>O&&(I=O)),I!==N&&e("change",I)}return(A,E)=>(me(),$e("ul",{class:Se(_(n).b()),onClick:T,onKeyup:Li(C,["enter"])},[A.pageCount>0?(me(),$e("li",{key:0,class:Se([[_(n).is("active",A.currentPage===1),_(n).is("disabled",A.disabled)],"number"]),"aria-current":A.currentPage===1,"aria-label":_(s)("el.pagination.currentPage",{pager:1}),tabindex:_(p)}," 1 ",10,["aria-current","aria-label","tabindex"])):gt("v-if",!0),o.value?(me(),$e("li",{key:1,class:Se(_(g)),tabindex:_(p),"aria-label":_(s)("el.pagination.prevPages",{pager:A.pagerCount-2}),onMouseenter:I=>b(!0),onMouseleave:I=>l.value=!1,onFocus:I=>S(!0),onBlur:I=>d.value=!1},[(l.value||d.value)&&!A.disabled?(me(),Ct(_(hp),{key:0})):(me(),Ct(_(iN),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):gt("v-if",!0),(me(!0),$e(Sr,null,mi(_(h),I=>(me(),$e("li",{key:I,class:Se([[_(n).is("active",A.currentPage===I),_(n).is("disabled",A.disabled)],"number"]),"aria-current":A.currentPage===I,"aria-label":_(s)("el.pagination.currentPage",{pager:I}),tabindex:_(p)},cr(I),11,["aria-current","aria-label","tabindex"]))),128)),a.value?(me(),$e("li",{key:2,class:Se(_(v)),tabindex:_(p),"aria-label":_(s)("el.pagination.nextPages",{pager:A.pagerCount-2}),onMouseenter:I=>b(),onMouseleave:I=>u.value=!1,onFocus:I=>S(),onBlur:I=>f.value=!1},[(u.value||f.value)&&!A.disabled?(me(),Ct(_(pp),{key:0})):(me(),Ct(_(iN),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):gt("v-if",!0),A.pageCount>1?(me(),$e("li",{key:3,class:Se([[_(n).is("active",A.currentPage===A.pageCount),_(n).is("disabled",A.disabled)],"number"]),"aria-current":A.currentPage===A.pageCount,"aria-label":_(s)("el.pagination.currentPage",{pager:A.pageCount}),tabindex:_(p)},cr(A.pageCount),11,["aria-current","aria-label","tabindex"])):gt("v-if",!0)],42,["onKeyup"]))}});var kEe=Ir(PEe,[["__file","pager.vue"]]);const Sa=t=>typeof t!="number",IEe=kr({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>qn(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Bt(Array),default:()=>Ro([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:ro,default:()=>gm},nextText:{type:String,default:""},nextIcon:{type:ro,default:()=>Tu},teleported:{type:Boolean,default:!0},small:Boolean,size:Ac,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),DEe={"update:current-page":t=>qn(t),"update:page-size":t=>qn(t),"size-change":t=>qn(t),change:(t,e)=>qn(t)&&qn(e),"current-change":t=>qn(t),"prev-click":t=>qn(t),"next-click":t=>qn(t)},sB="ElPagination";var REe=rt({name:sB,props:IEe,emits:DEe,setup(t,{emit:e,slots:r}){const{t:n}=Si(),i=sr("pagination"),s=Dn().vnode.props||{},o=WX(),a=pe(()=>{var E;return t.small?"small":(E=t.size)!=null?E:o.value});ep({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},pe(()=>!!t.small));const l="onUpdate:currentPage"in s||"onUpdate:current-page"in s||"onCurrentChange"in s,u="onUpdate:pageSize"in s||"onUpdate:page-size"in s||"onSizeChange"in s,d=pe(()=>{if(Sa(t.total)&&Sa(t.pageCount)||!Sa(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(Sa(t.pageCount)){if(!Sa(t.total)&&!Sa(t.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=ve(Sa(t.defaultPageSize)?10:t.defaultPageSize),h=ve(Sa(t.defaultCurrentPage)?1:t.defaultCurrentPage),g=pe({get(){return Sa(t.pageSize)?f.value:t.pageSize},set(E){Sa(t.pageSize)&&(f.value=E),u&&(e("update:page-size",E),e("size-change",E))}}),v=pe(()=>{let E=0;return Sa(t.pageCount)?Sa(t.total)||(E=Math.max(1,Math.ceil(t.total/g.value))):E=t.pageCount,E}),p=pe({get(){return Sa(t.currentPage)?h.value:t.currentPage},set(E){let I=E;E<1?I=1:E>v.value&&(I=v.value),Sa(t.currentPage)&&(h.value=I),l&&(e("update:current-page",I),e("current-change",I))}});Yt(v,E=>{p.value>E&&(p.value=E)}),Yt([p,g],E=>{e("change",...E)},{flush:"post"});function b(E){p.value=E}function S(E){g.value=E;const I=v.value;p.value>I&&(p.value=I)}function C(){t.disabled||(p.value-=1,e("prev-click",p.value))}function T(){t.disabled||(p.value+=1,e("next-click",p.value))}function A(E,I){E&&(E.props||(E.props={}),E.props.class=[E.props.class,I].join(" "))}return bi(mK,{pageCount:v,disabled:pe(()=>t.disabled),currentPage:p,changeEvent:b,handleSizeChange:S}),()=>{var E,I;if(!d.value)return n("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&v.value<=1)return null;const O=[],N=[],G=br("div",{class:i.e("rightwrapper")},N),ie={prev:br(XCe,{disabled:t.disabled,currentPage:p.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:C}),jumper:br(xEe,{size:a.value}),pager:br(kEe,{currentPage:p.value,pageCount:v.value,pagerCount:t.pagerCount,onChange:b,disabled:t.disabled}),next:br(QCe,{disabled:t.disabled,currentPage:p.value,pageCount:v.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:T}),sizes:br(vEe,{pageSize:g.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:a.value,appendSizeTo:t.appendSizeTo}),slot:(I=(E=r==null?void 0:r.default)==null?void 0:E.call(r))!=null?I:null,total:br(CEe,{total:Sa(t.total)?0:t.total})},W=t.layout.split(",").map(J=>J.trim());let q=!1;return W.forEach(J=>{if(J==="->"){q=!0;return}q?N.push(ie[J]):O.push(ie[J])}),A(O[0],i.is("first")),A(O[O.length-1],i.is("last")),q&&N.length>0&&(A(N[0],i.is("first")),A(N[N.length-1],i.is("last")),O.push(G)),br("div",{class:[i.b(),i.is("background",t.background),i.m(a.value)]},O)}}});const Wg=gi(REe),MEe=kr({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Bt(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Bt([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Bt(Function),default:t=>`${t}%`}}),OEe=rt({name:"ElProgress"}),$Ee=rt({...OEe,props:MEe,setup(t){const e=t,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=sr("progress"),i=pe(()=>{const T={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},A=C(e.percentage);return A.includes("gradient")?T.background=A:T.backgroundColor=A,T}),s=pe(()=>(e.strokeWidth/e.width*100).toFixed(1)),o=pe(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(s.value)/2}`,10):0),a=pe(()=>{const T=o.value,A=e.type==="dashboard";return`
          M 50 50
          m 0 ${A?"":"-"}${T}
          a ${T} ${T} 0 1 1 0 ${A?"-":""}${T*2}
          a ${T} ${T} 0 1 1 0 ${A?"":"-"}${T*2}
          `}),l=pe(()=>2*Math.PI*o.value),u=pe(()=>e.type==="dashboard"?.75:1),d=pe(()=>`${-1*l.value*(1-u.value)/2}px`),f=pe(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:d.value})),h=pe(()=>({strokeDasharray:`${l.value*u.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:d.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),g=pe(()=>{let T;return e.color?T=C(e.percentage):T=r[e.status]||r.default,T}),v=pe(()=>e.status==="warning"?uO:e.type==="line"?e.status==="success"?lO:gy:e.status==="success"?rE:$f),p=pe(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),b=pe(()=>e.format(e.percentage));function S(T){const A=100/T.length;return T.map((I,O)=>nn(I)?{color:I,percentage:(O+1)*A}:I).sort((I,O)=>I.percentage-O.percentage)}const C=T=>{var A;const{color:E}=e;if(Lr(E))return E(T);if(nn(E))return E;{const I=S(E);for(const O of I)if(O.percentage>T)return O.color;return(A=I[I.length-1])==null?void 0:A.color}};return(T,A)=>(me(),$e("div",{class:Se([_(n).b(),_(n).m(T.type),_(n).is(T.status),{[_(n).m("without-text")]:!T.showText,[_(n).m("text-inside")]:T.textInside}]),role:"progressbar","aria-valuenow":T.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[T.type==="line"?(me(),$e("div",{key:0,class:Se(_(n).b("bar"))},[Ue("div",{class:Se(_(n).be("bar","outer")),style:dn({height:`${T.strokeWidth}px`})},[Ue("div",{class:Se([_(n).be("bar","inner"),{[_(n).bem("bar","inner","indeterminate")]:T.indeterminate},{[_(n).bem("bar","inner","striped")]:T.striped},{[_(n).bem("bar","inner","striped-flow")]:T.stripedFlow}]),style:dn(_(i))},[(T.showText||T.$slots.default)&&T.textInside?(me(),$e("div",{key:0,class:Se(_(n).be("bar","innerText"))},[Ft(T.$slots,"default",{percentage:T.percentage},()=>[Ue("span",null,cr(_(b)),1)])],2)):gt("v-if",!0)],6)],6)],2)):(me(),$e("div",{key:1,class:Se(_(n).b("circle")),style:dn({height:`${T.width}px`,width:`${T.width}px`})},[(me(),$e("svg",{viewBox:"0 0 100 100"},[Ue("path",{class:Se(_(n).be("circle","track")),d:_(a),stroke:`var(${_(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":T.strokeLinecap,"stroke-width":_(s),fill:"none",style:dn(_(f))},null,14,["d","stroke","stroke-linecap","stroke-width"]),Ue("path",{class:Se(_(n).be("circle","path")),d:_(a),stroke:_(g),fill:"none",opacity:T.percentage?1:0,"stroke-linecap":T.strokeLinecap,"stroke-width":_(s),style:dn(_(h))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(T.showText||T.$slots.default)&&!T.textInside?(me(),$e("div",{key:2,class:Se(_(n).e("text")),style:dn({fontSize:`${_(p)}px`})},[Ft(T.$slots,"default",{percentage:T.percentage},()=>[T.status?(me(),Ct(_(Rr),{key:1},{default:te(()=>[(me(),Ct(_i(_(v))))]),_:1})):(me(),$e("span",{key:0},cr(_(b)),1))])],6)):gt("v-if",!0)],10,["aria-valuenow"]))}});var LEe=Ir($Ee,[["__file","progress.vue"]]);const FEe=gi(LEe),h3=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},NEe=function(t,e,r,n,i){if(!e&&!n&&(!i||Array.isArray(i)&&!i.length))return t;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const s=n?null:function(a,l){return i?(Array.isArray(i)||(i=[i]),i.map(u=>typeof u=="string"?fu(a,u):u(a,l,t))):(e!=="$key"&&En(a)&&"$value"in a&&(a=a.$value),[En(a)?fu(a,e):a])},o=function(a,l){if(n)return n(a.value,l.value);for(let u=0,d=a.key.length;u<d;u++){if(a.key[u]<l.key[u])return-1;if(a.key[u]>l.key[u])return 1}return 0};return t.map((a,l)=>({value:a,index:l,key:s?s(a,l):null})).sort((a,l)=>{let u=o(a,l);return u||(u=a.index-l.index),u*+r}).map(a=>a.value)},yK=function(t,e){let r=null;return t.columns.forEach(n=>{n.id===e&&(r=n)}),r},BEe=function(t,e){let r=null;for(let n=0;n<t.columns.length;n++){const i=t.columns[n];if(i.columnKey===e){r=i;break}}return r||_l("ElTable",`No column matching with column-key: ${e}`),r},oB=function(t,e,r){const n=(e.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return n?yK(t,n[0]):null},ua=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const r=e.split(".");let n=t;for(const i of r)n=n[i];return`${n}`}else if(typeof e=="function")return e.call(null,t)},B0=function(t,e){const r={};return(t||[]).forEach((n,i)=>{r[ua(n,e)]={row:n,index:i}}),r};function UEe(t,e){const r={};let n;for(n in t)r[n]=t[n];for(n in e)if(Xn(e,n)){const i=e[n];typeof i<"u"&&(r[n]=i)}return r}function NO(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function _K(t){return t===""||t!==void 0&&(t=NO(t),Number.isNaN(t)&&(t=80)),t}function VEe(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function zEe(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function dT(t,e,r,n,i,s){let o=s??0,a=!1;const l=t.indexOf(e),u=l!==-1,d=i==null?void 0:i.call(null,e,s),f=g=>{g==="add"?t.push(e):t.splice(l,1),a=!0},h=g=>{let v=0;const p=(n==null?void 0:n.children)&&g[n.children];return p&&lr(p)&&(v+=p.length,p.forEach(b=>{v+=h(b)})),v};return(!i||d)&&(yl(r)?r&&!u?f("add"):!r&&u&&f("remove"):f(u?"remove":"add")),!(n!=null&&n.checkStrictly)&&(n!=null&&n.children)&&lr(e[n.children])&&e[n.children].forEach(g=>{dT(t,g,r??!u,n,i,o+1),o+=h(g)+1}),a}function HEe(t,e,r="children",n="hasChildren"){const i=o=>!(Array.isArray(o)&&o.length);function s(o,a,l){e(o,a,l),a.forEach(u=>{if(u[n]){e(u,null,l+1);return}const d=u[r];i(d)||s(u,d,l+1)})}t.forEach(o=>{if(o[n]){e(o,null,0);return}const a=o[r];i(a)||s(o,a,0)})}let ou=null;function jEe(t,e,r,n){if((ou==null?void 0:ou.trigger)===r)return;ou==null||ou();const i=n==null?void 0:n.refs.tableWrapper,s=i==null?void 0:i.dataset.prefix,o={strategy:"fixed",...t.popperOptions},a=F(mp,{content:e,virtualTriggering:!0,virtualRef:r,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:o,onHide:()=>{ou==null||ou()}});a.appContext={...n.appContext,...n};const l=document.createElement("div");dp(a,l),a.component.exposed.onOpen();const u=i==null?void 0:i.querySelector(`.${s}-scrollbar__wrap`);ou=()=>{dp(null,l),u==null||u.removeEventListener("scroll",ou),ou=null},ou.trigger=r,u==null||u.addEventListener("scroll",ou)}function bK(t){return t.children?Bve(t.children,bK):[t]}function aB(t,e){return t+e.colSpan}const xK=(t,e,r,n)=>{let i=0,s=t;const o=r.states.columns.value;if(n){const l=bK(n[t]);i=o.slice(0,o.indexOf(l[0])).reduce(aB,0),s=i+l.reduce(aB,0)-1}else i=t;let a;switch(e){case"left":s<r.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":i>=o.length-r.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:s<r.states.fixedLeafColumnsLength.value?a="left":i>=o.length-r.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:i,after:s}:{}},BO=(t,e,r,n,i,s=0)=>{const o=[],{direction:a,start:l,after:u}=xK(e,r,n,i);if(a){const d=a==="left";o.push(`${t}-fixed-column--${a}`),d&&u+s===n.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!d&&l-s===n.states.columns.value.length-n.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function lB(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const UO=(t,e,r,n)=>{const{direction:i,start:s=0,after:o=0}=xK(t,e,r,n);if(!i)return;const a={},l=i==="left",u=r.states.columns.value;return l?a.left=u.slice(0,s).reduce(lB,0):a.right=u.slice(o+1).reverse().reduce(lB,0),a},kv=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function GEe(t){const e=Dn(),r=ve(!1),n=ve([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(r.value)n.value=l.slice();else if(u){const d=B0(n.value,u);n.value=l.reduce((f,h)=>{const g=ua(h,u);return d[g]&&f.push(h),f},[])}else n.value=[]},toggleRowExpansion:(l,u)=>{dT(n.value,l,u)&&e.emit("expand-change",l,n.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],d=t.rowKey.value,f=B0(u,d);n.value=l.reduce((h,g)=>{const v=f[g];return v&&h.push(v.row),h},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!B0(n.value,u)[ua(l,u)]:n.value.includes(l)},states:{expandRows:n,defaultExpandAll:r}}}function WEe(t){const e=Dn(),r=ve(null),n=ve(null),i=u=>{e.store.assertRowKey(),r.value=u,o(u)},s=()=>{r.value=null},o=u=>{const{data:d,rowKey:f}=t;let h=null;f.value&&(h=(_(d)||[]).find(g=>ua(g,f.value)===u)),n.value=h,e.emit("current-change",n.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:s,setCurrentRowByKey:o,updateCurrentRow:u=>{const d=n.value;if(u&&u!==d){n.value=u,e.emit("current-change",n.value,d);return}!u&&d&&(n.value=null,e.emit("current-change",null,d))},updateCurrentRowData:()=>{const u=t.rowKey.value,d=t.data.value||[],f=n.value;if(!d.includes(f)&&f){if(u){const h=ua(f,u);o(h)}else n.value=null;n.value===null&&e.emit("current-change",null,f)}else r.value&&(o(r.value),s())},states:{_currentRowKey:r,currentRow:n}}}function qEe(t){const e=ve([]),r=ve({}),n=ve(16),i=ve(!1),s=ve({}),o=ve("hasChildren"),a=ve("children"),l=ve(!1),u=Dn(),d=pe(()=>{if(!t.rowKey.value)return{};const T=t.data.value||[];return h(T)}),f=pe(()=>{const T=t.rowKey.value,A=Object.keys(s.value),E={};return A.length&&A.forEach(I=>{if(s.value[I].length){const O={children:[]};s.value[I].forEach(N=>{const G=ua(N,T);O.children.push(G),N[o.value]&&!E[G]&&(E[G]={children:[]})}),E[I]=O}}),E}),h=T=>{const A=t.rowKey.value,E={};return HEe(T,(I,O,N)=>{const G=ua(I,A);Array.isArray(O)?E[G]={children:O.map(ie=>ua(ie,A)),level:N}:i.value&&(E[G]={children:[],lazy:!0,level:N})},a.value,o.value),E},g=(T=!1,A=(E=>(E=u.store)==null?void 0:E.states.defaultExpandAll.value)())=>{var E;const I=d.value,O=f.value,N=Object.keys(I),G={};if(N.length){const ie=_(r),W=[],q=(X,R)=>{if(T)return e.value?A||e.value.includes(R):!!(A||X!=null&&X.expanded);{const z=A||e.value&&e.value.includes(R);return!!(X!=null&&X.expanded||z)}};N.forEach(X=>{const R=ie[X],z={...I[X]};if(z.expanded=q(R,X),z.lazy){const{loaded:re=!1,loading:oe=!1}=R||{};z.loaded=!!re,z.loading=!!oe,W.push(X)}G[X]=z});const J=Object.keys(O);i.value&&J.length&&W.length&&J.forEach(X=>{const R=ie[X],z=O[X].children;if(W.includes(X)){if(G[X].children.length!==0)throw new Error("[ElTable]children must be an empty array.");G[X].children=z}else{const{loaded:re=!1,loading:oe=!1}=R||{};G[X]={lazy:!0,loaded:!!re,loading:!!oe,expanded:q(R,X),children:z,level:""}}})}r.value=G,(E=u.store)==null||E.updateTableScrollY()};Yt(()=>e.value,()=>{g(!0)}),Yt(()=>d.value,()=>{g()}),Yt(()=>f.value,()=>{g()});const v=T=>{e.value=T,g()},p=(T,A)=>{u.store.assertRowKey();const E=t.rowKey.value,I=ua(T,E),O=I&&r.value[I];if(I&&O&&"expanded"in O){const N=O.expanded;A=typeof A>"u"?!O.expanded:A,r.value[I].expanded=A,N!==A&&u.emit("expand-change",T,A),u.store.updateTableScrollY()}},b=T=>{u.store.assertRowKey();const A=t.rowKey.value,E=ua(T,A),I=r.value[E];i.value&&I&&"loaded"in I&&!I.loaded?S(T,E,I):p(T,void 0)},S=(T,A,E)=>{const{load:I}=u.props;I&&!r.value[A].loaded&&(r.value[A].loading=!0,I(T,E,O=>{if(!Array.isArray(O))throw new TypeError("[ElTable] data must be an array");r.value[A].loading=!1,r.value[A].loaded=!0,r.value[A].expanded=!0,O.length&&(s.value[A]=O),u.emit("expand-change",T,!0)}))};return{loadData:S,loadOrToggle:b,toggleTreeExpansion:p,updateTreeExpandKeys:v,updateTreeData:g,updateKeyChildren:(T,A)=>{const{lazy:E,rowKey:I}=u.props;if(E){if(!I)throw new Error("[Table] rowKey is required in updateKeyChild");s.value[T]&&(s.value[T]=A)}},normalize:h,states:{expandRowKeys:e,treeData:r,indent:n,lazy:i,lazyTreeNodeMap:s,lazyColumnIdentifier:o,childrenColumnName:a,checkStrictly:l}}}const XEe=(t,e)=>{const r=e.sortingColumn;return!r||typeof r.sortable=="string"?t:NEe(t,e.sortProp,e.sortOrder,r.sortMethod,r.sortBy)},tS=t=>{const e=[];return t.forEach(r=>{r.children&&r.children.length>0?e.push.apply(e,tS(r.children)):e.push(r)}),e};function YEe(){var t;const e=Dn(),{size:r}=Hu((t=e.proxy)==null?void 0:t.$props),n=ve(null),i=ve([]),s=ve([]),o=ve(!1),a=ve([]),l=ve([]),u=ve([]),d=ve([]),f=ve([]),h=ve([]),g=ve([]),v=ve([]),p=[],b=ve(0),S=ve(0),C=ve(0),T=ve(!1),A=ve([]),E=ve(!1),I=ve(!1),O=ve(null),N=ve({}),G=ve(null),ie=ve(null),W=ve(null),q=ve(null),J=ve(null);Yt(i,()=>e.state&&oe(!1),{deep:!0});const X=()=>{if(!n.value)throw new Error("[ElTable] prop row-key is required")},R=Ie=>{var nt;(nt=Ie.children)==null||nt.forEach(le=>{le.fixed=Ie.fixed,R(le)})};let z;const re=()=>{a.value.forEach(Fe=>{R(Fe)}),d.value=a.value.filter(Fe=>Fe.fixed===!0||Fe.fixed==="left"),f.value=a.value.filter(Fe=>Fe.fixed==="right"),Yo(z)&&a.value[0]&&a.value[0].type==="selection"&&(z=!!a.value[0].fixed),d.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&(a.value[0].fixed?d.value.some(He=>He.type!=="selection")?z=void 0:(a.value[0].fixed=z,z||d.value.shift()):(a.value[0].fixed=!0,d.value.unshift(a.value[0])));const Ie=a.value.filter(Fe=>!Fe.fixed);l.value=[].concat(d.value).concat(Ie).concat(f.value);const nt=tS(Ie),le=tS(d.value),Ee=tS(f.value);b.value=nt.length,S.value=le.length,C.value=Ee.length,u.value=[].concat(le).concat(nt).concat(Ee),o.value=d.value.length>0||f.value.length>0},oe=(Ie,nt=!1)=>{Ie&&re(),nt?e.state.doLayout():e.state.debouncedUpdateLayout()},H=Ie=>A.value.some(nt=>$l(nt,Ie)),ee=()=>{T.value=!1;const Ie=A.value;A.value=[],Ie.length&&e.emit("selection-change",[])},ae=()=>{let Ie;if(n.value){Ie=[];const nt=B0(A.value,n.value),le=B0(i.value,n.value);for(const Ee in nt)Xn(nt,Ee)&&!le[Ee]&&Ie.push(nt[Ee].row)}else Ie=A.value.filter(nt=>!i.value.includes(nt));if(Ie.length){const nt=A.value.filter(le=>!Ie.includes(le));A.value=nt,e.emit("selection-change",nt.slice())}},be=()=>(A.value||[]).slice(),Me=(Ie,nt,le=!0,Ee=!1)=>{var Fe,He,Ar,c;const $t={children:(He=(Fe=e==null?void 0:e.store)==null?void 0:Fe.states)==null?void 0:He.childrenColumnName.value,checkStrictly:(c=(Ar=e==null?void 0:e.store)==null?void 0:Ar.states)==null?void 0:c.checkStrictly.value};if(dT(A.value,Ie,nt,$t,Ee?void 0:O.value)){const he=(A.value||[]).slice();le&&e.emit("select",he,Ie),e.emit("selection-change",he)}},Qe=()=>{var Ie,nt;const le=I.value?!T.value:!(T.value||A.value.length);T.value=le;let Ee=!1,Fe=0;const He=(nt=(Ie=e==null?void 0:e.store)==null?void 0:Ie.states)==null?void 0:nt.rowKey.value,{childrenColumnName:Ar}=e.store.states,c={children:Ar.value,checkStrictly:!1};i.value.forEach(($t,ur)=>{const he=ur+Fe;dT(A.value,$t,le,c,O.value,he)&&(Ee=!0),Fe+=ze(ua($t,He))}),Ee&&e.emit("selection-change",A.value?A.value.slice():[]),e.emit("select-all",(A.value||[]).slice())},ht=()=>{const Ie=B0(A.value,n.value);i.value.forEach(nt=>{const le=ua(nt,n.value),Ee=Ie[le];Ee&&(A.value[Ee.index]=nt)})},je=()=>{var Ie;if(((Ie=i.value)==null?void 0:Ie.length)===0){T.value=!1;return}const{childrenColumnName:nt}=e.store.states,le=n.value?B0(A.value,n.value):void 0;let Ee=0,Fe=0;const He=$t=>le?!!le[ua($t,n.value)]:A.value.includes($t),Ar=$t=>{var ur;for(const he of $t){const w=O.value&&O.value.call(null,he,Ee);if(He(he))Fe++;else if(!O.value||w)return!1;if(Ee++,(ur=he[nt.value])!=null&&ur.length&&!Ar(he[nt.value]))return!1}return!0},c=Ar(i.value||[]);T.value=Fe===0?!1:c},ze=Ie=>{var nt;if(!e||!e.store)return 0;const{treeData:le}=e.store.states;let Ee=0;const Fe=(nt=le.value[Ie])==null?void 0:nt.children;return Fe&&(Ee+=Fe.length,Fe.forEach(He=>{Ee+=ze(He)})),Ee},ut=(Ie,nt)=>{Array.isArray(Ie)||(Ie=[Ie]);const le={};return Ie.forEach(Ee=>{N.value[Ee.id]=nt,le[Ee.columnKey||Ee.id]=nt}),le},ct=(Ie,nt,le)=>{ie.value&&ie.value!==Ie&&(ie.value.order=null),ie.value=Ie,W.value=nt,q.value=le},mt=()=>{let Ie=_(s);Object.keys(N.value).forEach(nt=>{const le=N.value[nt];if(!le||le.length===0)return;const Ee=yK({columns:u.value},nt);Ee&&Ee.filterMethod&&(Ie=Ie.filter(Fe=>le.some(He=>Ee.filterMethod.call(null,He,Fe,Ee))))}),G.value=Ie},jt=()=>{i.value=XEe(G.value,{sortingColumn:ie.value,sortProp:W.value,sortOrder:q.value})},vt=(Ie=void 0)=>{Ie&&Ie.filter||mt(),jt()},se=Ie=>{const{tableHeaderRef:nt}=e.refs;if(!nt)return;const le=Object.assign({},nt.filterPanels),Ee=Object.keys(le);if(Ee.length)if(typeof Ie=="string"&&(Ie=[Ie]),Array.isArray(Ie)){const Fe=Ie.map(He=>BEe({columns:u.value},He));Ee.forEach(He=>{const Ar=Fe.find(c=>c.id===He);Ar&&(Ar.filteredValue=[])}),e.store.commit("filterChange",{column:Fe,values:[],silent:!0,multi:!0})}else Ee.forEach(Fe=>{const He=u.value.find(Ar=>Ar.id===Fe);He&&(He.filteredValue=[])}),N.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Pe=()=>{ie.value&&(ct(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:tt,toggleRowExpansion:et,updateExpandRows:ot,states:St,isRowExpanded:Dt}=GEe({data:i,rowKey:n}),{updateTreeExpandKeys:_t,toggleTreeExpansion:Kt,updateTreeData:Ut,updateKeyChildren:lt,loadOrToggle:kt,states:yt}=qEe({data:i,rowKey:n}),{updateCurrentRowData:Pt,updateCurrentRow:Er,setCurrentRowKey:zt,states:xr}=WEe({data:i,rowKey:n});return{assertRowKey:X,updateColumns:re,scheduleLayout:oe,isSelected:H,clearSelection:ee,cleanSelection:ae,getSelectionRows:be,toggleRowSelection:Me,_toggleAllSelection:Qe,toggleAllSelection:null,updateSelectionByRowKey:ht,updateAllSelected:je,updateFilters:ut,updateCurrentRow:Er,updateSort:ct,execFilter:mt,execSort:jt,execQuery:vt,clearFilter:se,clearSort:Pe,toggleRowExpansion:et,setExpandRowKeysAdapter:Ie=>{tt(Ie),_t(Ie)},setCurrentRowKey:zt,toggleRowExpansionAdapter:(Ie,nt)=>{u.value.some(({type:Ee})=>Ee==="expand")?et(Ie,nt):Kt(Ie,nt)},isRowExpanded:Dt,updateExpandRows:ot,updateCurrentRowData:Pt,loadOrToggle:kt,updateTreeData:Ut,updateKeyChildren:lt,states:{tableSize:r,rowKey:n,data:i,_data:s,isComplex:o,_columns:a,originColumns:l,columns:u,fixedColumns:d,rightFixedColumns:f,leafColumns:h,fixedLeafColumns:g,rightFixedLeafColumns:v,updateOrderFns:p,leafColumnsLength:b,fixedLeafColumnsLength:S,rightFixedLeafColumnsLength:C,isAllSelected:T,selection:A,reserveSelection:E,selectOnIndeterminate:I,selectable:O,filters:N,filteredData:G,sortingColumn:ie,sortProp:W,sortOrder:q,hoverRow:J,...St,...yt,...xr}}}function oI(t,e){return t.map(r=>{var n;return r.id===e.id?e:((n=r.children)!=null&&n.length&&(r.children=oI(r.children,e)),r)})}function aI(t){t.forEach(e=>{var r,n;e.no=(r=e.getColumnIndex)==null?void 0:r.call(e),(n=e.children)!=null&&n.length&&aI(e.children)}),t.sort((e,r)=>e.no-r.no)}function KEe(){const t=Dn(),e=YEe();return{ns:sr("table"),...e,mutations:{setData(o,a){const l=_(o._data)!==a;o.data.value=a,o._data.value=a,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),_(o.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(o,a,l,u){const d=_(o._columns);let f=[];l?(l&&!l.children&&(l.children=[]),l.children.push(a),f=oI(d,l)):(d.push(a),f=d),aI(f),o._columns.value=f,o.updateOrderFns.push(u),a.type==="selection"&&(o.selectable.value=a.selectable,o.reserveSelection.value=a.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(o,a){var l;((l=a.getColumnIndex)==null?void 0:l.call(a))!==a.no&&(aI(o._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(o,a,l,u){const d=_(o._columns)||[];if(l)l.children.splice(l.children.findIndex(h=>h.id===a.id),1),Wr(()=>{var h;((h=l.children)==null?void 0:h.length)===0&&delete l.children}),o._columns.value=oI(d,l);else{const h=d.indexOf(a);h>-1&&(d.splice(h,1),o._columns.value=d)}const f=o.updateOrderFns.indexOf(u);f>-1&&o.updateOrderFns.splice(f,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(o,a){const{prop:l,order:u,init:d}=a;if(l){const f=_(o.columns).find(h=>h.property===l);f&&(f.order=u,t.store.updateSort(f,l,u),t.store.commit("changeSortCondition",{init:d}))}},changeSortCondition(o,a){const{sortingColumn:l,sortProp:u,sortOrder:d}=o,f=_(l),h=_(u),g=_(d);g===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const v={filter:!0};t.store.execQuery(v),(!a||!(a.silent||a.init))&&t.emit("sort-change",{column:f,prop:h,order:g}),t.store.updateTableScrollY()},filterChange(o,a){const{column:l,values:u,silent:d}=a,f=t.store.updateFilters(l,u);t.store.execQuery(),d||t.emit("filter-change",f),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(o,a){t.store.toggleRowSelection(a),t.store.updateAllSelected()},setHoverRow(o,a){o.hoverRow.value=a},setCurrentRow(o,a){t.store.updateCurrentRow(a)}},commit:function(o,...a){const l=t.store.mutations;if(l[o])l[o].apply(t,[t.store.states].concat(a));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){Wr(()=>t.layout.updateScrollY.apply(t.layout))}}}const w2={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function ZEe(t,e){if(!t)throw new Error("Table is required.");const r=KEe();return r.toggleAllSelection=fp(r._toggleAllSelection,10),Object.keys(w2).forEach(n=>{wK(SK(e,n),n,r)}),QEe(r,e),r}function QEe(t,e){Object.keys(w2).forEach(r=>{Yt(()=>SK(e,r),n=>{wK(n,r,t)})})}function wK(t,e,r){let n=t,i=w2[e];typeof w2[e]=="object"&&(i=i.key,n=n||w2[e].default),r.states[i].value=n}function SK(t,e){if(e.includes(".")){const r=e.split(".");let n=t;return r.forEach(i=>{n=n[i]}),n}else return t[e]}class JEe{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ve(null),this.scrollX=ve(!1),this.scrollY=ve(!1),this.bodyWidth=ve(null),this.fixedWidth=ve(null),this.rightFixedWidth=ve(null),this.gutterWidth=0;for(const r in e)Xn(e,r)&&(qr(this[r])?this[r].value=e[r]:this[r]=e[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(r!=null&&r.wrapRef)){let n=!0;const i=this.scrollY.value;return n=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=n,i!==n}return!1}setHeight(e,r="height"){if(!Ln)return;const n=this.table.vnode.el;if(e=VEe(e),this.height.value=Number(e),!n&&(e||e===0))return Wr(()=>this.setHeight(e,r));typeof e=="number"?(n.style[r]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(n.style[r]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(n=>{n.isColumnGroup?e.push.apply(e,n.columns):e.push(n)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let r=e;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!Ln)return;const e=this.fit,r=this.table.vnode.el.clientWidth;let n=0;const i=this.getFlattenColumns(),s=i.filter(l=>typeof l.width!="number");if(i.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),s.length>0&&e){if(i.forEach(l=>{n+=Number(l.width||l.minWidth||80)}),n<=r){this.scrollX.value=!1;const l=r-n;if(s.length===1)s[0].realWidth=Number(s[0].minWidth||80)+l;else{const u=s.reduce((h,g)=>h+Number(g.minWidth||80),0),d=l/u;let f=0;s.forEach((h,g)=>{if(g===0)return;const v=Math.floor(Number(h.minWidth||80)*d);f+=v,h.realWidth=Number(h.minWidth||80)+v}),s[0].realWidth=Number(s[0].minWidth||80)+l-f}}else this.scrollX.value=!0,s.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(n,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),n+=l.realWidth}),this.scrollX.value=n>r,this.bodyWidth.value=n;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const r=this.observers.indexOf(e);r!==-1&&this.observers.splice(r,1)}notifyObservers(e){this.observers.forEach(n=>{var i,s;switch(e){case"columns":(i=n.state)==null||i.onColumnsChange(this);break;case"scrollable":(s=n.state)==null||s.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:eAe}=$u,tAe=rt({name:"ElTableFilterPanel",components:{ElCheckbox:$u,ElCheckboxGroup:eAe,ElScrollbar:Bm,ElTooltip:mp,ElIcon:Rr,ArrowDown:C1,ArrowUp:dX},directives:{ClickOutside:_m},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(t){const e=Dn(),{t:r}=Si(),n=sr("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[t.column.id]||(i.filterPanels.value[t.column.id]=e);const s=ve(!1),o=ve(null),a=pe(()=>t.column&&t.column.filters),l=pe(()=>t.column.filterClassName?`${n.b()} ${t.column.filterClassName}`:n.b()),u=pe({get:()=>{var E;return(((E=t.column)==null?void 0:E.filteredValue)||[])[0]},set:E=>{d.value&&(typeof E<"u"&&E!==null?d.value.splice(0,1,E):d.value.splice(0,1))}}),d=pe({get(){return t.column?t.column.filteredValue||[]:[]},set(E){t.column&&t.upDataColumn("filteredValue",E)}}),f=pe(()=>t.column?t.column.filterMultiple:!0),h=E=>E.value===u.value,g=()=>{s.value=!1},v=E=>{E.stopPropagation(),s.value=!s.value},p=()=>{s.value=!1},b=()=>{T(d.value),g()},S=()=>{d.value=[],T(d.value),g()},C=E=>{u.value=E,T(typeof E<"u"&&E!==null?d.value:[]),g()},T=E=>{t.store.commit("filterChange",{column:t.column,values:E}),t.store.updateAllSelected()};Yt(s,E=>{t.column&&t.upDataColumn("filterOpened",E)},{immediate:!0});const A=pe(()=>{var E,I;return(I=(E=o.value)==null?void 0:E.popperRef)==null?void 0:I.contentRef});return{tooltipVisible:s,multiple:f,filterClassName:l,filteredValue:d,filterValue:u,filters:a,handleConfirm:b,handleReset:S,handleSelect:C,isActive:h,t:r,ns:n,showFilterPanel:v,hideFilterPanel:p,popperPaneRef:A,tooltip:o}}});function rAe(t,e,r,n,i,s){const o=Yn("el-checkbox"),a=Yn("el-checkbox-group"),l=Yn("el-scrollbar"),u=Yn("arrow-up"),d=Yn("arrow-down"),f=Yn("el-icon"),h=Yn("el-tooltip"),g=NM("click-outside");return me(),Ct(h,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:te(()=>[t.multiple?(me(),$e("div",{key:0},[Ue("div",{class:Se(t.ns.e("content"))},[F(l,{"wrap-class":t.ns.e("wrap")},{default:te(()=>[F(a,{modelValue:t.filteredValue,"onUpdate:modelValue":v=>t.filteredValue=v,class:Se(t.ns.e("checkbox-group"))},{default:te(()=>[(me(!0),$e(Sr,null,mi(t.filters,v=>(me(),Ct(o,{key:v.value,value:v.value},{default:te(()=>[Et(cr(v.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),Ue("div",{class:Se(t.ns.e("bottom"))},[Ue("button",{class:Se({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},cr(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),Ue("button",{type:"button",onClick:t.handleReset},cr(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(me(),$e("ul",{key:1,class:Se(t.ns.e("list"))},[Ue("li",{class:Se([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:v=>t.handleSelect(null)},cr(t.t("el.table.clearFilter")),11,["onClick"]),(me(!0),$e(Sr,null,mi(t.filters,v=>(me(),$e("li",{key:v.value,class:Se([t.ns.e("list-item"),t.ns.is("active",t.isActive(v))]),label:v.value,onClick:p=>t.handleSelect(v.value)},cr(v.text),11,["label","onClick"]))),128))],2))]),default:te(()=>[wn((me(),$e("span",{class:Se([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[F(f,null,{default:te(()=>[Ft(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(me(),Ct(u,{key:0})):(me(),Ct(d,{key:1}))])]),_:3})],10,["onClick"])),[[g,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var nAe=Ir(tAe,[["render",rAe],["__file","filter-panel.vue"]]);function TK(t){const e=Dn();GC(()=>{r.value.addObserver(e)}),zn(()=>{n(r.value),i(r.value)}),Pp(()=>{n(r.value),i(r.value)}),Gf(()=>{r.value.removeObserver(e)});const r=pe(()=>{const s=t.layout;if(!s)throw new Error("Can not find table layout.");return s}),n=s=>{var o;const a=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=s.getFlattenColumns(),u={};l.forEach(d=>{u[d.id]=d});for(let d=0,f=a.length;d<f;d++){const h=a[d],g=h.getAttribute("name"),v=u[g];v&&h.setAttribute("width",v.realWidth||v.width)}},i=s=>{var o,a;const l=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let d=0,f=l.length;d<f;d++)l[d].setAttribute("width",s.scrollY.value?s.gutterWidth:"0");const u=((a=t.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.style.width=s.scrollY.value?`${s.gutterWidth}px`:"0",h.style.display=s.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:n,onScrollableChange:i}}const Ld=Symbol("ElTable");function iAe(t,e){const r=Dn(),n=Mr(Ld),i=p=>{p.stopPropagation()},s=(p,b)=>{!b.filters&&b.sortable?v(p,b,!1):b.filterable&&!b.sortable&&i(p),n==null||n.emit("header-click",b,p)},o=(p,b)=>{n==null||n.emit("header-contextmenu",b,p)},a=ve(null),l=ve(!1),u=ve({}),d=(p,b)=>{if(Ln&&!(b.children&&b.children.length>0)&&a.value&&t.border){l.value=!0;const S=n;e("set-drag-visible",!0);const T=(S==null?void 0:S.vnode.el).getBoundingClientRect().left,A=r.vnode.el.querySelector(`th.${b.id}`),E=A.getBoundingClientRect(),I=E.left-T+30;oc(A,"noclick"),u.value={startMouseLeft:p.clientX,startLeft:E.right-T,startColumnLeft:E.left-T,tableLeft:T};const O=S==null?void 0:S.refs.resizeProxy;O.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const N=ie=>{const W=ie.clientX-u.value.startMouseLeft,q=u.value.startLeft+W;O.style.left=`${Math.max(I,q)}px`},G=()=>{if(l.value){const{startColumnLeft:ie,startLeft:W}=u.value,J=Number.parseInt(O.style.left,10)-ie;b.width=b.realWidth=J,S==null||S.emit("header-dragend",b.width,W-ie,b,p),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",G),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Fl(A,"noclick")},0)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",G)}},f=(p,b)=>{if(b.children&&b.children.length>0)return;const S=p.target;if(!Ll(S))return;const C=S==null?void 0:S.closest("th");if(!(!b||!b.resizable)&&!l.value&&t.border){const T=C.getBoundingClientRect(),A=document.body.style;T.width>12&&T.right-p.pageX<8?(A.cursor="col-resize",mu(C,"is-sortable")&&(C.style.cursor="col-resize"),a.value=b):l.value||(A.cursor="",mu(C,"is-sortable")&&(C.style.cursor="pointer"),a.value=null)}},h=()=>{Ln&&(document.body.style.cursor="")},g=({order:p,sortOrders:b})=>{if(p==="")return b[0];const S=b.indexOf(p||null);return b[S>b.length-2?0:S+1]},v=(p,b,S)=>{var C;p.stopPropagation();const T=b.order===S?null:S||g(b),A=(C=p.target)==null?void 0:C.closest("th");if(A&&mu(A,"noclick")){Fl(A,"noclick");return}if(!b.sortable)return;const E=p.currentTarget;if(["ascending","descending"].some(ie=>mu(E,ie)&&!b.sortOrders.includes(ie)))return;const I=t.store.states;let O=I.sortProp.value,N;const G=I.sortingColumn.value;(G!==b||G===b&&G.order===null)&&(G&&(G.order=null),I.sortingColumn.value=b,O=b.property),T?N=b.order=T:N=b.order=null,I.sortProp.value=O,I.sortOrder.value=N,n==null||n.store.commit("changeSortCondition")};return{handleHeaderClick:s,handleHeaderContextMenu:o,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:v,handleFilterClick:i}}function sAe(t){const e=Mr(Ld),r=sr("table");return{getHeaderRowStyle:a=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return typeof u=="string"?l.push(u):typeof u=="function"&&l.push(u.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,u,d)=>{var f;let h=(f=e==null?void 0:e.props.headerCellStyle)!=null?f:{};typeof h=="function"&&(h=h.call(null,{rowIndex:a,columnIndex:l,row:u,column:d}));const g=UO(l,d.fixed,t.store,u);return kv(g,"left"),kv(g,"right"),Object.assign({},h,g)},getHeaderCellClass:(a,l,u,d)=>{const f=BO(r.b(),l,d.fixed,t.store,u),h=[d.id,d.order,d.headerAlign,d.className,d.labelClassName,...f];d.children||h.push("is-leaf"),d.sortable&&h.push("is-sortable");const g=e==null?void 0:e.props.headerCellClassName;return typeof g=="string"?h.push(g):typeof g=="function"&&h.push(g.call(null,{rowIndex:a,columnIndex:l,row:u,column:d})),h.push(r.e("cell")),h.filter(v=>!!v).join(" ")}}}const CK=t=>{const e=[];return t.forEach(r=>{r.children?(e.push(r),e.push.apply(e,CK(r.children))):e.push(r)}),e},EK=t=>{let e=1;const r=(s,o)=>{if(o&&(s.level=o.level+1,e<s.level&&(e=s.level)),s.children){let a=0;s.children.forEach(l=>{r(l,s),a+=l.colSpan}),s.colSpan=a}else s.colSpan=1};t.forEach(s=>{s.level=1,r(s,void 0)});const n=[];for(let s=0;s<e;s++)n.push([]);return CK(t).forEach(s=>{s.children?(s.rowSpan=1,s.children.forEach(o=>o.isSubColumn=!0)):s.rowSpan=e-s.level+1,n[s.level-1].push(s)}),n};function oAe(t){const e=Mr(Ld),r=pe(()=>EK(t.store.states.originColumns.value));return{isGroup:pe(()=>{const s=r.value.length>1;return s&&e&&(e.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:r}}var aAe=rt({name:"ElTableHeader",components:{ElCheckbox:$u},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(t,{emit:e}){const r=Dn(),n=Mr(Ld),i=sr("table"),s=ve({}),{onColumnsChange:o,onScrollableChange:a}=TK(n);zn(async()=>{await Wr(),await Wr();const{prop:I,order:O}=t.defaultSort;n==null||n.store.commit("sort",{prop:I,order:O,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:g,handleFilterClick:v}=iAe(t,e),{getHeaderRowStyle:p,getHeaderRowClass:b,getHeaderCellStyle:S,getHeaderCellClass:C}=sAe(t),{isGroup:T,toggleAllSelection:A,columnRows:E}=oAe(t);return r.state={onColumnsChange:o,onScrollableChange:a},r.filterPanels=s,{ns:i,filterPanels:s,onColumnsChange:o,onScrollableChange:a,columnRows:E,getHeaderRowClass:b,getHeaderRowStyle:p,getHeaderCellClass:C,getHeaderCellStyle:S,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:g,handleFilterClick:v,isGroup:T,toggleAllSelection:A}},render(){const{ns:t,isGroup:e,columnRows:r,getHeaderCellStyle:n,getHeaderCellClass:i,getHeaderRowClass:s,getHeaderRowStyle:o,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:d,handleSortClick:f,handleMouseOut:h,store:g,$parent:v}=this;let p=1;return br("thead",{class:{[t.is("group")]:e}},r.map((b,S)=>br("tr",{class:s(S),key:S,style:o(S)},b.map((C,T)=>(C.rowSpan>p&&(p=C.rowSpan),br("th",{class:i(S,T,b,C),colspan:C.colSpan,key:`${C.id}-thead`,rowspan:C.rowSpan,style:n(S,T,b,C),onClick:A=>{A.currentTarget.classList.contains("noclick")||a(A,C)},onContextmenu:A=>l(A,C),onMousedown:A=>u(A,C),onMousemove:A=>d(A,C),onMouseout:h},[br("div",{class:["cell",C.filteredValue&&C.filteredValue.length>0?"highlight":""]},[C.renderHeader?C.renderHeader({column:C,$index:T,store:g,_self:v}):C.label,C.sortable&&br("span",{onClick:A=>f(A,C),class:"caret-wrapper"},[br("i",{onClick:A=>f(A,C,"ascending"),class:"sort-caret ascending"}),br("i",{onClick:A=>f(A,C,"descending"),class:"sort-caret descending"})]),C.filterable&&br(nAe,{store:g,placement:C.filterPlacement||"bottom-start",appendTo:v.appendFilterPanelTo,column:C,upDataColumn:(A,E)=>{C[A]=E}},{"filter-icon":()=>C.renderFilterIcon?C.renderFilterIcon({filterOpened:C.filterOpened}):null})])]))))))}});function p3(t,e,r=.03){return t-e>r}function lAe(t){const e=Mr(Ld),r=ve(""),n=ve(br("div")),i=(v,p,b)=>{var S;const C=e,T=h3(v);let A;const E=(S=C==null?void 0:C.vnode.el)==null?void 0:S.dataset.prefix;T&&(A=oB({columns:t.store.states.columns.value},T,E),A&&(C==null||C.emit(`cell-${b}`,p,A,T,v))),C==null||C.emit(`row-${b}`,p,A,v)},s=(v,p)=>{i(v,p,"dblclick")},o=(v,p)=>{t.store.commit("setCurrentRow",p),i(v,p,"click")},a=(v,p)=>{i(v,p,"contextmenu")},l=fp(v=>{t.store.commit("setHoverRow",v)},30),u=fp(()=>{t.store.commit("setHoverRow",null)},30),d=v=>{const p=window.getComputedStyle(v,null),b=Number.parseInt(p.paddingLeft,10)||0,S=Number.parseInt(p.paddingRight,10)||0,C=Number.parseInt(p.paddingTop,10)||0,T=Number.parseInt(p.paddingBottom,10)||0;return{left:b,right:S,top:C,bottom:T}},f=(v,p,b)=>{let S=p.target.parentNode;for(;v>1&&(S=S==null?void 0:S.nextSibling,!(!S||S.nodeName!=="TR"));)b(S,"hover-row hover-fixed-row"),v--};return{handleDoubleClick:s,handleClick:o,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(v,p,b)=>{var S;const C=e,T=h3(v),A=(S=C==null?void 0:C.vnode.el)==null?void 0:S.dataset.prefix;if(T){const re=oB({columns:t.store.states.columns.value},T,A);T.rowSpan>1&&f(T.rowSpan,v,oc);const oe=C.hoverState={cell:T,column:re,row:p};C==null||C.emit("cell-mouse-enter",oe.row,oe.column,oe.cell,v)}if(!b)return;const E=v.target.querySelector(".cell");if(!(mu(E,`${A}-tooltip`)&&E.childNodes.length))return;const I=document.createRange();I.setStart(E,0),I.setEnd(E,E.childNodes.length);const{width:O,height:N}=I.getBoundingClientRect(),{width:G,height:ie}=E.getBoundingClientRect(),{top:W,left:q,right:J,bottom:X}=d(E),R=q+J,z=W+X;(p3(O+R,G)||p3(N+z,ie)||p3(E.scrollWidth,G))&&jEe(b,T.innerText||T.textContent,T,C)},handleCellMouseLeave:v=>{const p=h3(v);if(!p)return;p.rowSpan>1&&f(p.rowSpan,v,Fl);const b=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",b==null?void 0:b.row,b==null?void 0:b.column,b==null?void 0:b.cell,v)},tooltipContent:r,tooltipTrigger:n}}function uAe(t){const e=Mr(Ld),r=sr("table");return{getRowStyle:(u,d)=>{const f=e==null?void 0:e.props.rowStyle;return typeof f=="function"?f.call(null,{row:u,rowIndex:d}):f||null},getRowClass:(u,d)=>{const f=[r.e("row")];e!=null&&e.props.highlightCurrentRow&&u===t.store.states.currentRow.value&&f.push("current-row"),t.stripe&&d%2===1&&f.push(r.em("row","striped"));const h=e==null?void 0:e.props.rowClassName;return typeof h=="string"?f.push(h):typeof h=="function"&&f.push(h.call(null,{row:u,rowIndex:d})),f},getCellStyle:(u,d,f,h)=>{const g=e==null?void 0:e.props.cellStyle;let v=g??{};typeof g=="function"&&(v=g.call(null,{rowIndex:u,columnIndex:d,row:f,column:h}));const p=UO(d,t==null?void 0:t.fixed,t.store);return kv(p,"left"),kv(p,"right"),Object.assign({},v,p)},getCellClass:(u,d,f,h,g)=>{const v=BO(r.b(),d,t==null?void 0:t.fixed,t.store,void 0,g),p=[h.id,h.align,h.className,...v],b=e==null?void 0:e.props.cellClassName;return typeof b=="string"?p.push(b):typeof b=="function"&&p.push(b.call(null,{rowIndex:u,columnIndex:d,row:f,column:h})),p.push(r.e("cell")),p.filter(S=>!!S).join(" ")},getSpan:(u,d,f,h)=>{let g=1,v=1;const p=e==null?void 0:e.props.spanMethod;if(typeof p=="function"){const b=p({row:u,column:d,rowIndex:f,columnIndex:h});Array.isArray(b)?(g=b[0],v=b[1]):typeof b=="object"&&(g=b.rowspan,v=b.colspan)}return{rowspan:g,colspan:v}},getColspanRealWidth:(u,d,f)=>{if(d<1)return u[f].realWidth;const h=u.map(({realWidth:g,width:v})=>g||v).slice(f,f+d);return Number(h.reduce((g,v)=>Number(g)+Number(v),-1))}}}function cAe(t){const e=Mr(Ld),r=sr("table"),{handleDoubleClick:n,handleClick:i,handleContextMenu:s,handleMouseEnter:o,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:d,tooltipTrigger:f}=lAe(t),{getRowStyle:h,getRowClass:g,getCellStyle:v,getCellClass:p,getSpan:b,getColspanRealWidth:S}=uAe(t),C=pe(()=>t.store.states.columns.value.findIndex(({type:O})=>O==="default")),T=(O,N)=>{const G=e.props.rowKey;return G?ua(O,G):N},A=(O,N,G,ie=!1)=>{const{tooltipEffect:W,tooltipOptions:q,store:J}=t,{indent:X,columns:R}=J.states,z=g(O,N);let re=!0;return G&&(z.push(r.em("row",`level-${G.level}`)),re=G.display),br("tr",{style:[re?null:{display:"none"},h(O,N)],class:z,key:T(O,N),onDblclick:H=>n(H,O),onClick:H=>i(H,O),onContextmenu:H=>s(H,O),onMouseenter:()=>o(N),onMouseleave:a},R.value.map((H,ee)=>{const{rowspan:ae,colspan:be}=b(O,H,N,ee);if(!ae||!be)return null;const Me=Object.assign({},H);Me.realWidth=S(R.value,be,ee);const Qe={store:t.store,_self:t.context||e,column:Me,row:O,$index:N,cellIndex:ee,expanded:ie};ee===C.value&&G&&(Qe.treeNode={indent:G.level*X.value,level:G.level},typeof G.expanded=="boolean"&&(Qe.treeNode.expanded=G.expanded,"loading"in G&&(Qe.treeNode.loading=G.loading),"noLazyChildren"in G&&(Qe.treeNode.noLazyChildren=G.noLazyChildren)));const ht=`${T(O,N)},${ee}`,je=Me.columnKey||Me.rawColumnKey||"",ze=E(ee,H,Qe),ut=H.showOverflowTooltip&&Hve({effect:W},q,H.showOverflowTooltip);return br("td",{style:v(N,ee,O,H),class:p(N,ee,O,H,be-1),key:`${je}${ht}`,rowspan:ae,colspan:be,onMouseenter:ct=>l(ct,O,ut),onMouseleave:u},[ze])}))},E=(O,N,G)=>N.renderCell(G);return{wrappedRowRender:(O,N)=>{const G=t.store,{isRowExpanded:ie,assertRowKey:W}=G,{treeData:q,lazyTreeNodeMap:J,childrenColumnName:X,rowKey:R}=G.states,z=G.states.columns.value;if(z.some(({type:oe})=>oe==="expand")){const oe=ie(O),H=A(O,N,void 0,oe),ee=e.renderExpanded;return oe?ee?[[H,br("tr",{key:`expanded-row__${H.key}`},[br("td",{colspan:z.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[ee({row:O,$index:N,store:G,expanded:oe})])])]]:(console.error("[Element Error]renderExpanded is required."),H):[[H]]}else if(Object.keys(q.value).length){W();const oe=ua(O,R.value);let H=q.value[oe],ee=null;H&&(ee={expanded:H.expanded,level:H.level,display:!0},typeof H.lazy=="boolean"&&(typeof H.loaded=="boolean"&&H.loaded&&(ee.noLazyChildren=!(H.children&&H.children.length)),ee.loading=H.loading));const ae=[A(O,N,ee)];if(H){let be=0;const Me=(ht,je)=>{ht&&ht.length&&je&&ht.forEach(ze=>{const ut={display:je.display&&je.expanded,level:je.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ct=ua(ze,R.value);if(ct==null)throw new Error("For nested data item, row-key is required.");if(H={...q.value[ct]},H&&(ut.expanded=H.expanded,H.level=H.level||ut.level,H.display=!!(H.expanded&&ut.display),typeof H.lazy=="boolean"&&(typeof H.loaded=="boolean"&&H.loaded&&(ut.noLazyChildren=!(H.children&&H.children.length)),ut.loading=H.loading)),be++,ae.push(A(ze,N+be,ut)),H){const mt=J.value[ct]||ze[X.value];Me(mt,H)}})};H.display=!0;const Qe=J.value[oe]||O[X.value];Me(Qe,H)}return ae}else return A(O,N,void 0)},tooltipContent:d,tooltipTrigger:f}}const dAe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var fAe=rt({name:"ElTableBody",props:dAe,setup(t){const e=Dn(),r=Mr(Ld),n=sr("table"),{wrappedRowRender:i,tooltipContent:s,tooltipTrigger:o}=cAe(t),{onColumnsChange:a,onScrollableChange:l}=TK(r),u=[];return Yt(t.store.states.hoverRow,(d,f)=>{var h;const g=e==null?void 0:e.vnode.el,v=Array.from((g==null?void 0:g.children)||[]).filter(S=>S==null?void 0:S.classList.contains(`${n.e("row")}`));let p=d;const b=(h=v[p])==null?void 0:h.childNodes;if(b!=null&&b.length){let S=0;Array.from(b).reduce((T,A,E)=>{var I,O;return((I=b[E])==null?void 0:I.colSpan)>1&&(S=(O=b[E])==null?void 0:O.colSpan),A.nodeName!=="TD"&&S===0&&T.push(E),S>0&&S--,T},[]).forEach(T=>{var A;for(p=d;p>0;){const E=(A=v[p-1])==null?void 0:A.childNodes;if(E[T]&&E[T].nodeName==="TD"&&E[T].rowSpan>1){oc(E[T],"hover-cell"),u.push(E[T]);break}p--}})}else u.forEach(S=>Fl(S,"hover-cell")),u.length=0;!t.store.states.isComplex.value||!Ln||Kve(()=>{const S=v[f],C=v[d];S&&!S.classList.contains("hover-fixed-row")&&Fl(S,"hover-row"),C&&oc(C,"hover-row")})}),Gf(()=>{var d;(d=ou)==null||d()}),{ns:n,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:i,tooltipContent:s,tooltipTrigger:o}},render(){const{wrappedRowRender:t,store:e}=this,r=e.states.data.value||[];return br("tbody",{tabIndex:-1},[r.reduce((n,i)=>n.concat(t(i,n.length)),[])])}});function hAe(){const t=Mr(Ld),e=t==null?void 0:t.store,r=pe(()=>e.states.fixedLeafColumnsLength.value),n=pe(()=>e.states.rightFixedColumns.value.length),i=pe(()=>e.states.columns.value.length),s=pe(()=>e.states.fixedColumns.value.length),o=pe(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:n,columnsCount:i,leftFixedCount:s,rightFixedCount:o,columns:e.states.columns}}function pAe(t){const{columns:e}=hAe(),r=sr("table");return{getCellClasses:(s,o)=>{const a=s[o],l=[r.e("cell"),a.id,a.align,a.labelClassName,...BO(r.b(),o,a.fixed,t.store)];return a.className&&l.push(a.className),a.children||l.push(r.is("leaf")),l},getCellStyles:(s,o)=>{const a=UO(o,s.fixed,t.store);return kv(a,"left"),kv(a,"right"),a},columns:e}}var mAe=rt({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:r,columns:n}=pAe(t);return{ns:sr("table"),getCellClasses:e,getCellStyles:r,columns:n}},render(){const{columns:t,getCellStyles:e,getCellClasses:r,summaryMethod:n,sumText:i}=this,s=this.store.states.data.value;let o=[];return n?o=n({columns:t,data:s}):t.forEach((a,l)=>{if(l===0){o[l]=i;return}const u=s.map(g=>Number(g[a.property])),d=[];let f=!0;u.forEach(g=>{if(!Number.isNaN(+g)){f=!1;const v=`${g}`.split(".")[1];d.push(v?v.length:0)}});const h=Math.max.apply(null,d);f?o[l]="":o[l]=u.reduce((g,v)=>{const p=Number(v);return Number.isNaN(+p)?g:Number.parseFloat((g+v).toFixed(Math.min(h,20)))},0)}),br(br("tfoot",[br("tr",{},[...t.map((a,l)=>br("td",{key:l,colspan:a.colSpan,rowspan:a.rowSpan,class:r(t,l),style:e(a,l)},[br("div",{class:["cell",a.labelClassName]},[o[l]])]))])]))}});function gAe(t){return{setCurrentRow:f=>{t.commit("setCurrentRow",f)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(f,h,g=!0)=>{t.toggleRowSelection(f,h,!1,g),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:f=>{t.clearFilter(f)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(f,h)=>{t.toggleRowExpansionAdapter(f,h)},clearSort:()=>{t.clearSort()},sort:(f,h)=>{t.commit("sort",{prop:f,order:h})},updateKeyChildren:(f,h)=>{t.updateKeyChildren(f,h)}}}function vAe(t,e,r,n){const i=ve(!1),s=ve(null),o=ve(!1),a=H=>{o.value=H},l=ve({width:null,height:null,headerHeight:null}),u=ve(!1),d={display:"inline-block",verticalAlign:"middle"},f=ve(),h=ve(0),g=ve(0),v=ve(0),p=ve(0),b=ve(0);dc(()=>{e.setHeight(t.height)}),dc(()=>{e.setMaxHeight(t.maxHeight)}),Yt(()=>[t.currentRowKey,r.states.rowKey],([H,ee])=>{!_(ee)||!_(H)||r.setCurrentRowKey(`${H}`)},{immediate:!0}),Yt(()=>t.data,H=>{n.store.commit("setData",H)},{immediate:!0,deep:!0}),dc(()=>{t.expandRowKeys&&r.setExpandRowKeysAdapter(t.expandRowKeys)});const S=()=>{n.store.commit("setHoverRow",null),n.hoverState&&(n.hoverState=null)},C=(H,ee)=>{const{pixelX:ae,pixelY:be}=ee;Math.abs(ae)>=Math.abs(be)&&(n.refs.bodyWrapper.scrollLeft+=ee.pixelX/5)},T=pe(()=>t.height||t.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),A=pe(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),E=()=>{T.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(G)};zn(async()=>{await Wr(),r.updateColumns(),ie(),requestAnimationFrame(E);const H=n.vnode.el,ee=n.refs.headerWrapper;t.flexible&&H&&H.parentElement&&(H.parentElement.style.minWidth="0"),l.value={width:f.value=H.offsetWidth,height:H.offsetHeight,headerHeight:t.showHeader&&ee?ee.offsetHeight:null},r.states.columns.value.forEach(ae=>{ae.filteredValue&&ae.filteredValue.length&&n.store.commit("filterChange",{column:ae,values:ae.filteredValue,silent:!0})}),n.$ready=!0});const I=(H,ee)=>{if(!H)return;const ae=Array.from(H.classList).filter(be=>!be.startsWith("is-scrolling-"));ae.push(e.scrollX.value?ee:"is-scrolling-none"),H.className=ae.join(" ")},O=H=>{const{tableWrapper:ee}=n.refs;I(ee,H)},N=H=>{const{tableWrapper:ee}=n.refs;return!!(ee&&ee.classList.contains(H))},G=function(){if(!n.refs.scrollBarRef)return;if(!e.scrollX.value){const je="is-scrolling-none";N(je)||O(je);return}const H=n.refs.scrollBarRef.wrapRef;if(!H)return;const{scrollLeft:ee,offsetWidth:ae,scrollWidth:be}=H,{headerWrapper:Me,footerWrapper:Qe}=n.refs;Me&&(Me.scrollLeft=ee),Qe&&(Qe.scrollLeft=ee);const ht=be-ae-1;ee>=ht?O("is-scrolling-right"):O(ee===0?"is-scrolling-left":"is-scrolling-middle")},ie=()=>{n.refs.scrollBarRef&&(n.refs.scrollBarRef.wrapRef&&gs(n.refs.scrollBarRef.wrapRef,"scroll",G,{passive:!0}),t.fit?ko(n.vnode.el,W):gs(window,"resize",W),ko(n.refs.bodyWrapper,()=>{var H,ee;W(),(ee=(H=n.refs)==null?void 0:H.scrollBarRef)==null||ee.update()}))},W=()=>{var H,ee,ae,be;const Me=n.vnode.el;if(!n.$ready||!Me)return;let Qe=!1;const{width:ht,height:je,headerHeight:ze}=l.value,ut=f.value=Me.offsetWidth;ht!==ut&&(Qe=!0);const ct=Me.offsetHeight;(t.height||T.value)&&je!==ct&&(Qe=!0);const mt=t.tableLayout==="fixed"?n.refs.headerWrapper:(H=n.refs.tableHeaderRef)==null?void 0:H.$el;t.showHeader&&(mt==null?void 0:mt.offsetHeight)!==ze&&(Qe=!0),h.value=((ee=n.refs.tableWrapper)==null?void 0:ee.scrollHeight)||0,v.value=(mt==null?void 0:mt.scrollHeight)||0,p.value=((ae=n.refs.footerWrapper)==null?void 0:ae.offsetHeight)||0,b.value=((be=n.refs.appendWrapper)==null?void 0:be.offsetHeight)||0,g.value=h.value-v.value-p.value-b.value,Qe&&(l.value={width:ut,height:ct,headerHeight:t.showHeader&&(mt==null?void 0:mt.offsetHeight)||0},E())},q=Ou(),J=pe(()=>{const{bodyWidth:H,scrollY:ee,gutterWidth:ae}=e;return H.value?`${H.value-(ee.value?ae:0)}px`:""}),X=pe(()=>t.maxHeight?"fixed":t.tableLayout),R=pe(()=>{if(t.data&&t.data.length)return null;let H="100%";t.height&&g.value&&(H=`${g.value}px`);const ee=f.value;return{width:ee?`${ee}px`:"",height:H}}),z=pe(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),re=pe(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${v.value+p.value}px)`}:{maxHeight:`${t.maxHeight-v.value-p.value}px`}:{});return{isHidden:i,renderExpanded:s,setDragVisible:a,isGroup:u,handleMouseLeave:S,handleHeaderFooterMousewheel:C,tableSize:q,emptyBlockStyle:R,handleFixedMousewheel:(H,ee)=>{const ae=n.refs.bodyWrapper;if(Math.abs(ee.spinY)>0){const be=ae.scrollTop;ee.pixelY<0&&be!==0&&H.preventDefault(),ee.pixelY>0&&ae.scrollHeight-ae.clientHeight>be&&H.preventDefault(),ae.scrollTop+=Math.ceil(ee.pixelY/5)}else ae.scrollLeft+=Math.ceil(ee.pixelX/5)},resizeProxyVisible:o,bodyWidth:J,resizeState:l,doLayout:E,tableBodyStyles:A,tableLayout:X,scrollbarViewStyle:d,tableInnerStyle:z,scrollbarStyle:re}}function yAe(t){const e=ve(),r=()=>{const i=t.vnode.el.querySelector(".hidden-columns"),s={childList:!0,subtree:!0},o=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{o.forEach(a=>a())}),e.value.observe(i,s)};zn(()=>{r()}),Gf(()=>{var n;(n=e.value)==null||n.disconnect()})}var _Ae={data:{type:Array,default:()=>[]},size:Ac,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function AK(t){const e=t.tableLayout==="auto";let r=t.columns||[];e&&r.every(i=>i.width===void 0)&&(r=[]);const n=i=>{const s={key:`${t.tableLayout}_${i.id}`,style:{},name:void 0};return e?s.style={width:`${i.width}px`}:s.name=i.id,s};return br("colgroup",{},r.map(i=>br("col",n(i))))}AK.props=["columns","tableLayout"];const bAe=()=>{const t=ve(),e=(s,o)=>{const a=t.value;a&&a.scrollTo(s,o)},r=(s,o)=>{const a=t.value;a&&qn(o)&&["Top","Left"].includes(s)&&a[`setScroll${s}`](o)};return{scrollBarRef:t,scrollTo:e,setScrollTop:s=>r("Top",s),setScrollLeft:s=>r("Left",s)}};let xAe=1;const wAe=rt({name:"ElTable",directives:{Mousewheel:ywe},components:{TableHeader:aAe,TableBody:fAe,TableFooter:mAe,ElScrollbar:Bm,hColgroup:AK},props:_Ae,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=Si(),r=sr("table"),n=Dn();bi(Ld,n);const i=ZEe(n,t);n.store=i;const s=new JEe({store:n.store,table:n,fit:t.fit,showHeader:t.showHeader});n.layout=s;const o=pe(()=>(i.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:g,clearSort:v,sort:p,updateKeyChildren:b}=gAe(i),{isHidden:S,renderExpanded:C,setDragVisible:T,isGroup:A,handleMouseLeave:E,handleHeaderFooterMousewheel:I,tableSize:O,emptyBlockStyle:N,handleFixedMousewheel:G,resizeProxyVisible:ie,bodyWidth:W,resizeState:q,doLayout:J,tableBodyStyles:X,tableLayout:R,scrollbarViewStyle:z,tableInnerStyle:re,scrollbarStyle:oe}=vAe(t,s,i,n),{scrollBarRef:H,scrollTo:ee,setScrollLeft:ae,setScrollTop:be}=bAe(),Me=fp(J,50),Qe=`${r.namespace.value}-table_${xAe++}`;n.tableId=Qe,n.state={isGroup:A,resizeState:q,doLayout:J,debouncedUpdateLayout:Me};const ht=pe(()=>{var ut;return(ut=t.sumText)!=null?ut:e("el.table.sumText")}),je=pe(()=>{var ut;return(ut=t.emptyText)!=null?ut:e("el.table.emptyText")}),ze=pe(()=>EK(i.states.originColumns.value)[0]);return yAe(n),{ns:r,layout:s,store:i,columns:ze,handleHeaderFooterMousewheel:I,handleMouseLeave:E,tableId:Qe,tableSize:O,isHidden:S,isEmpty:o,renderExpanded:C,resizeProxyVisible:ie,resizeState:q,isGroup:A,bodyWidth:W,tableBodyStyles:X,emptyBlockStyle:N,debouncedUpdateLayout:Me,handleFixedMousewheel:G,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:g,clearSort:v,doLayout:J,sort:p,updateKeyChildren:b,t:e,setDragVisible:T,context:n,computedSumText:ht,computedEmptyText:je,tableLayout:R,scrollbarViewStyle:z,tableInnerStyle:re,scrollbarStyle:oe,scrollBarRef:H,scrollTo:ee,setScrollLeft:ae,setScrollTop:be}}});function SAe(t,e,r,n,i,s){const o=Yn("hColgroup"),a=Yn("table-header"),l=Yn("table-body"),u=Yn("table-footer"),d=Yn("el-scrollbar"),f=NM("mousewheel");return me(),$e("div",{ref:"tableWrapper",class:Se([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:dn(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[Ue("div",{class:Se(t.ns.e("inner-wrapper")),style:dn(t.tableInnerStyle)},[Ue("div",{ref:"hiddenColumns",class:"hidden-columns"},[Ft(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?wn((me(),$e("div",{key:0,ref:"headerWrapper",class:Se(t.ns.e("header-wrapper"))},[Ue("table",{ref:"tableHeader",class:Se(t.ns.e("header")),style:dn(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[F(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),F(a,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[f,t.handleHeaderFooterMousewheel]]):gt("v-if",!0),Ue("div",{ref:"bodyWrapper",class:Se(t.ns.e("body-wrapper"))},[F(d,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex},{default:te(()=>[Ue("table",{ref:"tableBody",class:Se(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:dn({width:t.bodyWidth,tableLayout:t.tableLayout})},[F(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(me(),Ct(a,{key:0,ref:"tableHeaderRef",class:Se(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):gt("v-if",!0),F(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(me(),Ct(u,{key:1,class:Se(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):gt("v-if",!0)],6),t.isEmpty?(me(),$e("div",{key:0,ref:"emptyBlock",style:dn(t.emptyBlockStyle),class:Se(t.ns.e("empty-block"))},[Ue("span",{class:Se(t.ns.e("empty-text"))},[Ft(t.$slots,"empty",{},()=>[Et(cr(t.computedEmptyText),1)])],2)],6)):gt("v-if",!0),t.$slots.append?(me(),$e("div",{key:1,ref:"appendWrapper",class:Se(t.ns.e("append-wrapper"))},[Ft(t.$slots,"append")],2)):gt("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex"])],2),t.showSummary&&t.tableLayout==="fixed"?wn((me(),$e("div",{key:1,ref:"footerWrapper",class:Se(t.ns.e("footer-wrapper"))},[Ue("table",{class:Se(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:dn(t.tableBodyStyles)},[F(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),F(u,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Ai,!t.isEmpty],[f,t.handleHeaderFooterMousewheel]]):gt("v-if",!0),t.border||t.isGroup?(me(),$e("div",{key:2,class:Se(t.ns.e("border-left-patch"))},null,2)):gt("v-if",!0)],6),wn(Ue("div",{ref:"resizeProxy",class:Se(t.ns.e("column-resize-proxy"))},null,2),[[Ai,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var TAe=Ir(wAe,[["render",SAe],["__file","table.vue"]]);const CAe={selection:"table-column--selection",expand:"table__expand-column"},EAe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},AAe=t=>CAe[t]||"",PAe={selection:{renderHeader({store:t,column:e}){function r(){return t.states.data.value&&t.states.data.value.length===0}return br($u,{disabled:r(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:r,$index:n}){return br($u,{disabled:e.selectable?!e.selectable.call(null,t,n):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:r.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let r=e+1;const n=t.index;return typeof n=="number"?r=e+n:typeof n=="function"&&(r=n(e)),br("div",{},[r])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:r}){const{ns:n}=e,i=[n.e("expand-icon")];return r&&i.push(n.em("expand-icon","expanded")),br("div",{class:i,onClick:function(o){o.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[br(Rr,null,{default:()=>[br(Tu)]})]})},sortable:!1,resizable:!1}};function kAe({row:t,column:e,$index:r}){var n;const i=e.property,s=i&&Xw(t,i).value;return e&&e.formatter?e.formatter(t,e,s,r):((n=s==null?void 0:s.toString)==null?void 0:n.call(s))||""}function IAe({row:t,treeNode:e,store:r},n=!1){const{ns:i}=r;if(!e)return n?[br("span",{class:i.e("placeholder")})]:null;const s=[],o=function(a){a.stopPropagation(),!e.loading&&r.loadOrToggle(t)};if(e.indent&&s.push(br("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const a=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=Tu;e.loading&&(l=vm),s.push(br("div",{class:a,onClick:o},{default:()=>[br(Rr,{class:{[i.is("loading")]:e.loading}},{default:()=>[br(l)]})]}))}else s.push(br("span",{class:i.e("placeholder")}));return s}function uB(t,e){return t.reduce((r,n)=>(r[n]=n,r),e)}function DAe(t,e){const r=Dn();return{registerComplexWatchers:()=>{const s=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},a=uB(s,o);Object.keys(a).forEach(l=>{const u=o[l];Xn(e,u)&&Yt(()=>e[u],d=>{let f=d;u==="width"&&l==="realWidth"&&(f=NO(d)),u==="minWidth"&&l==="realMinWidth"&&(f=_K(d)),r.columnConfig.value[u]=f,r.columnConfig.value[l]=f;const h=u==="fixed";t.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const s=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=uB(s,o);Object.keys(a).forEach(l=>{const u=o[l];Xn(e,u)&&Yt(()=>e[u],d=>{r.columnConfig.value[l]=d})})}}}function RAe(t,e,r){const n=Dn(),i=ve(""),s=ve(!1),o=ve(),a=ve(),l=sr("table");dc(()=>{o.value=t.align?`is-${t.align}`:null,o.value}),dc(()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:o.value,a.value});const u=pe(()=>{let A=n.vnode.vParent||n.parent;for(;A&&!A.tableId&&!A.columnId;)A=A.vnode.vParent||A.parent;return A}),d=pe(()=>{const{store:A}=n.parent;if(!A)return!1;const{treeData:E}=A.states,I=E.value;return I&&Object.keys(I).length>0}),f=ve(NO(t.width)),h=ve(_K(t.minWidth)),g=A=>(f.value&&(A.width=f.value),h.value&&(A.minWidth=h.value),!f.value&&h.value&&(A.width=void 0),A.minWidth||(A.minWidth=80),A.realWidth=Number(A.width===void 0?A.minWidth:A.width),A),v=A=>{const E=A.type,I=PAe[E]||{};Object.keys(I).forEach(N=>{const G=I[N];N!=="className"&&G!==void 0&&(A[N]=G)});const O=AAe(E);if(O){const N=`${_(l.namespace)}-${O}`;A.className=A.className?`${A.className} ${N}`:N}return A},p=A=>{Array.isArray(A)?A.forEach(I=>E(I)):E(A);function E(I){var O;((O=I==null?void 0:I.type)==null?void 0:O.name)==="ElTableColumn"&&(I.vParent=n)}};return{columnId:i,realAlign:o,isSubColumn:s,realHeaderAlign:a,columnOrTableParent:u,setColumnWidth:g,setColumnForcedProps:v,setColumnRenders:A=>{t.renderHeader||A.type!=="selection"&&(A.renderHeader=I=>(n.columnConfig.value.label,Ft(e,"header",I,()=>[A.label]))),e["filter-icon"]&&(A.renderFilterIcon=I=>Ft(e,"filter-icon",I));let E=A.renderCell;return A.type==="expand"?(A.renderCell=I=>br("div",{class:"cell"},[E(I)]),r.value.renderExpanded=I=>e.default?e.default(I):e.default):(E=E||kAe,A.renderCell=I=>{let O=null;if(e.default){const J=e.default(I);O=J.some(X=>X.type!==Xo)?J:E(I)}else O=E(I);const{columns:N}=r.value.store.states,G=N.value.findIndex(J=>J.type==="default"),ie=d.value&&I.cellIndex===G,W=IAe(I,ie),q={class:"cell",style:{}};return A.showOverflowTooltip&&(q.class=`${q.class} ${_(l.namespace)}-tooltip`,q.style={width:`${(I.column.realWidth||Number(I.column.width))-1}px`}),p(O),br("div",q,[W,O])}),A},getPropsData:(...A)=>A.reduce((E,I)=>(Array.isArray(I)&&I.forEach(O=>{E[O]=t[O]}),E),{}),getColumnElIndex:(A,E)=>Array.prototype.indexOf.call(A,E),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",n.columnConfig.value)}}}var MAe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let OAe=1;var PK=rt({name:"ElTableColumn",components:{ElCheckbox:$u},props:MAe,setup(t,{slots:e}){const r=Dn(),n=ve({}),i=pe(()=>{let T=r.parent;for(;T&&!T.tableId;)T=T.parent;return T}),{registerNormalWatchers:s,registerComplexWatchers:o}=DAe(i,t),{columnId:a,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:d,setColumnWidth:f,setColumnForcedProps:h,setColumnRenders:g,getPropsData:v,getColumnElIndex:p,realAlign:b,updateColumnOrder:S}=RAe(t,e,i),C=d.value;a.value=`${C.tableId||C.columnId}_column_${OAe++}`,GC(()=>{l.value=i.value!==C;const T=t.type||"default",A=t.sortable===""?!0:t.sortable,E=Yo(t.showOverflowTooltip)?C.props.showOverflowTooltip:t.showOverflowTooltip,I={...EAe[T],id:a.value,type:T,property:t.prop||t.property,align:b,headerAlign:u,showOverflowTooltip:E,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:A,index:t.index,rawColumnKey:r.vnode.key};let W=v(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);W=UEe(I,W),W=zEe(g,f,h)(W),n.value=W,s(),o()}),zn(()=>{var T;const A=d.value,E=l.value?A.vnode.el.children:(T=A.refs.hiddenColumns)==null?void 0:T.children,I=()=>p(E||[],r.vnode.el);n.value.getColumnIndex=I,I()>-1&&i.value.store.commit("insertColumn",n.value,l.value?A.columnConfig.value:null,S)}),Bs(()=>{const T=n.value.getColumnIndex;(T?T():-1)>-1&&i.value.store.commit("removeColumn",n.value,l.value?C.columnConfig.value:null,S)}),r.columnId=a.value,r.columnConfig=n},render(){var t,e,r;try{const n=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(Array.isArray(n))for(const o of n)((r=o.type)==null?void 0:r.name)==="ElTableColumn"||o.shapeFlag&2?i.push(o):o.type===Sr&&Array.isArray(o.children)&&o.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!nn(a==null?void 0:a.children)&&i.push(a)});return br("div",i)}catch{return br("div",[])}}});const Eu=gi(TAe,{TableColumn:PK}),Ui=No(PK),mE=Symbol("tabsRootContextKey"),$Ae=kr({tabs:{type:Bt(Array),default:()=>Ro([])}}),kK="ElTabBar",LAe=rt({name:kK}),FAe=rt({...LAe,props:$Ae,setup(t,{expose:e}){const r=t,n=Dn(),i=Mr(mE);i||_l(kK,"<el-tabs><el-tab-bar /></el-tabs>");const s=sr("tabs"),o=ve(),a=ve(),l=()=>{let g=0,v=0;const p=["top","bottom"].includes(i.props.tabPosition)?"width":"height",b=p==="width"?"x":"y",S=b==="x"?"left":"top";return r.tabs.every(C=>{var T,A;const E=(A=(T=n.parent)==null?void 0:T.refs)==null?void 0:A[`tab-${C.uid}`];if(!E)return!1;if(!C.active)return!0;g=E[`offset${ad(S)}`],v=E[`client${ad(p)}`];const I=window.getComputedStyle(E);return p==="width"&&(v-=Number.parseFloat(I.paddingLeft)+Number.parseFloat(I.paddingRight),g+=Number.parseFloat(I.paddingLeft)),!1}),{[p]:`${v}px`,transform:`translate${ad(b)}(${g}px)`}},u=()=>a.value=l(),d=[],f=()=>{var g;d.forEach(p=>p.stop()),d.length=0;const v=(g=n.parent)==null?void 0:g.refs;if(v){for(const p in v)if(p.startsWith("tab-")){const b=v[p];b&&d.push(ko(b,u))}}};Yt(()=>r.tabs,async()=>{await Wr(),u(),f()},{immediate:!0});const h=ko(o,()=>u());return Bs(()=>{d.forEach(g=>g.stop()),d.length=0,h.stop()}),e({ref:o,update:u}),(g,v)=>(me(),$e("div",{ref_key:"barRef",ref:o,class:Se([_(s).e("active-bar"),_(s).is(_(i).props.tabPosition)]),style:dn(a.value)},null,6))}});var NAe=Ir(FAe,[["__file","tab-bar.vue"]]);const BAe=kr({panes:{type:Bt(Array),default:()=>Ro([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),UAe={tabClick:(t,e,r)=>r instanceof Event,tabRemove:(t,e)=>e instanceof Event},cB="ElTabNav",VAe=rt({name:cB,props:BAe,emits:UAe,setup(t,{expose:e,emit:r}){const n=Mr(mE);n||_l(cB,"<el-tabs><tab-nav /></el-tabs>");const i=sr("tabs"),s=Rfe(),o=Wfe(),a=ve(),l=ve(),u=ve(),d=ve(),f=ve(!1),h=ve(0),g=ve(!1),v=ve(!0),p=pe(()=>["top","bottom"].includes(n.props.tabPosition)?"width":"height"),b=pe(()=>({transform:`translate${p.value==="width"?"X":"Y"}(-${h.value}px)`})),S=()=>{if(!a.value)return;const N=a.value[`offset${ad(p.value)}`],G=h.value;if(!G)return;const ie=G>N?G-N:0;h.value=ie},C=()=>{if(!a.value||!l.value)return;const N=l.value[`offset${ad(p.value)}`],G=a.value[`offset${ad(p.value)}`],ie=h.value;if(N-ie<=G)return;const W=N-ie>G*2?ie+G:N-G;h.value=W},T=async()=>{const N=l.value;if(!f.value||!u.value||!a.value||!N)return;await Wr();const G=u.value.querySelector(".is-active");if(!G)return;const ie=a.value,W=["top","bottom"].includes(n.props.tabPosition),q=G.getBoundingClientRect(),J=ie.getBoundingClientRect(),X=W?N.offsetWidth-J.width:N.offsetHeight-J.height,R=h.value;let z=R;W?(q.left<J.left&&(z=R-(J.left-q.left)),q.right>J.right&&(z=R+q.right-J.right)):(q.top<J.top&&(z=R-(J.top-q.top)),q.bottom>J.bottom&&(z=R+(q.bottom-J.bottom))),z=Math.max(z,0),h.value=Math.min(z,X)},A=()=>{var N;if(!l.value||!a.value)return;t.stretch&&((N=d.value)==null||N.update());const G=l.value[`offset${ad(p.value)}`],ie=a.value[`offset${ad(p.value)}`],W=h.value;ie<G?(f.value=f.value||{},f.value.prev=W,f.value.next=W+ie<G,G-W<ie&&(h.value=G-ie)):(f.value=!1,W>0&&(h.value=0))},E=N=>{const G=N.code,{up:ie,down:W,left:q,right:J}=Zr;if(![ie,W,q,J].includes(G))return;const X=Array.from(N.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),R=X.indexOf(N.target);let z;G===q||G===ie?R===0?z=X.length-1:z=R-1:R<X.length-1?z=R+1:z=0,X[z].focus({preventScroll:!0}),X[z].click(),I()},I=()=>{v.value&&(g.value=!0)},O=()=>g.value=!1;return Yt(s,N=>{N==="hidden"?v.value=!1:N==="visible"&&setTimeout(()=>v.value=!0,50)}),Yt(o,N=>{N?setTimeout(()=>v.value=!0,50):v.value=!1}),ko(u,A),zn(()=>setTimeout(()=>T(),0)),Pp(()=>A()),e({scrollToActiveTab:T,removeFocus:O}),()=>{const N=f.value?[F("span",{class:[i.e("nav-prev"),i.is("disabled",!f.value.prev)],onClick:S},[F(Rr,null,{default:()=>[F(gm,null,null)]})]),F("span",{class:[i.e("nav-next"),i.is("disabled",!f.value.next)],onClick:C},[F(Rr,null,{default:()=>[F(Tu,null,null)]})])]:null,G=t.panes.map((ie,W)=>{var q,J,X,R;const z=ie.uid,re=ie.props.disabled,oe=(J=(q=ie.props.name)!=null?q:ie.index)!=null?J:`${W}`,H=!re&&(ie.isClosable||t.editable);ie.index=`${W}`;const ee=H?F(Rr,{class:"is-icon-close",onClick:Me=>r("tabRemove",ie,Me)},{default:()=>[F($f,null,null)]}):null,ae=((R=(X=ie.slots).label)==null?void 0:R.call(X))||ie.props.label,be=!re&&ie.active?0:-1;return F("div",{ref:`tab-${z}`,class:[i.e("item"),i.is(n.props.tabPosition),i.is("active",ie.active),i.is("disabled",re),i.is("closable",H),i.is("focus",g.value)],id:`tab-${oe}`,key:`tab-${z}`,"aria-controls":`pane-${oe}`,role:"tab","aria-selected":ie.active,tabindex:be,onFocus:()=>I(),onBlur:()=>O(),onClick:Me=>{O(),r("tabClick",ie,oe,Me)},onKeydown:Me=>{H&&(Me.code===Zr.delete||Me.code===Zr.backspace)&&r("tabRemove",ie,Me)}},[ae,ee])});return F("div",{ref:u,class:[i.e("nav-wrap"),i.is("scrollable",!!f.value),i.is(n.props.tabPosition)]},[N,F("div",{class:i.e("nav-scroll"),ref:a},[F("div",{class:[i.e("nav"),i.is(n.props.tabPosition),i.is("stretch",t.stretch&&["top","bottom"].includes(n.props.tabPosition))],ref:l,style:b.value,role:"tablist",onKeydown:E},[t.type?null:F(NAe,{ref:d,tabs:[...t.panes]},null),G])])])}}}),zAe=kr({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Bt(Function),default:()=>!0},stretch:Boolean}),m3=t=>nn(t)||qn(t),HAe={[es]:t=>m3(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>m3(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>m3(t),tabAdd:()=>!0},jAe=rt({name:"ElTabs",props:zAe,emits:HAe,setup(t,{emit:e,slots:r,expose:n}){var i;const s=sr("tabs"),o=pe(()=>["left","right"].includes(t.tabPosition)),{children:a,addChild:l,removeChild:u}=q2e(Dn(),"ElTabPane"),d=ve(),f=ve((i=t.modelValue)!=null?i:"0"),h=async(S,C=!1)=>{var T,A,E;if(!(f.value===S||Yo(S)))try{await((T=t.beforeLeave)==null?void 0:T.call(t,S,f.value))!==!1&&(f.value=S,C&&(e(es,S),e("tabChange",S)),(E=(A=d.value)==null?void 0:A.removeFocus)==null||E.call(A))}catch{}},g=(S,C,T)=>{S.props.disabled||(h(C,!0),e("tabClick",S,T))},v=(S,C)=>{S.props.disabled||Yo(S.props.name)||(C.stopPropagation(),e("edit",S.props.name,"remove"),e("tabRemove",S.props.name))},p=()=>{e("edit",void 0,"add"),e("tabAdd")};Yt(()=>t.modelValue,S=>h(S)),Yt(f,async()=>{var S;await Wr(),(S=d.value)==null||S.scrollToActiveTab()}),bi(mE,{props:t,currentName:f,registerPane:S=>{a.value.push(S)},sortPane:l,unregisterPane:u}),n({currentName:f});const b=({render:S})=>S();return()=>{const S=r["add-icon"],C=t.editable||t.addable?F("div",{class:[s.e("new-tab"),o.value&&s.e("new-tab-vertical")],tabindex:"0",onClick:p,onKeydown:E=>{E.code===Zr.enter&&p()}},[S?Ft(r,"add-icon"):F(Rr,{class:s.is("icon-plus")},{default:()=>[F(pX,null,null)]})]):null,T=F("div",{class:[s.e("header"),o.value&&s.e("header-vertical"),s.is(t.tabPosition)]},[F(b,{render:()=>{const E=a.value.some(I=>I.slots.label);return F(VAe,{ref:d,currentName:f.value,editable:t.editable,type:t.type,panes:a.value,stretch:t.stretch,onTabClick:g,onTabRemove:v},{$stable:!E})}},null),C]),A=F("div",{class:s.e("content")},[Ft(r,"default")]);return F("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:t.type==="card",[s.m("border-card")]:t.type==="border-card"}]},[A,T])}}}),GAe=kr({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),IK="ElTabPane",WAe=rt({name:IK}),qAe=rt({...WAe,props:GAe,setup(t){const e=t,r=Dn(),n=bl(),i=Mr(mE);i||_l(IK,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=sr("tab-pane"),o=ve(),a=pe(()=>e.closable||i.props.closable),l=aF(()=>{var g;return i.currentName.value===((g=e.name)!=null?g:o.value)}),u=ve(l.value),d=pe(()=>{var g;return(g=e.name)!=null?g:o.value}),f=aF(()=>!e.lazy||u.value||l.value);Yt(l,g=>{g&&(u.value=!0)});const h=an({uid:r.uid,slots:n,props:e,paneName:d,active:l,index:o,isClosable:a});return i.registerPane(h),zn(()=>{i.sortPane(h)}),Gf(()=>{i.unregisterPane(h.uid)}),(g,v)=>_(f)?wn((me(),$e("div",{key:0,id:`pane-${_(d)}`,class:Se(_(s).b()),role:"tabpanel","aria-hidden":!_(l),"aria-labelledby":`tab-${_(d)}`},[Ft(g.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Ai,_(l)]]):gt("v-if",!0)}});var DK=Ir(qAe,[["__file","tab-pane.vue"]]);const XAe=gi(jAe,{TabPane:DK}),YAe=No(DK),KAe=rt({name:"ElTimeline",setup(t,{slots:e}){const r=sr("timeline");return bi("timeline",e),()=>br("ul",{class:[r.b()]},[Ft(e,"default")])}}),ZAe=kr({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:ro},hollow:Boolean}),QAe=rt({name:"ElTimelineItem"}),JAe=rt({...QAe,props:ZAe,setup(t){const e=t,r=sr("timeline-item"),n=pe(()=>[r.e("node"),r.em("node",e.size||""),r.em("node",e.type||""),r.is("hollow",e.hollow)]);return(i,s)=>(me(),$e("li",{class:Se([_(r).b(),{[_(r).e("center")]:i.center}])},[Ue("div",{class:Se(_(r).e("tail"))},null,2),i.$slots.dot?gt("v-if",!0):(me(),$e("div",{key:0,class:Se(_(n)),style:dn({backgroundColor:i.color})},[i.icon?(me(),Ct(_(Rr),{key:0,class:Se(_(r).e("icon"))},{default:te(()=>[(me(),Ct(_i(i.icon)))]),_:1},8,["class"])):gt("v-if",!0)],6)),i.$slots.dot?(me(),$e("div",{key:1,class:Se(_(r).e("dot"))},[Ft(i.$slots,"dot")],2)):gt("v-if",!0),Ue("div",{class:Se(_(r).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(me(),$e("div",{key:0,class:Se([_(r).e("timestamp"),_(r).is("top")])},cr(i.timestamp),3)):gt("v-if",!0),Ue("div",{class:Se(_(r).e("content"))},[Ft(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(me(),$e("div",{key:1,class:Se([_(r).e("timestamp"),_(r).is("bottom")])},cr(i.timestamp),3)):gt("v-if",!0)],2)],2))}});var RK=Ir(JAe,[["__file","timeline-item.vue"]]);const e3e=gi(KAe,{TimelineItem:RK}),t3e=No(RK),MK="left-check-change",OK="right-check-change",Dg=kr({data:{type:Bt(Array),default:()=>[]},titles:{type:Bt(Array),default:()=>[]},buttonTexts:{type:Bt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Bt(Function)},leftDefaultChecked:{type:Bt(Array),default:()=>[]},rightDefaultChecked:{type:Bt(Array),default:()=>[]},renderContent:{type:Bt(Function)},modelValue:{type:Bt(Array),default:()=>[]},format:{type:Bt(Object),default:()=>({})},filterable:Boolean,props:{type:Bt(Object),default:()=>Ro({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),lI=(t,e)=>[t,e].every(lr)||lr(t)&&Ed(e),r3e={[Lf]:(t,e,r)=>[t,r].every(lr)&&["left","right"].includes(e),[es]:t=>lr(t),[MK]:lI,[OK]:lI},uI="checked-change",n3e=kr({data:Dg.data,optionRender:{type:Bt(Function)},placeholder:String,title:String,filterable:Boolean,format:Dg.format,filterMethod:Dg.filterMethod,defaultChecked:Dg.leftDefaultChecked,props:Dg.props}),i3e={[uI]:lI},I1=t=>{const e={label:"label",key:"key",disabled:"disabled"};return pe(()=>({...e,...t.props}))},s3e=(t,e,r)=>{const n=I1(t),i=pe(()=>t.data.filter(d=>Lr(t.filterMethod)?t.filterMethod(e.query,d):String(d[n.value.label]||d[n.value.key]).toLowerCase().includes(e.query.toLowerCase()))),s=pe(()=>i.value.filter(d=>!d[n.value.disabled])),o=pe(()=>{const d=e.checked.length,f=t.data.length,{noChecked:h,hasChecked:g}=t.format;return h&&g?d>0?g.replace(/\${checked}/g,d.toString()).replace(/\${total}/g,f.toString()):h.replace(/\${total}/g,f.toString()):`${d}/${f}`}),a=pe(()=>{const d=e.checked.length;return d>0&&d<s.value.length}),l=()=>{const d=s.value.map(f=>f[n.value.key]);e.allChecked=d.length>0&&d.every(f=>e.checked.includes(f))},u=d=>{e.checked=d?s.value.map(f=>f[n.value.key]):[]};return Yt(()=>e.checked,(d,f)=>{if(l(),e.checkChangeByUser){const h=d.concat(f).filter(g=>!d.includes(g)||!f.includes(g));r(uI,d,h)}else r(uI,d),e.checkChangeByUser=!0}),Yt(s,()=>{l()}),Yt(()=>t.data,()=>{const d=[],f=i.value.map(h=>h[n.value.key]);e.checked.forEach(h=>{f.includes(h)&&d.push(h)}),e.checkChangeByUser=!1,e.checked=d}),Yt(()=>t.defaultChecked,(d,f)=>{if(f&&d.length===f.length&&d.every(v=>f.includes(v)))return;const h=[],g=s.value.map(v=>v[n.value.key]);d.forEach(v=>{g.includes(v)&&h.push(v)}),e.checkChangeByUser=!1,e.checked=h},{immediate:!0}),{filteredData:i,checkableData:s,checkedSummary:o,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:u}},o3e=(t,e)=>({onSourceCheckedChange:(i,s)=>{t.leftChecked=i,s&&e(MK,i,s)},onTargetCheckedChange:(i,s)=>{t.rightChecked=i,s&&e(OK,i,s)}}),a3e=t=>{const e=I1(t),r=pe(()=>t.data.reduce((s,o)=>(s[o[e.value.key]]=o)&&s,{})),n=pe(()=>t.data.filter(s=>!t.modelValue.includes(s[e.value.key]))),i=pe(()=>t.targetOrder==="original"?t.data.filter(s=>t.modelValue.includes(s[e.value.key])):t.modelValue.reduce((s,o)=>{const a=r.value[o];return a&&s.push(a),s},[]));return{sourceData:n,targetData:i}},l3e=(t,e,r)=>{const n=I1(t),i=(a,l,u)=>{r(es,a),r(Lf,a,l,u)};return{addToLeft:()=>{const a=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=a.indexOf(l);u>-1&&a.splice(u,1)}),i(a,"left",e.rightChecked)},addToRight:()=>{let a=t.modelValue.slice();const l=t.data.filter(u=>{const d=u[n.value.key];return e.leftChecked.includes(d)&&!t.modelValue.includes(d)}).map(u=>u[n.value.key]);a=t.targetOrder==="unshift"?l.concat(a):a.concat(l),t.targetOrder==="original"&&(a=t.data.filter(u=>a.includes(u[n.value.key])).map(u=>u[n.value.key])),i(a,"right",e.leftChecked)}}},u3e=rt({name:"ElTransferPanel"}),c3e=rt({...u3e,props:n3e,emits:i3e,setup(t,{expose:e,emit:r}){const n=t,i=bl(),s=({option:T})=>T,{t:o}=Si(),a=sr("transfer"),l=an({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=I1(n),{filteredData:d,checkedSummary:f,isIndeterminate:h,handleAllCheckedChange:g}=s3e(n,l,r),v=pe(()=>!hu(l.query)&&hu(d.value)),p=pe(()=>!hu(i.default()[0].children)),{checked:b,allChecked:S,query:C}=Hu(l);return e({query:C}),(T,A)=>(me(),$e("div",{class:Se(_(a).b("panel"))},[Ue("p",{class:Se(_(a).be("panel","header"))},[F(_($u),{modelValue:_(S),"onUpdate:modelValue":E=>qr(S)?S.value=E:null,indeterminate:_(h),"validate-event":!1,onChange:_(g)},{default:te(()=>[Et(cr(T.title)+" ",1),Ue("span",null,cr(_(f)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),Ue("div",{class:Se([_(a).be("panel","body"),_(a).is("with-footer",_(p))])},[T.filterable?(me(),Ct(_(ji),{key:0,modelValue:_(C),"onUpdate:modelValue":E=>qr(C)?C.value=E:null,class:Se(_(a).be("panel","filter")),size:"default",placeholder:T.placeholder,"prefix-icon":_(n_e),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):gt("v-if",!0),wn(F(_(OY),{modelValue:_(b),"onUpdate:modelValue":E=>qr(b)?b.value=E:null,"validate-event":!1,class:Se([_(a).is("filterable",T.filterable),_(a).be("panel","list")])},{default:te(()=>[(me(!0),$e(Sr,null,mi(_(d),E=>(me(),Ct(_($u),{key:E[_(u).key],class:Se(_(a).be("panel","item")),value:E[_(u).key],disabled:E[_(u).disabled],"validate-event":!1},{default:te(()=>{var I;return[F(s,{option:(I=T.optionRender)==null?void 0:I.call(T,E)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[Ai,!_(v)&&!_(hu)(T.data)]]),wn(Ue("p",{class:Se(_(a).be("panel","empty"))},cr(_(v)?_(o)("el.transfer.noMatch"):_(o)("el.transfer.noData")),3),[[Ai,_(v)||_(hu)(T.data)]])],2),_(p)?(me(),$e("p",{key:0,class:Se(_(a).be("panel","footer"))},[Ft(T.$slots,"default")],2)):gt("v-if",!0)],2))}});var dB=Ir(c3e,[["__file","transfer-panel.vue"]]);const d3e=rt({name:"ElTransfer"}),f3e=rt({...d3e,props:Dg,emits:r3e,setup(t,{expose:e,emit:r}){const n=t,i=bl(),{t:s}=Si(),o=sr("transfer"),{formItem:a}=$d(),l=an({leftChecked:[],rightChecked:[]}),u=I1(n),{sourceData:d,targetData:f}=a3e(n),{onSourceCheckedChange:h,onTargetCheckedChange:g}=o3e(l,r),{addToLeft:v,addToRight:p}=l3e(n,l,r),b=ve(),S=ve(),C=N=>{switch(N){case"left":b.value.query="";break;case"right":S.value.query="";break}},T=pe(()=>n.buttonTexts.length===2),A=pe(()=>n.titles[0]||s("el.transfer.titles.0")),E=pe(()=>n.titles[1]||s("el.transfer.titles.1")),I=pe(()=>n.filterPlaceholder||s("el.transfer.filterPlaceholder"));Yt(()=>n.modelValue,()=>{var N;n.validateEvent&&((N=a==null?void 0:a.validate)==null||N.call(a,"change").catch(G=>void 0))});const O=pe(()=>N=>n.renderContent?n.renderContent(br,N):i.default?i.default({option:N}):br("span",N[u.value.label]||N[u.value.key]));return e({clearQuery:C,leftPanel:b,rightPanel:S}),(N,G)=>(me(),$e("div",{class:Se(_(o).b())},[F(dB,{ref_key:"leftPanel",ref:b,data:_(d),"option-render":_(O),placeholder:_(I),title:_(A),filterable:N.filterable,format:N.format,"filter-method":N.filterMethod,"default-checked":N.leftDefaultChecked,props:n.props,onCheckedChange:_(h)},{default:te(()=>[Ft(N.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Ue("div",{class:Se(_(o).e("buttons"))},[F(_(Bn),{type:"primary",class:Se([_(o).e("button"),_(o).is("with-texts",_(T))]),disabled:_(hu)(l.rightChecked),onClick:_(v)},{default:te(()=>[F(_(Rr),null,{default:te(()=>[F(_(gm))]),_:1}),_(Yo)(N.buttonTexts[0])?gt("v-if",!0):(me(),$e("span",{key:0},cr(N.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),F(_(Bn),{type:"primary",class:Se([_(o).e("button"),_(o).is("with-texts",_(T))]),disabled:_(hu)(l.leftChecked),onClick:_(p)},{default:te(()=>[_(Yo)(N.buttonTexts[1])?gt("v-if",!0):(me(),$e("span",{key:0},cr(N.buttonTexts[1]),1)),F(_(Rr),null,{default:te(()=>[F(_(Tu))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),F(dB,{ref_key:"rightPanel",ref:S,data:_(f),"option-render":_(O),placeholder:_(I),filterable:N.filterable,format:N.format,"filter-method":N.filterMethod,title:_(E),"default-checked":N.rightDefaultChecked,props:n.props,onCheckedChange:_(g)},{default:te(()=>[Ft(N.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var h3e=Ir(f3e,[["__file","transfer.vue"]]);const $K=gi(h3e),LK=Symbol("uploadContextKey"),p3e="ElUpload";class m3e extends Error{constructor(e,r,n,i){super(e),this.name="UploadAjaxError",this.status=r,this.method=n,this.url=i}}function fB(t,e,r){let n;return r.response?n=`${r.response.error||r.response}`:r.responseText?n=`${r.responseText}`:n=`fail to ${e.method} ${t} ${r.status}`,new m3e(n,r.status,e.method,t)}function g3e(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const v3e=t=>{typeof XMLHttpRequest>"u"&&_l(p3e,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,r=t.action;e.upload&&e.upload.addEventListener("progress",s=>{const o=s;o.percent=s.total>0?s.loaded/s.total*100:0,t.onProgress(o)});const n=new FormData;if(t.data)for(const[s,o]of Object.entries(t.data))lr(o)&&o.length?n.append(s,...o):n.append(s,o);n.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(fB(r,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(fB(r,t,e));t.onSuccess(g3e(e))}),e.open(t.method,r,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((s,o)=>e.setRequestHeader(o,s));else for(const[s,o]of Object.entries(i))Ed(o)||e.setRequestHeader(s,String(o));return e.send(n),e},FK=["text","picture","picture-card"];let y3e=1;const cI=()=>Date.now()+y3e++,NK=kr({action:{type:String,default:"#"},headers:{type:Bt(Object)},method:{type:String,default:"post"},data:{type:Bt([Object,Function,Promise]),default:()=>Ro({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Bt(Array),default:()=>Ro([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:FK,default:"text"},httpRequest:{type:Bt(Function),default:v3e},disabled:Boolean,limit:Number}),_3e=kr({...NK,beforeUpload:{type:Bt(Function),default:Qn},beforeRemove:{type:Bt(Function)},onRemove:{type:Bt(Function),default:Qn},onChange:{type:Bt(Function),default:Qn},onPreview:{type:Bt(Function),default:Qn},onSuccess:{type:Bt(Function),default:Qn},onProgress:{type:Bt(Function),default:Qn},onError:{type:Bt(Function),default:Qn},onExceed:{type:Bt(Function),default:Qn},crossorigin:{type:Bt(String)}}),b3e=kr({files:{type:Bt(Array),default:()=>Ro([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Bt(Function),default:Qn},listType:{type:String,values:FK,default:"text"},crossorigin:{type:Bt(String)}}),x3e={remove:t=>!!t},w3e=rt({name:"ElUploadList"}),S3e=rt({...w3e,props:b3e,emits:x3e,setup(t,{emit:e}){const r=t,{t:n}=Si(),i=sr("upload"),s=sr("icon"),o=sr("list"),a=Yf(),l=ve(!1),u=pe(()=>[i.b("list"),i.bm("list",r.listType),i.is("disabled",r.disabled)]),d=f=>{e("remove",f)};return(f,h)=>(me(),Ct(fq,{tag:"ul",class:Se(_(u)),name:_(o).b()},{default:te(()=>[(me(!0),$e(Sr,null,mi(f.files,(g,v)=>(me(),$e("li",{key:g.uid||g.name,class:Se([_(i).be("list","item"),_(i).is(g.status),{focusing:l.value}]),tabindex:"0",onKeydown:Li(p=>!_(a)&&d(g),["delete"]),onFocus:p=>l.value=!0,onBlur:p=>l.value=!1,onClick:p=>l.value=!1},[Ft(f.$slots,"default",{file:g,index:v},()=>[f.listType==="picture"||g.status!=="uploading"&&f.listType==="picture-card"?(me(),$e("img",{key:0,class:Se(_(i).be("list","item-thumbnail")),src:g.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):gt("v-if",!0),g.status==="uploading"||f.listType!=="picture-card"?(me(),$e("div",{key:1,class:Se(_(i).be("list","item-info"))},[Ue("a",{class:Se(_(i).be("list","item-name")),onClick:_n(p=>f.handlePreview(g),["prevent"])},[F(_(Rr),{class:Se(_(s).m("document"))},{default:te(()=>[F(_(Tye))]),_:1},8,["class"]),Ue("span",{class:Se(_(i).be("list","item-file-name")),title:g.name},cr(g.name),11,["title"])],10,["onClick"]),g.status==="uploading"?(me(),Ct(_(FEe),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(g.percentage),style:dn(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):gt("v-if",!0)],2)):gt("v-if",!0),Ue("label",{class:Se(_(i).be("list","item-status-label"))},[f.listType==="text"?(me(),Ct(_(Rr),{key:0,class:Se([_(s).m("upload-success"),_(s).m("circle-check")])},{default:te(()=>[F(_(lO))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(me(),Ct(_(Rr),{key:1,class:Se([_(s).m("upload-success"),_(s).m("check")])},{default:te(()=>[F(_(rE))]),_:1},8,["class"])):gt("v-if",!0)],2),_(a)?gt("v-if",!0):(me(),Ct(_(Rr),{key:2,class:Se(_(s).m("close")),onClick:p=>d(g)},{default:te(()=>[F(_($f))]),_:2},1032,["class","onClick"])),gt(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),gt(" This is a bug which needs to be fixed "),gt(" TODO: Fix the incorrect navigation interaction "),_(a)?gt("v-if",!0):(me(),$e("i",{key:3,class:Se(_(s).m("close-tip"))},cr(_(n)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(me(),$e("span",{key:4,class:Se(_(i).be("list","item-actions"))},[Ue("span",{class:Se(_(i).be("list","item-preview")),onClick:p=>f.handlePreview(g)},[F(_(Rr),{class:Se(_(s).m("zoom-in"))},{default:te(()=>[F(_(gX))]),_:1},8,["class"])],10,["onClick"]),_(a)?gt("v-if",!0):(me(),$e("span",{key:0,class:Se(_(i).be("list","item-delete")),onClick:p=>d(g)},[F(_(Rr),{class:Se(_(s).m("delete"))},{default:te(()=>[F(_(wye))]),_:1},8,["class"])],10,["onClick"]))],2)):gt("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Ft(f.$slots,"append")]),_:3},8,["class","name"]))}});var hB=Ir(S3e,[["__file","upload-list.vue"]]);const T3e=kr({disabled:{type:Boolean,default:!1}}),C3e={file:t=>lr(t)},BK="ElUploadDrag",E3e=rt({name:BK}),A3e=rt({...E3e,props:T3e,emits:C3e,setup(t,{emit:e}){Mr(LK)||_l(BK,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=sr("upload"),i=ve(!1),s=Yf(),o=l=>{if(s.value)return;i.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);e("file",u)},a=()=>{s.value||(i.value=!0)};return(l,u)=>(me(),$e("div",{class:Se([_(n).b("dragger"),_(n).is("dragover",i.value)]),onDrop:_n(o,["prevent"]),onDragover:_n(a,["prevent"]),onDragleave:_n(d=>i.value=!1,["prevent"])},[Ft(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var P3e=Ir(A3e,[["__file","upload-dragger.vue"]]);const k3e=kr({...NK,beforeUpload:{type:Bt(Function),default:Qn},onRemove:{type:Bt(Function),default:Qn},onStart:{type:Bt(Function),default:Qn},onSuccess:{type:Bt(Function),default:Qn},onProgress:{type:Bt(Function),default:Qn},onError:{type:Bt(Function),default:Qn},onExceed:{type:Bt(Function),default:Qn}}),I3e=rt({name:"ElUploadContent",inheritAttrs:!1}),D3e=rt({...I3e,props:k3e,setup(t,{expose:e}){const r=t,n=sr("upload"),i=Yf(),s=Ba({}),o=Ba(),a=p=>{if(p.length===0)return;const{autoUpload:b,limit:S,fileList:C,multiple:T,onStart:A,onExceed:E}=r;if(S&&C.length+p.length>S){E(p,C);return}T||(p=p.slice(0,1));for(const I of p){const O=I;O.uid=cI(),A(O),b&&l(O)}},l=async p=>{if(o.value.value="",!r.beforeUpload)return d(p);let b,S={};try{const T=r.data,A=r.beforeUpload(p);S=XS(r.data)?oT(r.data):r.data,b=await A,XS(r.data)&&$l(T,S)&&(S=oT(r.data))}catch{b=!1}if(b===!1){r.onRemove(p);return}let C=p;b instanceof Blob&&(b instanceof File?C=b:C=new File([b],p.name,{type:p.type})),d(Object.assign(C,{uid:p.uid}),S)},u=async(p,b)=>Lr(p)?p(b):p,d=async(p,b)=>{const{headers:S,data:C,method:T,withCredentials:A,name:E,action:I,onProgress:O,onSuccess:N,onError:G,httpRequest:ie}=r;try{b=await u(b??C,p)}catch{r.onRemove(p);return}const{uid:W}=p,q={headers:S||{},withCredentials:A,file:p,data:b,method:T,filename:E,action:I,onProgress:X=>{O(X,p)},onSuccess:X=>{N(X,p),delete s.value[W]},onError:X=>{G(X,p),delete s.value[W]}},J=ie(q);s.value[W]=J,J instanceof Promise&&J.then(q.onSuccess,q.onError)},f=p=>{const b=p.target.files;b&&a(Array.from(b))},h=()=>{i.value||(o.value.value="",o.value.click())},g=()=>{h()};return e({abort:p=>{Qve(s.value).filter(p?([S])=>String(p.uid)===S:()=>!0).forEach(([S,C])=>{C instanceof XMLHttpRequest&&C.abort(),delete s.value[S]})},upload:l}),(p,b)=>(me(),$e("div",{class:Se([_(n).b(),_(n).m(p.listType),_(n).is("drag",p.drag),_(n).is("disabled",_(i))]),tabindex:_(i)?"-1":"0",onClick:h,onKeydown:Li(_n(g,["self"]),["enter","space"])},[p.drag?(me(),Ct(P3e,{key:0,disabled:_(i),onFile:a},{default:te(()=>[Ft(p.$slots,"default")]),_:3},8,["disabled"])):Ft(p.$slots,"default",{key:1}),Ue("input",{ref_key:"inputRef",ref:o,class:Se(_(n).e("input")),name:p.name,disabled:_(i),multiple:p.multiple,accept:p.accept,type:"file",onChange:f,onClick:_n(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var pB=Ir(D3e,[["__file","upload-content.vue"]]);const mB="ElUpload",gB=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},R3e=(t,e)=>{const r=Gfe(t,"fileList",void 0,{passive:!0}),n=g=>r.value.find(v=>v.uid===g.uid);function i(g){var v;(v=e.value)==null||v.abort(g)}function s(g=["ready","uploading","success","fail"]){r.value=r.value.filter(v=>!g.includes(v.status))}function o(g){r.value=r.value.filter(v=>v!==g)}const a=(g,v)=>{const p=n(v);p&&(console.error(g),p.status="fail",o(p),t.onError(g,p,r.value),t.onChange(p,r.value))},l=(g,v)=>{const p=n(v);p&&(t.onProgress(g,p,r.value),p.status="uploading",p.percentage=Math.round(g.percent))},u=(g,v)=>{const p=n(v);p&&(p.status="success",p.response=g,t.onSuccess(g,p,r.value),t.onChange(p,r.value))},d=g=>{Ed(g.uid)&&(g.uid=cI());const v={name:g.name,percentage:0,status:"ready",size:g.size,raw:g,uid:g.uid};if(t.listType==="picture-card"||t.listType==="picture")try{v.url=URL.createObjectURL(g)}catch(p){p.message,t.onError(p,v,r.value)}r.value=[...r.value,v],t.onChange(v,r.value)},f=async g=>{const v=g instanceof File?n(g):g;v||_l(mB,"file to be removed not found");const p=b=>{i(b),o(b),t.onRemove(b,r.value),gB(b)};t.beforeRemove?await t.beforeRemove(v,r.value)!==!1&&p(v):p(v)};function h(){r.value.filter(({status:g})=>g==="ready").forEach(({raw:g})=>{var v;return g&&((v=e.value)==null?void 0:v.upload(g))})}return Yt(()=>t.listType,g=>{g!=="picture-card"&&g!=="picture"||(r.value=r.value.map(v=>{const{raw:p,url:b}=v;if(!b&&p)try{v.url=URL.createObjectURL(p)}catch(S){t.onError(S,v,r.value)}return v}))}),Yt(r,g=>{for(const v of g)v.uid||(v.uid=cI()),v.status||(v.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:i,clearFiles:s,handleError:a,handleProgress:l,handleStart:d,handleSuccess:u,handleRemove:f,submit:h,revokeFileObjectURL:gB}},M3e=rt({name:"ElUpload"}),O3e=rt({...M3e,props:_3e,setup(t,{expose:e}){const r=t,n=Yf(),i=Ba(),{abort:s,submit:o,clearFiles:a,uploadFiles:l,handleStart:u,handleError:d,handleRemove:f,handleSuccess:h,handleProgress:g,revokeFileObjectURL:v}=R3e(r,i),p=pe(()=>r.listType==="picture-card"),b=pe(()=>({...r,fileList:l.value,onStart:u,onProgress:g,onSuccess:h,onError:d,onRemove:f}));return Bs(()=>{l.value.forEach(v)}),bi(LK,{accept:ms(r,"accept")}),e({abort:s,submit:o,clearFiles:a,handleStart:u,handleRemove:f}),(S,C)=>(me(),$e("div",null,[_(p)&&S.showFileList?(me(),Ct(hB,{key:0,disabled:_(n),"list-type":S.listType,files:_(l),crossorigin:S.crossorigin,"handle-preview":S.onPreview,onRemove:_(f)},pk({append:te(()=>[F(pB,vo({ref_key:"uploadRef",ref:i},_(b)),{default:te(()=>[S.$slots.trigger?Ft(S.$slots,"trigger",{key:0}):gt("v-if",!0),!S.$slots.trigger&&S.$slots.default?Ft(S.$slots,"default",{key:1}):gt("v-if",!0)]),_:3},16)]),_:2},[S.$slots.file?{name:"default",fn:te(({file:T,index:A})=>[Ft(S.$slots,"file",{file:T,index:A})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):gt("v-if",!0),!_(p)||_(p)&&!S.showFileList?(me(),Ct(pB,vo({key:1,ref_key:"uploadRef",ref:i},_(b)),{default:te(()=>[S.$slots.trigger?Ft(S.$slots,"trigger",{key:0}):gt("v-if",!0),!S.$slots.trigger&&S.$slots.default?Ft(S.$slots,"default",{key:1}):gt("v-if",!0)]),_:3},16)):gt("v-if",!0),S.$slots.trigger?Ft(S.$slots,"default",{key:2}):gt("v-if",!0),Ft(S.$slots,"tip"),!_(p)&&S.showFileList?(me(),Ct(hB,{key:3,disabled:_(n),"list-type":S.listType,files:_(l),crossorigin:S.crossorigin,"handle-preview":S.onPreview,onRemove:_(f)},pk({_:2},[S.$slots.file?{name:"default",fn:te(({file:T,index:A})=>[Ft(S.$slots,"file",{file:T,index:A})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):gt("v-if",!0)]))}});var $3e=Ir(O3e,[["__file","upload.vue"]]);const UK=gi($3e);function L3e(t){let e;const r=ve(!1),n=an({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(h){n.text=h}function s(){const h=n.parent,g=f.ns;if(!h.vLoadingAddClassList){let v=h.getAttribute("loading-number");v=Number.parseInt(v)-1,v?h.setAttribute("loading-number",v.toString()):(Fl(h,g.bm("parent","relative")),h.removeAttribute("loading-number")),Fl(h,g.bm("parent","hidden"))}o(),d.unmount()}function o(){var h,g;(g=(h=f.$el)==null?void 0:h.parentNode)==null||g.removeChild(f.$el)}function a(){var h;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(e),e=setTimeout(l,400),n.visible=!1,(h=t.closed)==null||h.call(t))}function l(){if(!r.value)return;const h=n.parent;r.value=!1,h.vLoadingAddClassList=void 0,s()}const d=yq(rt({name:"ElLoading",setup(h,{expose:g}){const{ns:v,zIndex:p}=aE("loading");return g({ns:v,zIndex:p}),()=>{const b=n.spinner||n.svg,S=br("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...b?{innerHTML:b}:{}},[br("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),C=n.text?br("p",{class:v.b("text")},[n.text]):void 0;return br(xl,{name:v.b("fade"),onAfterLeave:l},{default:te(()=>[wn(F("div",{style:{backgroundColor:n.background||""},class:[v.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[br("div",{class:v.b("spinner")},[S,C])]),[[Ai,n.visible]])])})}}})),f=d.mount(document.createElement("div"));return{...Hu(n),setText:i,removeElLoadingChild:o,close:a,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}let Tx;const dI=function(t={}){if(!Ln)return;const e=F3e(t);if(e.fullscreen&&Tx)return Tx;const r=L3e({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(Tx=void 0)}});N3e(e,e.parent,r),vB(e,e.parent,r),e.parent.vLoadingAddClassList=()=>vB(e,e.parent,r);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(r.$el),Wr(()=>r.visible.value=e.visible),e.fullscreen&&(Tx=r),r},F3e=t=>{var e,r,n,i;let s;return nn(t.target)?s=(e=document.querySelector(t.target))!=null?e:document.body:s=t.target||document.body,{parent:s===document.body||t.body?document.body:s,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:s===document.body&&((r=t.fullscreen)!=null?r:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,beforeClose:t.beforeClose,closed:t.closed,target:s}},N3e=async(t,e,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,i={};if(t.fullscreen)r.originalPosition.value=Gh(document.body,"position"),r.originalOverflow.value=Gh(document.body,"overflow"),i.zIndex=n();else if(t.parent===document.body){r.originalPosition.value=Gh(document.body,"position"),await Wr();for(const s of["top","left"]){const o=s==="top"?"scrollTop":"scrollLeft";i[s]=`${t.target.getBoundingClientRect()[s]+document.body[o]+document.documentElement[o]-Number.parseInt(Gh(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])i[s]=`${t.target.getBoundingClientRect()[s]}px`}else r.originalPosition.value=Gh(e,"position");for(const[s,o]of Object.entries(i))r.$el.style[s]=o},vB=(t,e,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?Fl(e,n.bm("parent","relative")):oc(e,n.bm("parent","relative")),t.fullscreen&&t.lock?oc(e,n.bm("parent","hidden")):Fl(e,n.bm("parent","hidden"))},rS=Symbol("ElLoading"),yB=(t,e)=>{var r,n,i,s;const o=e.instance,a=h=>En(e.value)?e.value[h]:void 0,l=h=>{const g=nn(h)&&(o==null?void 0:o[h])||h;return g&&ve(g)},u=h=>l(a(h)||t.getAttribute(`element-loading-${Hf(h)}`)),d=(r=a("fullscreen"))!=null?r:e.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:d,target:(n=a("target"))!=null?n:d?void 0:t,body:(i=a("body"))!=null?i:e.modifiers.body,lock:(s=a("lock"))!=null?s:e.modifiers.lock};t[rS]={options:f,instance:dI(f)}},B3e=(t,e)=>{for(const r of Object.keys(e))qr(e[r])&&(e[r].value=t[r])},fI={mounted(t,e){e.value&&yB(t,e)},updated(t,e){const r=t[rS];e.oldValue!==e.value&&(e.value&&!e.oldValue?yB(t,e):e.value&&e.oldValue?En(e.value)&&B3e(e.value,r.options):r==null||r.instance.close())},unmounted(t){var e;(e=t[rS])==null||e.instance.close(),t[rS]=null}},VK={install(t){t.directive("loading",fI),t.config.globalProperties.$loading=dI},directive:fI,service:dI},zK=["success","info","warning","error"],sa=Ro({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ln?document.body:void 0}),U3e=kr({customClass:{type:String,default:sa.customClass},center:{type:Boolean,default:sa.center},dangerouslyUseHTMLString:{type:Boolean,default:sa.dangerouslyUseHTMLString},duration:{type:Number,default:sa.duration},icon:{type:ro,default:sa.icon},id:{type:String,default:sa.id},message:{type:Bt([String,Object,Function]),default:sa.message},onClose:{type:Bt(Function),default:sa.onClose},showClose:{type:Boolean,default:sa.showClose},type:{type:String,values:zK,default:sa.type},plain:{type:Boolean,default:sa.plain},offset:{type:Number,default:sa.offset},zIndex:{type:Number,default:sa.zIndex},grouping:{type:Boolean,default:sa.grouping},repeatNum:{type:Number,default:sa.repeatNum}}),V3e={destroy:()=>!0},ac=DM([]),z3e=t=>{const e=ac.findIndex(i=>i.id===t),r=ac[e];let n;return e>0&&(n=ac[e-1]),{current:r,prev:n}},H3e=t=>{const{prev:e}=z3e(t);return e?e.vm.exposed.bottom.value:0},j3e=(t,e)=>ac.findIndex(n=>n.id===t)>0?16:e,G3e=rt({name:"ElMessage"}),W3e=rt({...G3e,props:U3e,emits:V3e,setup(t,{expose:e}){const r=t,{Close:n}=_X,{ns:i,zIndex:s}=aE("message"),{currentZIndex:o,nextZIndex:a}=s,l=ve(),u=ve(!1),d=ve(0);let f;const h=pe(()=>r.type?r.type==="error"?"danger":r.type:"info"),g=pe(()=>{const O=r.type;return{[i.bm("icon",O)]:O&&wv[O]}}),v=pe(()=>r.icon||wv[r.type]||""),p=pe(()=>H3e(r.id)),b=pe(()=>j3e(r.id,r.offset)+p.value),S=pe(()=>d.value+b.value),C=pe(()=>({top:`${b.value}px`,zIndex:o.value}));function T(){r.duration!==0&&({stop:f}=bv(()=>{E()},r.duration))}function A(){f==null||f()}function E(){u.value=!1}function I({code:O}){O===Zr.esc&&E()}return zn(()=>{T(),a(),u.value=!0}),Yt(()=>r.repeatNum,()=>{A(),T()}),gs(document,"keydown",I),ko(l,()=>{d.value=l.value.getBoundingClientRect().height}),e({visible:u,bottom:S,close:E}),(O,N)=>(me(),Ct(xl,{name:_(i).b("fade"),onBeforeLeave:O.onClose,onAfterLeave:G=>O.$emit("destroy"),persisted:""},{default:te(()=>[wn(Ue("div",{id:O.id,ref_key:"messageRef",ref:l,class:Se([_(i).b(),{[_(i).m(O.type)]:O.type},_(i).is("center",O.center),_(i).is("closable",O.showClose),_(i).is("plain",O.plain),O.customClass]),style:dn(_(C)),role:"alert",onMouseenter:A,onMouseleave:T},[O.repeatNum>1?(me(),Ct(_(aY),{key:0,value:O.repeatNum,type:_(h),class:Se(_(i).e("badge"))},null,8,["value","type","class"])):gt("v-if",!0),_(v)?(me(),Ct(_(Rr),{key:1,class:Se([_(i).e("icon"),_(g)])},{default:te(()=>[(me(),Ct(_i(_(v))))]),_:1},8,["class"])):gt("v-if",!0),Ft(O.$slots,"default",{},()=>[O.dangerouslyUseHTMLString?(me(),$e(Sr,{key:1},[gt(" Caution here, message could've been compromised, never use user's input as message "),Ue("p",{class:Se(_(i).e("content")),innerHTML:O.message},null,10,["innerHTML"])],2112)):(me(),$e("p",{key:0,class:Se(_(i).e("content"))},cr(O.message),3))]),O.showClose?(me(),Ct(_(Rr),{key:2,class:Se(_(i).e("closeBtn")),onClick:_n(E,["stop"])},{default:te(()=>[F(_(n))]),_:1},8,["class","onClick"])):gt("v-if",!0)],46,["id"]),[[Ai,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var q3e=Ir(W3e,[["__file","message.vue"]]);let X3e=1;const HK=t=>{const e=!t||nn(t)||Ha(t)||Lr(t)?{message:t}:t,r={...sa,...e};if(!r.appendTo)r.appendTo=document.body;else if(nn(r.appendTo)){let n=document.querySelector(r.appendTo);Ll(n)||(n=document.body),r.appendTo=n}return yl(Kc.grouping)&&!r.grouping&&(r.grouping=Kc.grouping),qn(Kc.duration)&&r.duration===3e3&&(r.duration=Kc.duration),qn(Kc.offset)&&r.offset===16&&(r.offset=Kc.offset),yl(Kc.showClose)&&!r.showClose&&(r.showClose=Kc.showClose),r},Y3e=t=>{const e=ac.indexOf(t);if(e===-1)return;ac.splice(e,1);const{handler:r}=t;r.close()},K3e=({appendTo:t,...e},r)=>{const n=`message_${X3e++}`,i=e.onClose,s=document.createElement("div"),o={...e,id:n,onClose:()=>{i==null||i(),Y3e(d)},onDestroy:()=>{dp(null,s)}},a=F(q3e,o,Lr(o.message)||Ha(o.message)?{default:Lr(o.message)?o.message:()=>o.message}:null);a.appContext=r||Iv._context,dp(a,s),t.appendChild(s.firstElementChild);const l=a.component,d={id:n,vnode:a,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:a.component.props};return d},Iv=(t={},e)=>{if(!Ln)return{close:()=>{}};const r=HK(t);if(r.grouping&&ac.length){const i=ac.find(({vnode:s})=>{var o;return((o=s.props)==null?void 0:o.message)===r.message});if(i)return i.props.repeatNum+=1,i.props.type=r.type,i.handler}if(qn(Kc.max)&&ac.length>=Kc.max)return{close:()=>{}};const n=K3e(r,e);return ac.push(n),n.handler};zK.forEach(t=>{Iv[t]=(e={},r)=>{const n=HK(e);return Iv({...n,type:t},r)}});function Z3e(t){for(const e of ac)(!t||t===e.props.type)&&e.handler.close()}Iv.closeAll=Z3e;Iv._context=null;const nS=xX(Iv,"$message"),Q3e=rt({name:"ElMessageBox",directives:{TrapFocus:dwe},components:{ElButton:Bn,ElFocusTrap:uE,ElInput:ji,ElOverlay:OO,ElIcon:Rr,..._X},inheritAttrs:!1,props:{buttonSize:{type:String,validator:w_e},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:r,zIndex:n,ns:i,size:s}=aE("message-box",pe(()=>t.buttonSize)),{t:o}=r,{nextZIndex:a}=n,l=ve(!1),u=an({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:hm(vm),cancelButtonLoadingIcon:hm(vm),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),d=pe(()=>{const z=u.type;return{[i.bm("icon",z)]:z&&wv[z]}}),f=Sc(),h=Sc(),g=pe(()=>u.icon||wv[u.type]||""),v=pe(()=>!!u.message),p=ve(),b=ve(),S=ve(),C=ve(),T=ve(),A=pe(()=>u.confirmButtonClass);Yt(()=>u.inputValue,async z=>{await Wr(),t.boxType==="prompt"&&z!==null&&q()},{immediate:!0}),Yt(()=>l.value,z=>{var re,oe;z&&(t.boxType!=="prompt"&&(u.autofocus?S.value=(oe=(re=T.value)==null?void 0:re.$el)!=null?oe:p.value:S.value=p.value),u.zIndex=a()),t.boxType==="prompt"&&(z?Wr().then(()=>{var H;C.value&&C.value.$el&&(u.autofocus?S.value=(H=J())!=null?H:p.value:S.value=p.value)}):(u.editorErrorMessage="",u.validateError=!1))});const E=pe(()=>t.draggable),I=pe(()=>t.overflow);SX(p,b,E,I),zn(async()=>{await Wr(),t.closeOnHashChange&&window.addEventListener("hashchange",O)}),Bs(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",O)});function O(){l.value&&(l.value=!1,Wr(()=>{u.action&&e("action",u.action)}))}const N=()=>{t.closeOnClickModal&&W(u.distinguishCancelAndClose?"close":"cancel")},G=_O(N),ie=z=>{if(u.inputType!=="textarea")return z.preventDefault(),W("confirm")},W=z=>{var re;t.boxType==="prompt"&&z==="confirm"&&!q()||(u.action=z,u.beforeClose?(re=u.beforeClose)==null||re.call(u,z,u,O):O())},q=()=>{if(t.boxType==="prompt"){const z=u.inputPattern;if(z&&!z.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;const re=u.inputValidator;if(typeof re=="function"){const oe=re(u.inputValue);if(oe===!1)return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;if(typeof oe=="string")return u.editorErrorMessage=oe,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},J=()=>{const z=C.value.$refs;return z.input||z.textarea},X=()=>{W("close")},R=()=>{t.closeOnPressEscape&&X()};return t.lockScroll&&EX(l),{...Hu(u),ns:i,overlayEvent:G,visible:l,hasMessage:v,typeClass:d,contentId:f,inputId:h,btnSize:s,iconComponent:g,confirmButtonClasses:A,rootRef:p,focusStartRef:S,headerRef:b,inputRef:C,confirmRef:T,doClose:O,handleClose:X,onCloseRequested:R,handleWrapperClick:N,handleInputEnter:ie,handleAction:W,t:o}}});function J3e(t,e,r,n,i,s){const o=Yn("el-icon"),a=Yn("close"),l=Yn("el-input"),u=Yn("el-button"),d=Yn("el-focus-trap"),f=Yn("el-overlay");return me(),Ct(xl,{name:"fade-in-linear",onAfterLeave:h=>t.$emit("vanish"),persisted:""},{default:te(()=>[wn(F(f,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:te(()=>[Ue("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:Se(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[F(d,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:te(()=>[Ue("div",{ref:"rootRef",class:Se([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:dn(t.customStyle),tabindex:"-1",onClick:_n(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(me(),$e("div",{key:0,ref:"headerRef",class:Se([t.ns.e("header"),{"show-close":t.showClose}])},[Ue("div",{class:Se(t.ns.e("title"))},[t.iconComponent&&t.center?(me(),Ct(o,{key:0,class:Se([t.ns.e("status"),t.typeClass])},{default:te(()=>[(me(),Ct(_i(t.iconComponent)))]),_:1},8,["class"])):gt("v-if",!0),Ue("span",null,cr(t.title),1)],2),t.showClose?(me(),$e("button",{key:0,type:"button",class:Se(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:Li(_n(h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[F(o,{class:Se(t.ns.e("close"))},{default:te(()=>[F(a)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):gt("v-if",!0)],2)):gt("v-if",!0),Ue("div",{id:t.contentId,class:Se(t.ns.e("content"))},[Ue("div",{class:Se(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(me(),Ct(o,{key:0,class:Se([t.ns.e("status"),t.typeClass])},{default:te(()=>[(me(),Ct(_i(t.iconComponent)))]),_:1},8,["class"])):gt("v-if",!0),t.hasMessage?(me(),$e("div",{key:1,class:Se(t.ns.e("message"))},[Ft(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(me(),Ct(_i(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(me(),Ct(_i(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:te(()=>[Et(cr(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):gt("v-if",!0)],2),wn(Ue("div",{class:Se(t.ns.e("input"))},[F(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":h=>t.inputValue=h,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:Se({invalid:t.validateError}),onKeydown:Li(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Ue("div",{class:Se(t.ns.e("errormsg")),style:dn({visibility:t.editorErrorMessage?"visible":"hidden"})},cr(t.editorErrorMessage),7)],2),[[Ai,t.showInput]])],10,["id"]),Ue("div",{class:Se(t.ns.e("btns"))},[t.showCancelButton?(me(),Ct(u,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:Se([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:h=>t.handleAction("cancel"),onKeydown:Li(_n(h=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:te(()=>[Et(cr(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):gt("v-if",!0),wn(F(u,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:Se([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:h=>t.handleAction("confirm"),onKeydown:Li(_n(h=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:te(()=>[Et(cr(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Ai,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[Ai,t.visible]])]),_:3},8,["onAfterLeave"])}var ePe=Ir(Q3e,[["render",J3e],["__file","index.vue"]]);const mb=new Map,tPe=t=>{let e=document.body;return t.appendTo&&(nn(t.appendTo)&&(e=document.querySelector(t.appendTo)),Ll(t.appendTo)&&(e=t.appendTo),Ll(e)||(e=document.body)),e},rPe=(t,e,r=null)=>{const n=F(ePe,t,Lr(t.message)||Ha(t.message)?{default:Lr(t.message)?t.message:()=>t.message}:null);return n.appContext=r,dp(n,e),tPe(t).appendChild(e.firstElementChild),n.component},nPe=()=>document.createElement("div"),iPe=(t,e)=>{const r=nPe();t.onVanish=()=>{dp(null,r),mb.delete(i)},t.onAction=s=>{const o=mb.get(i);let a;t.showInput?a={value:i.inputValue,action:s}:a=s,t.callback?t.callback(a,n.proxy):s==="cancel"||s==="close"?t.distinguishCancelAndClose&&s!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(a)};const n=rPe(t,r,e),i=n.proxy;for(const s in t)Xn(t,s)&&!Xn(i.$props,s)&&(i[s]=t[s]);return i.visible=!0,i};function xy(t,e=null){if(!Ln)return Promise.reject();let r;return nn(t)||Ha(t)?t={message:t}:r=t.callback,new Promise((n,i)=>{const s=iPe(t,e??xy._context);mb.set(s,{options:t,callback:r,resolve:n,reject:i})})}const sPe=["alert","confirm","prompt"],oPe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};sPe.forEach(t=>{xy[t]=aPe(t)});function aPe(t){return(e,r,n,i)=>{let s="";return En(r)?(n=r,s=""):Yo(r)?s="":s=r,xy(Object.assign({title:s,message:e,type:"",...oPe[t]},n,{boxType:t}),i)}}xy.close=()=>{mb.forEach((t,e)=>{e.doClose()}),mb.clear()};xy._context=null;const Rh=xy;Rh.install=t=>{Rh._context=t._context,t.config.globalProperties.$msgbox=Rh,t.config.globalProperties.$messageBox=Rh,t.config.globalProperties.$alert=Rh.alert,t.config.globalProperties.$confirm=Rh.confirm,t.config.globalProperties.$prompt=Rh.prompt};const ri=Rh,jK=["success","info","warning","error"],lPe=kr({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:ro},id:{type:String,default:""},message:{type:Bt([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Bt(Function),default:()=>{}},onClose:{type:Bt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...jK,""],default:""},zIndex:Number}),uPe={destroy:()=>!0},cPe=rt({name:"ElNotification"}),dPe=rt({...cPe,props:lPe,emits:uPe,setup(t,{expose:e}){const r=t,{ns:n,zIndex:i}=aE("notification"),{nextZIndex:s,currentZIndex:o}=i,{Close:a}=yX,l=ve(!1);let u;const d=pe(()=>{const T=r.type;return T&&wv[r.type]?n.m(T):""}),f=pe(()=>r.type&&wv[r.type]||r.icon),h=pe(()=>r.position.endsWith("right")?"right":"left"),g=pe(()=>r.position.startsWith("top")?"top":"bottom"),v=pe(()=>{var T;return{[g.value]:`${r.offset}px`,zIndex:(T=r.zIndex)!=null?T:o.value}});function p(){r.duration>0&&({stop:u}=bv(()=>{l.value&&S()},r.duration))}function b(){u==null||u()}function S(){l.value=!1}function C({code:T}){T===Zr.delete||T===Zr.backspace?b():T===Zr.esc?l.value&&S():p()}return zn(()=>{p(),s(),l.value=!0}),gs(document,"keydown",C),e({visible:l,close:S}),(T,A)=>(me(),Ct(xl,{name:_(n).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:E=>T.$emit("destroy"),persisted:""},{default:te(()=>[wn(Ue("div",{id:T.id,class:Se([_(n).b(),T.customClass,_(h)]),style:dn(_(v)),role:"alert",onMouseenter:b,onMouseleave:p,onClick:T.onClick},[_(f)?(me(),Ct(_(Rr),{key:0,class:Se([_(n).e("icon"),_(d)])},{default:te(()=>[(me(),Ct(_i(_(f))))]),_:1},8,["class"])):gt("v-if",!0),Ue("div",{class:Se(_(n).e("group"))},[Ue("h2",{class:Se(_(n).e("title")),textContent:cr(T.title)},null,10,["textContent"]),wn(Ue("div",{class:Se(_(n).e("content")),style:dn(T.title?void 0:{margin:0})},[Ft(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(me(),$e(Sr,{key:1},[gt(" Caution here, message could've been compromised, never use user's input as message "),Ue("p",{innerHTML:T.message},null,8,["innerHTML"])],2112)):(me(),$e("p",{key:0},cr(T.message),1))])],6),[[Ai,T.message]]),T.showClose?(me(),Ct(_(Rr),{key:0,class:Se(_(n).e("closeBtn")),onClick:_n(S,["stop"])},{default:te(()=>[F(_(a))]),_:1},8,["class","onClick"])):gt("v-if",!0)],2)],46,["id","onClick"]),[[Ai,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var fPe=Ir(dPe,[["__file","notification.vue"]]);const fT={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},hI=16;let hPe=1;const Dv=function(t={},e=null){if(!Ln)return{close:()=>{}};(typeof t=="string"||Ha(t))&&(t={message:t});const r=t.position||"top-right";let n=t.offset||0;fT[r].forEach(({vm:d})=>{var f;n+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+hI}),n+=hI;const i=`notification_${hPe++}`,s=t.onClose,o={...t,offset:n,id:i,onClose:()=>{pPe(i,r,s)}};let a=document.body;Ll(t.appendTo)?a=t.appendTo:nn(t.appendTo)&&(a=document.querySelector(t.appendTo)),Ll(a)||(a=document.body);const l=document.createElement("div"),u=F(fPe,o,Ha(o.message)?{default:()=>o.message}:null);return u.appContext=e??Dv._context,u.props.onDestroy=()=>{dp(null,l)},dp(u,l),fT[r].push({vm:u}),a.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};jK.forEach(t=>{Dv[t]=(e={})=>((typeof e=="string"||Ha(e))&&(e={message:e}),Dv({...e,type:t}))});function pPe(t,e,r){const n=fT[e],i=n.findIndex(({vm:u})=>{var d;return((d=u.component)==null?void 0:d.props.id)===t});if(i===-1)return;const{vm:s}=n[i];if(!s)return;r==null||r(s);const o=s.el.offsetHeight,a=e.split("-")[0];n.splice(i,1);const l=n.length;if(!(l<1))for(let u=i;u<l;u++){const{el:d,component:f}=n[u].vm,h=Number.parseInt(d.style[a],10)-o-hI;f.props.offset=h}}function mPe(){for(const t of Object.values(fT))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Dv.closeAll=mPe;Dv._context=null;const gb=xX(Dv,"$notify");const Ae=an({registerToken:"",access_token:"",refresh_token:"",id_token:"",expires_in:0,grant_type:"",client_id:"",client_secret:"",username:"",nickname:"",code_verifier:"",code_challenge:"",permission:"",email_verified:!1,sub:"",redirect_uri:"",qrcodeUrl:"",accessKey:"",accessSecret:"",endpoint:"",region:"",platform:"default",bucket:"",avatarUrl:"",peerId:"",connectId:"",update(t,e){this.access_token=t,this.expires_in=e}}),Xt=an({apiUrl:"https://pre.elpsykongroo.com",statusUrl:"https://status.elpsykongroo.com",authUrl:"https://auth-pre.elpsykongroo.com",storageUrl:"https://storage-pre.elpsykongroo.com",redirectUrl:"https://preview.elpsykongroo.com",apiKey:{}.VITE_OPENAI_API_KEY,oauth2ProxyPkceUrl:"https://pkce-pre.elpsykongroo.com",oauth2ProxyUrl:"https://oauth2-proxy-pre.elpsykongroo.com",pwaMode:"production",messageUrl:"https://message-pre.elpsykongroo.com",publicKey:"BFI_ya8v4eq4RBZnPuUUQCa1jjjLyVfWeyQsHvuPVpSyLvhTC5Ott14xe27CKWbysgCd3u7LLzpsSrGZIbwhVAY",clientId:{}.VITE_CLIENT_ID,clientSecret:{}.VITE_CLIENT_SECRET,githubUrl:"https://github.com/elpsykongroo-com/elpsykongroo.com-dev",healthCheckDuration:"600",vaultUrl:"https://vault-cloud.elpsykongroo.com:8200",vaultUser:"wol",vaultPublicUser:"test",vaultPass:"helloworld",wakeMac:"A8:A1:59:6C:D7:97",peerUrl:"https://peer.elpsykongroo.com",peerServerUrl:"peerjs.elpsykongroo.com"});function GK(t,e){return function(){return t.apply(e,arguments)}}const{toString:gPe}=Object.prototype,{getPrototypeOf:VO}=Object,gE=(t=>e=>{const r=gPe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kc=t=>(t=t.toLowerCase(),e=>gE(e)===t),vE=t=>e=>typeof e===t,{isArray:wy}=Array,vb=vE("undefined");function vPe(t){return t!==null&&!vb(t)&&t.constructor!==null&&!vb(t.constructor)&&Nl(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WK=kc("ArrayBuffer");function yPe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WK(t.buffer),e}const _Pe=vE("string"),Nl=vE("function"),qK=vE("number"),yE=t=>t!==null&&typeof t=="object",bPe=t=>t===!0||t===!1,iS=t=>{if(gE(t)!=="object")return!1;const e=VO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xPe=kc("Date"),wPe=kc("File"),SPe=kc("Blob"),TPe=kc("FileList"),CPe=t=>yE(t)&&Nl(t.pipe),EPe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nl(t.append)&&((e=gE(t))==="formdata"||e==="object"&&Nl(t.toString)&&t.toString()==="[object FormData]"))},APe=kc("URLSearchParams"),[PPe,kPe,IPe,DPe]=["ReadableStream","Request","Response","Headers"].map(kc),RPe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function D1(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),wy(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function XK(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const U0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),YK=t=>!vb(t)&&t!==U0;function pI(){const{caseless:t}=YK(this)&&this||{},e={},r=(n,i)=>{const s=t&&XK(e,i)||i;iS(e[s])&&iS(n)?e[s]=pI(e[s],n):iS(n)?e[s]=pI({},n):wy(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&D1(arguments[n],r);return e}const MPe=(t,e,r,{allOwnKeys:n}={})=>(D1(e,(i,s)=>{r&&Nl(i)?t[s]=GK(i,r):t[s]=i},{allOwnKeys:n}),t),OPe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$Pe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},LPe=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&VO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},FPe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},NPe=t=>{if(!t)return null;if(wy(t))return t;let e=t.length;if(!qK(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},BPe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&VO(Uint8Array)),UPe=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},VPe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},zPe=kc("HTMLFormElement"),HPe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),_B=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),jPe=kc("RegExp"),KK=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};D1(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},GPe=t=>{KK(t,(e,r)=>{if(Nl(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Nl(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},WPe=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return wy(t)?n(t):n(String(t).split(e)),r},qPe=()=>{},XPe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,g3="abcdefghijklmnopqrstuvwxyz",bB="0123456789",ZK={DIGIT:bB,ALPHA:g3,ALPHA_DIGIT:g3+g3.toUpperCase()+bB},YPe=(t=16,e=ZK.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function KPe(t){return!!(t&&Nl(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ZPe=t=>{const e=new Array(10),r=(n,i)=>{if(yE(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=wy(n)?[]:{};return D1(n,(o,a)=>{const l=r(o,i+1);!vb(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},QPe=kc("AsyncFunction"),JPe=t=>t&&(yE(t)||Nl(t))&&Nl(t.then)&&Nl(t.catch),QK=((t,e)=>t?setImmediate:e?((r,n)=>(U0.addEventListener("message",({source:i,data:s})=>{i===U0&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),U0.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Nl(U0.postMessage)),e4e=typeof queueMicrotask<"u"?queueMicrotask.bind(U0):typeof process<"u"&&process.nextTick||QK,Wt={isArray:wy,isArrayBuffer:WK,isBuffer:vPe,isFormData:EPe,isArrayBufferView:yPe,isString:_Pe,isNumber:qK,isBoolean:bPe,isObject:yE,isPlainObject:iS,isReadableStream:PPe,isRequest:kPe,isResponse:IPe,isHeaders:DPe,isUndefined:vb,isDate:xPe,isFile:wPe,isBlob:SPe,isRegExp:jPe,isFunction:Nl,isStream:CPe,isURLSearchParams:APe,isTypedArray:BPe,isFileList:TPe,forEach:D1,merge:pI,extend:MPe,trim:RPe,stripBOM:OPe,inherits:$Pe,toFlatObject:LPe,kindOf:gE,kindOfTest:kc,endsWith:FPe,toArray:NPe,forEachEntry:UPe,matchAll:VPe,isHTMLForm:zPe,hasOwnProperty:_B,hasOwnProp:_B,reduceDescriptors:KK,freezeMethods:GPe,toObjectSet:WPe,toCamelCase:HPe,noop:qPe,toFiniteNumber:XPe,findKey:XK,global:U0,isContextDefined:YK,ALPHABET:ZK,generateString:YPe,isSpecCompliantForm:KPe,toJSONObject:ZPe,isAsyncFn:QPe,isThenable:JPe,setImmediate:QK,asap:e4e};function Un(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Wt.inherits(Un,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wt.toJSONObject(this.config),code:this.code,status:this.status}}});const JK=Un.prototype,eZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eZ[t]={value:t}});Object.defineProperties(Un,eZ);Object.defineProperty(JK,"isAxiosError",{value:!0});Un.from=(t,e,r,n,i,s)=>{const o=Object.create(JK);return Wt.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Un.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const t4e=null;function mI(t){return Wt.isPlainObject(t)||Wt.isArray(t)}function tZ(t){return Wt.endsWith(t,"[]")?t.slice(0,-2):t}function xB(t,e,r){return t?t.concat(e).map(function(i,s){return i=tZ(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function r4e(t){return Wt.isArray(t)&&!t.some(mI)}const n4e=Wt.toFlatObject(Wt,{},null,function(e){return/^is[A-Z]/.test(e)});function _E(t,e,r){if(!Wt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Wt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!Wt.isUndefined(b[p])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Wt.isSpecCompliantForm(e);if(!Wt.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Wt.isDate(v))return v.toISOString();if(!l&&Wt.isBlob(v))throw new Un("Blob is not supported. Use a Buffer instead.");return Wt.isArrayBuffer(v)||Wt.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,p,b){let S=v;if(v&&!b&&typeof v=="object"){if(Wt.endsWith(p,"{}"))p=n?p:p.slice(0,-2),v=JSON.stringify(v);else if(Wt.isArray(v)&&r4e(v)||(Wt.isFileList(v)||Wt.endsWith(p,"[]"))&&(S=Wt.toArray(v)))return p=tZ(p),S.forEach(function(T,A){!(Wt.isUndefined(T)||T===null)&&e.append(o===!0?xB([p],A,s):o===null?p:p+"[]",u(T))}),!1}return mI(v)?!0:(e.append(xB(b,p,s),u(v)),!1)}const f=[],h=Object.assign(n4e,{defaultVisitor:d,convertValue:u,isVisitable:mI});function g(v,p){if(!Wt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),Wt.forEach(v,function(S,C){(!(Wt.isUndefined(S)||S===null)&&i.call(e,S,Wt.isString(C)?C.trim():C,p,h))===!0&&g(S,p?p.concat(C):[C])}),f.pop()}}if(!Wt.isObject(t))throw new TypeError("data must be an object");return g(t),e}function wB(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function zO(t,e){this._pairs=[],t&&_E(t,this,e)}const rZ=zO.prototype;rZ.append=function(e,r){this._pairs.push([e,r])};rZ.toString=function(e){const r=e?function(n){return e.call(this,n,wB)}:wB;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function i4e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nZ(t,e,r){if(!e)return t;const n=r&&r.encode||i4e,i=r&&r.serialize;let s;if(i?s=i(e,r):s=Wt.isURLSearchParams(e)?e.toString():new zO(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class s4e{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Wt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const SB=s4e,iZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o4e=typeof URLSearchParams<"u"?URLSearchParams:zO,a4e=typeof FormData<"u"?FormData:null,l4e=typeof Blob<"u"?Blob:null,u4e={isBrowser:!0,classes:{URLSearchParams:o4e,FormData:a4e,Blob:l4e},protocols:["http","https","file","blob","url","data"]},HO=typeof window<"u"&&typeof document<"u",gI=typeof navigator=="object"&&navigator||void 0,c4e=HO&&(!gI||["ReactNative","NativeScript","NS"].indexOf(gI.product)<0),d4e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),f4e=HO&&window.location.href||"http://localhost",h4e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HO,hasStandardBrowserEnv:c4e,hasStandardBrowserWebWorkerEnv:d4e,navigator:gI,origin:f4e},Symbol.toStringTag,{value:"Module"})),gl={...h4e,...u4e};function p4e(t,e){return _E(t,new gl.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return gl.isNode&&Wt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function m4e(t){return Wt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function g4e(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function sZ(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&Wt.isArray(i)?i.length:o,l?(Wt.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!Wt.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&Wt.isArray(i[o])&&(i[o]=g4e(i[o])),!a)}if(Wt.isFormData(t)&&Wt.isFunction(t.entries)){const r={};return Wt.forEachEntry(t,(n,i)=>{e(m4e(n),i,r,0)}),r}return null}function v4e(t,e,r){if(Wt.isString(t))try{return(e||JSON.parse)(t),Wt.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const jO={transitional:iZ,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Wt.isObject(e);if(s&&Wt.isHTMLForm(e)&&(e=new FormData(e)),Wt.isFormData(e))return i?JSON.stringify(sZ(e)):e;if(Wt.isArrayBuffer(e)||Wt.isBuffer(e)||Wt.isStream(e)||Wt.isFile(e)||Wt.isBlob(e)||Wt.isReadableStream(e))return e;if(Wt.isArrayBufferView(e))return e.buffer;if(Wt.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return p4e(e,this.formSerializer).toString();if((a=Wt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _E(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),v4e(e)):e}],transformResponse:[function(e){const r=this.transitional||jO.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Wt.isResponse(e)||Wt.isReadableStream(e))return e;if(e&&Wt.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Un.from(a,Un.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gl.classes.FormData,Blob:gl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wt.forEach(["delete","get","head","post","put","patch"],t=>{jO.headers[t]={}});const GO=jO,y4e=Wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_4e=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&y4e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},TB=Symbol("internals");function o_(t){return t&&String(t).trim().toLowerCase()}function sS(t){return t===!1||t==null?t:Wt.isArray(t)?t.map(sS):String(t)}function b4e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const x4e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function v3(t,e,r,n,i){if(Wt.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Wt.isString(e)){if(Wt.isString(n))return e.indexOf(n)!==-1;if(Wt.isRegExp(n))return n.test(e)}}function w4e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function S4e(t,e){const r=Wt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class bE{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const d=o_(l);if(!d)throw new Error("header name must be a non-empty string");const f=Wt.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=sS(a))}const o=(a,l)=>Wt.forEach(a,(u,d)=>s(u,d,l));if(Wt.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Wt.isString(e)&&(e=e.trim())&&!x4e(e))o(_4e(e),r);else if(Wt.isHeaders(e))for(const[a,l]of e.entries())s(l,a,n);else e!=null&&s(r,e,n);return this}get(e,r){if(e=o_(e),e){const n=Wt.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return b4e(i);if(Wt.isFunction(r))return r.call(this,i,n);if(Wt.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=o_(e),e){const n=Wt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||v3(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=o_(o),o){const a=Wt.findKey(n,o);a&&(!r||v3(n,n[a],a,r))&&(delete n[a],i=!0)}}return Wt.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||v3(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return Wt.forEach(this,(i,s)=>{const o=Wt.findKey(n,s);if(o){r[o]=sS(i),delete r[s];return}const a=e?w4e(s):String(s).trim();a!==s&&delete r[s],r[a]=sS(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Wt.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Wt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[TB]=this[TB]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=o_(o);n[a]||(S4e(i,o),n[a]=!0)}return Wt.isArray(e)?e.forEach(s):s(e),this}}bE.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Wt.reduceDescriptors(bE.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Wt.freezeMethods(bE);const hc=bE;function y3(t,e){const r=this||GO,n=e||r,i=hc.from(n.headers);let s=n.data;return Wt.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oZ(t){return!!(t&&t.__CANCEL__)}function Sy(t,e,r){Un.call(this,t??"canceled",Un.ERR_CANCELED,e,r),this.name="CanceledError"}Wt.inherits(Sy,Un,{__CANCEL__:!0});function aZ(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Un("Request failed with status code "+r.status,[Un.ERR_BAD_REQUEST,Un.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function T4e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function C4e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function E4e(t,e){let r=0,n=1e3/e,i,s;const o=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-f)))},()=>i&&o(i)]}const hT=(t,e,r=3)=>{let n=0;const i=C4e(50,250);return E4e(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),d=o<=a;n=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},r)},CB=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},EB=t=>(...e)=>Wt.asap(()=>t(...e)),A4e=gl.hasStandardBrowserEnv?function(){const e=gl.navigator&&/(msie|trident)/i.test(gl.navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=Wt.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),P4e=gl.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];Wt.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Wt.isString(n)&&o.push("path="+n),Wt.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k4e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function I4e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lZ(t,e){return t&&!k4e(e)?I4e(t,e):e}const AB=t=>t instanceof hc?{...t}:t;function bm(t,e){e=e||{};const r={};function n(u,d,f){return Wt.isPlainObject(u)&&Wt.isPlainObject(d)?Wt.merge.call({caseless:f},u,d):Wt.isPlainObject(d)?Wt.merge({},d):Wt.isArray(d)?d.slice():d}function i(u,d,f){if(Wt.isUndefined(d)){if(!Wt.isUndefined(u))return n(void 0,u,f)}else return n(u,d,f)}function s(u,d){if(!Wt.isUndefined(d))return n(void 0,d)}function o(u,d){if(Wt.isUndefined(d)){if(!Wt.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(AB(u),AB(d),!0)};return Wt.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,h=f(t[d],e[d],d);Wt.isUndefined(h)&&f!==a||(r[d]=h)}),r}const uZ=t=>{const e=bm({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=hc.from(o),e.url=nZ(lZ(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Wt.isFormData(r)){if(gl.hasStandardBrowserEnv||gl.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(gl.hasStandardBrowserEnv&&(n&&Wt.isFunction(n)&&(n=n(e)),n||n!==!1&&A4e(e.url))){const u=i&&s&&P4e.read(s);u&&o.set(i,u)}return e},D4e=typeof XMLHttpRequest<"u",R4e=D4e&&function(t){return new Promise(function(r,n){const i=uZ(t);let s=i.data;const o=hc.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,f,h,g,v;function p(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function S(){if(!b)return;const T=hc.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:T,config:t,request:b};aZ(function(O){r(O),p()},function(O){n(O),p()},E),b=null}"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(S)},b.onabort=function(){b&&(n(new Un("Request aborted",Un.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new Un("Network Error",Un.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||iZ;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),n(new Un(A,E.clarifyTimeoutError?Un.ETIMEDOUT:Un.ECONNABORTED,t,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&Wt.forEach(o.toJSON(),function(A,E){b.setRequestHeader(E,A)}),Wt.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),u&&([h,v]=hT(u,!0),b.addEventListener("progress",h)),l&&b.upload&&([f,g]=hT(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=T=>{b&&(n(!T||T.type?new Sy(null,t,b):T),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const C=T4e(i.url);if(C&&gl.protocols.indexOf(C)===-1){n(new Un("Unsupported protocol "+C+":",Un.ERR_BAD_REQUEST,t));return}b.send(s||null)})},M4e=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Un?d:new Sy(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new Un(`timeout ${e} of ms exceeded`,Un.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>Wt.asap(a),l}},O4e=M4e,$4e=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},L4e=async function*(t,e){for await(const r of F4e(t))yield*$4e(r,e)},F4e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},PB=(t,e,r,n)=>{const i=L4e(t,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},xE=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cZ=xE&&typeof ReadableStream=="function",N4e=xE&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),dZ=(t,...e)=>{try{return!!t(...e)}catch{return!1}},B4e=cZ&&dZ(()=>{let t=!1;const e=new Request(gl.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),kB=64*1024,vI=cZ&&dZ(()=>Wt.isReadableStream(new Response("").body)),pT={stream:vI&&(t=>t.body)};xE&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!pT[e]&&(pT[e]=Wt.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Un(`Response type '${e}' is not supported`,Un.ERR_NOT_SUPPORT,n)})})})(new Response);const U4e=async t=>{if(t==null)return 0;if(Wt.isBlob(t))return t.size;if(Wt.isSpecCompliantForm(t))return(await new Request(gl.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Wt.isArrayBufferView(t)||Wt.isArrayBuffer(t))return t.byteLength;if(Wt.isURLSearchParams(t)&&(t=t+""),Wt.isString(t))return(await N4e(t)).byteLength},V4e=async(t,e)=>{const r=Wt.toFiniteNumber(t.getContentLength());return r??U4e(e)},z4e=xE&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=uZ(t);u=u?(u+"").toLowerCase():"text";let g=O4e([i,s&&s.toAbortSignal()],o),v;const p=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(l&&B4e&&r!=="get"&&r!=="head"&&(b=await V4e(d,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),I;if(Wt.isFormData(n)&&(I=E.headers.get("content-type"))&&d.setContentType(I),E.body){const[O,N]=CB(b,hT(EB(l)));n=PB(E.body,kB,O,N)}}Wt.isString(f)||(f=f?"include":"omit");const S="credentials"in Request.prototype;v=new Request(e,{...h,signal:g,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:S?f:void 0});let C=await fetch(v);const T=vI&&(u==="stream"||u==="response");if(vI&&(a||T&&p)){const E={};["status","statusText","headers"].forEach(G=>{E[G]=C[G]});const I=Wt.toFiniteNumber(C.headers.get("content-length")),[O,N]=a&&CB(I,hT(EB(a),!0))||[];C=new Response(PB(C.body,kB,O,()=>{N&&N(),p&&p()}),E)}u=u||"text";let A=await pT[Wt.findKey(pT,u)||"text"](C,t);return!T&&p&&p(),await new Promise((E,I)=>{aZ(E,I,{data:A,headers:hc.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:v})})}catch(S){throw p&&p(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Un("Network Error",Un.ERR_NETWORK,t,v),{cause:S.cause||S}):Un.from(S,S&&S.code,t,v)}}),yI={http:t4e,xhr:R4e,fetch:z4e};Wt.forEach(yI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const IB=t=>`- ${t}`,H4e=t=>Wt.isFunction(t)||t===null||t===!1,fZ={getAdapter:t=>{t=Wt.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!H4e(r)&&(n=yI[(o=String(r)).toLowerCase()],n===void 0))throw new Un(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(IB).join(`
`):" "+IB(s[0]):"as no adapter specified";throw new Un("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:yI};function _3(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sy(null,t)}function DB(t){return _3(t),t.headers=hc.from(t.headers),t.data=y3.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fZ.getAdapter(t.adapter||GO.adapter)(t).then(function(n){return _3(t),n.data=y3.call(t,t.transformResponse,n),n.headers=hc.from(n.headers),n},function(n){return oZ(n)||(_3(t),n&&n.response&&(n.response.data=y3.call(t,t.transformResponse,n.response),n.response.headers=hc.from(n.response.headers))),Promise.reject(n)})}const hZ="1.7.7",WO={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{WO[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const RB={};WO.transitional=function(e,r,n){function i(s,o){return"[Axios v"+hZ+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new Un(i(o," has been removed"+(r?" in "+r:"")),Un.ERR_DEPRECATED);return r&&!RB[o]&&(RB[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function j4e(t,e,r){if(typeof t!="object")throw new Un("options must be an object",Un.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Un("option "+s+" must be "+l,Un.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Un("Unknown option "+s,Un.ERR_BAD_OPTION)}}const _I={assertOptions:j4e,validators:WO},gh=_I.validators;class mT{constructor(e){this.defaults=e,this.interceptors={request:new SB,response:new SB}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=bm(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&_I.assertOptions(n,{silentJSONParsing:gh.transitional(gh.boolean),forcedJSONParsing:gh.transitional(gh.boolean),clarifyTimeoutError:gh.transitional(gh.boolean)},!1),i!=null&&(Wt.isFunction(i)?r.paramsSerializer={serialize:i}:_I.assertOptions(i,{encode:gh.function,serialize:gh.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Wt.merge(s.common,s[r.method]);s&&Wt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=hc.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!l){const v=[DB.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),h=v.length,d=Promise.resolve(r);f<h;)d=d.then(v[f++],v[f++]);return d}h=a.length;let g=r;for(f=0;f<h;){const v=a[f++],p=a[f++];try{g=v(g)}catch(b){p.call(this,b);break}}try{d=DB.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=bm(this.defaults,e);const r=lZ(e.baseURL,e.url);return nZ(r,e.params,e.paramsSerializer)}}Wt.forEach(["delete","get","head","options"],function(e){mT.prototype[e]=function(r,n){return this.request(bm(n||{},{method:e,url:r,data:(n||{}).data}))}});Wt.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(bm(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}mT.prototype[e]=r(),mT.prototype[e+"Form"]=r(!0)});const oS=mT;class qO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Sy(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new qO(function(i){e=i}),cancel:e}}}const G4e=qO;function W4e(t){return function(r){return t.apply(null,r)}}function q4e(t){return Wt.isObject(t)&&t.isAxiosError===!0}const bI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bI).forEach(([t,e])=>{bI[e]=t});const X4e=bI;function pZ(t){const e=new oS(t),r=GK(oS.prototype.request,e);return Wt.extend(r,oS.prototype,e,{allOwnKeys:!0}),Wt.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return pZ(bm(t,i))},r}const so=pZ(GO);so.Axios=oS;so.CanceledError=Sy;so.CancelToken=G4e;so.isCancel=oZ;so.VERSION=hZ;so.toFormData=_E;so.AxiosError=Un;so.Cancel=so.CanceledError;so.all=function(e){return Promise.all(e)};so.spread=W4e;so.isAxiosError=q4e;so.mergeConfig=bm;so.AxiosHeaders=hc;so.formToJSON=t=>sZ(Wt.isHTMLForm(t)?new FormData(t):t);so.getAdapter=fZ.getAdapter;so.HttpStatusCode=X4e;so.default=so;const or=so;const Y4e=Dfe(),Wh=Kde(Y4e);function xI(t){this.message=t}xI.prototype=new Error,xI.prototype.name="InvalidCharacterError";var MB=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new xI("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,s=0,o="";n=e.charAt(s++);~n&&(r=i%4?64*r+n:n,i++%4)?o+=String.fromCharCode(255&r>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function K4e(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(MB(r).replace(/(.)/g,function(n,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(e)}catch{return MB(e)}}function gT(t){this.message=t}function wI(t,e){if(typeof t!="string")throw new gT("Invalid token specified");var r=(e=e||{}).header===!0?0:1;try{return JSON.parse(K4e(t.split(".")[r]))}catch(n){throw new gT("Invalid token specified: "+n.message)}}gT.prototype=new Error,gT.prototype.name="InvalidTokenError";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Z4e=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gZ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),n.push(r[d],r[f],r[h],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mZ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z4e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new Q4e;const h=s<<2|a>>4;if(n.push(h),u!==64){const g=a<<4&240|u>>2;if(n.push(g),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q4e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J4e=function(t){const e=mZ(t);return gZ.encodeByteArray(e,!0)},vZ=function(t){return J4e(t).replace(/\./g,"")},eke=function(t){try{return gZ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rke=()=>tke().__FIREBASE_DEFAULTS__,nke=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ike=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eke(t[1]);return e&&JSON.parse(e)},ske=()=>{try{return rke()||nke()||ike()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yZ=()=>{var t;return(t=ske())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function _Z(){try{return typeof indexedDB=="object"}catch{return!1}}function bZ(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function ake(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lke="FirebaseError";class Ty extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=lke,Object.setPrototypeOf(this,Ty.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wE.prototype.create)}}class wE{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uke(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ty(i,a,n)}}function uke(t,e){return t.replace(cke,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const cke=/\{\$([^}]+)}/g;function SI(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(OB(s)&&OB(o)){if(!SI(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function OB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){return t&&t._delegate?t._delegate:t}let gp=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dke{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new oke;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hke(e))try{this.getOrInitializeService({instanceIdentifier:y0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=y0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=y0){return this.instances.has(e)}getOptions(e=y0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:fke(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=y0){return this.component?this.component.multipleInstances?e:y0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fke(t){return t===y0?void 0:t}function hke(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pke{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new dke(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ss||(ss={}));const mke={debug:ss.DEBUG,verbose:ss.VERBOSE,info:ss.INFO,warn:ss.WARN,error:ss.ERROR,silent:ss.SILENT},gke=ss.INFO,vke={[ss.DEBUG]:"log",[ss.VERBOSE]:"log",[ss.INFO]:"info",[ss.WARN]:"warn",[ss.ERROR]:"error"},yke=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=vke[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _ke{constructor(e){this.name=e,this._logLevel=gke,this._logHandler=yke,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ss))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mke[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ss.DEBUG,...e),this._logHandler(this,ss.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ss.VERBOSE,...e),this._logHandler(this,ss.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ss.INFO,...e),this._logHandler(this,ss.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ss.WARN,...e),this._logHandler(this,ss.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ss.ERROR,...e),this._logHandler(this,ss.ERROR,...e)}}const bke=(t,e)=>e.some(r=>t instanceof r);let $B,LB;function xke(){return $B||($B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wke(){return LB||(LB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xZ=new WeakMap,TI=new WeakMap,wZ=new WeakMap,b3=new WeakMap,YO=new WeakMap;function Ske(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Pf(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&xZ.set(r,t)}).catch(()=>{}),YO.set(e,t),e}function Tke(t){if(TI.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});TI.set(t,e)}let CI={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return TI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wZ.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Pf(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cke(t){CI=t(CI)}function Eke(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(x3(this),e,...r);return wZ.set(n,e.sort?e.sort():[e]),Pf(n)}:wke().includes(t)?function(...e){return t.apply(x3(this),e),Pf(xZ.get(this))}:function(...e){return Pf(t.apply(x3(this),e))}}function Ake(t){return typeof t=="function"?Eke(t):(t instanceof IDBTransaction&&Tke(t),bke(t,xke())?new Proxy(t,CI):t)}function Pf(t){if(t instanceof IDBRequest)return Ske(t);if(b3.has(t))return b3.get(t);const e=Ake(t);return e!==t&&(b3.set(t,e),YO.set(e,t)),e}const x3=t=>YO.get(t);function SE(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pf(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Pf(o.result),l.oldVersion,l.newVersion,Pf(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function w3(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Pf(r).then(()=>{})}const Pke=["get","getKey","getAll","getAllKeys","count"],kke=["put","add","delete","clear"],S3=new Map;function FB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S3.get(e))return S3.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=kke.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Pke.includes(r)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),i&&l.done]))[0]};return S3.set(e,s),s}Cke(t=>({...t,get:(e,r,n)=>FB(e,r)||t.get(e,r,n),has:(e,r)=>!!FB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ike{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Dke(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Dke(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const EI="@firebase/app",NB="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new _ke("@firebase/app"),Rke="@firebase/app-compat",Mke="@firebase/analytics-compat",Oke="@firebase/analytics",$ke="@firebase/app-check-compat",Lke="@firebase/app-check",Fke="@firebase/auth",Nke="@firebase/auth-compat",Bke="@firebase/database",Uke="@firebase/database-compat",Vke="@firebase/functions",zke="@firebase/functions-compat",Hke="@firebase/installations",jke="@firebase/installations-compat",Gke="@firebase/messaging",Wke="@firebase/messaging-compat",qke="@firebase/performance",Xke="@firebase/performance-compat",Yke="@firebase/remote-config",Kke="@firebase/remote-config-compat",Zke="@firebase/storage",Qke="@firebase/storage-compat",Jke="@firebase/firestore",eIe="@firebase/vertexai-preview",tIe="@firebase/firestore-compat",rIe="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="[DEFAULT]",nIe={[EI]:"fire-core",[Rke]:"fire-core-compat",[Oke]:"fire-analytics",[Mke]:"fire-analytics-compat",[Lke]:"fire-app-check",[$ke]:"fire-app-check-compat",[Fke]:"fire-auth",[Nke]:"fire-auth-compat",[Bke]:"fire-rtdb",[Uke]:"fire-rtdb-compat",[Vke]:"fire-fn",[zke]:"fire-fn-compat",[Hke]:"fire-iid",[jke]:"fire-iid-compat",[Gke]:"fire-fcm",[Wke]:"fire-fcm-compat",[qke]:"fire-perf",[Xke]:"fire-perf-compat",[Yke]:"fire-rc",[Kke]:"fire-rc-compat",[Zke]:"fire-gcs",[Qke]:"fire-gcs-compat",[Jke]:"fire-fst",[tIe]:"fire-fst-compat",[eIe]:"fire-vertex","fire-js":"fire-js",[rIe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map,iIe=new Map,PI=new Map;function BB(t,e){try{t.container.addComponent(e)}catch(r){Nf.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function xm(t){const e=t.name;if(PI.has(e))return Nf.debug(`There were multiple attempts to register component ${e}.`),!1;PI.set(e,t);for(const r of vT.values())BB(r,t);for(const r of iIe.values())BB(r,t);return!0}function KO(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sIe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tp=new wE("app","Firebase",sIe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oIe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tp.create("app-deleted",{appName:this._name})}}function SZ(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:AI,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw tp.create("bad-app-name",{appName:String(i)});if(r||(r=yZ()),!r)throw tp.create("no-options");const s=vT.get(i);if(s){if(SI(r,s.options)&&SI(n,s.config))return s;throw tp.create("duplicate-app",{appName:i})}const o=new pke(i);for(const l of PI.values())o.addComponent(l);const a=new oIe(r,n,o);return vT.set(i,a),a}function aIe(t=AI){const e=vT.get(t);if(!e&&t===AI&&yZ())return SZ();if(!e)throw tp.create("no-app",{appName:t});return e}function rp(t,e,r){var n;let i=(n=nIe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nf.warn(a.join(" "));return}xm(new gp(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lIe="firebase-heartbeat-database",uIe=1,yb="firebase-heartbeat-store";let T3=null;function TZ(){return T3||(T3=SE(lIe,uIe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yb)}catch(r){console.warn(r)}}}}).catch(t=>{throw tp.create("idb-open",{originalErrorMessage:t.message})})),T3}async function cIe(t){try{const r=(await TZ()).transaction(yb),n=await r.objectStore(yb).get(CZ(t));return await r.done,n}catch(e){if(e instanceof Ty)Nf.warn(e.message);else{const r=tp.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nf.warn(r.message)}}}async function UB(t,e){try{const n=(await TZ()).transaction(yb,"readwrite");await n.objectStore(yb).put(e,CZ(t)),await n.done}catch(r){if(r instanceof Ty)Nf.warn(r.message);else{const n=tp.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Nf.warn(n.message)}}}function CZ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dIe=1024,fIe=30*24*60*60*1e3;class hIe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new mIe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VB();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fIe}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Nf.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=VB(),{heartbeatsToSend:n,unsentEntries:i}=pIe(this._heartbeatsCache.heartbeats),s=vZ(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Nf.warn(r),""}}}function VB(){return new Date().toISOString().substring(0,10)}function pIe(t,e=dIe){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zB(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),zB(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class mIe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _Z()?bZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await cIe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return UB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return UB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zB(t){return vZ(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gIe(t){xm(new gp("platform-logger",e=>new Ike(e),"PRIVATE")),xm(new gp("heartbeat",e=>new hIe(e),"PRIVATE")),rp(EI,NB,t),rp(EI,NB,"esm2017"),rp("fire-js","")}gIe("");var vIe="firebase",yIe="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rp(vIe,yIe,"app");const EZ="@firebase/installations",ZO="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ=1e4,PZ=`w:${ZO}`,kZ="FIS_v2",_Ie="https://firebaseinstallations.googleapis.com/v1",bIe=60*60*1e3,xIe="installations",wIe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SIe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wm=new wE(xIe,wIe,SIe);function IZ(t){return t instanceof Ty&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DZ({projectId:t}){return`${_Ie}/projects/${t}/installations`}function RZ(t){return{token:t.token,requestStatus:2,expiresIn:CIe(t.expiresIn),creationTime:Date.now()}}async function MZ(t,e){const n=(await e.json()).error;return wm.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function OZ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function TIe(t,{refreshToken:e}){const r=OZ(t);return r.append("Authorization",EIe(e)),r}async function $Z(t){const e=await t();return e.status>=500&&e.status<600?t():e}function CIe(t){return Number(t.replace("s","000"))}function EIe(t){return`${kZ} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AIe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=DZ(t),i=OZ(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:r,authVersion:kZ,appId:t.appId,sdkVersion:PZ},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $Z(()=>fetch(n,a));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:RZ(u.authToken)}}else throw await MZ("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PIe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kIe=/^[cdef][\w-]{21}$/,kI="";function IIe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=DIe(t);return kIe.test(r)?r:kI}catch{return kI}}function DIe(t){return PIe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ=new Map;function NZ(t,e){const r=TE(t);BZ(r,e),RIe(r,e)}function BZ(t,e){const r=FZ.get(t);if(r)for(const n of r)n(e)}function RIe(t,e){const r=MIe();r&&r.postMessage({key:t,fid:e}),OIe()}let V0=null;function MIe(){return!V0&&"BroadcastChannel"in self&&(V0=new BroadcastChannel("[Firebase] FID Change"),V0.onmessage=t=>{BZ(t.data.key,t.data.fid)}),V0}function OIe(){FZ.size===0&&V0&&(V0.close(),V0=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ie="firebase-installations-database",LIe=1,Sm="firebase-installations-store";let C3=null;function QO(){return C3||(C3=SE($Ie,LIe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sm)}}})),C3}async function yT(t,e){const r=TE(t),i=(await QO()).transaction(Sm,"readwrite"),s=i.objectStore(Sm),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&NZ(t,e.fid),e}async function UZ(t){const e=TE(t),n=(await QO()).transaction(Sm,"readwrite");await n.objectStore(Sm).delete(e),await n.done}async function CE(t,e){const r=TE(t),i=(await QO()).transaction(Sm,"readwrite"),s=i.objectStore(Sm),o=await s.get(r),a=e(o);return a===void 0?await s.delete(r):await s.put(a,r),await i.done,a&&(!o||o.fid!==a.fid)&&NZ(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t){let e;const r=await CE(t.appConfig,n=>{const i=FIe(n),s=NIe(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===kI?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function FIe(t){const e=t||{fid:IIe(),registrationStatus:0};return VZ(e)}function NIe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(wm.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=BIe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UIe(t)}:{installationEntry:e}}async function BIe(t,e){try{const r=await AIe(t,e);return yT(t.appConfig,r)}catch(r){throw IZ(r)&&r.customData.serverCode===409?await UZ(t.appConfig):await yT(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function UIe(t){let e=await HB(t.appConfig);for(;e.registrationStatus===1;)await LZ(100),e=await HB(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await JO(t);return n||r}return e}function HB(t){return CE(t,e=>{if(!e)throw wm.create("installation-not-found");return VZ(e)})}function VZ(t){return VIe(t)?{fid:t.fid,registrationStatus:0}:t}function VIe(t){return t.registrationStatus===1&&t.registrationTime+AZ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zIe({appConfig:t,heartbeatServiceProvider:e},r){const n=HIe(t,r),i=TIe(t,r),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:PZ,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $Z(()=>fetch(n,a));if(l.ok){const u=await l.json();return RZ(u)}else throw await MZ("Generate Auth Token",l)}function HIe(t,{fid:e}){return`${DZ(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(t,e=!1){let r;const n=await CE(t.appConfig,s=>{if(!zZ(s))throw wm.create("not-registered");const o=s.authToken;if(!e&&WIe(o))return s;if(o.requestStatus===1)return r=jIe(t,e),s;{if(!navigator.onLine)throw wm.create("app-offline");const a=XIe(s);return r=GIe(t,a),a}});return r?await r:n.authToken}async function jIe(t,e){let r=await jB(t.appConfig);for(;r.authToken.requestStatus===1;)await LZ(100),r=await jB(t.appConfig);const n=r.authToken;return n.requestStatus===0?e8(t,e):n}function jB(t){return CE(t,e=>{if(!zZ(e))throw wm.create("not-registered");const r=e.authToken;return YIe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GIe(t,e){try{const r=await zIe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await yT(t.appConfig,n),r}catch(r){if(IZ(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await UZ(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yT(t.appConfig,n)}throw r}}function zZ(t){return t!==void 0&&t.registrationStatus===2}function WIe(t){return t.requestStatus===2&&!qIe(t)}function qIe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bIe}function XIe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function YIe(t){return t.requestStatus===1&&t.requestTime+AZ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KIe(t){const e=t,{installationEntry:r,registrationPromise:n}=await JO(e);return n?n.catch(console.error):e8(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZIe(t,e=!1){const r=t;return await QIe(r),(await e8(r,e)).token}async function QIe(t){const{registrationPromise:e}=await JO(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JIe(t){if(!t||!t.options)throw E3("App Configuration");if(!t.name)throw E3("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw E3(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function E3(t){return wm.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ="installations",eDe="installations-internal",tDe=t=>{const e=t.getProvider("app").getImmediate(),r=JIe(e),n=KO(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},rDe=t=>{const e=t.getProvider("app").getImmediate(),r=KO(e,HZ).getImmediate();return{getId:()=>KIe(r),getToken:i=>ZIe(r,i)}};function nDe(){xm(new gp(HZ,tDe,"PUBLIC")),xm(new gp(eDe,rDe,"PRIVATE"))}nDe();rp(EZ,ZO);rp(EZ,ZO,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iDe="/firebase-messaging-sw.js",sDe="/firebase-cloud-messaging-push-scope",jZ="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oDe="https://fcmregistrations.googleapis.com/v1",GZ="google.c.a.c_id",aDe="google.c.a.c_l",lDe="google.c.a.ts",uDe="google.c.a.e";var GB;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(GB||(GB={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var _b;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(_b||(_b={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cDe(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="fcm_token_details_db",dDe=5,WB="fcm_token_object_Store";async function fDe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(A3))return null;let e=null;return(await SE(A3,dDe,{upgrade:async(n,i,s,o)=>{var a;if(i<2||!n.objectStoreNames.contains(WB))return;const l=o.objectStore(WB),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:hf(d.vapidKey)}}}else if(i===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hf(d.auth),p256dh:hf(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hf(d.vapidKey)}}}else if(i===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hf(d.auth),p256dh:hf(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hf(d.vapidKey)}}}}}})).close(),await w3(A3),await w3("fcm_vapid_details_db"),await w3("undefined"),hDe(e)?e:null}function hDe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pDe="firebase-messaging-database",mDe=1,bb="firebase-messaging-store";let P3=null;function WZ(){return P3||(P3=SE(pDe,mDe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bb)}}})),P3}async function gDe(t){const e=qZ(t),n=await(await WZ()).transaction(bb).objectStore(bb).get(e);if(n)return n;{const i=await fDe(t.appConfig.senderId);if(i)return await t8(t,i),i}}async function t8(t,e){const r=qZ(t),i=(await WZ()).transaction(bb,"readwrite");return await i.objectStore(bb).put(e,r),await i.done,e}function qZ({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vDe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},fa=new wE("messaging","Messaging",vDe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yDe(t,e){const r=await n8(t),n=XZ(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(r8(t.appConfig),i)).json()}catch(o){throw fa.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw fa.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw fa.create("token-subscribe-no-token");return s.token}async function _De(t,e){const r=await n8(t),n=XZ(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let s;try{s=await(await fetch(`${r8(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw fa.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw fa.create("token-update-failed",{errorInfo:o})}if(!s.token)throw fa.create("token-update-no-token");return s.token}async function bDe(t,e){const n={method:"DELETE",headers:await n8(t)};try{const s=await(await fetch(`${r8(t.appConfig)}/${e}`,n)).json();if(s.error){const o=s.error.message;throw fa.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw fa.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function r8({projectId:t}){return`${oDe}/projects/${t}/registrations`}async function n8({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function XZ({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==jZ&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xDe=7*24*60*60*1e3;async function wDe(t){const e=await TDe(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:hf(e.getKey("auth")),p256dh:hf(e.getKey("p256dh"))},n=await gDe(t.firebaseDependencies);if(n){if(CDe(n.subscriptionOptions,r))return Date.now()>=n.createTime+xDe?SDe(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await bDe(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return qB(t.firebaseDependencies,r)}else return qB(t.firebaseDependencies,r)}async function SDe(t,e){try{const r=await _De(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await t8(t.firebaseDependencies,n),r}catch(r){throw r}}async function qB(t,e){const n={token:await yDe(t,e),createTime:Date.now(),subscriptionOptions:e};return await t8(t,n),n.token}async function TDe(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cDe(e)})}function CDe(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return EDe(e,t),ADe(e,t),PDe(e,t),e}function EDe(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function ADe(t,e){e.data&&(t.data=e.data)}function PDe(t,e){var r,n,i,s,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kDe(t){return typeof t=="object"&&!!t&&GZ in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */YZ("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");YZ("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function YZ(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IDe(t){if(!t||!t.options)throw k3("App Configuration Object");if(!t.name)throw k3("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw k3(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function k3(t){return fa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DDe{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=IDe(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RDe(t){try{t.swRegistration=await navigator.serviceWorker.register(iDe,{scope:sDe}),t.swRegistration.update().catch(()=>{})}catch(e){throw fa.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MDe(t,e){if(!e&&!t.swRegistration&&await RDe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw fa.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ODe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=jZ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e){if(!navigator)throw fa.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw fa.create("permission-blocked");return await ODe(t,e==null?void 0:e.vapidKey),await MDe(t,e==null?void 0:e.serviceWorkerRegistration),wDe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $De(t,e,r){const n=LDe(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[GZ],message_name:r[aDe],message_time:r[lDe],message_device_time:Math.floor(Date.now()/1e3)})}function LDe(t){switch(t){case _b.NOTIFICATION_CLICKED:return"notification_open";case _b.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FDe(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===_b.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(XB(r)):t.onMessageHandler.next(XB(r)));const n=r.data;kDe(n)&&n[uDe]==="1"&&await $De(t,r.messageType,n)}const YB="@firebase/messaging",KB="0.12.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NDe=t=>{const e=new DDe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>FDe(e,r)),e},BDe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>KZ(e,n)}};function UDe(){xm(new gp("messaging",NDe,"PUBLIC")),xm(new gp("messaging-internal",BDe,"PRIVATE")),rp(YB,KB),rp(YB,KB,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VDe(){try{await bZ()}catch{return!1}return typeof window<"u"&&_Z()&&ake()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zDe(t,e){if(!navigator)throw fa.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HDe(t=aIe()){return VDe().then(e=>{if(!e)throw fa.create("unsupported-browser")},e=>{throw fa.create("indexed-db-unsupported")}),KO(XO(t),"messaging").getImmediate()}async function jDe(t,e){return t=XO(t),KZ(t,e)}function GDe(t,e){return t=XO(t),zDe(t,e)}UDe();const wt=an({isDot:!1,webauthnFormVisible:!1,authFormVisible:!1,loading:!1,tmpLogin:!1,refreshlogin:!1,qrcode:!1,userInfoForm:!1,labelWidth:"100px",dialogWidth:"85%",width:window.innerWidth,userForm:!1,userTable:!1,noticeTable:!1,topicTable:!1,topicLoad:!0,noticeDrawer:!1,loadingText:"Logining",chatTable:!1,isDotMessage:!1,chatDrawer:!1});var WDe=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let ZZ;const EE=t=>ZZ=t,QZ=Symbol();function II(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var S2;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(S2||(S2={}));function qDe(){const t=wM(!0),e=t.run(()=>ve({}));let r=[],n=[];const i=hm({install(s){EE(i),i._a=s,s.provide(QZ,i),s.config.globalProperties.$pinia=i,n.forEach(o=>r.push(o)),n=[]},use(s){return!this._a&&!WDe?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const JZ=()=>{};function ZB(t,e,r,n=JZ){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&SM()&&TM(i),i}function ag(t,...e){t.slice().forEach(r=>{r(...e)})}const XDe=t=>t(),QB=Symbol(),I3=Symbol();function DI(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];II(i)&&II(n)&&t.hasOwnProperty(r)&&!qr(n)&&!Jh(n)?t[r]=DI(i,n):t[r]=n}return t}const YDe=Symbol();function KDe(t){return!II(t)||!t.hasOwnProperty(YDe)}const{assign:Mh}=Object;function ZDe(t){return!!(qr(t)&&t.effect)}function QDe(t,e,r,n){const{state:i,actions:s,getters:o}=e,a=r.state.value[t];let l;function u(){a||(r.state.value[t]=i?i():{});const d=Hu(r.state.value[t]);return Mh(d,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=hm(pe(()=>{EE(r);const g=r._s.get(t);return o[h].call(g,g)})),f),{}))}return l=eQ(t,u,e,r,n,!0),l}function eQ(t,e,r={},n,i,s){let o;const a=Mh({actions:{}},r),l={deep:!0};let u,d,f=[],h=[],g;const v=n.state.value[t];!s&&!v&&(n.state.value[t]={}),ve({});let p;function b(N){let G;u=d=!1,typeof N=="function"?(N(n.state.value[t]),G={type:S2.patchFunction,storeId:t,events:g}):(DI(n.state.value[t],N),G={type:S2.patchObject,payload:N,storeId:t,events:g});const ie=p=Symbol();Wr().then(()=>{p===ie&&(u=!0)}),d=!0,ag(f,G,n.state.value[t])}const S=s?function(){const{state:G}=r,ie=G?G():{};this.$patch(W=>{Mh(W,ie)})}:JZ;function C(){o.stop(),f=[],h=[],n._s.delete(t)}const T=(N,G="")=>{if(QB in N)return N[I3]=G,N;const ie=function(){EE(n);const W=Array.from(arguments),q=[],J=[];function X(re){q.push(re)}function R(re){J.push(re)}ag(h,{args:W,name:ie[I3],store:E,after:X,onError:R});let z;try{z=N.apply(this&&this.$id===t?this:E,W)}catch(re){throw ag(J,re),re}return z instanceof Promise?z.then(re=>(ag(q,re),re)).catch(re=>(ag(J,re),Promise.reject(re))):(ag(q,z),z)};return ie[QB]=!0,ie[I3]=G,ie},A={_p:n,$id:t,$onAction:ZB.bind(null,h),$patch:b,$reset:S,$subscribe(N,G={}){const ie=ZB(f,N,G.detached,()=>W()),W=o.run(()=>Yt(()=>n.state.value[t],q=>{(G.flush==="sync"?d:u)&&N({storeId:t,type:S2.direct,events:g},q)},Mh({},l,G)));return ie},$dispose:C},E=an(A);n._s.set(t,E);const O=(n._a&&n._a.runWithContext||XDe)(()=>n._e.run(()=>(o=wM()).run(()=>e({action:T}))));for(const N in O){const G=O[N];if(qr(G)&&!ZDe(G)||Jh(G))s||(v&&KDe(G)&&(qr(G)?G.value=v[N]:DI(G,v[N])),n.state.value[t][N]=G);else if(typeof G=="function"){const ie=T(G,N);O[N]=ie,a.actions[N]=G}}return Mh(E,O),Mh(Gn(E),O),Object.defineProperty(E,"$state",{get:()=>n.state.value[t],set:N=>{b(G=>{Mh(G,N)})}}),n._p.forEach(N=>{Mh(E,o.run(()=>N({store:E,app:n._a,pinia:n,options:a})))}),v&&s&&r.hydrate&&r.hydrate(E.$state,v),u=!0,d=!0,E}function JDe(t,e,r){let n,i;const s=typeof e=="function";typeof t=="string"?(n=t,i=s?r:e):(i=t,n=t.id);function o(a,l){const u=yce();return a=a||(u?Mr(QZ,null):null),a&&EE(a),a=ZZ,a._s.has(n)||(s?eQ(n,e,i,a):QDe(n,i,a)),a._s.get(n)}return o.$id=n,o}class eRe{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const r of this._parts)e.push(r);return tRe(e).buffer}}function tRe(t){let e=0;for(const i of t)e+=i.byteLength;const r=new Uint8Array(e);let n=0;for(const i of t){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);r.set(s,n),n+=i.byteLength}return r}function tQ(t){return new rRe(t).unpack()}function rQ(t){const e=new nRe,r=e.pack(t);return r instanceof Promise?r.then(()=>e.getBuffer()):e.getBuffer()}class rRe{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let r;if((r=e^160)<=15)return this.unpack_raw(r);if((r=e^176)<=15)return this.unpack_string(r);if((r=e^144)<=15)return this.unpack_array(r);if((r=e^128)<=15)return this.unpack_map(r);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return r=this.unpack_uint16(),this.unpack_string(r);case 217:return r=this.unpack_uint32(),this.unpack_string(r);case 218:return r=this.unpack_uint16(),this.unpack_raw(r);case 219:return r=this.unpack_uint32(),this.unpack_raw(r);case 220:return r=this.unpack_uint16(),this.unpack_array(r);case 221:return r=this.unpack_uint32(),this.unpack_array(r);case 222:return r=this.unpack_uint16(),this.unpack_map(r);case 223:return r=this.unpack_uint32(),this.unpack_map(r)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),r=(e[0]&255)*256+(e[1]&255);return this.index+=2,r}unpack_uint32(){const e=this.read(4),r=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,r}unpack_uint64(){const e=this.read(8),r=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,r}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const r=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,r}unpack_string(e){const r=this.read(e);let n=0,i="",s,o;for(;n<e;)s=r[n],s<160?(o=s,n++):(s^192)<32?(o=(s&31)<<6|r[n+1]&63,n+=2):(s^224)<16?(o=(s&15)<<12|(r[n+1]&63)<<6|r[n+2]&63,n+=3):(o=(s&7)<<18|(r[n+1]&63)<<12|(r[n+2]&63)<<6|r[n+3]&63,n+=4),i+=String.fromCodePoint(o);return this.index+=e,i}unpack_array(e){const r=new Array(e);for(let n=0;n<e;n++)r[n]=this.unpack();return r}unpack_map(e){const r={};for(let n=0;n<e;n++){const i=this.unpack();r[i]=this.unpack()}return r}unpack_float(){const e=this.unpack_uint32(),r=e>>31,n=(e>>23&255)-127,i=e&8388607|8388608;return(r===0?1:-1)*i*2**(n-23)}unpack_double(){const e=this.unpack_uint32(),r=this.unpack_uint32(),n=e>>31,i=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(i-20)+r*2**(i-52);return(n===0?1:-1)*o}read(e){const r=this.index;if(r+e<=this.length)return this.dataView.subarray(r,r+e);throw new Error("BinaryPackFailure: read index out of range")}}class nRe{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const r=e.constructor;if(e instanceof Array){const n=this.pack_array(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const n=e;this.pack_bin(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(n=>{this.pack_bin(new Uint8Array(n)),this._bufferBuilder.flush()});if(r==Object||r.toString().startsWith("class")){const n=this.pack_object(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${r.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const r=e.length;if(r<=15)this.pack_uint8(160+r);else if(r<=65535)this._bufferBuilder.append(218),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const r=this._textEncoder.encode(e),n=r.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(r)}pack_array(e){const r=e.length;if(r<=15)this.pack_uint8(144+r);else if(r<=65535)this._bufferBuilder.append(220),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(r);else throw new Error("Invalid length");const n=i=>{if(i<r){const s=this.pack(e[i]);return s instanceof Promise?s.then(()=>n(i+1)):n(i+1)}};return n(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let r=0;e<0&&(r=1,e=-e);const n=Math.floor(Math.log(e)/Math.LN2),i=e/2**n-1,s=Math.floor(i*2**52),o=2**32,a=r<<31|n+1023<<20|s/o&1048575,l=s%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(e){const r=Object.keys(e),n=r.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");const i=s=>{if(s<r.length){const o=r[s];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>i(s+1))}return i(s+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const r=e&4294967295;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_uint64(e){const r=e/4294967296,n=e%2**32;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const r=Math.floor(e/4294967296),n=e%2**32;this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}constructor(){this._bufferBuilder=new eRe,this._textEncoder=new TextEncoder}}let nQ=!0,iQ=!0;function aS(t,e,r){const n=t.match(e);return n&&n.length>=r&&parseInt(n[r],10)}function Um(t,e,r){if(!t.RTCPeerConnection)return;const n=t.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const l=u=>{const d=r(u);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[o,l])};const s=n.removeEventListener;n.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,l])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function iRe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(nQ=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function sRe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(iQ=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function sQ(){if(typeof window=="object"){if(nQ)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function i8(t,e){iQ&&console.warn(t+" is deprecated, please use "+e+" instead.")}function oRe(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:r}=t;if(r.userAgentData&&r.userAgentData.brands){const n=r.userAgentData.brands.find(i=>i.brand==="Chromium");if(n)return{browser:"chrome",version:parseInt(n.version,10)}}if(r.mozGetUserMedia)e.browser="firefox",e.version=aS(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=aS(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=aS(r.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function JB(t){return Object.prototype.toString.call(t)==="[object Object]"}function oQ(t){return JB(t)?Object.keys(t).reduce(function(e,r){const n=JB(t[r]),i=n?oQ(t[r]):t[r],s=n&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[r]:i})},{}):t}function RI(t,e,r){!e||r.has(e.id)||(r.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?RI(t,t.get(e[n]),r):n.endsWith("Ids")&&e[n].forEach(i=>{RI(t,t.get(i),r)})}))}function eU(t,e,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===n&&a.trackId===o.id&&RI(t,a,i)})}),i}const tU=sQ;function aQ(t,e){const r=t&&t.navigator;if(!r.mediaDevices)return;const n=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const d=typeof a[u]=="object"?a[u]:{ideal:a[u]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,g){return h?h+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",u)]=d.ideal,l.optional.push(h),h={},h[f("max",u)]=d.ideal,l.optional.push(h)):(h[f("",u)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[f("",u)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[f(h,u)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const u=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};a=JSON.parse(JSON.stringify(a)),u(a.audio,"autoGainControl","googAutoGainControl"),u(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=n(a.audio)}if(a&&typeof a.video=="object"){let u=a.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const d=e.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return r.mediaDevices.enumerateDevices().then(h=>{h=h.filter(v=>v.kind==="videoinput");let g=h.find(v=>f.some(p=>v.label.toLowerCase().includes(p)));return!g&&h.length&&f.includes("back")&&(g=h[h.length-1]),g&&(a.video.deviceId=u.exact?{exact:g.deviceId}:{ideal:g.deviceId}),a.video=n(a.video),tU("chrome: "+JSON.stringify(a)),l(a)})}a.video=n(a.video)}return tU("chrome: "+JSON.stringify(a)),l(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,u){i(a,d=>{r.webkitGetUserMedia(d,l,f=>{u&&u(s(f))})})};if(r.getUserMedia=o.bind(r),r.mediaDevices.getUserMedia){const a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(l){return i(l,u=>a(u).then(d=>{if(u.audio&&!d.getAudioTracks().length||u.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function lQ(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function uQ(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)}),n.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Um(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function cQ(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let u=i.apply(this,arguments);return u||(u=e(this,a),this._senders.push(u)),u};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function dQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=r.apply(this,[]);return s.forEach(o=>o._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>eU(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(s=>s._pc=this),i}),Um(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>eU(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const n=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===n&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===n&&(s?o=!0:s=a),a.track===n)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function fQ(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();r.apply(this,arguments);const l=this.getSenders().filter(u=>a.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],n.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function hQ(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return fQ(t);const r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=r.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(g=>g.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new t.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}n.apply(this,[d])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(p=>p===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const v=this._streams[f.id];if(v)v.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new t.MediaStream([d]);this._streams[f.id]=p,this._reverseStreams[p.id]=f,this.addStream(p)}return this.getSenders().find(p=>p.track===d)};function s(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const g=u._reverseStreams[h],v=u._streams[g.id];f=f.replace(new RegExp(v.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function o(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const g=u._reverseStreams[h],v=u._streams[g.id];f=f.replace(new RegExp(g.id,"g"),v.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const d=t.RTCPeerConnection.prototype[u],f={[u](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[v=>{const p=s(this,v);h[0].apply(null,[p])},v=>{h[1]&&h[1].apply(null,v)},arguments[2]]):d.apply(this,arguments).then(v=>s(this,v))}};t.RTCPeerConnection.prototype[u]=f[u]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const u=l.get.apply(this);return u.type===""?u:s(this,u)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(p=>d.track===p)&&(h=this._streams[g])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function MI(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=t.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=i[r]})}function pQ(t,e){Um(t,"negotiationneeded",r=>{const n=r.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const rU=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:pQ,shimAddTrackRemoveTrack:hQ,shimAddTrackRemoveTrackWithNative:fQ,shimGetSendersWithDtmf:cQ,shimGetUserMedia:aQ,shimMediaStream:lQ,shimOnTrack:uQ,shimPeerConnection:MI,shimSenderReceiverGetStats:dQ},Symbol.toStringTag,{value:"Module"}));function mQ(t,e){const r=t&&t.navigator,n=t&&t.MediaStreamTrack;if(r.getUserMedia=function(i,s,o){i8("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},n&&n.prototype.getSettings){const o=n.prototype.getSettings;n.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(n&&n.prototype.applyConstraints){const o=n.prototype.applyConstraints;n.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function aRe(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}function gQ(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function OI(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return n.apply(this,[s||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(u=>{u.type=r[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;l.forEach((d,f)=>{l.set(f,Object.assign({},d,{type:r[d.type]||d.type}))})}return l}).then(o,a)}}function vQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function yQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Um(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function _Q(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){i8("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function bQ(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function xQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function wQ(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function SQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function TQ(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const nU=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:xQ,shimCreateAnswer:TQ,shimCreateOffer:SQ,shimGetDisplayMedia:aRe,shimGetParameters:wQ,shimGetUserMedia:mQ,shimOnTrack:gQ,shimPeerConnection:OI,shimRTCDataChannel:bQ,shimReceiverGetStats:yQ,shimRemoveStream:_Q,shimSenderGetStats:vQ},Symbol.toStringTag,{value:"Module"}));function CQ(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},t.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function EQ(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,n.dispatchEvent(o)})}),e.apply(n,arguments)}}}function AQ(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,r=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h},e.createAnswer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h};let a=function(l,u,d){const f=i.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f};e.setLocalDescription=a,a=function(l,u,d){const f=s.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f},e.setRemoteDescription=a,a=function(l,u,d){const f=o.apply(this,[l]);return d?(f.then(u,d),Promise.resolve()):f},e.addIceCandidate=a}function PQ(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const r=e.mediaDevices,n=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=i=>n(kQ(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(n,i,s){e.mediaDevices.getUserMedia(n).then(i,s)}).bind(e))}function kQ(t){return t&&t.video!==void 0?Object.assign({},t,{video:oQ(t.video)}):t}function IQ(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const s=[];for(let o=0;o<n.iceServers.length;o++){let a=n.iceServers[o];a.urls===void 0&&a.url?(i8("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(n.iceServers[o])}n.iceServers=s}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function DQ(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function RQ(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function MQ(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const iU=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:MQ,shimCallbacksAPI:AQ,shimConstraints:kQ,shimCreateOfferLegacy:RQ,shimGetUserMedia:PQ,shimLocalStreamsAPI:CQ,shimRTCIceServerUrls:IQ,shimRemoteStreamsAPI:EQ,shimTrackEventTransceiver:DQ},Symbol.toStringTag,{value:"Module"}));var OQ={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(r){return r.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(r){const n=e.splitSections(r);return n&&n[0]},e.getMediaSections=function(r){const n=e.splitSections(r);return n.shift(),n},e.matchPrefix=function(r,n){return e.splitLines(r).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let s=8;s<n.length;s+=2)switch(n[s]){case"raddr":i.relatedAddress=n[s+1];break;case"rport":i.relatedPort=parseInt(n[s+1],10);break;case"tcptype":i.tcpType=n[s+1];break;case"ufrag":i.ufrag=n[s+1],i.usernameFragment=n[s+1];break;default:i[n[s]]===void 0&&(i[n[s]]=n[s+1]);break}return i},e.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const s=r.type;return n.push("typ"),n.push(s),s!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(r){return r.substring(14).split(" ")},e.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},e.parseFmtp=function(r){const n={};let i;const s=r.substring(r.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const s=[];Object.keys(r.parameters).forEach(o=>{r.parameters[o]!==void 0?s.push(o+"="+r.parameters[o]):s.push(o)}),n+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return n},e.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(s=>{n+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},s=r.indexOf(":",n);return s>-1?(i.attribute=r.substring(n+1,s),i.value=r.substring(s+1)):i.attribute=r.substring(n+1),i},e.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(r){const n=e.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:e.matchPrefix(r+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?e.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},e.getCryptoParameters=function(r,n){return e.matchPrefix(r+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(r,n){const i=e.matchPrefix(r+n,"a=ice-ufrag:")[0],s=e.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(r)[0].split(" ");n.profile=s[2];for(let a=3;a<s.length;a++){const l=s[a],u=e.matchPrefix(r,"a=rtpmap:"+l+" ")[0];if(u){const d=e.parseRtpMap(u),f=e.matchPrefix(r,"a=fmtp:"+l+" ");switch(d.parameters=f.length?e.parseFmtp(f[0]):{},d.rtcpFeedback=e.matchPrefix(r,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),n.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(r,"a=extmap:").forEach(a=>{n.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(r,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),n},e.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return n.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(r){const n=[],i=e.parseRtpParameters(r),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(r,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let u;const d=e.matchPrefix(r,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(v=>parseInt(v,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(u=d[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let g={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&u&&(g.rtx={ssrc:u}),n.push(g),s&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},n.push(g))}}),n.length===0&&l&&n.push({ssrc:l});let f=e.matchPrefix(r,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,n.forEach(h=>{h.maxBitrate=f})),n},e.parseRtcpParameters=function(r){const n={},i=e.matchPrefix(r,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const s=e.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=s.length===0;const o=e.matchPrefix(r,"a=rtcp-mux");return n.mux=o.length>0,n},e.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},e.parseMsid=function(r){let n;const i=e.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const s=e.matchPrefix(r,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return n=s[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(r){const n=e.parseMLine(r),i=e.matchPrefix(r,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(r,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:s};const a=e.matchPrefix(r,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(r,n,i){let s;const o=n!==void 0?n:2;return r?s=r:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(r,n){const i=e.splitLines(r);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(r){return e.splitLines(r)[0].split(" ")[0].substring(2)},e.isRejected=function(r){return r.split(" ",2)[1]==="0"},e.parseMLine=function(r){const i=e.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(r){const i=e.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=e.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(OQ);var $Q=OQ.exports;const qg=oo($Q),lRe=sue({__proto__:null,default:qg},[$Q]);function lS(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new e(n),s=qg.parseCandidate(n.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,Um(t,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new t.RTCIceCandidate(r.candidate),writable:"false"}),r))}function $I(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Um(t,"icecandidate",e=>{if(e.candidate){const r=qg.parseCandidate(e.candidate.candidate);r.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return e})}function uS(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(a){if(!a||!a.sdp)return!1;const l=qg.splitSections(a.sdp);return l.shift(),l.some(u=>{const d=qg.parseMLine(u);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},n=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const u=parseInt(l[1],10);return u!==u?-1:u},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(a,l){let u=65536;e.browser==="firefox"&&e.version===57&&(u=65535);const d=qg.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(u=2147483637),u},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const l=n(arguments[0]),u=i(l),d=s(arguments[0],l);let f;u===0&&d===0?f=Number.POSITIVE_INFINITY:u===0||d===0?f=Math.max(u,d):f=Math.min(u,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return o.apply(this,arguments)}}function cS(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(n,i){const s=n.send;n.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(n.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(n,arguments)}}const r=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return e(i,this),i},Um(t,"datachannel",n=>(e(n.channel,n.target),n))}function LI(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=e[r];e[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function FI(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return r.apply(this,arguments)}}function dS(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function fS(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>r.apply(this,[o]))})}const uRe=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:FI,shimAddIceCandidateNullOrEmpty:dS,shimConnectionState:LI,shimMaxMessageSize:uS,shimParameterlessSetLocalDescription:fS,shimRTCIceCandidate:lS,shimRTCIceCandidateRelayProtocol:$I,shimSendThrowTypeError:cS},Symbol.toStringTag,{value:"Module"}));function cRe({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=sQ,n=oRe(t),i={browserDetails:n,commonShim:uRe,extractVersion:aS,disableLog:iRe,disableWarnings:sRe,sdp:lRe};switch(n.browser){case"chrome":if(!rU||!MI||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=rU,dS(t,n),fS(t),aQ(t,n),lQ(t),MI(t,n),uQ(t),hQ(t,n),cQ(t),dQ(t),pQ(t,n),lS(t),$I(t),LI(t),uS(t,n),cS(t),FI(t,n);break;case"firefox":if(!nU||!OI||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=nU,dS(t,n),fS(t),mQ(t,n),OI(t,n),gQ(t),_Q(t),vQ(t),yQ(t),bQ(t),xQ(t),wQ(t),SQ(t),TQ(t),lS(t),LI(t),uS(t,n),cS(t);break;case"safari":if(!iU||!e.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=iU,dS(t,n),fS(t),IQ(t),RQ(t),AQ(t),CQ(t),EQ(t),DQ(t),PQ(t),MQ(t),lS(t),$I(t),uS(t,n),cS(t),FI(t,n);break;default:r("Unsupported browser!");break}return i}const sU=cRe({window:typeof window>"u"?void 0:window});function Vm(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}class LQ{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const r=[],n=e.byteLength,i=Math.ceil(n/this.chunkedMTU);let s=0,o=0;for(;o<n;){const a=Math.min(n,o+this.chunkedMTU),l=e.slice(o,a),u={__peerData:this._dataCount,n:s,data:l,total:i};r.push(u),o=a,s++}return this._dataCount++,r}}}function dRe(t){let e=0;for(const i of t)e+=i.byteLength;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.byteLength;return r}const D3=sU.default||sU,a_=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return D3.browserDetails.browser}getVersion(){return D3.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=D3.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let r,n=!1;try{r=new RTCPeerConnection,r.addTransceiver("audio"),n=!0}catch{}finally{r&&r.close()}return n}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},fRe=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),FQ=()=>Math.random().toString(36).slice(2),oU={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class hRe extends LQ{noop(){}blobToArrayBuffer(e,r){const n=new FileReader;return n.onload=function(i){i.target&&r(i.target.result)},n.readAsArrayBuffer(e),n}binaryStringToArrayBuffer(e){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n)&255;return r.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=oU,this.browser=a_.getBrowser(),this.browserVersion=a_.getVersion(),this.pack=rQ,this.unpack=tQ,this.supports=function(){const r={browser:a_.isBrowserSupported(),webRTC:a_.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!r.webRTC)return r;let n;try{n=new RTCPeerConnection(oU),r.audioVideo=!0;let i;try{i=n.createDataChannel("_PEERJSTEST",{ordered:!0}),r.data=!0,r.reliable=!!i.ordered;try{i.binaryType="blob",r.binaryBlob=!a_.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{n&&n.close()}return r}(),this.validateId=fRe,this.randomToken=FQ}}const nl=new hRe,pRe="PeerJS: ";var aU;(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"})(aU||(aU={}));class mRe{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...r){const n=[pRe,...r];for(const i in n)n[i]instanceof Error&&(n[i]="("+n[i].name+") "+n[i].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}constructor(){this._logLevel=0}}var Qr=new mRe,s8={},gRe=Object.prototype.hasOwnProperty,Wa="~";function xb(){}Object.create&&(xb.prototype=Object.create(null),new xb().__proto__||(Wa=!1));function vRe(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function NQ(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new vRe(r,n||t,i),o=Wa?Wa+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],s]:t._events[o].push(s):(t._events[o]=s,t._eventsCount++),t}function hS(t,e){--t._eventsCount===0?t._events=new xb:delete t._events[e]}function ga(){this._events=new xb,this._eventsCount=0}ga.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)gRe.call(r,n)&&e.push(Wa?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};ga.prototype.listeners=function(e){var r=Wa?Wa+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};ga.prototype.listenerCount=function(e){var r=Wa?Wa+e:e,n=this._events[r];return n?n.fn?1:n.length:0};ga.prototype.emit=function(e,r,n,i,s,o){var a=Wa?Wa+e:e;if(!this._events[a])return!1;var l=this._events[a],u=arguments.length,d,f;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,r),!0;case 3:return l.fn.call(l.context,r,n),!0;case 4:return l.fn.call(l.context,r,n,i),!0;case 5:return l.fn.call(l.context,r,n,i,s),!0;case 6:return l.fn.call(l.context,r,n,i,s,o),!0}for(f=1,d=new Array(u-1);f<u;f++)d[f-1]=arguments[f];l.fn.apply(l.context,d)}else{var h=l.length,g;for(f=0;f<h;f++)switch(l[f].once&&this.removeListener(e,l[f].fn,void 0,!0),u){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,r);break;case 3:l[f].fn.call(l[f].context,r,n);break;case 4:l[f].fn.call(l[f].context,r,n,i);break;default:if(!d)for(g=1,d=new Array(u-1);g<u;g++)d[g-1]=arguments[g];l[f].fn.apply(l[f].context,d)}}return!0};ga.prototype.on=function(e,r,n){return NQ(this,e,r,n,!1)};ga.prototype.once=function(e,r,n){return NQ(this,e,r,n,!0)};ga.prototype.removeListener=function(e,r,n,i){var s=Wa?Wa+e:e;if(!this._events[s])return this;if(!r)return hS(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&hS(this,s);else{for(var a=0,l=[],u=o.length;a<u;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&l.push(o[a]);l.length?this._events[s]=l.length===1?l[0]:l:hS(this,s)}return this};ga.prototype.removeAllListeners=function(e){var r;return e?(r=Wa?Wa+e:e,this._events[r]&&hS(this,r)):(this._events=new xb,this._eventsCount=0),this};ga.prototype.off=ga.prototype.removeListener;ga.prototype.addListener=ga.prototype.on;ga.prefixed=Wa;ga.EventEmitter=ga;s8=ga;var zm={};Vm(zm,"ConnectionType",()=>vd);Vm(zm,"PeerErrorType",()=>Rs);Vm(zm,"BaseConnectionErrorType",()=>wb);Vm(zm,"DataConnectionErrorType",()=>Sb);Vm(zm,"SerializationType",()=>Rv);Vm(zm,"SocketEventType",()=>cd);Vm(zm,"ServerMessageType",()=>Ao);var vd;(function(t){t.Data="data",t.Media="media"})(vd||(vd={}));var Rs;(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"})(Rs||(Rs={}));var wb;(function(t){t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed"})(wb||(wb={}));var Sb;(function(t){t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big"})(Sb||(Sb={}));var Rv;(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw"})(Rv||(Rv={}));var cd;(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"})(cd||(cd={}));var Ao;(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"})(Ao||(Ao={}));var o8={};o8=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class yRe extends s8.EventEmitter{constructor(e,r,n,i,s,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+r+":"+n+i+"peerjs?key="+s}start(e,r){this._id=e;const n=`${this._baseUrl}&id=${e}&token=${r}`;this._socket||!this._disconnected||(this._socket=new WebSocket(n+"&version="+o8.version),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),Qr.log("Server message received:",s)}catch{Qr.log("Invalid server message",i.data);return}this.emit(cd.Message,s)},this._socket.onclose=i=>{this._disconnected||(Qr.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(cd.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Qr.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Qr.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Ao.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const r of e)this.send(r)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(cd.Error,"Invalid message");return}if(!this._wsOpen())return;const r=JSON.stringify(e);this._socket.send(r)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class BQ{constructor(e){this.connection=e}startConnection(e){const r=this._startPeerConnection();if(this.connection.peerConnection=r,this.connection.type===vd.Media&&e._stream&&this._addTracksToConnection(e._stream,r),e.originator){const n=this.connection,i={ordered:!!e.reliable},s=r.createDataChannel(n.label,i);n._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Qr.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const r=this.connection.peer,n=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;Qr.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(Qr.log(`Received ICE candidates for ${r}:`,o.candidate),s.socket.send({type:Ao.Candidate,payload:{candidate:o.candidate,type:i,connectionId:n},dst:r}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Qr.log("iceConnectionState is failed, closing connections to "+r),this.connection.emitError(wb.NegotiationFailed,"Negotiation of connection to "+r+" failed."),this.connection.close();break;case"closed":Qr.log("iceConnectionState is closed, closing connections to "+r),this.connection.emitError(wb.ConnectionClosed,"Connection to "+r+" closed."),this.connection.close();break;case"disconnected":Qr.log("iceConnectionState changed to disconnected on the connection with "+r);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Qr.log("Listening for data channel"),e.ondatachannel=o=>{Qr.log("Received data channel");const a=o.channel;s.getConnection(r,n)._initializeDataChannel(a)},Qr.log("Listening for remote stream"),e.ontrack=o=>{Qr.log("Received remote stream");const a=o.streams[0],l=s.getConnection(r,n);if(l.type===vd.Media){const u=l;this._addStreamToMediaConnection(a,u)}}}cleanup(){Qr.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const r=e.signalingState!=="closed";let n=!1;const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed"),(r||n)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,r=this.connection.provider;try{const n=await e.createOffer(this.connection.options.constraints);Qr.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),Qr.log("Set localDescription:",n,`for:${this.connection.peer}`);let i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===vd.Data){const s=this.connection;i={...i,label:s.label,reliable:s.reliable,serialization:s.serialization}}r.socket.send({type:Ao.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(r.emitError(Rs.WebRTC,i),Qr.log("Failed to setLocalDescription, ",i))}}catch(n){r.emitError(Rs.WebRTC,n),Qr.log("Failed to createOffer, ",n)}}async _makeAnswer(){const e=this.connection.peerConnection,r=this.connection.provider;try{const n=await e.createAnswer();Qr.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),Qr.log("Set localDescription:",n,`for:${this.connection.peer}`),r.socket.send({type:Ao.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){r.emitError(Rs.WebRTC,i),Qr.log("Failed to setLocalDescription, ",i)}}catch(n){r.emitError(Rs.WebRTC,n),Qr.log("Failed to create answer, ",n)}}async handleSDP(e,r){r=new RTCSessionDescription(r);const n=this.connection.peerConnection,i=this.connection.provider;Qr.log("Setting remote description",r);const s=this;try{await n.setRemoteDescription(r),Qr.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await s._makeAnswer()}catch(o){i.emitError(Rs.WebRTC,o),Qr.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){Qr.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Qr.log(`Added ICE candidate for:${this.connection.peer}`)}catch(r){this.connection.provider.emitError(Rs.WebRTC,r),Qr.log("Failed to handleCandidate, ",r)}}_addTracksToConnection(e,r){if(Qr.log(`add tracks from stream ${e.id} to peer connection`),!r.addTrack)return Qr.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{r.addTrack(n,e)})}_addStreamToMediaConnection(e,r){Qr.log(`add stream ${e.id} to media connection ${r.connectionId}`),r.addStream(e)}}class UQ extends s8.EventEmitter{emitError(e,r){Qr.error("Error:",r),this.emit("error",new _Re(`${e}`,r))}}class _Re extends Error{constructor(e,r){typeof r=="string"?super(r):(super(),Object.assign(this,r)),this.type=e}}class VQ extends UQ{get open(){return this._open}constructor(e,r,n){super(),this.peer=e,this.provider=r,this.options=n,this._open=!1,this.metadata=n.metadata}}var hM;const Y2=class Y2 extends VQ{get type(){return vd.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,r,n){super(e,r,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Y2.ID_PREFIX+nl.randomToken(),this._negotiator=new BQ(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Qr.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Qr.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Qr.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const r=e.type,n=e.payload;switch(e.type){case Ao.Answer:this._negotiator.handleSDP(r,n.sdp),this._open=!0;break;case Ao.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:Qr.warn(`Unrecognized message type:${r} from peer:${this.peer}`);break}}answer(e,r={}){if(this._localStream){Qr.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,r&&r.sdpTransform&&(this.options.sdpTransform=r.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const n=this.provider._getMessages(this.connectionId);for(const i of n)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};hM=new WeakMap,e_(Y2,hM,Y2.ID_PREFIX="mc_");let _T=Y2;class bRe{constructor(e){this._options=e}_buildRequest(e){const r=this._options.secure?"https":"http",{host:n,port:i,path:s,key:o}=this._options,a=new URL(`${r}://${n}:${i}${s}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",o8.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Qr.error("Error retrieving ID",e);let r="";throw this._options.path==="/"&&this._options.host!==nl.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let r="";throw this._options.host===nl.CLOUD_HOST?r="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":r="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+r)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Qr.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var pM,mM;const $0=class $0 extends VQ{get type(){return vd.Data}constructor(e,r,n){super(e,r,n),this.connectionId=this.options.connectionId||$0.ID_PREFIX+FQ(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new BQ(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Qr.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=r=>{Qr.log(`DC#${this.connectionId} dc onmessage:`,r.data)},this.dataChannel.onclose=()=>{Qr.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,r=!1){if(!this.open){this.emitError(Sb.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,r)}async handleMessage(e){const r=e.payload;switch(e.type){case Ao.Answer:await this._negotiator.handleSDP(e.type,r.sdp);break;case Ao.Candidate:await this._negotiator.handleCandidate(r.candidate);break;default:Qr.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};pM=new WeakMap,mM=new WeakMap,e_($0,pM,$0.ID_PREFIX="dc_"),e_($0,mM,$0.MAX_BUFFERED_AMOUNT=8388608);let bT=$0;class a8 extends bT{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",r=>this._handleDataMessage(r))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>bT.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(r){return Qr.error(`DC#:${this.connectionId} Error when sending:`,r),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class R3 extends a8{close(e){super.close(e),this._chunkedData={}}constructor(e,r,n){super(e,r,n),this.chunker=new LQ,this.serialization=Rv.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const r=tQ(e),n=r.__peerData;if(n){if(n.type==="close"){this.close();return}this._handleChunk(r);return}this.emit("data",r)}_handleChunk(e){const r=e.__peerData,n=this._chunkedData[r]||{data:[],count:0,total:e.total};if(n.data[e.n]=new Uint8Array(e.data),n.count++,this._chunkedData[r]=n,n.total===n.count){delete this._chunkedData[r];const i=dRe(n.data);this._handleDataMessage({data:i})}}_send(e,r){const n=rQ(e);if(n instanceof Promise)return this._send_blob(n);if(!r&&n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}async _send_blob(e){const r=await e;if(r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}_sendChunks(e){const r=this.chunker.chunk(e);Qr.log(`DC#${this.connectionId} Try to send ${r.length} chunks...`);for(const n of r)this.send(n,!0)}}class xRe extends a8{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,r){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Rv.None}}class wRe extends a8{_handleDataMessage({data:e}){const r=this.parse(this.decoder.decode(e)),n=r.__peerData;if(n&&n.type==="close"){this.close();return}this.emit("data",r)}_send(e,r){const n=this.encoder.encode(this.stringify(e));if(n.byteLength>=nl.chunkedMTU){this.emitError(Sb.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(n)}constructor(...e){super(...e),this.serialization=Rv.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var gM;const K2=class K2 extends UQ{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[r,n]of this._connections)e[r]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,r){super(),this._serializers={raw:xRe,json:wRe,binary:R3,"binary-utf8":R3,default:R3},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let n;if(e&&e.constructor==Object?r=e:e&&(n=e.toString()),r={debug:0,host:nl.CLOUD_HOST,port:nl.CLOUD_PORT,path:"/",key:K2.DEFAULT_KEY,token:nl.randomToken(),config:nl.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...r},this._options=r,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==nl.CLOUD_HOST?this._options.secure=nl.isSecure():this._options.host==nl.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Qr.setLogFunction(this._options.logFunction),Qr.logLevel=this._options.debug||0,this._api=new bRe(r),this._socket=this._createServerConnection(),!nl.supports.audioVideo&&!nl.supports.data){this._delayedAbort(Rs.BrowserIncompatible,"The current browser does not support WebRTC");return}if(n&&!nl.validateId(n)){this._delayedAbort(Rs.InvalidID,`ID "${n}" is invalid`);return}n?this._initialize(n):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(Rs.ServerError,i))}_createServerConnection(){const e=new yRe(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(cd.Message,r=>{this._handleMessage(r)}),e.on(cd.Error,r=>{this._abort(Rs.SocketError,r)}),e.on(cd.Disconnected,()=>{this.disconnected||(this.emitError(Rs.Network,"Lost connection to server."),this.disconnect())}),e.on(cd.Close,()=>{this.disconnected||this._abort(Rs.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const r=e.type,n=e.payload,i=e.src;switch(r){case Ao.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Ao.Error:this._abort(Rs.ServerError,n.msg);break;case Ao.IdTaken:this._abort(Rs.UnavailableID,`ID "${this.id}" is taken`);break;case Ao.InvalidKey:this._abort(Rs.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Ao.Leave:Qr.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case Ao.Expire:this.emitError(Rs.PeerUnavailable,`Could not connect to peer ${i}`);break;case Ao.Offer:{const s=n.connectionId;let o=this.getConnection(i,s);if(o&&(o.close(),Qr.warn(`Offer received for existing Connection ID:${s}`)),n.type===vd.Media){const l=new _T(i,this,{connectionId:s,_payload:n,metadata:n.metadata});o=l,this._addConnection(i,o),this.emit("call",l)}else if(n.type===vd.Data){const l=new this._serializers[n.serialization](i,this,{connectionId:s,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});o=l,this._addConnection(i,o),this.emit("connection",l)}else{Qr.warn(`Received malformed connection type:${n.type}`);return}const a=this._getMessages(s);for(const l of a)o.handleMessage(l);break}default:{if(!n){Qr.warn(`You received a malformed message from ${i} of type ${r}`);return}const s=n.connectionId,o=this.getConnection(i,s);o&&o.peerConnection?o.handleMessage(e):s?this._storeMessage(s,e):Qr.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,r){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(r)}_getMessages(e){const r=this._lostMessages.get(e);return r?(this._lostMessages.delete(e),r):[]}connect(e,r={}){if(r={serialization:"default",...r},this.disconnected){Qr.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Rs.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const n=new this._serializers[r.serialization](e,this,r);return this._addConnection(e,n),n}call(e,r,n={}){if(this.disconnected){Qr.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Rs.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!r){Qr.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new _T(e,this,{...n,_stream:r});return this._addConnection(e,i),i}_addConnection(e,r){Qr.log(`add connection ${r.type}:${r.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(r)}_removeConnection(e){const r=this._connections.get(e.peer);if(r){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,r){const n=this._connections.get(e);if(!n)return null;for(const i of n)if(i.connectionId===r)return i;return null}_delayedAbort(e,r){setTimeout(()=>{this._abort(e,r)},0)}_abort(e,r){Qr.error("Aborting!"),this.emitError(e,r),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Qr.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const r=this._connections.get(e);if(r)for(const n of r)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Qr.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Qr.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Qr.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=r=>{}){this._api.listAllPeers().then(r=>e(r)).catch(r=>this._abort(Rs.ServerError,r))}};gM=new WeakMap,e_(K2,gM,K2.DEFAULT_KEY="peerjs");let NI=K2;var SRe=NI;const TRe=[],CRe=[],ERe=[],ARe=[],Wo=an({notifications:TRe,users:CRe,topics:ERe,messages:ARe});let PRe=()=>({email:"",nickName:"",username:"",password:"",locked:!1}),bs=an(PRe());const kRe=ve({});let fo=an(kRe),Xg=()=>({sub:"",name:"",given_name:"",family_name:"",middle_name:"",nickname:"",preferred_username:"",profile:"",picture:"",website:"",email:"",email_verified:"",gender:"",birthdate:"",zoneinfo:"",locale:"",phone_number:"",phone_number_verified:"",address:"",updated_at:"",claims:"",username:""}),el=an(Xg());const l8=JDe("peerStore",{state:()=>({peerInstance:null,peerId:"",isFirst:!0}),actions:{async initPeer(){if(!this.peerInstance)try{this.peerInstance=new SRe(null,{host:Xt.peerServerUrl,port:443,path:"/app",secure:!0,debug:0}),this.peerInstance.on("open",t=>{this.peerId=t,this.isFirst=!1}),this.peerInstance.on("connection",t=>{console.log("New connection established"),this.handleConnection(t)}),this.peerInstance.on("error",t=>{this.isFirst&&(this.peerInstance=null),console.error("Peer connection error:",t)}),this.peerInstance.on("disconnected",()=>{console.log("Disconnected from the signaling server"),this.isFirst||this.peerInstance.reconnect()})}catch(t){console.error("Failed to initialize PeerJS instance:",t)}},handleConnection(t){Ae.connectId=t.peer,t.on("open",function(){t.on("data",function(e){const r=e.split("*"),n=Number(r[2]);wt.isDotMessage=!0,Wo.messages.push({text:r[0],sender:"received",timestamp:n,user:r[1]})})}),t.on("close",()=>{console.log("Connection closed")}),t.on("error",e=>{console.error("Connection error:",e)})},getPeer(){return this.peerInstance}}}),IRe={apiKey:"AIzaSyCRthXUaRcPNWmYYq3NokfWVBRzm8uC09U",authDomain:"elpsykonngroo.firebaseapp.com",projectId:"elpsykonngroo",storageBucket:"elpsykonngroo.appspot.com",messagingSenderId:"1035237568740",appId:"1:1035237568740:web:75eb3c160355379a97bcf1"},DRe=SZ(IRe),zQ=HDe(DRe),HQ=async t=>{"serviceWorker"in navigator&&RRe(t)},RRe=async t=>{console.log("start register");const e={success:[],failure:[]},r=s=>{console.log("Service Worker registration succeeded. Scope is "+s.scope),e.success.forEach(o=>o(s))},n=s=>{console.log("Service Worker registration failed with "+s),e.failure.forEach(o=>o(s))};try{const s=await navigator.serviceWorker.register("/sw.js",{type:"classic",updateViaCache:"none"});"Notification"in window&&window.Notification.requestPermission().then(o=>{o==="granted"&&(console.log("Notification permission granted"),e.success.push(a=>{"PushManager"in window&&(console.log("PushManager available"),jDe(zQ,{vapidKey:Xt.publicKey,serviceWorkerRegistration:a}).then(l=>{Ae.registerToken=l;const u={baseURL:Xt.messageUrl,url:"notice/register",method:"PUT",params:{token:l,timestamp:Date.now(),user:t},headers:{"Content-Type":"application/json"},withCredentials:!0};or(u)}))}),e.failure.push(a=>{console.log("PushManager is not available")}),r(s))})}catch(s){n(s)}const i=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(s=>{s.forEach(o=>{o.unregister()})})};window.addEventListener("unload",i)};GDe(zQ,t=>{var e,r;console.log(t),gb({title:(e=t.notification)==null?void 0:e.title,message:(r=t.notification)==null?void 0:r.body,duration:5e3}),wt.isDot=!0});window.addEventListener("message",function(t){if(console.log(t.origin),console.log(t.data),typeof t.data=="object"&&t.data){const e=t.data.message;console.log(e),wt.isDot=!0}});const jQ=window.location.href,Mv=new URL(jQ).searchParams.get("code"),GQ=new URL(jQ).searchParams.get("state");Mv!=null&&GQ!=null&&(Mv.length>20?Ae.grant_type="code":Ae.grant_type="github");function MRe(){var t;t="841aa35355d86c55c1a948831ab90f23f80f71c65a08feb0dc4830a066fd55d36422c464bc58128edecf2f0bf5e0baadfda1168f8cb5883bd8ff6745454afe8b";const e=btoa(t),r={baseURL:Xt.authUrl,url:"/oauth2/token",method:"POST",data:{code_verifier:e,grant_type:"authorization_code",code:Mv,redirect_uri:Xt.redirectUrl,client_id:"pkce"},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};qQ(r)}const Ov=()=>{for(var t=document.cookie.split(";"),e="",r=0;r<t.length;r++){var n=t[r].trim();if(n.indexOf("_oauth2_proxy=")==0){e=n.substring(14,n.length);break}}return e};document.addEventListener("DOMContentLoaded",async function(){await WQ(),await HQ("")});async function WQ(){var t=Ov();if(t.length>0){t=atob(t.split("|")[0]);const e={baseURL:Xt.authUrl,url:"/access",method:"POST",data:{key:t},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};return await qQ(e)}else return""}const qQ=async t=>{const e=await or(t).then(function(r){let n;return r.data==null&&r.data==""?"":r.data.id_token!=""&&r.data.id_token!=null?(Ae.update(r.data.access_token,r.data.expires_in),n=wI(r.data.id_token),JSON.stringify(n)):r.data.at!=""&&r.data.at!=null?(Ae.refresh_token=r.data.rt,Ae.id_token=r.data.it,Ae.update(r.data.at,1200),n=wI(Ae.id_token),JSON.stringify(n)):""}).catch(function(r){return""});if(e){const r=JSON.parse(e);Ae.sub=r.sub,Ae.permission=r.permission,Ae.email_verified=r.email_verified,Ae.client_id=r.azp,Ae.expires_in=r.exp-r.iat,Ae.update(Ae.access_token,Ae.expires_in),r.picture&&(Ae.avatarUrl=Xt.apiUrl+"/storage/object?bucket="+Ae.sub+"&key="+r.picture+"&idToken="+Ae.id_token),await HQ(Ae.sub),Wh(),z_();const n=l8();n.initPeer();const i=n.getPeer();i==null||i.on("open",s=>{Ae.peerId=s;const o={baseURL:Xt.peerUrl,url:"/peer/",method:"POST",headers:{"content-type":"application/json"},data:{username:Ae.sub,peerId:Ae.peerId}};or(o)})}return e};Mv!=null&&GQ==null&&MRe();const lU=ve(0);let BI,Cx=0;or.interceptors.request.use(t=>(BI&&(t.headers["X-CSRF-TOKEN"]=BI),t.validateStatus=function(e){return e>=200&&e<504&&e!=401},t));or.interceptors.response.use(async function(t){return BI=t.headers["x-csrf-token"],t.status==403&&Cx==0?Cx++:Cx=0,Cx!=0&&(t=await or(t.config)),t},function(t){return t.request.status===401&&(Ae.sub?t.request.response=="no access"?ri.alert("no access, please ensure and retry"):Ov().length!=0?wt.refreshlogin=!0:UI():t.config.url!="/access"&&ri.alert("please login first")),t.message==="Network Error"&&t.request.status===0&&t.request.responseURL===""&&(console.log("cors error"),t.response&&t.response.status===401&&(Ae.sub?t.response.data=="no access"?ri.alert("no access, please ensure and retry"):Ov().length!=0?wt.refreshlogin=!0:UI():t.config.url!="/access"&&ri.alert("please login first"))),(t.config.url=="/login"||t.config.url=="/register"||t.config.url=="/public/token/qrcode")&&(ri.alert("service error, please try again later"),ORe()),t});const ORe=()=>{const t={baseURL:Xt.vaultUrl,url:"/v1/auth/userpass/login/"+Xt.vaultUser,method:"POST",data:{password:Xt.vaultPass},headers:{"Content-Type":"application/json"}};or(t).then(function(e){console.log(e.data);const r={baseURL:Xt.vaultUrl,url:"/v1/totp/code/"+Xt.vaultPublicUser,method:"GET",headers:{"X-Vault-Token":e.data.auth.client_token}};or(r).then(function(n){const i={baseURL:Xt.statusUrl,url:"/wol",method:"POST",data:{mac:Xt.wakeMac,code:n.data.data.code},headers:{"Content-Type":"application/x-www-form-urlencoded"}};or(i)})})},UI=()=>{Ae.refresh_token&&$Re()},$Re=()=>{const t={baseURL:Xt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"refresh_token",refresh_token:Ae.refresh_token},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,auth:{username:Xt.clientId,password:Xt.clientSecret}};or(t).then(function(e){e.data.access_token!=""&&Ae.update(e.data.access_token,e.data.expires_in)}).catch(function(e){Ov().length==0?ri.alert("session expired, please login agian"):wt.refreshlogin=!0})},z_=()=>{lU.value=window.setInterval(()=>{Ae.expires_in--,Ae.expires_in==10&&Ov().length==0?UI():Ae.expires_in==0&&(LRe(),Wh(),clearInterval(lU.value))},1e3)},LRe=()=>{Ae.refresh_token="",Ae.access_token=""},XQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YQ="ARRAYBUFFER not supported by this environment",KQ="UINT8ARRAY not supported by this environment";function uU(t,e,r,n){let i,s,o;const a=e||[0],l=(r=r||0)>>>3,u=n===-1?3:0;for(i=0;i<t.length;i+=1)o=i+l,s=o>>>2,a.length<=s&&a.push(0),a[s]|=t[i]<<8*(u+n*(o%4));return{value:a,binLen:8*t.length+r}}function Cy(t,e,r){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(n,i,s){return function(o,a,l,u){let d,f,h,g;if(o.length%2!=0)throw new Error("String of HEX type must be in byte increments");const v=a||[0],p=(l=l||0)>>>3,b=u===-1?3:0;for(d=0;d<o.length;d+=2){if(f=parseInt(o.substr(d,2),16),isNaN(f))throw new Error("String of HEX type contains invalid characters");for(g=(d>>>1)+p,h=g>>>2;v.length<=h;)v.push(0);v[h]|=f<<8*(b+u*(g%4))}return{value:v,binLen:4*o.length+l}}(n,i,s,r)};case"TEXT":return function(n,i,s){return function(o,a,l,u,d){let f,h,g,v,p,b,S,C,T=0;const A=l||[0],E=(u=u||0)>>>3;if(a==="UTF8")for(S=d===-1?3:0,g=0;g<o.length;g+=1)for(f=o.charCodeAt(g),h=[],128>f?h.push(f):2048>f?(h.push(192|f>>>6),h.push(128|63&f)):55296>f||57344<=f?h.push(224|f>>>12,128|f>>>6&63,128|63&f):(g+=1,f=65536+((1023&f)<<10|1023&o.charCodeAt(g)),h.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|63&f)),v=0;v<h.length;v+=1){for(b=T+E,p=b>>>2;A.length<=p;)A.push(0);A[p]|=h[v]<<8*(S+d*(b%4)),T+=1}else for(S=d===-1?2:0,C=a==="UTF16LE"&&d!==1||a!=="UTF16LE"&&d===1,g=0;g<o.length;g+=1){for(f=o.charCodeAt(g),C===!0&&(v=255&f,f=v<<8|f>>>8),b=T+E,p=b>>>2;A.length<=p;)A.push(0);A[p]|=f<<8*(S+d*(b%4)),T+=2}return{value:A,binLen:8*T+u}}(n,e,i,s,r)};case"B64":return function(n,i,s){return function(o,a,l,u){let d,f,h,g,v,p,b,S=0;const C=a||[0],T=(l=l||0)>>>3,A=u===-1?3:0,E=o.indexOf("=");if(o.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(o=o.replace(/=/g,""),E!==-1&&E<o.length)throw new Error("Invalid '=' found in base-64 string");for(f=0;f<o.length;f+=4){for(v=o.substr(f,4),g=0,h=0;h<v.length;h+=1)d=XQ.indexOf(v.charAt(h)),g|=d<<18-6*h;for(h=0;h<v.length-1;h+=1){for(b=S+T,p=b>>>2;C.length<=p;)C.push(0);C[p]|=(g>>>16-8*h&255)<<8*(A+u*(b%4)),S+=1}}return{value:C,binLen:8*S+l}}(n,i,s,r)};case"BYTES":return function(n,i,s){return function(o,a,l,u){let d,f,h,g;const v=a||[0],p=(l=l||0)>>>3,b=u===-1?3:0;for(f=0;f<o.length;f+=1)d=o.charCodeAt(f),g=f+p,h=g>>>2,v.length<=h&&v.push(0),v[h]|=d<<8*(b+u*(g%4));return{value:v,binLen:8*o.length+l}}(n,i,s,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(YQ)}return function(n,i,s){return function(o,a,l,u){return uU(new Uint8Array(o),a,l,u)}(n,i,s,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(KQ)}return function(n,i,s){return uU(n,i,s,r)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function cU(t,e,r,n){switch(t){case"HEX":return function(i){return function(s,o,a,l){const u="0123456789abcdef";let d,f,h="";const g=o/8,v=a===-1?3:0;for(d=0;d<g;d+=1)f=s[d>>>2]>>>8*(v+a*(d%4)),h+=u.charAt(f>>>4&15)+u.charAt(15&f);return l.outputUpper?h.toUpperCase():h}(i,e,r,n)};case"B64":return function(i){return function(s,o,a,l){let u,d,f,h,g,v="";const p=o/8,b=a===-1?3:0;for(u=0;u<p;u+=3)for(h=u+1<p?s[u+1>>>2]:0,g=u+2<p?s[u+2>>>2]:0,f=(s[u>>>2]>>>8*(b+a*(u%4))&255)<<16|(h>>>8*(b+a*((u+1)%4))&255)<<8|g>>>8*(b+a*((u+2)%4))&255,d=0;d<4;d+=1)v+=8*u+6*d<=o?XQ.charAt(f>>>6*(3-d)&63):l.b64Pad;return v}(i,e,r,n)};case"BYTES":return function(i){return function(s,o,a){let l,u,d="";const f=o/8,h=a===-1?3:0;for(l=0;l<f;l+=1)u=s[l>>>2]>>>8*(h+a*(l%4))&255,d+=String.fromCharCode(u);return d}(i,e,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error(YQ)}return function(i){return function(s,o,a){let l;const u=o/8,d=new ArrayBuffer(u),f=new Uint8Array(d),h=a===-1?3:0;for(l=0;l<u;l+=1)f[l]=s[l>>>2]>>>8*(h+a*(l%4))&255;return d}(i,e,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error(KQ)}return function(i){return function(s,o,a){let l;const u=o/8,d=a===-1?3:0,f=new Uint8Array(u);for(l=0;l<u;l+=1)f[l]=s[l>>>2]>>>8*(d+a*(l%4))&255;return f}(i,e,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const R1=4294967296,Yr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],af=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],lf=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],M1="Chosen SHA variant is not supported",ZQ="Cannot set numRounds with MAC";function xT(t,e){let r,n;const i=t.binLen>>>3,s=e.binLen>>>3,o=i<<3,a=4-i<<3;if(i%4!=0){for(r=0;r<s;r+=4)n=i+r>>>2,t.value[n]|=e.value[r>>>2]<<o,t.value.push(0),t.value[n+1]|=e.value[r>>>2]>>>a;return(t.value.length<<2)-4>=s+i&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function dU(t){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},r=t||{},n="Output length must be a multiple of 8";if(e.outputUpper=r.outputUpper||!1,r.b64Pad&&(e.b64Pad=r.b64Pad),r.outputLen){if(r.outputLen%8!=0)throw new Error(n);e.outputLen=r.outputLen}else if(r.shakeLen){if(r.shakeLen%8!=0)throw new Error(n);e.outputLen=r.shakeLen}if(typeof e.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof e.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return e}function qh(t,e,r,n){const i=t+" must include a value and format";if(!e){if(!n)throw new Error(i);return n}if(e.value===void 0||!e.format)throw new Error(i);return Cy(e.format,e.encoding||"UTF8",r)(e.value)}let AE=class{constructor(e,r,n){const i=n||{};if(this.t=r,this.i=i.encoding||"UTF8",this.numRounds=i.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=e,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(e){let r,n=0;const i=this.m>>>5,s=this.C(e,this.h,this.u),o=s.binLen,a=s.value,l=o>>>5;for(r=0;r<l;r+=i)n+this.m<=o&&(this.U=this.v(a.slice(r,r+i),this.U),n+=this.m);return this.A+=n,this.h=a.slice(n>>>5),this.u=o%this.m,this.l=!0,this}getHash(e,r){let n,i,s=this.R;const o=dU(r);if(this.K){if(o.outputLen===-1)throw new Error("Output length must be specified in options");s=o.outputLen}const a=cU(e,s,this.T,o);if(this.H&&this.g)return a(this.g(o));for(i=this.F(this.h.slice(),this.u,this.A,this.L(this.U),s),n=1;n<this.numRounds;n+=1)this.K&&s%32!=0&&(i[i.length-1]&=16777215>>>24-s%32),i=this.F(i,s,0,this.B(this.o),s);return a(i)}setHMACKey(e,r,n){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const i=Cy(r,(n||{}).encoding||"UTF8",this.T);this.k(i(e))}k(e){const r=this.m>>>3,n=r/4-1;let i;if(this.numRounds!==1)throw new Error(ZQ);if(this.H)throw new Error("MAC key already set");for(r<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.o),this.R));e.value.length<=n;)e.value.push(0);for(i=0;i<=n;i+=1)this.S[i]=909522486^e.value[i],this.p[i]=1549556828^e.value[i];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(e,r){const n=dU(r);return cU(e,this.R,this.T,n)(this.Y())}Y(){let e;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const r=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return e=this.v(this.p,this.B(this.o)),e=this.F(r,this.R,this.m,e,this.R),e}};function lg(t,e){return t<<e|t>>>32-e}function yd(t,e){return t>>>e|t<<32-e}function QQ(t,e){return t>>>e}function fU(t,e,r){return t^e^r}function JQ(t,e,r){return t&e^~t&r}function eJ(t,e,r){return t&e^t&r^e&r}function FRe(t){return yd(t,2)^yd(t,13)^yd(t,22)}function oa(t,e){const r=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(r>>>16))<<16|65535&r}function NRe(t,e,r,n){const i=(65535&t)+(65535&e)+(65535&r)+(65535&n);return(65535&(t>>>16)+(e>>>16)+(r>>>16)+(n>>>16)+(i>>>16))<<16|65535&i}function H_(t,e,r,n,i){const s=(65535&t)+(65535&e)+(65535&r)+(65535&n)+(65535&i);return(65535&(t>>>16)+(e>>>16)+(r>>>16)+(n>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function BRe(t){return yd(t,7)^yd(t,18)^QQ(t,3)}function URe(t){return yd(t,6)^yd(t,11)^yd(t,25)}function VRe(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function tJ(t,e){let r,n,i,s,o,a,l;const u=[];for(r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=0;l<80;l+=1)u[l]=l<16?t[l]:lg(u[l-3]^u[l-8]^u[l-14]^u[l-16],1),a=l<20?H_(lg(r,5),JQ(n,i,s),o,1518500249,u[l]):l<40?H_(lg(r,5),fU(n,i,s),o,1859775393,u[l]):l<60?H_(lg(r,5),eJ(n,i,s),o,2400959708,u[l]):H_(lg(r,5),fU(n,i,s),o,3395469782,u[l]),o=s,s=i,i=lg(n,30),n=r,r=a;return e[0]=oa(r,e[0]),e[1]=oa(n,e[1]),e[2]=oa(i,e[2]),e[3]=oa(s,e[3]),e[4]=oa(o,e[4]),e}function zRe(t,e,r,n){let i;const s=15+(e+65>>>9<<4),o=e+r;for(;t.length<=s;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[s]=4294967295&o,t[s-1]=o/R1|0,i=0;i<t.length;i+=16)n=tJ(t.slice(i,i+16),n);return n}let HRe=class extends AE{constructor(e,r,n){if(e!=="SHA-1")throw new Error(M1);super(e,r,n);const i=n||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=Cy(this.t,this.i,this.T),this.v=tJ,this.L=function(s){return s.slice()},this.B=VRe,this.F=zRe,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,i.hmacKey&&this.k(qh("hmacKey",i.hmacKey,this.T))}};function hU(t){let e;return e=t=="SHA-224"?af.slice():lf.slice(),e}function pU(t,e){let r,n,i,s,o,a,l,u,d,f,h;const g=[];for(r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=0;h<64;h+=1)g[h]=h<16?t[h]:NRe(yd(v=g[h-2],17)^yd(v,19)^QQ(v,10),g[h-7],BRe(g[h-15]),g[h-16]),d=H_(u,URe(o),JQ(o,a,l),Yr[h],g[h]),f=oa(FRe(r),eJ(r,n,i)),u=l,l=a,a=o,o=oa(s,d),s=i,i=n,n=r,r=oa(d,f);var v;return e[0]=oa(r,e[0]),e[1]=oa(n,e[1]),e[2]=oa(i,e[2]),e[3]=oa(s,e[3]),e[4]=oa(o,e[4]),e[5]=oa(a,e[5]),e[6]=oa(l,e[6]),e[7]=oa(u,e[7]),e}let jRe=class extends AE{constructor(e,r,n){if(e!=="SHA-224"&&e!=="SHA-256")throw new Error(M1);super(e,r,n);const i=n||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Cy(this.t,this.i,this.T),this.v=pU,this.L=function(s){return s.slice()},this.B=hU,this.F=function(s,o,a,l){return function(u,d,f,h,g){let v,p;const b=15+(d+65>>>9<<4),S=d+f;for(;u.length<=b;)u.push(0);for(u[d>>>5]|=128<<24-d%32,u[b]=4294967295&S,u[b-1]=S/R1|0,v=0;v<u.length;v+=16)h=pU(u.slice(v,v+16),h);return p=g==="SHA-224"?[h[0],h[1],h[2],h[3],h[4],h[5],h[6]]:h,p}(s,o,a,l,e)},this.U=hU(e),this.m=512,this.R=e==="SHA-224"?224:256,this.K=!1,i.hmacKey&&this.k(qh("hmacKey",i.hmacKey,this.T))}},Vt=class{constructor(e,r){this.N=e,this.I=r}};function mU(t,e){let r;return e>32?(r=64-e,new Vt(t.I<<e|t.N>>>r,t.N<<e|t.I>>>r)):e!==0?(r=32-e,new Vt(t.N<<e|t.I>>>r,t.I<<e|t.N>>>r)):t}function _d(t,e){let r;return e<32?(r=32-e,new Vt(t.N>>>e|t.I<<r,t.I>>>e|t.N<<r)):(r=64-e,new Vt(t.I>>>e|t.N<<r,t.N>>>e|t.I<<r))}function rJ(t,e){return new Vt(t.N>>>e,t.I>>>e|t.N<<32-e)}function GRe(t,e,r){return new Vt(t.N&e.N^t.N&r.N^e.N&r.N,t.I&e.I^t.I&r.I^e.I&r.I)}function WRe(t){const e=_d(t,28),r=_d(t,34),n=_d(t,39);return new Vt(e.N^r.N^n.N,e.I^r.I^n.I)}function Yu(t,e){let r,n;r=(65535&t.I)+(65535&e.I),n=(t.I>>>16)+(e.I>>>16)+(r>>>16);const i=(65535&n)<<16|65535&r;return r=(65535&t.N)+(65535&e.N)+(n>>>16),n=(t.N>>>16)+(e.N>>>16)+(r>>>16),new Vt((65535&n)<<16|65535&r,i)}function qRe(t,e,r,n){let i,s;i=(65535&t.I)+(65535&e.I)+(65535&r.I)+(65535&n.I),s=(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(n.I>>>16)+(i>>>16);const o=(65535&s)<<16|65535&i;return i=(65535&t.N)+(65535&e.N)+(65535&r.N)+(65535&n.N)+(s>>>16),s=(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(n.N>>>16)+(i>>>16),new Vt((65535&s)<<16|65535&i,o)}function XRe(t,e,r,n,i){let s,o;s=(65535&t.I)+(65535&e.I)+(65535&r.I)+(65535&n.I)+(65535&i.I),o=(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(n.I>>>16)+(i.I>>>16)+(s>>>16);const a=(65535&o)<<16|65535&s;return s=(65535&t.N)+(65535&e.N)+(65535&r.N)+(65535&n.N)+(65535&i.N)+(o>>>16),o=(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(n.N>>>16)+(i.N>>>16)+(s>>>16),new Vt((65535&o)<<16|65535&s,a)}function l_(t,e){return new Vt(t.N^e.N,t.I^e.I)}function YRe(t){const e=_d(t,19),r=_d(t,61),n=rJ(t,6);return new Vt(e.N^r.N^n.N,e.I^r.I^n.I)}function KRe(t){const e=_d(t,1),r=_d(t,8),n=rJ(t,7);return new Vt(e.N^r.N^n.N,e.I^r.I^n.I)}function ZRe(t){const e=_d(t,14),r=_d(t,18),n=_d(t,41);return new Vt(e.N^r.N^n.N,e.I^r.I^n.I)}const QRe=[new Vt(Yr[0],3609767458),new Vt(Yr[1],602891725),new Vt(Yr[2],3964484399),new Vt(Yr[3],2173295548),new Vt(Yr[4],4081628472),new Vt(Yr[5],3053834265),new Vt(Yr[6],2937671579),new Vt(Yr[7],3664609560),new Vt(Yr[8],2734883394),new Vt(Yr[9],1164996542),new Vt(Yr[10],1323610764),new Vt(Yr[11],3590304994),new Vt(Yr[12],4068182383),new Vt(Yr[13],991336113),new Vt(Yr[14],633803317),new Vt(Yr[15],3479774868),new Vt(Yr[16],2666613458),new Vt(Yr[17],944711139),new Vt(Yr[18],2341262773),new Vt(Yr[19],2007800933),new Vt(Yr[20],1495990901),new Vt(Yr[21],1856431235),new Vt(Yr[22],3175218132),new Vt(Yr[23],2198950837),new Vt(Yr[24],3999719339),new Vt(Yr[25],766784016),new Vt(Yr[26],2566594879),new Vt(Yr[27],3203337956),new Vt(Yr[28],1034457026),new Vt(Yr[29],2466948901),new Vt(Yr[30],3758326383),new Vt(Yr[31],168717936),new Vt(Yr[32],1188179964),new Vt(Yr[33],1546045734),new Vt(Yr[34],1522805485),new Vt(Yr[35],2643833823),new Vt(Yr[36],2343527390),new Vt(Yr[37],1014477480),new Vt(Yr[38],1206759142),new Vt(Yr[39],344077627),new Vt(Yr[40],1290863460),new Vt(Yr[41],3158454273),new Vt(Yr[42],3505952657),new Vt(Yr[43],106217008),new Vt(Yr[44],3606008344),new Vt(Yr[45],1432725776),new Vt(Yr[46],1467031594),new Vt(Yr[47],851169720),new Vt(Yr[48],3100823752),new Vt(Yr[49],1363258195),new Vt(Yr[50],3750685593),new Vt(Yr[51],3785050280),new Vt(Yr[52],3318307427),new Vt(Yr[53],3812723403),new Vt(Yr[54],2003034995),new Vt(Yr[55],3602036899),new Vt(Yr[56],1575990012),new Vt(Yr[57],1125592928),new Vt(Yr[58],2716904306),new Vt(Yr[59],442776044),new Vt(Yr[60],593698344),new Vt(Yr[61],3733110249),new Vt(Yr[62],2999351573),new Vt(Yr[63],3815920427),new Vt(3391569614,3928383900),new Vt(3515267271,566280711),new Vt(3940187606,3454069534),new Vt(4118630271,4000239992),new Vt(116418474,1914138554),new Vt(174292421,2731055270),new Vt(289380356,3203993006),new Vt(460393269,320620315),new Vt(685471733,587496836),new Vt(852142971,1086792851),new Vt(1017036298,365543100),new Vt(1126000580,2618297676),new Vt(1288033470,3409855158),new Vt(1501505948,4234509866),new Vt(1607167915,987167468),new Vt(1816402316,1246189591)];function gU(t){return t==="SHA-384"?[new Vt(3418070365,af[0]),new Vt(1654270250,af[1]),new Vt(2438529370,af[2]),new Vt(355462360,af[3]),new Vt(1731405415,af[4]),new Vt(41048885895,af[5]),new Vt(3675008525,af[6]),new Vt(1203062813,af[7])]:[new Vt(lf[0],4089235720),new Vt(lf[1],2227873595),new Vt(lf[2],4271175723),new Vt(lf[3],1595750129),new Vt(lf[4],2917565137),new Vt(lf[5],725511199),new Vt(lf[6],4215389547),new Vt(lf[7],327033209)]}function vU(t,e){let r,n,i,s,o,a,l,u,d,f,h,g;const v=[];for(r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=0;h<80;h+=1)h<16?(g=2*h,v[h]=new Vt(t[g],t[g+1])):v[h]=qRe(YRe(v[h-2]),v[h-7],KRe(v[h-15]),v[h-16]),d=XRe(u,ZRe(o),(b=a,S=l,new Vt((p=o).N&b.N^~p.N&S.N,p.I&b.I^~p.I&S.I)),QRe[h],v[h]),f=Yu(WRe(r),GRe(r,n,i)),u=l,l=a,a=o,o=Yu(s,d),s=i,i=n,n=r,r=Yu(d,f);var p,b,S;return e[0]=Yu(r,e[0]),e[1]=Yu(n,e[1]),e[2]=Yu(i,e[2]),e[3]=Yu(s,e[3]),e[4]=Yu(o,e[4]),e[5]=Yu(a,e[5]),e[6]=Yu(l,e[6]),e[7]=Yu(u,e[7]),e}let JRe=class extends AE{constructor(e,r,n){if(e!=="SHA-384"&&e!=="SHA-512")throw new Error(M1);super(e,r,n);const i=n||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Cy(this.t,this.i,this.T),this.v=vU,this.L=function(s){return s.slice()},this.B=gU,this.F=function(s,o,a,l){return function(u,d,f,h,g){let v,p;const b=31+(d+129>>>10<<5),S=d+f;for(;u.length<=b;)u.push(0);for(u[d>>>5]|=128<<24-d%32,u[b]=4294967295&S,u[b-1]=S/R1|0,v=0;v<u.length;v+=32)h=vU(u.slice(v,v+32),h);return p=g==="SHA-384"?[h[0].N,h[0].I,h[1].N,h[1].I,h[2].N,h[2].I,h[3].N,h[3].I,h[4].N,h[4].I,h[5].N,h[5].I]:[h[0].N,h[0].I,h[1].N,h[1].I,h[2].N,h[2].I,h[3].N,h[3].I,h[4].N,h[4].I,h[5].N,h[5].I,h[6].N,h[6].I,h[7].N,h[7].I],p}(s,o,a,l,e)},this.U=gU(e),this.m=1024,this.R=e==="SHA-384"?384:512,this.K=!1,i.hmacKey&&this.k(qh("hmacKey",i.hmacKey,this.T))}};const eMe=[new Vt(0,1),new Vt(0,32898),new Vt(2147483648,32906),new Vt(2147483648,2147516416),new Vt(0,32907),new Vt(0,2147483649),new Vt(2147483648,2147516545),new Vt(2147483648,32777),new Vt(0,138),new Vt(0,136),new Vt(0,2147516425),new Vt(0,2147483658),new Vt(0,2147516555),new Vt(2147483648,139),new Vt(2147483648,32905),new Vt(2147483648,32771),new Vt(2147483648,32770),new Vt(2147483648,128),new Vt(0,32778),new Vt(2147483648,2147483658),new Vt(2147483648,2147516545),new Vt(2147483648,32896),new Vt(0,2147483649),new Vt(2147483648,2147516424)],tMe=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function VI(t){let e;const r=[];for(e=0;e<5;e+=1)r[e]=[new Vt(0,0),new Vt(0,0),new Vt(0,0),new Vt(0,0),new Vt(0,0)];return r}function rMe(t){let e;const r=[];for(e=0;e<5;e+=1)r[e]=t[e].slice();return r}function Ex(t,e){let r,n,i,s;const o=[],a=[];if(t!==null)for(n=0;n<t.length;n+=2)e[(n>>>1)%5][(n>>>1)/5|0]=l_(e[(n>>>1)%5][(n>>>1)/5|0],new Vt(t[n+1],t[n]));for(r=0;r<24;r+=1){for(s=VI(),n=0;n<5;n+=1)o[n]=(l=e[n][0],u=e[n][1],d=e[n][2],f=e[n][3],h=e[n][4],new Vt(l.N^u.N^d.N^f.N^h.N,l.I^u.I^d.I^f.I^h.I));for(n=0;n<5;n+=1)a[n]=l_(o[(n+4)%5],mU(o[(n+1)%5],1));for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)e[n][i]=l_(e[n][i],a[n]);for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)s[i][(2*n+3*i)%5]=mU(e[n][i],tMe[n][i]);for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)e[n][i]=l_(s[n][i],new Vt(~s[(n+1)%5][i].N&s[(n+2)%5][i].N,~s[(n+1)%5][i].I&s[(n+2)%5][i].I));e[0][0]=l_(e[0][0],eMe[r])}var l,u,d,f,h;return e}function nJ(t){let e,r,n=0;const i=[0,0],s=[4294967295&t,t/R1&2097151];for(e=6;e>=0;e--)r=s[e>>2]>>>8*e&255,r===0&&n===0||(i[n+1>>2]|=r<<8*(n+1),n+=1);return n=n!==0?n:1,i[0]|=n,{value:n+1>4?i:[i[0]],binLen:8+8*n}}function M3(t){return xT(nJ(t.binLen),t)}function yU(t,e){let r,n=nJ(e);n=xT(n,t);const i=e>>>2,s=(i-n.value.length%i)%i;for(r=0;r<s;r++)n.value.push(0);return n.value}let nMe=class extends AE{constructor(t,e,r){let n=6,i=0;super(t,e,r);const s=r||{};if(this.numRounds!==1){if(s.kmacKey||s.hmacKey)throw new Error(ZQ);if(this.o==="CSHAKE128"||this.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=Cy(this.t,this.i,this.T),this.v=Ex,this.L=rMe,this.B=VI,this.U=VI(),this.K=!1,t){case"SHA3-224":this.m=i=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=i=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=i=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=i=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":n=31,this.m=i=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":n=31,this.m=i=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":n=4,this.m=i=1344,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":n=4,this.m=i=1088,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=i=1344,n=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=i=1088,n=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(M1)}this.F=function(o,a,l,u,d){return function(f,h,g,v,p,b,S){let C,T,A=0;const E=[],I=p>>>5,O=h>>>5;for(C=0;C<O&&h>=p;C+=I)v=Ex(f.slice(C,C+I),v),h-=p;for(f=f.slice(C),h%=p;f.length<I;)f.push(0);for(C=h>>>3,f[C>>2]^=b<<C%4*8,f[I-1]^=2147483648,v=Ex(f,v);32*E.length<S&&(T=v[A%5][A/5|0],E.push(T.I),!(32*E.length>=S));)E.push(T.N),A+=1,64*A%p==0&&(Ex(null,v),A=0);return E}(o,a,0,u,i,n,d)},s.hmacKey&&this.k(qh("hmacKey",s.hmacKey,this.T))}O(t,e){const r=function(i){const s=i||{};return{funcName:qh("funcName",s.funcName,1,{value:[],binLen:0}),customization:qh("Customization",s.customization,1,{value:[],binLen:0})}}(t||{});e&&(r.funcName=e);const n=xT(M3(r.funcName),M3(r.customization));if(r.customization.binLen!==0||r.funcName.binLen!==0){const i=yU(n,this.m>>>3);for(let s=0;s<i.length;s+=this.m>>>5)this.U=this.v(i.slice(s,s+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(t){const e=function(n){const i=n||{};return{kmacKey:qh("kmacKey",i.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:qh("Customization",i.customization,1,{value:[],binLen:0})}}(t||{});this.O(t,e.funcName);const r=yU(M3(e.kmacKey),this.m>>>3);for(let n=0;n<r.length;n+=this.m>>>5)this.U=this.v(r.slice(n,n+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(t){const e=xT({value:this.h.slice(),binLen:this.u},function(r){let n,i,s=0;const o=[0,0],a=[4294967295&r,r/R1&2097151];for(n=6;n>=0;n--)i=a[n>>2]>>>8*n&255,i===0&&s===0||(o[s>>2]|=i<<8*s,s+=1);return s=s!==0?s:1,o[s>>2]|=s<<8*s,{value:s+1>4?o:[o[0]],binLen:8+8*s}}(t.outputLen));return this.F(e.value,e.binLen,this.A,this.L(this.U),t.outputLen)}};class iMe{constructor(e,r,n){if(e=="SHA-1")this.P=new HRe(e,r,n);else if(e=="SHA-224"||e=="SHA-256")this.P=new jRe(e,r,n);else if(e=="SHA-384"||e=="SHA-512")this.P=new JRe(e,r,n);else{if(e!="SHA3-224"&&e!="SHA3-256"&&e!="SHA3-384"&&e!="SHA3-512"&&e!="SHAKE128"&&e!="SHAKE256"&&e!="CSHAKE128"&&e!="CSHAKE256"&&e!="KMAC128"&&e!="KMAC256")throw new Error(M1);this.P=new nMe(e,r,n)}}update(e){return this.P.update(e),this}getHash(e,r){return this.P.getHash(e,r)}setHMACKey(e,r,n){this.P.setHMACKey(e,r,n)}getHMAC(e,r){return this.P.getHMAC(e,r)}}async function sMe(){var e=btoa("841aa35355d86c55c1a948831ab90f23f80f71c65a08feb0dc4830a066fd55d36422c464bc58128edecf2f0bf5e0baadfda1168f8cb5883bd8ff6745454afe8b");const r=new iMe("SHA-256","TEXT");r.update(e);var n=r.getHash("B64");n=n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),Ae.code_challenge=n}async function iJ(){await sMe(),document.domain=="localhost"?Ae.redirect_uri=Xt.redirectUrl:document.referrer!=""?Ae.redirect_uri=document.referrer:Ae.redirect_uri=window.location.origin;const t={baseURL:Xt.authUrl,url:"oauth2/authorize",method:"GET",params:{response_type:"code",code_challenge_method:"S256",code_challenge:Ae.code_challenge,redirect_uri:"http://127.0.0.1:15173",scope:"openid permission",client_id:"pkce"},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,maxRedirects:0};or(t).then(function(e){console.log(e.request.responseURL)}).catch(function(e){console.log(e)})}function sJ(t){const e="==".slice(0,(4-t.length%4)%4),r=t.replace(/-/g,"+").replace(/_/g,"/")+e,n=atob(r),i=new ArrayBuffer(n.length),s=new Uint8Array(i);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return i}function oJ(t){const e=new Uint8Array(t);let r="";for(const s of e)r+=String.fromCharCode(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Mi="copy",Dl="convert";function $v(t,e,r){if(e===Mi)return r;if(e===Dl)return t(r);if(e instanceof Array)return r.map(n=>$v(t,e[0],n));if(e instanceof Object){const n={};for(const[i,s]of Object.entries(e)){if(s.derive){const o=s.derive(r);o!==void 0&&(r[i]=o)}if(!(i in r)){if(s.required)throw new Error(`Missing key: ${i}`);continue}if(r[i]==null){n[i]=null;continue}n[i]=$v(t,s.schema,r[i])}return n}}function zI(t,e){return{required:!0,schema:t,derive:e}}function Qi(t){return{required:!0,schema:t}}function Os(t){return{required:!1,schema:t}}var aJ={type:Qi(Mi),id:Qi(Dl),transports:Os(Mi)},lJ={appid:Os(Mi),appidExclude:Os(Mi),credProps:Os(Mi)},uJ={appid:Os(Mi),appidExclude:Os(Mi),credProps:Os(Mi)},oMe={publicKey:Qi({rp:Qi(Mi),user:Qi({id:Qi(Dl),name:Qi(Mi),displayName:Qi(Mi)}),challenge:Qi(Dl),pubKeyCredParams:Qi(Mi),timeout:Os(Mi),excludeCredentials:Os([aJ]),authenticatorSelection:Os(Mi),attestation:Os(Mi),extensions:Os(lJ)}),signal:Os(Mi)},aMe={type:Qi(Mi),id:Qi(Mi),rawId:Qi(Dl),authenticatorAttachment:Os(Mi),response:Qi({clientDataJSON:Qi(Dl),attestationObject:Qi(Dl),transports:zI(Mi,t=>{var e;return((e=t.getTransports)==null?void 0:e.call(t))||[]})}),clientExtensionResults:zI(uJ,t=>t.getClientExtensionResults())},lMe={mediation:Os(Mi),publicKey:Qi({challenge:Qi(Dl),timeout:Os(Mi),rpId:Os(Mi),allowCredentials:Os([aJ]),userVerification:Os(Mi),extensions:Os(lJ)}),signal:Os(Mi)},uMe={type:Qi(Mi),id:Qi(Mi),rawId:Qi(Dl),authenticatorAttachment:Os(Mi),response:Qi({clientDataJSON:Qi(Dl),authenticatorData:Qi(Dl),signature:Qi(Dl),userHandle:Qi(Dl)}),clientExtensionResults:zI(uJ,t=>t.getClientExtensionResults())};function cMe(t){return $v(sJ,oMe,t)}function dMe(t){return $v(oJ,aMe,t)}async function cJ(t){const e=await navigator.credentials.create(cMe(t));return dMe(e)}function fMe(t){return $v(sJ,lMe,t)}function hMe(t){return $v(oJ,uMe,t)}async function pMe(t){const e=await navigator.credentials.get(fMe(t));return hMe(e)}const mMe=()=>{wt.qrcode=!0;const t={baseURL:Xt.apiUrl,url:"/public/key",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};or(t).then(async function(e){Ae.code_verifier=e.data,Ae.qrcodeUrl=Xt.authUrl+"/login/qrcode?text="+e.data,Ae.code_verifier!=null&&Ae.code_verifier!=""&&gMe()})};async function gMe(){var t=new EventSource(Xt.apiUrl+"/public/token/qrcode?text="+Ae.code_verifier,{withCredentials:!0});t.onmessage=async e=>{var r=e.data.split("&&");Ae.access_token=r[0],Ae.id_token=r[1];const n=wI(Ae.id_token),i=JSON.stringify(n),s=JSON.parse(i);Ae.permission=s.permission,Ae.sub=s.sub,Ae.email_verified=s.email_verified,Ae.client_id=s.azp,t.close(),wt.qrcode=!1,Ae.sub!=""&&(await vMe()).data==200&&hJ("")}}const vMe=async()=>{const t={baseURL:Xt.authUrl,url:"/login/token",method:"POST",data:{token:Ae.access_token,idToken:Ae.id_token},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};return await or(t)},u8=window.location.href,dJ=new URL(u8).searchParams.get("redirect_uri"),fJ=new URL(u8).searchParams.get("state"),O3=new URL(u8).searchParams.get("username"),$3=document.referrer;var yf;$3!=""&&$3!=null&&(yf=$3.split(".")[0].split("//")[1],yf!="elpsykongroo"&&yf!="auth"&&yf!="preview"&&document.domain!="localhost"&&document.domain!="127.0.0.1"&&(wt.webauthnFormVisible=!0));dJ!=null&&fJ!=null&&(wt.webauthnFormVisible=!0);O3!=null&&O3!=null&&(Ae.sub="",Ae.username=O3,HI());const yMe=()=>{if(Ae.username.length>0){wt.loading=!0;const t={baseURL:Xt.authUrl,url:"/register",method:"POST",data:{username:Ae.username,display:Ae.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};or(t).then(async function(e){if(e.message==="Network Error"&&e.request.status===0&&e.request.responseURL===""){wt.loading=!1;return}if(e.data==409){ri.alert("the user already exist"),wt.loading=!1;return}if(e.data){const r=await cJ(e.data);_Me(r)}})}},_Me=t=>{const e={baseURL:Xt.authUrl,url:"/finishAuth",method:"POST",data:{credname:Ae.username,username:Ae.username,credential:JSON.stringify(t)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};or(e).then(function(r){wt.loading=!1,r.data==200?gb({title:"Register success",message:"have fun with login",duration:5e3}):gb({title:"Register failed",message:"this user already exist",duration:5e3})})};async function HI(){if(Ae.username.length>0){wt.loading=!0;const t={baseURL:Xt.authUrl,url:"/login",method:"POST",data:{username:Ae.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};or(t).then(async function(e){if(wt.loading=!1,e.data==200)if(Ov().length==0)pS(Ae.username);else{const r=await WQ();(r==""||r==null)&&pS(Ae.username),wt.webauthnFormVisible=!1}else if(e.data==202)ri.alert("already login with other user");else if(e.data==400)ri.alert("you need a authenticator, please check your email to add");else if(e.data==401)ri.alert("your account may be locked");else if(e.data==404)ri.alert("the user is not exist");else if(e.status==503)ri.alert("network error, please try again later");else if(e.status==500)ri.alert("service error, please try again later");else if(e.status!=403&&e.message!="Network Error"){wt.loading=!0;try{if(e.data){const r=await pMe(e.data);if(r){const n={baseURL:Xt.authUrl,url:"/welcome",method:"POST",data:{username:Ae.username,credential:JSON.stringify(r)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};or(n).then(function(i){i.data==200?(wt.loading=!1,wt.webauthnFormVisible=!1,console.log(yf),yf==null||yf=="elpsykongroo"||yf=="labroom"||yf=="preview"?pS(Ae.username):dJ!=null&&fJ!=null&&(window.location.href=Xt.authUrl+"/oauth2/authorize"+window.location.search)):i.data==401?ri.alert("authentication failed"):window.location.href=i.data})}else wt.tmpLogin=!0}}catch(r){console.log(r),alert(r),wt.loading=!1;return}}})}}const pS=t=>{document.domain!="localhost"&&document.domain!="127.0.0.1"?hJ(t):iJ()},hJ=t=>{Ae.username=="admin"||t=="admin"?window.location.href=Xt.oauth2ProxyPkceUrl+"/oauth2/start?rd=https://"+window.location.host:window.location.href=Xt.oauth2ProxyUrl+"/oauth2/start?rd=https://"+window.location.host},bMe=()=>{wt.tmpLogin=!1;const t={baseURL:Xt.authUrl,url:"/email/tmp",method:"POST",data:{username:Ae.username},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};or(t)};async function pJ(){nS("you will logout in 3s"),Wh(),Ae.grant_type="",Ae.expires_in=5,Ae.sub="",await xMe(),await wMe(),Ae.access_token="",Ae.refresh_token="",Ae.id_token="",window.location.href=Xt.redirectUrl}async function xMe(){const t={baseURL:Xt.authUrl,url:"/oauth2/revoke",method:"POST",data:{token:Ae.access_token,client_id:Ae.client_id},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};await or(t)}async function wMe(){const t={baseURL:Xt.authUrl,url:"/connect/logout",method:"POST",data:{id_token_hint:Ae.id_token,post_logout_redirect_uri:Xt.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};await or(t)}/*!
 * qrcode.vue v3.5.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var wf=function(){return wf=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wf.apply(this,arguments)};var Tm;(function(t){var e=function(){function o(a,l,u,d){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var f=[],h=0;h<this.size;h++)f.push(!1);for(var h=0;h<this.size;h++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var g=this.addEccAndInterleave(u);if(this.drawCodewords(g),d==-1)for(var v=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var p=this.getPenaltyScore();p<v&&(d=h,v=p),this.applyMask(h)}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}return o.encodeText=function(a,l){var u=t.QrSegment.makeSegments(a);return o.encodeSegments(u,l)},o.encodeBinary=function(a,l){var u=t.QrSegment.makeBytes(a);return o.encodeSegments([u],l)},o.encodeSegments=function(a,l,u,d,f,h){if(u===void 0&&(u=1),d===void 0&&(d=40),f===void 0&&(f=-1),h===void 0&&(h=!0),!(o.MIN_VERSION<=u&&u<=d&&d<=o.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var g,v;for(g=u;;g++){var p=o.getNumDataCodewords(g,l)*8,b=s.getTotalBits(a,g);if(b<=p){v=b;break}if(g>=d)throw new RangeError("Data too long")}for(var S=0,C=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];S<C.length;S++){var T=C[S];h&&v<=o.getNumDataCodewords(g,T)*8&&(l=T)}for(var A=[],E=0,I=a;E<I.length;E++){var O=I[E];r(O.mode.modeBits,4,A),r(O.numChars,O.mode.numCharCountBits(g),A);for(var N=0,G=O.getData();N<G.length;N++){var ie=G[N];A.push(ie)}}i(A.length==v);var W=o.getNumDataCodewords(g,l)*8;i(A.length<=W),r(0,Math.min(4,W-A.length),A),r(0,(8-A.length%8)%8,A),i(A.length%8==0);for(var q=236;A.length<W;q^=253)r(q,8,A);for(var J=[];J.length*8<A.length;)J.push(0);return A.forEach(function(X,R){return J[R>>>3]|=X<<7-(R&7)}),new o(g,l,J,f)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),u=l.length,a=0;a<u;a++)for(var d=0;d<u;d++)a==0&&d==0||a==0&&d==u-1||a==u-1&&d==0||this.drawAlignmentPattern(l[a],l[d]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,u=l,d=0;d<10;d++)u=u<<1^(u>>>9)*1335;var f=(l<<10|u)^21522;i(f>>>15==0);for(var d=0;d<=5;d++)this.setFunctionModule(8,d,n(f,d));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(var d=9;d<15;d++)this.setFunctionModule(14-d,8,n(f,d));for(var d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,n(f,d));for(var d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,n(f,d));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var u=this.version<<12|a;i(u>>>18==0);for(var l=0;l<18;l++){var d=n(u,l),f=this.size-11+l%3,h=Math.floor(l/3);this.setFunctionModule(f,h,d),this.setFunctionModule(h,f,d)}}},o.prototype.drawFinderPattern=function(a,l){for(var u=-4;u<=4;u++)for(var d=-4;d<=4;d++){var f=Math.max(Math.abs(d),Math.abs(u)),h=a+d,g=l+u;0<=h&&h<this.size&&0<=g&&g<this.size&&this.setFunctionModule(h,g,f!=2&&f!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var u=-2;u<=2;u++)for(var d=-2;d<=2;d++)this.setFunctionModule(a+d,l+u,Math.max(Math.abs(d),Math.abs(u))!=1)},o.prototype.setFunctionModule=function(a,l,u){this.modules[l][a]=u,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,u=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");for(var d=o.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],f=o.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],h=Math.floor(o.getNumRawDataModules(l)/8),g=d-h%d,v=Math.floor(h/d),p=[],b=o.reedSolomonComputeDivisor(f),S=0,C=0;S<d;S++){var T=a.slice(C,C+v-f+(S<g?0:1));C+=T.length;var A=o.reedSolomonComputeRemainder(T,b);S<g&&T.push(0),p.push(T.concat(A))}for(var E=[],I=function(O){p.forEach(function(N,G){(O!=v-f||G>=g)&&E.push(N[O])})},S=0;S<p[0].length;S++)I(S);return i(E.length==h),E},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(var d=0;d<this.size;d++)for(var f=0;f<2;f++){var h=u-f,g=(u+1&2)==0,v=g?this.size-1-d:d;!this.isFunction[v][h]&&l<a.length*8&&(this.modules[v][h]=n(a[l>>>3],7-(l&7)),l++)}}i(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var u=0;u<this.size;u++){var d=void 0;switch(a){case 0:d=(u+l)%2==0;break;case 1:d=l%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+l)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:d=u*l%2+u*l%3==0;break;case 6:d=(u*l%2+u*l%3)%2==0;break;case 7:d=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&d&&(this.modules[l][u]=!this.modules[l][u])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var u=!1,d=0,f=[0,0,0,0,0,0,0],h=0;h<this.size;h++)this.modules[l][h]==u?(d++,d==5?a+=o.PENALTY_N1:d>5&&a++):(this.finderPenaltyAddHistory(d,f),u||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),u=this.modules[l][h],d=1);a+=this.finderPenaltyTerminateAndCount(u,d,f)*o.PENALTY_N3}for(var h=0;h<this.size;h++){for(var u=!1,g=0,f=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][h]==u?(g++,g==5?a+=o.PENALTY_N1:g>5&&a++):(this.finderPenaltyAddHistory(g,f),u||(a+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),u=this.modules[l][h],g=1);a+=this.finderPenaltyTerminateAndCount(u,g,f)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var h=0;h<this.size-1;h++){var v=this.modules[l][h];v==this.modules[l][h+1]&&v==this.modules[l+1][h]&&v==this.modules[l+1][h+1]&&(a+=o.PENALTY_N2)}for(var p=0,b=0,S=this.modules;b<S.length;b++){var C=S[b];p=C.reduce(function(E,I){return E+(I?1:0)},p)}var T=this.size*this.size,A=Math.ceil(Math.abs(p*20-T*10)/T)-1;return i(0<=A&&A<=9),a+=A*o.PENALTY_N4,i(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,u=[6],d=this.size-7;u.length<a;d-=l)u.splice(1,0,d);return u},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var u=Math.floor(a/7)+2;l-=(25*u-10)*u-55,a>=7&&(l-=36)}return i(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],u=0;u<a-1;u++)l.push(0);l.push(1);for(var d=1,u=0;u<a;u++){for(var f=0;f<l.length;f++)l[f]=o.reedSolomonMultiply(l[f],d),f+1<l.length&&(l[f]^=l[f+1]);d=o.reedSolomonMultiply(d,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var u=l.map(function(v){return 0}),d=function(v){var p=v^u.shift();u.push(0),l.forEach(function(b,S){return u[S]^=o.reedSolomonMultiply(b,p)})},f=0,h=a;f<h.length;f++){var g=h[f];d(g)}return u},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var u=0,d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(l>>>d&1)*a;return i(u>>>8==0),u},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];i(l<=this.size*3);var u=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(u&&a[0]>=l*4&&a[6]>=l?1:0)+(u&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,u){return a&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=e;function r(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var u=a-1;u>=0;u--)l.push(o>>>u&1)}function n(o,a){return(o>>>a&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}var s=function(){function o(a,l,u){if(this.mode=a,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}return o.makeBytes=function(a){for(var l=[],u=0,d=a;u<d.length;u++){var f=d[u];r(f,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],u=0;u<a.length;){var d=Math.min(a.length-u,3);r(parseInt(a.substring(u,u+d),10),d*3+1,l),u+=d}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],u;for(u=0;u+2<=a.length;u+=2){var d=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u+1)),r(d,11,l)}return u<a.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)r(a,8,l);else if(a<16384)r(2,2,l),r(a,14,l);else if(a<1e6)r(6,3,l),r(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var u=0,d=0,f=a;d<f.length;d++){var h=f[d],g=h.mode.numCharCountBits(l);if(h.numChars>=1<<g)return 1/0;u+=4+g+h.bitData.length}return u},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],u=0;u<a.length;u++)a.charAt(u)!="%"?l.push(a.charCodeAt(u)):(l.push(parseInt(a.substring(u+1,u+3),16)),u+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=s})(Tm||(Tm={}));(function(t){(function(e){var r=function(){function n(i,s){this.ordinal=i,this.formatBits=s}return n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),n}();e.Ecc=r})(t.QrCode||(t.QrCode={}))})(Tm||(Tm={}));(function(t){(function(e){var r=function(){function n(i,s){this.modeBits=i,this.numBitsCharCount=s}return n.prototype.numCharCountBits=function(i){return this.numBitsCharCount[Math.floor((i+7)/17)]},n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),n}();e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Tm||(Tm={}));var Lg=Tm,mJ="L",c8={L:Lg.QrCode.Ecc.LOW,M:Lg.QrCode.Ecc.MEDIUM,Q:Lg.QrCode.Ecc.QUARTILE,H:Lg.QrCode.Ecc.HIGH},SMe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function gJ(t){return t in c8}function vJ(t,e){e===void 0&&(e=0);var r=[];return t.forEach(function(n,i){var s=null;n.forEach(function(o,a){if(!o&&s!==null){r.push("M".concat(s+e," ").concat(i+e,"h").concat(a-s,"v1H").concat(s+e,"z")),s=null;return}if(a===n.length-1){if(!o)return;s===null?r.push("M".concat(a+e,",").concat(i+e," h1v1H").concat(a+e,"z")):r.push("M".concat(s+e,",").concat(i+e," h").concat(a+1-s,"v1H").concat(s+e,"z"));return}o&&s===null&&(s=a)})}),r.join("")}function yJ(t,e,r,n){var i=n.width,s=n.height,o=n.x,a=n.y,l=t.length+r*2,u=Math.floor(e*.1),d=l/e,f=(i||u)*d,h=(s||u)*d,g=o==null?t.length/2-f/2:o*d,v=a==null?t.length/2-h/2:a*d,p=null;if(n.excavate){var b=Math.floor(g),S=Math.floor(v),C=Math.ceil(f+g-b),T=Math.ceil(h+v-S);p={x:b,y:S,w:C,h:T}}return{x:g,y:v,h,w:f,excavation:p}}function _J(t,e){return t.slice().map(function(r,n){return n<e.y||n>=e.y+e.h?r:r.map(function(i,s){return s<e.x||s>=e.x+e.w?i:!1})})}var d8={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:mJ,validator:function(t){return gJ(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}}},TMe=wf(wf({},d8),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),CMe=rt({name:"QRCodeSvg",props:d8,setup:function(t){var e=ve(0),r=ve(""),n,i=function(){var s=t.value,o=t.level,a=t.margin,l=Lg.QrCode.encodeText(s,c8[o]).getModules();if(e.value=l.length+a*2,t.imageSettings.src){var u=yJ(l,t.size,a,t.imageSettings);n={x:u.x+a,y:u.y+a,width:u.w,height:u.h},u.excavation&&(l=_J(l,u.excavation))}r.value=vJ(l,a)};return i(),Pp(i),function(){return br("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[br("path",{fill:t.background,d:"M0,0 h".concat(e.value,"v").concat(e.value,"H0z")}),br("path",{fill:t.foreground,d:r.value}),t.imageSettings.src&&br("image",wf({href:t.imageSettings.src},n))])}}}),EMe=rt({name:"QRCodeCanvas",props:d8,setup:function(t,e){var r=ve(null),n=ve(null),i=function(){var o=t.value,a=t.level,l=t.size,u=t.margin,d=t.background,f=t.foreground,h=r.value;if(h){var g=h.getContext("2d");if(g){var v=Lg.QrCode.encodeText(o,c8[a]).getModules(),p=v.length+u*2,b=n.value,S={x:0,y:0,width:0,height:0},C=t.imageSettings.src&&b!=null&&b.naturalWidth!==0&&b.naturalHeight!==0;if(C){var T=yJ(v,t.size,u,t.imageSettings);S={x:T.x+u,y:T.y+u,width:T.w,height:T.h},T.excavation&&(v=_J(v,T.excavation))}var A=window.devicePixelRatio||1,E=l/p*A;h.height=h.width=l*A,g.scale(E,E),g.fillStyle=d,g.fillRect(0,0,p,p),g.fillStyle=f,SMe?g.fill(new Path2D(vJ(v,u))):v.forEach(function(I,O){I.forEach(function(N,G){N&&g.fillRect(G+u,O+u,1,1)})}),C&&g.drawImage(b,S.x,S.y,S.width,S.height)}}};zn(i),Pp(i);var s=e.attrs.style;return function(){return br(Sr,[br("canvas",wf(wf({},e.attrs),{ref:r,style:wf(wf({},s),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&br("img",{ref:n,src:t.imageSettings.src,style:{display:"none"},onLoad:i})])}}}),AMe=rt({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,r=t.value,n=t.size,i=t.margin,s=t.level,o=t.background,a=t.foreground,l=t.imageSettings,u=n>>>0,d=i>>>0,f=gJ(s)?s:mJ;return br(e==="svg"?CMe:EMe,{value:r,size:u,margin:d,level:f,background:o,foreground:a,imageSettings:l})},props:TMe});function PMe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bJ={exports:{}};const kMe={},IMe=Object.freeze(Object.defineProperty({__proto__:null,default:kMe},Symbol.toStringTag,{value:"Module"})),f8=fY(IMe);(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,r){typeof PMe=="function"&&t&&t.exports?t.exports=r():(e.dcodeIO=e.dcodeIO||{}).bcrypt=r()})(yo,function(){var e={},r=null;function n(W){if(t&&t.exports)try{return f8.randomBytes(W)}catch{}try{var q;return(self.crypto||self.msCrypto).getRandomValues(q=new Uint32Array(W)),Array.prototype.slice.call(q)}catch{}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(W)}var i=!1;try{n(1),i=!0}catch{}r=null,e.setRandomFallback=function(W){r=W},e.genSaltSync=function(W,q){if(W=W||p,typeof W!="number")throw Error("Illegal arguments: "+typeof W+", "+typeof q);W<4?W=4:W>31&&(W=31);var J=[];return J.push("$2a$"),W<10&&J.push("0"),J.push(W.toString()),J.push("$"),J.push(f(n(v),v)),J.join("")},e.genSalt=function(W,q,J){if(typeof q=="function"&&(J=q,q=void 0),typeof W=="function"&&(J=W,W=void 0),typeof W>"u")W=p;else if(typeof W!="number")throw Error("illegal arguments: "+typeof W);function X(R){o(function(){try{R(null,e.genSaltSync(W))}catch(z){R(z)}})}if(J){if(typeof J!="function")throw Error("Illegal callback: "+typeof J);X(J)}else return new Promise(function(R,z){X(function(re,oe){if(re){z(re);return}R(oe)})})},e.hashSync=function(W,q){if(typeof q>"u"&&(q=p),typeof q=="number"&&(q=e.genSaltSync(q)),typeof W!="string"||typeof q!="string")throw Error("Illegal arguments: "+typeof W+", "+typeof q);return ie(W,q)},e.hash=function(W,q,J,X){function R(z){typeof W=="string"&&typeof q=="number"?e.genSalt(q,function(re,oe){ie(W,oe,z,X)}):typeof W=="string"&&typeof q=="string"?ie(W,q,z,X):o(z.bind(this,Error("Illegal arguments: "+typeof W+", "+typeof q)))}if(J){if(typeof J!="function")throw Error("Illegal callback: "+typeof J);R(J)}else return new Promise(function(z,re){R(function(oe,H){if(oe){re(oe);return}z(H)})})};function s(W,q){for(var J=0,X=0,R=0,z=W.length;R<z;++R)W.charCodeAt(R)===q.charCodeAt(R)?++J:++X;return J<0?!1:X===0}e.compareSync=function(W,q){if(typeof W!="string"||typeof q!="string")throw Error("Illegal arguments: "+typeof W+", "+typeof q);return q.length!==60?!1:s(e.hashSync(W,q.substr(0,q.length-31)),q)},e.compare=function(W,q,J,X){function R(z){if(typeof W!="string"||typeof q!="string"){o(z.bind(this,Error("Illegal arguments: "+typeof W+", "+typeof q)));return}if(q.length!==60){o(z.bind(this,null,!1));return}e.hash(W,q.substr(0,29),function(re,oe){re?z(re):z(null,s(oe,q))},X)}if(J){if(typeof J!="function")throw Error("Illegal callback: "+typeof J);R(J)}else return new Promise(function(z,re){R(function(oe,H){if(oe){re(oe);return}z(H)})})},e.getRounds=function(W){if(typeof W!="string")throw Error("Illegal arguments: "+typeof W);return parseInt(W.split("$")[2],10)},e.getSalt=function(W){if(typeof W!="string")throw Error("Illegal arguments: "+typeof W);if(W.length!==60)throw Error("Illegal hash length: "+W.length+" != 60");return W.substring(0,29)};var o=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function a(W){var q=[],J=0;return g.encodeUTF16toUTF8(function(){return J>=W.length?null:W.charCodeAt(J++)},function(X){q.push(X)}),q}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],d=String.fromCharCode;function f(W,q){var J=0,X=[],R,z;if(q<=0||q>W.length)throw Error("Illegal len: "+q);for(;J<q;){if(R=W[J++]&255,X.push(l[R>>2&63]),R=(R&3)<<4,J>=q){X.push(l[R&63]);break}if(z=W[J++]&255,R|=z>>4&15,X.push(l[R&63]),R=(z&15)<<2,J>=q){X.push(l[R&63]);break}z=W[J++]&255,R|=z>>6&3,X.push(l[R&63]),X.push(l[z&63])}return X.join("")}function h(W,q){var J=0,X=W.length,R=0,z=[],re,oe,H,ee,ae,be;if(q<=0)throw Error("Illegal len: "+q);for(;J<X-1&&R<q&&(be=W.charCodeAt(J++),re=be<u.length?u[be]:-1,be=W.charCodeAt(J++),oe=be<u.length?u[be]:-1,!(re==-1||oe==-1||(ae=re<<2>>>0,ae|=(oe&48)>>4,z.push(d(ae)),++R>=q||J>=X)||(be=W.charCodeAt(J++),H=be<u.length?u[be]:-1,H==-1)||(ae=(oe&15)<<4>>>0,ae|=(H&60)>>2,z.push(d(ae)),++R>=q||J>=X)));)be=W.charCodeAt(J++),ee=be<u.length?u[be]:-1,ae=(H&3)<<6>>>0,ae|=ee,z.push(d(ae)),++R;var Me=[];for(J=0;J<R;J++)Me.push(z[J].charCodeAt(0));return Me}var g=function(){var W={};return W.MAX_CODEPOINT=1114111,W.encodeUTF8=function(q,J){var X=null;for(typeof q=="number"&&(X=q,q=function(){return null});X!==null||(X=q())!==null;)X<128?J(X&127):X<2048?(J(X>>6&31|192),J(X&63|128)):X<65536?(J(X>>12&15|224),J(X>>6&63|128),J(X&63|128)):(J(X>>18&7|240),J(X>>12&63|128),J(X>>6&63|128),J(X&63|128)),X=null},W.decodeUTF8=function(q,J){for(var X,R,z,re,oe=function(H){H=H.slice(0,H.indexOf(null));var ee=Error(H.toString());throw ee.name="TruncatedError",ee.bytes=H,ee};(X=q())!==null;)if(!(X&128))J(X);else if((X&224)===192)(R=q())===null&&oe([X,R]),J((X&31)<<6|R&63);else if((X&240)===224)((R=q())===null||(z=q())===null)&&oe([X,R,z]),J((X&15)<<12|(R&63)<<6|z&63);else if((X&248)===240)((R=q())===null||(z=q())===null||(re=q())===null)&&oe([X,R,z,re]),J((X&7)<<18|(R&63)<<12|(z&63)<<6|re&63);else throw RangeError("Illegal starting byte: "+X)},W.UTF16toUTF8=function(q,J){for(var X,R=null;(X=R!==null?R:q())!==null;){if(X>=55296&&X<=57343&&(R=q())!==null&&R>=56320&&R<=57343){J((X-55296)*1024+R-56320+65536),R=null;continue}J(X)}R!==null&&J(R)},W.UTF8toUTF16=function(q,J){var X=null;for(typeof q=="number"&&(X=q,q=function(){return null});X!==null||(X=q())!==null;)X<=65535?J(X):(X-=65536,J((X>>10)+55296),J(X%1024+56320)),X=null},W.encodeUTF16toUTF8=function(q,J){W.UTF16toUTF8(q,function(X){W.encodeUTF8(X,J)})},W.decodeUTF8toUTF16=function(q,J){W.decodeUTF8(q,function(X){W.UTF8toUTF16(X,J)})},W.calculateCodePoint=function(q){return q<128?1:q<2048?2:q<65536?3:4},W.calculateUTF8=function(q){for(var J,X=0;(J=q())!==null;)X+=W.calculateCodePoint(J);return X},W.calculateUTF16asUTF8=function(q){var J=0,X=0;return W.UTF16toUTF8(q,function(R){++J,X+=W.calculateCodePoint(R)}),[J,X]},W}();Date.now=Date.now||function(){return+new Date};var v=16,p=10,b=16,S=100,C=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],T=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],A=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function E(W,q,J,X){var R,z=W[q],re=W[q+1];return z^=J[0],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[1],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[2],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[3],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[4],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[5],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[6],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[7],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[8],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[9],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[10],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[11],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[12],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[13],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[14],R=X[z>>>24],R+=X[256|z>>16&255],R^=X[512|z>>8&255],R+=X[768|z&255],re^=R^J[15],R=X[re>>>24],R+=X[256|re>>16&255],R^=X[512|re>>8&255],R+=X[768|re&255],z^=R^J[16],W[q]=re^J[b+1],W[q+1]=z,W}function I(W,q){for(var J=0,X=0;J<4;++J)X=X<<8|W[q]&255,q=(q+1)%W.length;return{key:X,offp:q}}function O(W,q,J){for(var X=0,R=[0,0],z=q.length,re=J.length,oe,H=0;H<z;H++)oe=I(W,X),X=oe.offp,q[H]=q[H]^oe.key;for(H=0;H<z;H+=2)R=E(R,0,q,J),q[H]=R[0],q[H+1]=R[1];for(H=0;H<re;H+=2)R=E(R,0,q,J),J[H]=R[0],J[H+1]=R[1]}function N(W,q,J,X){for(var R=0,z=[0,0],re=J.length,oe=X.length,H,ee=0;ee<re;ee++)H=I(q,R),R=H.offp,J[ee]=J[ee]^H.key;for(R=0,ee=0;ee<re;ee+=2)H=I(W,R),R=H.offp,z[0]^=H.key,H=I(W,R),R=H.offp,z[1]^=H.key,z=E(z,0,J,X),J[ee]=z[0],J[ee+1]=z[1];for(ee=0;ee<oe;ee+=2)H=I(W,R),R=H.offp,z[0]^=H.key,H=I(W,R),R=H.offp,z[1]^=H.key,z=E(z,0,J,X),X[ee]=z[0],X[ee+1]=z[1]}function G(W,q,J,X,R){var z=A.slice(),re=z.length,oe;if(J<4||J>31)if(oe=Error("Illegal number of rounds (4-31): "+J),X){o(X.bind(this,oe));return}else throw oe;if(q.length!==v)if(oe=Error("Illegal salt length: "+q.length+" != "+v),X){o(X.bind(this,oe));return}else throw oe;J=1<<J>>>0;var H,ee,ae=0,be;Int32Array?(H=new Int32Array(C),ee=new Int32Array(T)):(H=C.slice(),ee=T.slice()),N(q,W,H,ee);function Me(){if(R&&R(ae/J),ae<J)for(var ht=Date.now();ae<J&&(ae=ae+1,O(W,H,ee),O(q,H,ee),!(Date.now()-ht>S)););else{for(ae=0;ae<64;ae++)for(be=0;be<re>>1;be++)E(z,be<<1,H,ee);var je=[];for(ae=0;ae<re;ae++)je.push((z[ae]>>24&255)>>>0),je.push((z[ae]>>16&255)>>>0),je.push((z[ae]>>8&255)>>>0),je.push((z[ae]&255)>>>0);if(X){X(null,je);return}else return je}X&&o(Me)}if(typeof X<"u")Me();else for(var Qe;;)if(typeof(Qe=Me())<"u")return Qe||[]}function ie(W,q,J,X){var R;if(typeof W!="string"||typeof q!="string")if(R=Error("Invalid string / salt: Not a string"),J){o(J.bind(this,R));return}else throw R;var z,re;if(q.charAt(0)!=="$"||q.charAt(1)!=="2")if(R=Error("Invalid salt version: "+q.substring(0,2)),J){o(J.bind(this,R));return}else throw R;if(q.charAt(2)==="$")z=String.fromCharCode(0),re=3;else{if(z=q.charAt(2),z!=="a"&&z!=="b"&&z!=="y"||q.charAt(3)!=="$")if(R=Error("Invalid salt revision: "+q.substring(2,4)),J){o(J.bind(this,R));return}else throw R;re=4}if(q.charAt(re+2)>"$")if(R=Error("Missing salt rounds"),J){o(J.bind(this,R));return}else throw R;var oe=parseInt(q.substring(re,re+1),10)*10,H=parseInt(q.substring(re+1,re+2),10),ee=oe+H,ae=q.substring(re+3,re+25);W+=z>="a"?"\0":"";var be=a(W),Me=h(ae,v);function Qe(ht){var je=[];return je.push("$2"),z>="a"&&je.push(z),je.push("$"),ee<10&&je.push("0"),je.push(ee.toString()),je.push("$"),je.push(f(Me,Me.length)),je.push(f(ht,A.length*4-1)),je.join("")}if(typeof J>"u")return Qe(G(be,Me,ee));G(be,Me,ee,function(ht,je){ht?J(ht,null):J(null,Qe(je))},X)}return e.encodeBase64=f,e.decodeBase64=h,e})})(bJ);var DMe=bJ.exports;const jI=oo(DMe),RMe=async()=>{let t;const e={baseURL:Xt.authUrl,url:"auth/user/"+Ae.sub,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};return await or(e).then(function(r){r!=null&&(t=r.data)}),t},h8=async(t,e,r)=>{let n;const i={baseURL:Xt.authUrl,url:"/auth/user",method:"GET",params:{pageNumber:t,pageSize:e,order:r},headers:{Authorization:"Bearer "+Ae.access_token}};return await or(i).then(function(s){n=s.data,Wo.users=n}),n},_U=async(t,e)=>{let r,n;return r={baseURL:Xt.messageUrl,url:"notice/user",method:"GET",params:{user:t,draft:e},headers:{Authorization:"Bearer "+Ae.access_token}},t==""&&(r={baseURL:Xt.messageUrl,url:"notice/user",method:"GET",params:{user:t,draft:e}}),await or(r).then(function(i){n=i.data,n.forEach(s=>{s.timestamp=$r(s.timestamp).format("YYYY-MM-DD HH:mm:ss")}),Wo.notifications=n}),n},GI=async(t,e)=>{let r;const n={baseURL:Xt.messageUrl,url:"notice",method:"POST",data:{topic:t},headers:{Authorization:"Bearer "+Ae.access_token}};return e!=""&&(n.data.draft=!!e),await or(n).then(function(i){r=i.data,r.forEach(s=>{s.timestamp=$r(s.timestamp).format("YYYY-MM-DD HH:mm:ss")}),Wo.notifications=r}),r},WI=async()=>{let t;const e={baseURL:Xt.messageUrl,url:"notice/topic",method:"GET",params:{topic:""},headers:{Authorization:"Bearer "+Ae.access_token}};return await or(e).then(function(r){t=r.data,wt.topicLoad=!1,Wo.topics=t}),t},xJ=(t,e)=>{t.username=e;const r={baseURL:Xt.authUrl,url:"auth/user",method:"POST",data:t,headers:{Authorization:"Bearer "+Ae.access_token}};t.password==""||t.password==null?or(r).then(function(n){n.status==200&&(wt.userForm=!1)}):t.password.startsWith("{bcrypt}")?or(r).then(function(n){n.status==200&&(wt.userForm=!1)}):jI.hash(t.password,10).then(function(n){t.password="{bcrypt}"+n,or(r).then(function(i){i.status==200&&(wt.userForm=!1)})})};async function qI(t){const e=VK.service({fullscreen:!0});Object.assign(fo,Xg()),el.username=t;const r={baseURL:Xt.authUrl,url:"auth/user/info/"+t,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};let n;return await or(r).then(function(i){if(Wr(()=>{e.close()}),i.data==null)fo.value=Xg();else{const o=i.data;for(var s in o)o[s]===!0?o[s]="true":o[s]===!1&&(o[s]="false");fo.value=o,n=o}}),n}const MMe={class:"dialog-footer"},OMe={class:"dialog-footer"},$Me=rt({__name:"Notice",setup(t){const e=ve(!0),r=ve(!1),n=ve(!1),i=ve(!1),s=ve(""),o=ve("");let l=an((()=>({title:"",body:"",imageUrl:"",timestamp:"",topic:"",draft:"true"}))()),d=an((()=>({name:"",users:[],registers:[]}))());const f=(C,T)=>{s.value=T,o.value=C,r.value=!0},h=async()=>{Wo.users=await h8(0,10,0),e.value=!1},g=()=>{const C={baseURL:Xt.messageUrl,url:"notice",method:"PUT",data:{topic:l.topic,title:l.title,body:l.body,imageUrl:l.imageUrl,draft:l.draft},headers:{Authorization:"Bearer "+Ae.access_token}};or(C).then(function(T){T.status==200&&(n.value=!1,GI([],""))})},v=()=>{const C={baseURL:Xt.messageUrl,url:"notice/topic",method:"PUT",data:{name:d.name,users:d.users,registers:d.registers},headers:{Authorization:"Bearer "+Ae.access_token}};or(C).then(function(T){T.status==200&&(i.value=!1,WI())})},p=(C,T)=>{const A={baseURL:Xt.messageUrl,url:"notice/topic",method:"DELETE",params:{topic:T.name},headers:{Authorization:"Bearer "+Ae.access_token}};or(A).then(function(E){Wo.topics.splice(C,1)})},b=(C,T)=>{const A={baseURL:Xt.messageUrl,url:"notice",method:"DELETE",params:{ids:T.id},headers:{Authorization:"Bearer "+Ae.access_token}};or(A).then(function(E){Wo.notifications.splice(C,1)})},S=(C,T)=>{const A={baseURL:Xt.messageUrl,url:"notice/push",method:"POST",data:{id:T.id,topic:T.topic,title:T.title,body:T.body,imageUrl:T.imageUrl,draft:!T.draft},headers:{Authorization:"Bearer "+Ae.access_token}};or(A).then(function(E){GI([],"")})};return(C,T)=>{const A=kwe,E=t3e,I=e3e,O=cK,N=bCe,G=ca,ie=ji,W=da,q=iK,J=AO,X=VY,R=ic,z=by,re=Pc,oe=Bn,H=Ui,ee=Eu;return me(),$e(Sr,null,[F(O,{modelValue:_(wt).noticeDrawer,"onUpdate:modelValue":T[0]||(T[0]=ae=>_(wt).noticeDrawer=ae),"show-close":!0,"with-header":!0,size:"40%"},{default:te(()=>[F(I,null,{default:te(()=>[(me(!0),$e(Sr,null,mi(_(Wo).notification,(ae,be)=>(me(),Ct(E,{key:be,timestamp:ae.timestamp,placement:"top"},{default:te(()=>[F(A,{onClick:Me=>f(ae.imageUrl,ae.body)},{default:te(()=>[Ue("p",null,cr(ae.title),1)]),_:2},1032,["onClick"])]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1},8,["modelValue"]),F(G,{modelValue:_(r),"onUpdate:modelValue":T[1]||(T[1]=ae=>qr(r)?r.value=ae:null),width:_(wt).dialogWidth,"align-center":""},{default:te(()=>[F(N,{src:_(o)},null,8,["src"]),Et(" "+cr(_(s)),1)]),_:1},8,["modelValue","width"]),F(G,{modelValue:_(n),"onUpdate:modelValue":T[10]||(T[10]=ae=>qr(n)?n.value=ae:null),width:_(wt).dialogWidth,"align-center":""},{footer:te(()=>[Ue("span",MMe,[F(oe,{onClick:T[8]||(T[8]=ae=>n.value=!1)},{default:te(()=>T[25]||(T[25]=[Et("Cancel")])),_:1}),F(oe,{type:"primary",onClick:T[9]||(T[9]=ae=>g())},{default:te(()=>T[26]||(T[26]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(re,null,{default:te(()=>[F(W,{label:"title","label-width":_(wt).labelWidth},{default:te(()=>[F(ie,{modelValue:_(l).title,"onUpdate:modelValue":T[2]||(T[2]=ae=>_(l).title=ae)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(W,{label:"body","label-width":_(wt).labelWidth},{default:te(()=>[F(ie,{modelValue:_(l).body,"onUpdate:modelValue":T[3]||(T[3]=ae=>_(l).body=ae)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(W,{label:"imageUrl","label-width":_(wt).labelWidth},{default:te(()=>[F(ie,{modelValue:_(l).imageUrl,"onUpdate:modelValue":T[4]||(T[4]=ae=>_(l).imageUrl=ae)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(W,{label:"timestamp","label-width":_(wt).labelWidth},{default:te(()=>[F(q,{ref:"datePicker",modelValue:_(l).timestamp,"onUpdate:modelValue":T[5]||(T[5]=ae=>_(l).timestamp=ae),type:"datetime","value-format":"YYYY-MM-DDTHH:mm:ss[Z]",format:"YYYY-MM-DDTHH:mm:ss[Z]"},null,8,["modelValue"])]),_:1},8,["label-width"]),F(W,{label:"draft","label-width":_(wt).labelWidth},{default:te(()=>[F(X,{modelValue:_(l).draft,"onUpdate:modelValue":T[6]||(T[6]=ae=>_(l).draft=ae),class:"ml-4"},{default:te(()=>[F(J,{label:"true"},{default:te(()=>T[23]||(T[23]=[Et("true")])),_:1}),F(J,{label:"false"},{default:te(()=>T[24]||(T[24]=[Et("false")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),F(W,{label:"topic","label-width":_(wt).labelWidth},{default:te(()=>[F(z,{modelValue:_(l).topic,"onUpdate:modelValue":T[7]||(T[7]=ae=>_(l).topic=ae),multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-show-suffix":"","remote-method":_(WI),loading:_(wt).topicLoad},{default:te(()=>[(me(!0),$e(Sr,null,mi(_(Wo).topics,ae=>(me(),Ct(R,{key:ae.name,label:ae.name,value:ae.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","remote-method","loading"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),F(G,{modelValue:_(i),"onUpdate:modelValue":T[16]||(T[16]=ae=>qr(i)?i.value=ae:null),width:_(wt).dialogWidth,"align-center":""},{footer:te(()=>[Ue("span",OMe,[F(oe,{onClick:T[14]||(T[14]=ae=>i.value=!1)},{default:te(()=>T[27]||(T[27]=[Et("Cancel")])),_:1}),F(oe,{type:"primary",onClick:T[15]||(T[15]=ae=>v())},{default:te(()=>T[28]||(T[28]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(re,null,{default:te(()=>[F(W,{label:"name","label-width":_(wt).labelWidth},{default:te(()=>[F(ie,{modelValue:_(d).name,"onUpdate:modelValue":T[11]||(T[11]=ae=>_(d).name=ae)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(W,{label:"users","label-width":_(wt).labelWidth},{default:te(()=>[F(z,{modelValue:_(d).users,"onUpdate:modelValue":T[12]||(T[12]=ae=>_(d).users=ae),multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-show-suffix":"","remote-method":h,loading:_(e)},{default:te(()=>[(me(!0),$e(Sr,null,mi(_(Wo).users,ae=>(me(),Ct(R,{key:ae.username,label:ae.username,value:ae.username},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1},8,["label-width"]),F(W,{label:"registers","label-width":_(wt).labelWidth},{default:te(()=>[F(ie,{modelValue:_(d).registers,"onUpdate:modelValue":T[13]||(T[13]=ae=>_(d).registers=ae)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),F(G,{modelValue:_(wt).topicTable,"onUpdate:modelValue":T[19]||(T[19]=ae=>_(wt).topicTable=ae),width:_(wt).dialogWidth,"align-center":""},{default:te(()=>[F(oe,{type:"",onClick:T[17]||(T[17]=ae=>i.value=!0)},{default:te(()=>T[29]||(T[29]=[Et("Add")])),_:1}),F(ee,{data:_(Wo).topics,onSelectionChange:T[18]||(T[18]=()=>{})},{default:te(()=>[F(H,{type:"selection"}),F(H,{property:"name",label:"name"}),F(H,{property:"registers",label:"registers"}),F(H,{property:"users",label:"users"}),F(H,null,{default:te(ae=>[F(oe,{size:"small",type:"danger",onClick:be=>p(ae.$index,ae.row)},{default:te(()=>T[30]||(T[30]=[Et("Delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),F(G,{modelValue:_(wt).noticeTable,"onUpdate:modelValue":T[22]||(T[22]=ae=>_(wt).noticeTable=ae),width:_(wt).dialogWidth,"align-center":""},{default:te(()=>[F(oe,{type:"",onClick:T[20]||(T[20]=ae=>n.value=!0)},{default:te(()=>T[31]||(T[31]=[Et("Add")])),_:1}),F(ee,{data:_(Wo).notifications,onSelectionChange:T[21]||(T[21]=()=>{})},{default:te(()=>[F(H,{type:"selection"}),F(H,{property:"title",label:"title"}),F(H,{property:"body",label:"body"}),F(H,{property:"imageUrl",label:"imageUrl"}),F(H,{property:"timestamp",label:"timestamp"}),F(H,{property:"topic",label:"topic"}),F(H,{property:"draft",label:"draft"}),F(H,null,{default:te(ae=>[F(oe,{size:"small",type:"danger",onClick:be=>b(ae.$index,ae.row)},{default:te(()=>T[32]||(T[32]=[Et("Delete")])),_:2},1032,["onClick"]),ae.row.draft?(me(),Ct(oe,{key:0,size:"small",type:"danger",onClick:be=>S(ae.$index,ae.row)},{default:te(()=>T[33]||(T[33]=[Et("Push")])),_:2},1032,["onClick"])):gt("",!0)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"])],64)}}});function Ax(t,e,r){return new Promise((n,i)=>{var s;e!=""?s=indexedDB.open(t,e):s=indexedDB.open(t),s.onsuccess=function(o){const a=s.result;n(a)},s.onupgradeneeded=function(o){const a=s.result;for(let l of r)a.objectStoreNames.contains(l)||a.createObjectStore(l)},s.onerror=function(o){const a=s.error;i(a)}})}function Px(t,e,r,n,i){return(n==""||n==null)&&(n="readwrite"),new Promise((s,o)=>{const l=t.transaction(e,n).objectStore(e);var u;i=="all"?u=l.getAll():u=l.get(r),u.onsuccess=function(d){const f=u.result;s(f)},u.onerror=function(d){const f=u.error;o(f)}})}function L3(t,e,r,n,i,s){return(i==""||i==null)&&(i="readwrite"),new Promise((o,a)=>{const u=t.transaction(e,i).objectStore(e);var d;s=="put"?d=u.put(n,r):d=u.add(n,r),d.onsuccess=function(f){const h=d.result;o(h)},d.onerror=function(f){const h=d.error;a(h)}})}function F3(t,e,r,n){return(n==""||n==null)&&(n="readwrite"),new Promise((i,s)=>{const l=t.transaction(e,n).objectStore(e).delete(r);l.onsuccess=function(u){const d=l.result;i(d)},l.onerror=function(u){const d=l.error;s(d)}})}const LMe=async t=>{const r=new TextEncoder().encode(t);return await crypto.subtle.digest("SHA-256",r)};async function FMe(t){const e=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")}function N3(t){return btoa(String.fromCharCode(...new Uint8Array(t)))}function NMe(t){const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r.buffer}async function p8(t,e){let r;return typeof t=="string"?r=await LMe(t):r=t,await crypto.subtle.importKey("raw",r,{name:e},!1,["encrypt","decrypt"])}async function B3(t,e,r){let n=await p8(e,r),i;typeof t!="string"?i=t:i=new TextEncoder().encode(t);let s;r=="AES-GCM"?s=crypto.getRandomValues(new Uint8Array(12)):s=crypto.getRandomValues(new Uint8Array(16));let o;r=="AES-CTR"?o={counter:s,name:r,length:128}:o={name:r,iv:s};const a=await crypto.subtle.encrypt(o,n,i),l=new Uint8Array(s.length+a.byteLength);return l.set(s),l.set(new Uint8Array(a),s.length),{cipher:l,ciphertext:a,iv:s,ciphertextWithoutTag:l.slice(0,l.length-16),tag:l.slice(l.length-16,l.length)}}async function BMe(t,e,r){const n=await p8(e,r);let i;r=="AES-GCM"?(i=t.slice(0,12),t=t.slice(12,t.length)):(i=t.slice(0,16),t=t.slice(16,t.length));let s={name:r,iv:i};return await crypto.subtle.decrypt(s,n,t)}const UMe=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},VMe=t=>({httpHandler:t.httpHandler()});var bU;(function(t){t.HEADER="header",t.QUERY="query"})(bU||(bU={}));var xU;(function(t){t.HEADER="header",t.QUERY="query"})(xU||(xU={}));var Tb;(function(t){t.HTTP="http",t.HTTPS="https"})(Tb||(Tb={}));var wT;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(wT||(wT={}));var wU;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(wU||(wU={}));const XI="__smithy_context";var SU;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(SU||(SU={}));var TU;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(TU||(TU={}));class Ks{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const r=new Ks({...e,headers:{...e.headers}});return r.query&&(r.query=zMe(r.query)),r}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Ks.clone(this)}}function zMe(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}class Lv{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function HMe(t){return e=>async r=>{var i,s;const{request:n}=r;return Ks.isInstance(n)&&n.body&&t.runtime==="node"&&((s=(i=t.requestHandler)==null?void 0:i.constructor)==null?void 0:s.name)!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}const jMe={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},GMe=t=>({applyToStack:e=>{e.add(HMe(t),jMe)}}),wJ={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},WMe=wJ.WHEN_SUPPORTED,qMe=wJ.WHEN_SUPPORTED;var Mo;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256"})(Mo||(Mo={}));var CU;(function(t){t.HEADER="header",t.TRAILER="trailer"})(CU||(CU={}));const XMe=Mo.MD5,YMe=Mo.CRC32;var EU;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(EU||(EU={}));const YI=[Mo.CRC32,Mo.CRC32C,Mo.SHA1,Mo.SHA256],KMe=[Mo.SHA256,Mo.SHA1,Mo.CRC32,Mo.CRC32C],ZMe=(t,{requestChecksumRequired:e,requestAlgorithmMember:r},n)=>{const i=n?YMe:XMe;if(!r||!t[r])return e?i:void 0;const s=t[r];if(!YI.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${YI}.`);return s},m8=t=>t===Mo.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,QMe=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1},SJ=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",g8=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!SJ(t);function v8(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function y8(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function TJ(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}const JMe=t=>new TextEncoder().encode(t);var eOe=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:JMe;function vp(t){return t instanceof Uint8Array?t:typeof t=="string"?eOe(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Cb(t){return typeof t=="string"?t.length===0:t.byteLength===0}function CJ(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function EJ(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}var tOe=function(){function t(){this.crc32=new ST}return t.prototype.update=function(e){Cb(e)||this.crc32.update(vp(e))},t.prototype.digest=function(){return v8(this,void 0,void 0,function(){return y8(this,function(e){return[2,CJ(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new ST},t}(),ST=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var i=TJ(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^nOe[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}(),rOe=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],nOe=EJ(rOe),iOe=function(){function t(){this.crc32c=new AU}return t.prototype.update=function(e){Cb(e)||this.crc32c.update(vp(e))},t.prototype.digest=function(){return v8(this,void 0,void 0,function(){return y8(this,function(e){return[2,CJ(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new AU},t}(),AU=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var i=TJ(e),s=i.next();!s.done;s=i.next()){var o=s.value;this.checksum=this.checksum>>>8^oOe[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}(),sOe=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],oOe=EJ(sOe);const AJ=(t,e)=>({[Mo.MD5]:e.md5,[Mo.CRC32]:tOe,[Mo.CRC32C]:iOe,[Mo.SHA1]:e.sha1,[Mo.SHA256]:e.sha256})[t],Cm=t=>new TextEncoder().encode(t),Yg=t=>typeof t=="string"?Cm(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),_8=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)},PJ=(t,e)=>{const r=new t;return r.update(Yg(e||"")),r.digest()},aOe={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},lOe=(t,e)=>(r,n)=>async i=>{if(!Ks.isInstance(i.request))return r(i);const{request:s}=i,{body:o,headers:a}=s,{base64Encoder:l,streamHasher:u}=t,{input:d,requestChecksumRequired:f,requestAlgorithmMember:h}=e,g=ZMe(d,{requestChecksumRequired:f,requestAlgorithmMember:h},!!n.isS3ExpressBucket);let v=o,p=a;if(g){const S=m8(g),C=AJ(g,t);if(g8(o)){const{getAwsChunkedEncodingStream:T,bodyLengthChecker:A}=t;v=T(o,{base64Encoder:l,bodyLengthChecker:A,checksumLocationName:S,checksumAlgorithmFn:C,streamHasher:u}),p={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":S},delete p["content-length"]}else if(!QMe(S,a)){const T=await PJ(C,o);p={...a,[S]:l(T)}}}return await r({...i,request:{...s,headers:p,body:v}})},kJ=(t=[])=>{const e=[];for(const r of KMe)!t.includes(r)||!YI.includes(r)||e.push(r);return e},uOe=t=>{const e=t.lastIndexOf("-");if(e!==-1){const r=t.slice(e+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1};function PU(t){return new Blob([t]).stream()}const cOe=async(t,{streamHasher:e,checksumAlgorithmFn:r,base64Encoder:n})=>{const i=g8(t)?e(r,t):PJ(r,t);return n(await i)},dOe=async(t,{config:e,responseAlgorithms:r})=>{const n=kJ(r),{body:i,headers:s}=t;for(const o of n){const a=m8(o),l=s[a];if(l){const u=AJ(o,e),{streamHasher:d,base64Encoder:f}=e,h=await cOe(i,{streamHasher:d,checksumAlgorithmFn:u,base64Encoder:f});if(h===l)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${l}" in response header "${a}".`)}}},fOe={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},hOe=(t,e)=>(r,n)=>async i=>{if(!Ks.isInstance(i.request))return r(i);const s=i.input,o=await r(i),a=o.response;let l;const{requestValidationModeMember:u,responseAlgorithms:d}=e;if(u&&s[u]==="ENABLED"){const{clientName:f,commandName:h}=n;if(f==="S3Client"&&h==="GetObjectCommand"&&kJ(d).every(p=>{const b=m8(p),S=a.headers[b];return!S||uOe(S)}))return o;const v=g8(a.body);v&&(l=await t.streamCollector(a.body),a.body=PU(l)),await dOe(o.response,{config:t,responseAlgorithms:d}),v&&l&&(a.body=PU(l))}return o},PE=(t,e)=>({applyToStack:r=>{r.add(lOe(t,e),aOe),r.addRelativeTo(hOe(t,e),fOe)}}),Ey=t=>t[XI]||(t[XI]={}),bd=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},pOe=t=>({...t,requestChecksumCalculation:bd(t.requestChecksumCalculation??WMe),responseChecksumValidation:bd(t.responseChecksumValidation??qMe)});const mOe=t=>e=>async r=>{if(!Ks.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return e(r)},gOe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},vOe=t=>({applyToStack:e=>{e.add(mOe(t),gOe)}}),yOe=()=>(t,e)=>async r=>{var n,i;try{const s=await t(r),{clientName:o,commandName:a,logger:l,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:f}=u,h=d??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,{$metadata:v,...p}=s.output;return(n=l==null?void 0:l.info)==null||n.call(l,{clientName:o,commandName:a,input:h(r.input),output:g(p),metadata:v}),s}catch(s){const{clientName:o,commandName:a,logger:l,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:d}=u,f=d??e.inputFilterSensitiveLog;throw(i=l==null?void 0:l.error)==null||i.call(l,{clientName:o,commandName:a,input:f(r.input),error:s,metadata:s.$metadata}),s}},_Oe={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},bOe=t=>({applyToStack:e=>{e.add(yOe(),_Oe)}}),kU="X-Amzn-Trace-Id",xOe="AWS_LAMBDA_FUNCTION_NAME",wOe="_X_AMZN_TRACE_ID",SOe=t=>e=>async r=>{const{request:n}=r;if(!Ks.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(kU))return e(r);const i={}[xOe],s={}[wOe],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[kU]=s),e({...r,request:n})},TOe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},COe=t=>({applyToStack:e=>{e.add(SOe(t),TOe)}}),r0=(t,e)=>{const r=[];if(t&&r.push(t),e)for(const n of e)r.push(n);return r},vh=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,TT=()=>{let t=[],e=[],r=!1;const n=new Set,i=f=>f.sort((h,g)=>IU[g.step]-IU[h.step]||DU[g.priority||"normal"]-DU[h.priority||"normal"]),s=f=>{let h=!1;const g=v=>{const p=r0(v.name,v.aliases);if(p.includes(f)){h=!0;for(const b of p)n.delete(b);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},o=f=>{let h=!1;const g=v=>{if(v.middleware===f){h=!0;for(const p of r0(v.name,v.aliases))n.delete(p);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},a=f=>{var h;return t.forEach(g=>{f.add(g.middleware,{...g})}),e.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),(h=f.identifyOnResolve)==null||h.call(f,d.identifyOnResolve()),f},l=f=>{const h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h},u=(f=!1)=>{const h=[],g=[],v={};return t.forEach(b=>{const S={...b,before:[],after:[]};for(const C of r0(S.name,S.aliases))v[C]=S;h.push(S)}),e.forEach(b=>{const S={...b,before:[],after:[]};for(const C of r0(S.name,S.aliases))v[C]=S;g.push(S)}),g.forEach(b=>{if(b.toMiddleware){const S=v[b.toMiddleware];if(S===void 0){if(f)return;throw new Error(`${b.toMiddleware} is not found when adding ${vh(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&S.after.push(b),b.relation==="before"&&S.before.push(b)}}),i(h).map(l).reduce((b,S)=>(b.push(...S),b),[])},d={add:(f,h={})=>{const{name:g,override:v,aliases:p}=h,b={step:"initialize",priority:"normal",middleware:f,...h},S=r0(g,p);if(S.length>0){if(S.some(C=>n.has(C))){if(!v)throw new Error(`Duplicate middleware name '${vh(g,p)}'`);for(const C of S){const T=t.findIndex(E=>{var I;return E.name===C||((I=E.aliases)==null?void 0:I.some(O=>O===C))});if(T===-1)continue;const A=t[T];if(A.step!==b.step||b.priority!==A.priority)throw new Error(`"${vh(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${vh(g,p)}" middleware with ${b.priority} priority in ${b.step} step.`);t.splice(T,1)}}for(const C of S)n.add(C)}t.push(b)},addRelativeTo:(f,h)=>{const{name:g,override:v,aliases:p}=h,b={middleware:f,...h},S=r0(g,p);if(S.length>0){if(S.some(C=>n.has(C))){if(!v)throw new Error(`Duplicate middleware name '${vh(g,p)}'`);for(const C of S){const T=e.findIndex(E=>{var I;return E.name===C||((I=E.aliases)==null?void 0:I.some(O=>O===C))});if(T===-1)continue;const A=e[T];if(A.toMiddleware!==b.toMiddleware||A.relation!==b.relation)throw new Error(`"${vh(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${vh(g,p)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);e.splice(T,1)}}for(const C of S)n.add(C)}e.push(b)},clone:()=>a(TT()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?s(f):o(f),removeByTag:f=>{let h=!1;const g=v=>{const{tags:p,name:b,aliases:S}=v;if(p&&p.includes(f)){const C=r0(b,S);for(const T of C)n.delete(T);return h=!0,!1}return!0};return t=t.filter(g),e=e.filter(g),h},concat:f=>{var g;const h=a(TT());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(((g=f.identifyOnResolve)==null?void 0:g.call(f))??!1)),h},applyToStack:a,identify:()=>u(!0).map(f=>{const h=f.step??f.relation+" "+f.toMiddleware;return vh(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(const g of u().map(v=>v.middleware).reverse())f=g(f,h);return r&&console.log(d.identify()),f}};return d},IU={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},DU={high:3,normal:2,low:1};class EOe{constructor(e){this.config=e,this.middlewareStack=TT()}send(e,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=i===void 0&&this.config.cacheMiddleware===!0;let a;if(o){this.handlers||(this.handlers=new WeakMap);const l=this.handlers;l.has(e.constructor)?a=l.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),l.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)a(e).then(l=>s(null,l.output),l=>s(l)).catch(()=>{});else return a(e).then(l=>l.output)}destroy(){var e,r,n;(n=(r=(e=this.config)==null?void 0:e.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}}const yp={},Ay=new Array(64);for(let t=0,e="A".charCodeAt(0),r="Z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e);yp[n]=t,Ay[t]=n}for(let t=0,e="a".charCodeAt(0),r="z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e),i=t+26;yp[n]=i,Ay[i]=n}for(let t=0;t<10;t++){yp[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;yp[e]=r,Ay[r]=e}yp["+"]=62;Ay[62]="+";yp["/"]=63;Ay[63]="/";const Kg=6,T2=8,AOe=63,b8=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let i=0;i<t.length;i+=4){let s=0,o=0;for(let u=i,d=i+3;u<=d;u++)if(t[u]!=="="){if(!(t[u]in yp))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);s|=yp[t[u]]<<(d-u)*Kg,o+=Kg}else s>>=Kg;const a=i/4*3;s>>=o%T2;const l=Math.floor(o/T2);for(let u=0;u<l;u++){const d=(l-u-1)*T2;n.setUint8(a+u,(s&255<<d)>>d)}}return new Uint8Array(r)};function x8(t){let e;typeof t=="string"?e=Cm(t):e=t;const r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<e.length;s+=3){let o=0,a=0;for(let u=s,d=Math.min(s+3,e.length);u<d;u++)o|=e[u]<<(d-u-1)*T2,a+=T2;const l=Math.ceil(a/Kg);o<<=l*Kg-a;for(let u=1;u<=l;u++){const d=(l-u)*Kg;i+=Ay[(o&AOe<<d)>>d]}i+="==".slice(0,4-l)}return i}function POe(t,e="utf-8"){return e==="base64"?x8(t):_8(t)}function kOe(t,e){return e==="base64"?K0.mutate(b8(t)):K0.mutate(Cm(t))}class K0 extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return kOe(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,K0.prototype),e}transformToString(e="utf-8"){return POe(this,e)}}const IOe=(t,e)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=e,a=r!==void 0&&n!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,l=a?o(i,t):void 0,u=t.getReader();return new ReadableStream({async pull(d){const{value:f,done:h}=await u.read();if(h){if(d.enqueue(`0\r
`),a){const g=r(await l);d.enqueue(`${s}:${g}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(n(f)||0).toString(16)}\r
${f}\r
`)}})},Z0=t=>encodeURIComponent(t).replace(/[!'()*]/g,DOe),DOe=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function IJ(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=Z0(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.push(`${r}=${Z0(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${Z0(n)}`),e.push(i)}}return e.join("&")}function ROe(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}const U3={supported:void 0};class w8{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new w8(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),U3.supported===void 0&&(U3.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){var S;this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0,s=this.config.credentials;if(r!=null&&r.aborted){const C=new Error("Request aborted");return C.name="AbortError",Promise.reject(C)}let o=e.path;const a=IJ(e.query||{});a&&(o+=`?${a}`),e.fragment&&(o+=`#${e.fragment}`);let l="";if(e.username!=null||e.password!=null){const C=e.username??"",T=e.password??"";l=`${C}:${T}@`}const{port:u,method:d}=e,f=`${e.protocol}//${l}${e.hostname}${u?`:${u}`:""}${o}`,h=d==="GET"||d==="HEAD"?void 0:e.body,g={body:h,headers:new Headers(e.headers),method:d,credentials:s};(S=this.config)!=null&&S.cache&&(g.cache=this.config.cache),h&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),U3.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(e));let v=()=>{};const p=new Request(f,g),b=[fetch(p).then(C=>{const T=C.headers,A={};for(const I of T.entries())A[I[0]]=I[1];return C.body!=null?{response:new Lv({headers:A,reason:C.statusText,statusCode:C.status,body:C.body})}:C.blob().then(I=>({response:new Lv({headers:A,reason:C.statusText,statusCode:C.status,body:I})}))}),ROe(n)];return r&&b.push(new Promise((C,T)=>{const A=()=>{const E=new Error("Request aborted");E.name="AbortError",T(E)};if(typeof r.addEventListener=="function"){const E=r;E.addEventListener("abort",A,{once:!0}),v=()=>E.removeEventListener("abort",A)}else r.onabort=A})),Promise.race(b).finally(v)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const DJ=t=>typeof Blob=="function"&&t instanceof Blob?MOe(t):OOe(t);async function MOe(t){const e=await $Oe(t),r=b8(e);return new Uint8Array(r)}async function OOe(t){const e=[],r=t.getReader();let n=!1,i=0;for(;!n;){const{done:a,value:l}=await r.read();l&&(e.push(l),i+=l.length),n=a}const s=new Uint8Array(i);let o=0;for(const a of e)s.set(a,o),o+=a.length;return s}function $Oe(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;e(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const RJ={},KI={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),RJ[t]=e,KI[e]=t}function MJ(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in KI)e[r/2]=KI[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function ul(t){let e="";for(let r=0;r<t.byteLength;r++)e+=RJ[t[r]];return e}const RU=t=>{var e;return typeof ReadableStream=="function"&&(((e=t==null?void 0:t.constructor)==null?void 0:e.name)===ReadableStream.name||t instanceof ReadableStream)},MU="The stream has already been transformed.",LOe=t=>{var i,s;if(!OU(t)&&!RU(t)){const o=((s=(i=t==null?void 0:t.__proto__)==null?void 0:i.constructor)==null?void 0:s.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let e=!1;const r=async()=>{if(e)throw new Error(MU);return e=!0,await DJ(t)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return x8(a);if(o==="hex")return ul(a);if(o===void 0||o==="utf8"||o==="utf-8")return _8(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(MU);if(e=!0,OU(t))return n(t);if(RU(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},OU=t=>typeof Blob=="function"&&t instanceof Blob;async function FOe(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}async function NOe(t,e){let r=0;const n=[],i=t.getReader();let s=!1;for(;!s;){const{done:l,value:u}=await i.read();if(u&&(n.push(u),r+=(u==null?void 0:u.byteLength)??0),r>=e)break;s=l}i.releaseLock();const o=new Uint8Array(Math.min(e,r));let a=0;for(const l of n){if(l.byteLength>o.byteLength-a){o.set(l.subarray(0,o.byteLength-a),a);break}else o.set(l,a);a+=l.length}return o}const kE=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return K0.mutate(t);if(!t)return K0.mutate(new Uint8Array);const r=e.streamCollector(t);return K0.mutate(await r)};class ju{constructor(){this.middlewareStack=TT()}static classBuilder(){return new BOe}resolveMiddlewareWithContext(e,r,n,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:d,CommandCtor:f}){for(const b of i.bind(this)(f,e,r,n))this.middlewareStack.use(b);const h=e.concat(this.middlewareStack),{logger:g}=r,v={logger:g,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[XI]:{commandInstance:this,...u},...d},{requestHandler:p}=r;return h.resolve(b=>p.handle(b.request,n||{}),v)}}class BOe{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let r;return r=class extends ju{static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=n??{},e._init(this)}resolveMiddleware(n,i,s){return this.resolveMiddlewareWithContext(n,i,s,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const Es="***SensitiveInformation***",Lu=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},UOe=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&$J.warn(OJ(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},VOe=Math.ceil(2**127*(2-2**-23)),$U=t=>{const e=UOe(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>VOe)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},ZI=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},LU=t=>S8(t,32),FU=t=>S8(t,16),NU=t=>S8(t,8),S8=(t,e)=>{const r=ZI(t);if(r!==void 0&&zOe(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},zOe=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Xs=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},Hm=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},gn=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return $J.warn(OJ(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},HOe=t=>$U(typeof t=="string"?O1(t):t),jOe=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,O1=t=>{const e=t.match(jOe);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},T8=t=>ZI(typeof t=="string"?O1(t):t),Q0=t=>LU(typeof t=="string"?O1(t):t),CT=t=>FU(typeof t=="string"?O1(t):t),GOe=t=>NU(typeof t=="string"?O1(t):t),OJ=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),$J={warn:console.warn},WOe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C2(t){const e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),l=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`;return`${WOe[n]}, ${l} ${C8[r]} ${e} ${u}:${d}:${f} GMT`}const qOe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Py=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const e=qOe.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,i,s,o,a,l,u,d]=e,f=CT(Ab(n)),h=np(i,"month",1,12),g=np(s,"day",1,31),v=mS(f,h,g,{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&v.setTime(v.getTime()-i8e(d)),v},XOe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),YOe=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),KOe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Eb=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=XOe.exec(t);if(e){const[r,n,i,s,o,a,l,u]=e;return mS(CT(Ab(s)),V3(i),np(n,"day",1,31),{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u})}if(e=YOe.exec(t),e){const[r,n,i,s,o,a,l,u]=e;return JOe(mS(ZOe(s),V3(i),np(n,"day",1,31),{hours:o,minutes:a,seconds:l,fractionalMilliseconds:u}))}if(e=KOe.exec(t),e){const[r,n,i,s,o,a,l,u]=e;return mS(CT(Ab(u)),V3(n),np(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},mS=(t,e,r,n)=>{const i=e-1;return t8e(t,i,r),new Date(Date.UTC(t,i,r,np(n.hours,"hour",0,23),np(n.minutes,"minute",0,59),np(n.seconds,"seconds",0,60),n8e(n.fractionalMilliseconds)))},ZOe=t=>{const e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+CT(Ab(t));return r<e?r+100:r},QOe=50*365*24*60*60*1e3,JOe=t=>t.getTime()-new Date().getTime()>QOe?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,V3=t=>{const e=C8.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},e8e=[31,28,31,30,31,30,31,31,30,31,30,31],t8e=(t,e,r)=>{let n=e8e[e];if(e===1&&r8e(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${C8[e]} in ${t}: ${r}`)},r8e=t=>t%4===0&&(t%100!==0||t%400===0),np=(t,e,r,n)=>{const i=GOe(Ab(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},n8e=t=>t==null?0:HOe("0."+t)*1e3,i8e=t=>{const e=t[0];let r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);const n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},Ab=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};class E8 extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,E8.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const Fd=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},s8e=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{const i=a8e(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||s||"UnknownError",$fault:"client",$metadata:i});throw Fd(o,e)},o8e=t=>({output:e,parsedBody:r,errorCode:n})=>{s8e({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},a8e=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),l8e=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function BU(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const u8e=t=>{const e=[];for(const r in wT){const n=wT[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},c8e=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},d8e=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},f8e=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},h8e=t=>({...u8e(t),...d8e(t)}),p8e=t=>({...c8e(t),...f8e(t)}),Em=t=>Array.isArray(t)?t:[t],LJ=t=>{const e="#text";for(const r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=LJ(t[r]));return t},ps=t=>t!=null,QI=function(){const t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};QI.prototype=Object.create(String.prototype,{constructor:{value:QI,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(QI,String);class A8{trace(){}debug(){}info(){}warn(){}error(){}}function Vn(t,e,r){let n,i,s;if(typeof e>"u"&&typeof r>"u")n={},s=t;else{if(n=t,typeof e=="function")return i=e,s=r,m8e(n,i,s);s=e}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}g8e(n,null,s,o)}return n}const m8e=(t,e,r)=>Vn(t,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[e,s()]:n[i]=[e,s],n),{})),g8e=(t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=v8e,l=y8e,u=n]=o;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[n]=l(e[u]));return}let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,l=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[n]=o:l&&(t[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(t[n]=s)}},v8e=t=>t!=null,y8e=t=>t,_8e=(t,e,r,n,i,s)=>{if(e!=null&&e[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(i,s?o.split("/").map(a=>BU(a)).join("/"):BU(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t},FJ=t=>t.toISOString().replace(".000Z","Z"),b8e="content-length";function x8e(){return(t,e)=>async r=>{var i;const{request:n}=r;if(Ks.isInstance(n)&&!(b8e in n.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((i=e==null?void 0:e.logger)==null?void 0:i.warn)=="function"&&!(e.logger instanceof A8)?e.logger.warn(s):console.warn(s)}return t({...r})}}const w8e={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},S8e=t=>({applyToStack:e=>{e.add(x8e(),w8e)}}),T8e=t=>(e,r)=>async n=>{const i=await t.region(),s=t.region;let o=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),o=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{const a=await e(n);if(r.__s3RegionRedirect){o();const l=await t.region();if(i!==l)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},C8e={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function E8e(t){return(e,r)=>async n=>{var i,s;try{return await e(n)}catch(o){if(t.followRegionRedirects&&((i=o==null?void 0:o.$metadata)==null?void 0:i.httpStatusCode)===301){try{const a=o.$response.headers["x-amz-bucket-region"];(s=r.logger)==null||s.debug(`Redirecting from ${await t.region()} to ${a}`),r.__s3RegionRedirect=a}catch(a){throw new Error("Region redirect failed: "+a)}return e(n)}else throw o}}}const A8e={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},P8e=t=>({applyToStack:e=>{e.add(E8e(t),A8e),e.addRelativeTo(T8e(t),C8e)}}),k8e=t=>(e,r)=>async n=>{var o;const i=await e(n),{response:s}=i;if(Lv.isInstance(s)&&s.headers.expires){s.headers.expiresstring=s.headers.expires;try{Eb(s.headers.expires)}catch(a){(o=r.logger)==null||o.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${s.headers.expires}): ${a}`),delete s.headers.expires}}return i},I8e={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},D8e=t=>({applyToStack:e=>{e.addRelativeTo(k8e(),I8e)}});class IE{constructor(e={}){this.data=e,this.lastPurgeTime=Date.now()}get(e){const r=this.data[e];if(r)return r}set(e,r){return this.data[e]=r,r}delete(e){delete this.data[e]}async purgeExpired(){const e=Date.now();if(!(this.lastPurgeTime+IE.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const i=await n.identity;i.expiration&&i.expiration.getTime()<e&&delete this.data[r]}}}}IE.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class z3{constructor(e,r=!1,n=Date.now()){this._identity=e,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}class DE{constructor(e,r=new IE){this.createSessionFn=e,this.cache=r}async getS3ExpressIdentity(e,r){const n=r.Bucket,{cache:i}=this,s=i.get(n);return s?s.identity.then(o=>{var u,d;return(((u=o.expiration)==null?void 0:u.getTime())??0)<Date.now()?i.set(n,new z3(this.getIdentity(n))).identity:((((d=o.expiration)==null?void 0:d.getTime())??0)<Date.now()+DE.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(n).then(f=>{i.set(n,new z3(Promise.resolve(f)))})),o)}):i.set(n,new z3(this.getIdentity(n))).identity}async getIdentity(e){var i,s;await this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});const r=await this.createSessionFn(e);if(!((i=r.Credentials)!=null&&i.AccessKeyId)||!((s=r.Credentials)!=null&&s.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}DE.REFRESH_WINDOW_MS=6e4;const R8e="X-Amz-Algorithm",M8e="X-Amz-Credential",NJ="X-Amz-Date",O8e="X-Amz-SignedHeaders",$8e="X-Amz-Expires",BJ="X-Amz-Signature",UJ="X-Amz-Security-Token",VJ="authorization",zJ=NJ.toLowerCase(),L8e="date",F8e=[VJ,zJ,L8e],N8e=BJ.toLowerCase(),JI="x-amz-content-sha256",B8e=UJ.toLowerCase(),U8e={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},V8e=/^proxy-/,z8e=/^sec-/,H3="AWS4-HMAC-SHA256",H8e="AWS4-HMAC-SHA256-PAYLOAD",j8e="UNSIGNED-PAYLOAD",G8e=50,HJ="aws4_request",W8e=60*60*24*7,kx={},j3=[],G3=(t,e,r)=>`${t}/${e}/${r}/${HJ}`,q8e=async(t,e,r,n,i)=>{const s=await UU(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${i}:${ul(s)}:${e.sessionToken}`;if(o in kx)return kx[o];for(j3.push(o);j3.length>G8e;)delete kx[j3.shift()];let a=`AWS4${e.secretAccessKey}`;for(const l of[r,n,i,HJ])a=await UU(t,a,l);return kx[o]=a},UU=(t,e,r)=>{const n=new t(e);return n.update(Yg(r)),n.digest()},VU=({headers:t},e,r)=>{const n={};for(const i of Object.keys(t).sort()){if(t[i]==null)continue;const s=i.toLowerCase();(s in U8e||e!=null&&e.has(s)||V8e.test(s)||z8e.test(s))&&(!r||r&&!r.has(s))||(n[s]=t[i].trim().replace(/\s+/g," "))}return n},X8e=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t)){if(n.toLowerCase()===N8e)continue;const i=Z0(n);e.push(i);const s=t[n];typeof s=="string"?r[i]=`${i}=${Z0(s)}`:Array.isArray(s)&&(r[i]=s.slice(0).reduce((o,a)=>o.concat([`${i}=${Z0(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},W3=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===JI)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||SJ(e)){const n=new r;return n.update(Yg(e)),ul(await n.digest())}return j8e};class Y8e{format(e){const r=[];for(const s of Object.keys(e)){const o=Cm(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const a=Cm(e.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(Z8e.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!K8e.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(MJ(e.value.replace(/\-/g,"")),1),f}}}var zU;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(zU||(zU={}));const K8e=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Z8e=class jJ{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&HU(r),new jJ(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&HU(e),parseInt(ul(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function HU(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const Q8e=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},J8e=(t,e={})=>{var i;const{headers:r,query:n={}}=Ks.clone(t);for(const s of Object.keys(r)){const o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((i=e.unhoistableHeaders)!=null&&i.has(o))&&(n[s]=r[s],delete r[s])}return{...t,headers:r,query:n}},jU=t=>{t=Ks.clone(t);for(const e of Object.keys(t.headers))F8e.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},e6e=t=>t6e(t).toISOString().replace(/\.\d{3}Z$/,"Z"),t6e=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class eD{constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerFormatter=new Y8e,this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=bd(n),this.credentialProvider=bd(r)}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:l,signingService:u}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);const f=l??await this.regionProvider(),{longDate:h,shortDate:g}=Ix(n);if(i>W8e)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const v=G3(g,f,u??this.service),p=J8e(jU(e),{unhoistableHeaders:o});d.sessionToken&&(p.query[UJ]=d.sessionToken),p.query[R8e]=H3,p.query[M8e]=`${d.accessKeyId}/${v}`,p.query[NJ]=h,p.query[$8e]=i.toString(10);const b=VU(p,s,a);return p.query[O8e]=GU(b),p.query[BJ]=await this.getSignature(h,v,this.getSigningKey(d,f,g,u),this.createCanonicalRequest(p,b,await W3(e,this.sha256))),p}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:l,longDate:u}=Ix(n),d=G3(l,a,o??this.service),f=await W3({headers:{},body:r},this.sha256),h=new this.sha256;h.update(e);const g=ul(await h.digest()),v=[H8e,u,d,i,g,f].join(`
`);return this.signString(v,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=Ix(r),l=new this.sha256(await this.getSigningKey(s,o,a,i));return l.update(Yg(e)),ul(await l.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const l=s??await this.regionProvider(),u=jU(e),{longDate:d,shortDate:f}=Ix(r),h=G3(f,l,o??this.service);u.headers[zJ]=d,a.sessionToken&&(u.headers[B8e]=a.sessionToken);const g=await W3(u,this.sha256);!Q8e(JI,u.headers)&&this.applyChecksum&&(u.headers[JI]=g);const v=VU(u,i,n),p=await this.getSignature(d,h,this.getSigningKey(a,l,f,o),this.createCanonicalRequest(u,v,g));return u.headers[VJ]=`${H3} Credential=${a.accessKeyId}/${h}, SignedHeaders=${GU(v)}, Signature=${p}`,u}createCanonicalRequest(e,r,n){const i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${X8e(e)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n){const i=new this.sha256;i.update(Yg(n));const s=await i.digest();return`${H3}
${e}
${r}
${ul(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const s of e.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return Z0(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,i){const s=await this.createStringToSign(e,r,i),o=new this.sha256(await n);return o.update(Yg(s)),ul(await o.digest())}getSigningKey(e,r,n,i){return q8e(this.sha256,e,n,r,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const Ix=t=>{const e=e6e(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},GU=t=>Object.keys(t).sort().join(";");var WU;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(WU||(WU={}));const r6e="Directory",n6e="S3Express",i6e="sigv4-s3express",tD="X-Amz-S3session-Token",rD=tD.toLowerCase();class s6e extends eD{async signWithCredentials(e,r,n){const i=qU(r);e.headers[rD]=r.sessionToken;const s=this;return XU(s,i),s.signRequest(e,n??{})}async presignWithCredentials(e,r,n){const i=qU(r);return delete e.headers[rD],e.headers[tD]=r.sessionToken,e.query=e.query??{},e.query[tD]=r.sessionToken,XU(this,i),this.presign(e,n)}}function qU(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function XU(t,e){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=t.credentialProvider,i=()=>(clearTimeout(r),t.credentialProvider=n,Promise.resolve(e));t.credentialProvider=i}const o6e=t=>(e,r)=>async n=>{var i,s,o,a,l;if(r.endpointV2){const u=r.endpointV2,d=((o=(s=(i=u.properties)==null?void 0:i.authSchemes)==null?void 0:s[0])==null?void 0:o.name)===i6e;if((((a=u.properties)==null?void 0:a.backend)===n6e||((l=u.properties)==null?void 0:l.bucketType)===r6e)&&(r.isS3ExpressBucket=!0),d){const h=n.input.Bucket;if(h){const g=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:h});r.s3ExpressIdentity=g,Ks.isInstance(n.request)&&g.sessionToken&&(n.request.headers[rD]=g.sessionToken)}}}return e(n)},a6e={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},l6e=t=>({applyToStack:e=>{e.add(o6e(t),a6e)}});function u6e(t){const e=new Map;for(const r of t)e.set(r.schemeId,r);return e}const c6e=(t,e)=>(r,n)=>async i=>{var u;const s=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,i.input)),o=u6e(t.httpAuthSchemes),a=Ey(n),l=[];for(const d of s){const f=o.get(d.schemeId);if(!f){l.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}const h=f.identityProvider(await e.identityProviderConfigProvider(t));if(!h){l.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:g={},signingProperties:v={}}=((u=d.propertiesExtractor)==null?void 0:u.call(d,t,n))||{};d.identityProperties=Object.assign(d.identityProperties||{},g),d.signingProperties=Object.assign(d.signingProperties||{},v),a.selectedHttpAuthScheme={httpAuthOption:d,identity:await h(d.identityProperties),signer:f.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(i)},d6e=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),g6e(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!m6e(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},f6e=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,h6e=/(\d+\.){3}\d+/,p6e=/\.\./,m6e=t=>f6e.test(t)&&!h6e.test(t)&&!p6e.test(t),g6e=t=>{const[e,r,n,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,o=!!(s&&r&&n&&i);if(s&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},v6e=(t,e,r)=>{const n=async()=>{const i=r[t]??r[e];return typeof i=="function"?i():i};return t==="credentialScope"||e==="CredentialScope"?async()=>{const i=typeof r.credentials=="function"?await r.credentials():r.credentials;return(i==null?void 0:i.credentialScope)??(i==null?void 0:i.CredentialScope)}:t==="accountId"||e==="AccountId"?async()=>{const i=typeof r.credentials=="function"?await r.credentials():r.credentials;return(i==null?void 0:i.accountId)??(i==null?void 0:i.AccountId)}:t==="endpoint"||e==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:l}=i;return`${s}//${o}${a?":"+a:""}${l}`}}return i}:n},GJ=async t=>{};function y6e(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}const ET=t=>{if(typeof t=="string")return ET(new URL(t));const{hostname:e,pathname:r,port:n,protocol:i,search:s}=t;let o;return s&&(o=y6e(s)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},WJ=t=>typeof t=="object"?"url"in t?ET(t.url):t:ET(t),qJ=async(t,e,r,n)=>{if(!r.endpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await GJ(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(WJ(o)))}const i=await XJ(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},XJ=async(t,e,r)=>{var s;const n={},i=((s=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:s.call(e))||{};for(const[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=t[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await v6e(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await d6e(n),n},_6e=({config:t,instructions:e})=>(r,n)=>async i=>{var a,l,u;const s=await qJ(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const o=(l=n.authSchemes)==null?void 0:l[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const d=Ey(n),f=(u=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:u.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},b6e=(t,e)=>r=>async n=>{const{response:i}=await r(n);try{const s=await e(i,t);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){const o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+o,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}},x6e=(t,e)=>(r,n)=>async i=>{var a;const s=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await e(i.input,{...t,endpoint:s});return r({...i,request:o})},w6e={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},P8={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ic(t,e,r){return{applyToStack:n=>{n.add(b6e(t,r),w6e),n.add(x6e(t,e),P8)}}}const YJ={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:P8.name},Dc=(t,e)=>({applyToStack:r=>{r.addRelativeTo(_6e({config:t,instructions:e}),YJ)}}),S6e=t=>{const e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>WJ(await bd(r)()):void 0,s={...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:bd(t.useDualstackEndpoint??!1),useFipsEndpoint:bd(t.useFipsEndpoint??!1)};let o;return s.serviceConfiguredEndpoint=async()=>(t.serviceId&&!o&&(o=GJ(t.serviceId)),o),s},T6e={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:YJ.name},C6e=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(c6e(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),T6e)}});P8.name;const E6e=t=>e=>{throw e},A6e=(t,e)=>{},P6e=t=>(e,r)=>async n=>{if(!Ks.isInstance(n.request))return e(n);const s=Ey(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:l}=s,u=await e({...n,request:await l.sign(n.request,a,o)}).catch((l.errorHandler||E6e)(o));return(l.successHandler||A6e)(u.response,o),u};var Fv;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(Fv||(Fv={}));const AT=3,k6e=Fv.STANDARD,I6e=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],D6e=["TimeoutError","RequestTimeout","RequestTimeoutException"],R6e=[500,502,503,504],M6e=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],O6e=t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},KJ=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||I6e.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},ZJ=t=>{var e;return O6e(t)||D6e.includes(t.name)||M6e.includes((t==null?void 0:t.code)||"")||R6e.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},$6e=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ZJ(t)}return!1};class L6e{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),KJ(e)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}const nD=100,QJ=20*1e3,F6e=500,YU=500,N6e=5,B6e=10,U6e=1,V6e="amz-sdk-invocation-id",z6e="amz-sdk-request",H6e=()=>{let t=nD;return{computeNextBackoffDelay:n=>Math.floor(Math.min(QJ,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},KU=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(QJ,t),getRetryCost:()=>r});class JJ{constructor(e){this.maxAttempts=e,this.mode=Fv.STANDARD,this.capacity=YU,this.retryBackoffStrategy=H6e(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return KU({retryDelay:nD,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?F6e:nD);const s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,KU({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(YU,this.capacity+(e.getRetryCost()??U6e))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${AT}`),AT}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?B6e:N6e}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class j6e{constructor(e,r){this.maxAttemptsProvider=e,this.mode=Fv.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new L6e,this.standardRetryStrategy=new JJ(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let Dx;const G6e=new Uint8Array(16);function W6e(){if(!Dx&&(Dx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dx(G6e)}const zo=[];for(let t=0;t<256;++t)zo.push((t+256).toString(16).slice(1));function q6e(t,e=0){return zo[t[e+0]]+zo[t[e+1]]+zo[t[e+2]]+zo[t[e+3]]+"-"+zo[t[e+4]]+zo[t[e+5]]+"-"+zo[t[e+6]]+zo[t[e+7]]+"-"+zo[t[e+8]]+zo[t[e+9]]+"-"+zo[t[e+10]]+zo[t[e+11]]+zo[t[e+12]]+zo[t[e+13]]+zo[t[e+14]]+zo[t[e+15]]}const X6e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ZU={randomUUID:X6e};function Y6e(t,e,r){if(ZU.randomUUID&&!e&&!t)return ZU.randomUUID();t=t||{};const n=t.random||(t.rng||W6e)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return q6e(n)}const K6e=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),Z6e=t=>{const{retryStrategy:e}=t,r=bd(t.maxAttempts??AT);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await bd(t.retryMode)()===Fv.ADAPTIVE?new j6e(r):new JJ(r))}},Q6e=t=>(t==null?void 0:t.body)instanceof ReadableStream,J6e=t=>(e,r)=>async n=>{var o;let i=await t.retryStrategy();const s=await t.maxAttempts();if(e$e(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),l=new Error,u=0,d=0;const{request:f}=n,h=Ks.isInstance(f);for(h&&(f.headers[V6e]=Y6e());;)try{h&&(f.headers[z6e]=`attempt=${u+1}; max=${s}`);const{response:g,output:v}=await e(n);return i.recordSuccess(a),v.$metadata.attempts=u+1,v.$metadata.totalRetryDelay=d,{response:g,output:v}}catch(g){const v=t$e(g);if(l=K6e(g),h&&Q6e(f))throw(o=r.logger instanceof A8?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),l;try{a=await i.refreshRetryTokenForRetry(a,v)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=u+1,l.$metadata.totalRetryDelay=d,l}u=a.getRetryCount();const p=a.getRetryDelay();d+=p,await new Promise(b=>setTimeout(b,p))}}else return i=i,i!=null&&i.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},e$e=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",t$e=t=>{const e={error:t,errorType:r$e(t)},r=i$e(t.$response);return r&&(e.retryAfterHint=r),e},r$e=t=>KJ(t)?"THROTTLING":ZJ(t)?"TRANSIENT":$6e(t)?"SERVER_ERROR":"CLIENT_ERROR",eee={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},n$e=t=>({applyToStack:e=>{e.add(J6e(t),eee)}}),i$e=t=>{if(!Lv.isInstance(t))return;const e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},tee={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:eee.name},s$e=t=>({applyToStack:e=>{e.addRelativeTo(P6e(),tee)}});class o$e{constructor(e){this.authSchemes=new Map;for(const[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}const a$e=t=>e=>ree(e)&&e.expiration.getTime()-Date.now()<t,l$e=3e5,u$e=a$e(l$e),ree=t=>t.expiration!==void 0,c$e=(t,e,r)=>{if(t===void 0)return;const n=typeof t!="function"?async()=>Promise.resolve(t):t;let i,s,o,a=!1;const l=async u=>{s||(s=n(u));try{i=await s,o=!0,a=!1}finally{s=void 0}return i};return e===void 0?async u=>((!o||u!=null&&u.forceRefresh)&&(i=await l(u)),i):async u=>((!o||u!=null&&u.forceRefresh)&&(i=await l(u)),a?i:r(i)?(e(i)&&await l(u),i):(a=!0,i))},j_=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e};function Rc(t,e){return new d$e(t,e)}class d$e{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(const s of this.resolvePathStack)s(this.path);return new Ks({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,i){return this.resolvePathStack.push(s=>{this.path=_8e(s,this.input,e,r,n,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}const f$e=async(t,e,r,n)=>{const i=await n.signWithCredentials(r,t,{});if(i.headers["X-Amz-Security-Token"]||i.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return i},h$e=t=>e=>{throw e},p$e=(t,e)=>{},m$e=t=>(e,r)=>async n=>{if(!Ks.isInstance(n.request))return e(n);const s=Ey(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:l}=s;let u;r.s3ExpressIdentity?u=await f$e(r.s3ExpressIdentity,o,n.request,await t.signer()):u=await l.sign(n.request,a,o);const d=await e({...n,request:u}).catch((l.errorHandler||h$e)(o));return(l.successHandler||p$e)(d.response,o),d},g$e=t=>({applyToStack:e=>{e.addRelativeTo(m$e(t),tee)}}),v$e=(t,{session:e})=>{const[r,n]=e;return{...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new DE(async i=>r().send(new n({Bucket:i,SessionMode:"ReadWrite"}))),bucketEndpoint:t.bucketEndpoint??!1}},y$e={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},_$e=3e3,b$e=t=>(e,r)=>async n=>{const i=await e(n),{response:s}=i;if(!Lv.isInstance(s))return i;const{statusCode:o,body:a}=s;if(o<200||o>=300||!(typeof(a==null?void 0:a.stream)=="function"||typeof(a==null?void 0:a.pipe)=="function"||typeof(a==null?void 0:a.tee)=="function"))return i;let u=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,d]=await FOe(a)),s.body=d;const f=await x$e(u,{streamCollector:async g=>NOe(g,_$e)});typeof(u==null?void 0:u.destroy)=="function"&&u.destroy();const h=t.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&y$e[r.commandName]){const g=new Error("S3 aborted request");throw g.name="InternalError",g}return h&&h.endsWith("</Error>")&&(s.statusCode=400),i},x$e=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),w$e={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Nd=t=>({applyToStack:e=>{e.addRelativeTo(b$e(t),w$e)}}),S$e=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function T$e(t){return(e,r)=>async n=>{var i,s,o,a;if(t.bucketEndpoint){const l=r.endpointV2;if(l){const u=n.input.Bucket;if(typeof u=="string")try{const d=new URL(u);r.endpointV2={...l,url:d}}catch(d){const f=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${u} could not be parsed as URL.`;throw((s=(i=r.logger)==null?void 0:i.constructor)==null?void 0:s.name)==="NoOpLogger"?console.warn(f):(a=(o=r.logger)==null?void 0:o.warn)==null||a.call(o,f),d}}}return e(n)}}const C$e={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function E$e({bucketEndpoint:t}){return e=>async r=>{const{input:{Bucket:n}}=r;if(!t&&typeof n=="string"&&!S$e(n)&&n.indexOf("/")>=0){const i=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw i.name="InvalidBucketName",i}return e({...r})}}const A$e={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},P$e=t=>({applyToStack:e=>{e.add(E$e(t),A$e),e.addRelativeTo(T$e(t),C$e)}});function k$e(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}class I$e{constructor({size:e,params:r}){this.data=new Map,this.parameters=[],this.capacity=e??50,r&&(this.parameters=r)}get(e,r){const n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const i=this.data.keys();let s=0;for(;;){const{value:o,done:a}=i.next();if(this.data.delete(o),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="";const{parameters:n}=this;if(n.length===0)return!1;for(const i of n){const s=String(e[i]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}}const D$e=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),nee=t=>D$e.test(t)||t.startsWith("[")&&t.endsWith("]"),R$e=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),k8=(t,e=!1)=>{if(!e)return R$e.test(t);const r=t.split(".");for(const n of r)if(!k8(n))return!1;return!0},PT={},Pb="endpoints";function _p(t){return typeof t!="object"||t==null?t:"ref"in t?`$${_p(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(_p).join(", ")})`:JSON.stringify(t,null,2)}class Gl extends Error{constructor(e){super(e),this.name="EndpointError"}}const M$e=(t,e)=>t===e,O$e=t=>{const e=t.split("."),r=[];for(const n of e){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new Gl(`Path: '${t}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new Gl(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},iee=(t,e)=>O$e(e).reduce((r,n)=>{if(typeof r!="object")throw new Gl(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),$$e=t=>t!=null,L$e=t=>!t,q3={[Tb.HTTP]:80,[Tb.HTTPS]:443},F$e=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:h,port:g,protocol:v="",path:p="",query:b={}}=t,S=new URL(`${v}//${h}${g?`:${g}`:""}${p}`);return S.search=Object.entries(b).map(([C,T])=>`${C}=${T}`).join("&"),S}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=e;if(a)return null;const l=o.slice(0,-1);if(!Object.values(Tb).includes(l))return null;const u=nee(i),d=r.includes(`${n}:${q3[l]}`)||typeof t=="string"&&t.includes(`${n}:${q3[l]}`),f=`${n}${d?`:${q3[l]}`:""}`;return{scheme:l,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},N$e=(t,e)=>t===e,B$e=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),U$e=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),V$e={booleanEquals:M$e,getAttr:iee,isSet:$$e,isValidHostLabel:k8,not:L$e,parseURL:F$e,stringEquals:N$e,substring:B$e,uriEncode:U$e},see=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let i=0;for(;i<t.length;){const s=t.indexOf("{",i);if(s===-1){r.push(t.slice(i));break}r.push(t.slice(i,s));const o=t.indexOf("}",s);if(o===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(s+1,o)),i=o+2);const a=t.substring(s+1,o);if(a.includes("#")){const[l,u]=a.split("#");r.push(iee(n[l],u))}else r.push(n[a]);i=o+1}return r.join("")},z$e=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],RE=(t,e,r)=>{if(typeof t=="string")return see(t,r);if(t.fn)return oee(t,r);if(t.ref)return z$e(t,r);throw new Gl(`'${e}': ${String(t)} is not a string, function or reference.`)},oee=({fn:t,argv:e},r)=>{const n=e.map(s=>["boolean","number"].includes(typeof s)?s:RE(s,"arg",r)),i=t.split(".");return i[0]in PT&&i[1]!=null?PT[i[0]][i[1]](...n):V$e[t](...n)},H$e=({assign:t,...e},r)=>{var i,s;if(t&&t in r.referenceRecord)throw new Gl(`'${t}' is already defined in Reference Record.`);const n=oee(e,r);return(s=(i=r.logger)==null?void 0:i.debug)==null||s.call(i,`${Pb} evaluateCondition: ${_p(e)} = ${_p(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},I8=(t=[],e)=>{var n,i;const r={};for(const s of t){const{result:o,toAssign:a}=H$e(s,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(i=(n=e.logger)==null?void 0:n.debug)==null||i.call(n,`${Pb} assign: ${a.name} := ${_p(a.value)}`))}return{result:!0,referenceRecord:r}},j$e=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=RE(s,"Header value entry",e);if(typeof o!="string")throw new Gl(`Header '${n}' value '${o}' is not a string`);return o})}),{}),aee=(t,e)=>{if(Array.isArray(t))return t.map(r=>aee(r,e));switch(typeof t){case"string":return see(t,e);case"object":if(t===null)throw new Gl(`Unexpected endpoint property: ${t}`);return lee(t,e);case"boolean":return t;default:throw new Gl(`Unexpected endpoint property type: ${typeof t}`)}},lee=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:aee(i,e)}),{}),G$e=(t,e)=>{const r=RE(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Gl(`Endpoint URL must be a string, got ${typeof r}`)},W$e=(t,e)=>{var d,f;const{conditions:r,endpoint:n}=t,{result:i,referenceRecord:s}=I8(r,e);if(!i)return;const o={...e,referenceRecord:{...e.referenceRecord,...s}},{url:a,properties:l,headers:u}=n;return(f=(d=e.logger)==null?void 0:d.debug)==null||f.call(d,`${Pb} Resolving endpoint from template: ${_p(n)}`),{...u!=null&&{headers:j$e(u,o)},...l!=null&&{properties:lee(l,o)},url:G$e(a,o)}},q$e=(t,e)=>{const{conditions:r,error:n}=t,{result:i,referenceRecord:s}=I8(r,e);if(i)throw new Gl(RE(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))},X$e=(t,e)=>{const{conditions:r,rules:n}=t,{result:i,referenceRecord:s}=I8(r,e);if(i)return uee(n,{...e,referenceRecord:{...e.referenceRecord,...s}})},uee=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=W$e(r,e);if(n)return n}else if(r.type==="error")q$e(r,e);else if(r.type==="tree"){const n=X$e(r,e);if(n)return n}else throw new Gl(`Unknown endpoint rule: ${r}`);throw new Gl("Rules evaluation failed")},Y$e=(t,e)=>{var u,d,f,h;const{endpointParams:r,logger:n}=e,{parameters:i,rules:s}=t;(d=(u=e.logger)==null?void 0:u.debug)==null||d.call(u,`${Pb} Initial EndpointParams: ${_p(r)}`);const o=Object.entries(i).filter(([,g])=>g.default!=null).map(([g,v])=>[g,v.default]);if(o.length>0)for(const[g,v]of o)r[g]=r[g]??v;const a=Object.entries(i).filter(([,g])=>g.required).map(([g])=>g);for(const g of a)if(r[g]==null)throw new Gl(`Missing required parameter: '${g}'`);const l=uee(s,{endpointParams:r,logger:n,referenceRecord:{}});return(h=(f=e.logger)==null?void 0:f.debug)==null||h.call(f,`${Pb} Resolved endpoint: ${_p(l)}`),l},cee=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!cee(r))return!1;return!0}return!(!k8(t)||t.length<3||t.length>63||t!==t.toLowerCase()||nee(t))},QU=":",K$e="/",Z$e=t=>{const e=t.split(QU);if(e.length<6)return null;const[r,n,i,s,o,...a]=e;if(r!=="arn"||n===""||i===""||a.join(QU)==="")return null;const l=a.map(u=>u.split(K$e)).flat();return{partition:n,service:i,region:s,accountId:o,resourceId:l}},Q$e=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],J$e="1.1",eLe={partitions:Q$e,version:J$e};let tLe=eLe;const rLe=t=>{const{partitions:e}=tLe;for(const n of e){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===t)return{...s,...a}}for(const n of e){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(t))return{...s}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},dee={isVirtualHostableS3Bucket:cee,parseArn:Z$e,partition:rLe};PT.aws=dee;const JU="user-agent",X3="x-amz-user-agent",e9=" ",Y3="/",nLe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,iLe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,t9="-",sLe=t=>(e,r)=>async n=>{var f,h;const{request:i}=n;if(!Ks.isInstance(i))return e(n);const{headers:s}=i,o=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(K3))||[],a=(await t.defaultUserAgentProvider()).map(K3),l=((h=t==null?void 0:t.customUserAgent)==null?void 0:h.map(K3))||[],u=[].concat([...a,...o,...l]).join(e9),d=[...a.filter(g=>g.startsWith("aws-sdk-")),...l].join(e9);return t.runtime!=="browser"?(d&&(s[X3]=s[X3]?`${s[JU]} ${d}`:d),s[JU]=u):s[X3]=u,e({...n,request:i})},K3=t=>{var o;const e=t[0].split(Y3).map(a=>a.replace(nLe,t9)).join(Y3),r=(o=t[1])==null?void 0:o.replace(iLe,t9),n=e.indexOf(Y3),i=e.substring(0,n);let s=e.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(a=>a&&a.length>0).reduce((a,l,u)=>{switch(u){case 0:return l;case 1:return`${a}/${l}`;default:return`${a}#${l}`}},"")},oLe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},aLe=t=>({applyToStack:e=>{e.add(sLe(t),oLe)}}),lLe=!1,uLe=!1,fee=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),r9=t=>fee(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,cLe=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return r9(e);const n=await e();return r9(n)},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return fee(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},dLe=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),n9="content-length";function fLe(t){return e=>async r=>{const n=r.request;if(Ks.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(n9)===-1)try{const o=t(i);n.headers={...n.headers,[n9]:String(o)}}catch{}}return e({...r,request:n})}}const hLe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},pLe=t=>({applyToStack:e=>{e.add(fLe(t.bodyLengthChecker),hLe)}}),i9=t=>{var e,r;return Lv.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},D8=t=>new Date(Date.now()+t),mLe=(t,e)=>Math.abs(D8(e).getTime()-t)>=3e5,s9=(t,e)=>{const r=Date.parse(t);return mLe(r,e)?r-Date.now():e},E2=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},hee=async t=>{var u,d,f;const e=E2("context",t.context),r=E2("config",t.config),n=(f=(d=(u=e.endpointV2)==null?void 0:u.properties)==null?void 0:d.authSchemes)==null?void 0:f[0],s=await E2("signer",r.signer)(n),o=t==null?void 0:t.signingRegion,a=t==null?void 0:t.signingRegionSet,l=t==null?void 0:t.signingName;return{config:r,signer:s,signingRegion:o,signingRegionSet:a,signingName:l}};class pee{async sign(e,r,n){var f;if(!Ks.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const i=await hee(n),{config:s,signer:o}=i;let{signingRegion:a,signingName:l}=i;const u=n.context;if(((f=u==null?void 0:u.authSchemes)==null?void 0:f.length)??0>1){const[h,g]=u.authSchemes;(h==null?void 0:h.name)==="sigv4a"&&(g==null?void 0:g.name)==="sigv4"&&(a=(g==null?void 0:g.signingRegion)??a,l=(g==null?void 0:g.signingName)??l)}return await o.sign(e,{signingDate:D8(s.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(e){return r=>{const n=r.ServerTime??i9(r.$response);if(n){const i=E2("config",e.config),s=i.systemClockOffset;i.systemClockOffset=s9(n,i.systemClockOffset),i.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){const n=i9(e);if(n){const i=E2("config",r.config);i.systemClockOffset=s9(n,i.systemClockOffset)}}}class gLe extends pee{async sign(e,r,n){var h;if(!Ks.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:i,signer:s,signingRegion:o,signingRegionSet:a,signingName:l}=await hee(n),d=(await((h=i.sigv4aSigningRegionSet)==null?void 0:h.call(i))??a??[o]).join(",");return await s.sign(e,{signingDate:D8(i.systemClockOffset),signingRegion:d,signingService:l})}}const vLe=(t,e,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=t());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return e===void 0?async l=>((!s||l!=null&&l.forceRefresh)&&(n=await a()),n):async l=>((!s||l!=null&&l.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await a(),n))},yLe=t=>(t.sigv4aSigningRegionSet=j_(t.sigv4aSigningRegionSet),t),_Le=t=>{let e;t.credentials&&(e=c$e(t.credentials,u$e,ree)),e||(t.credentialDefaultProvider?e=j_(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):e=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t;let s;return t.signer?s=j_(t.signer):t.regionInfoProvider?s=()=>j_(t.region)().then(async o=>[await t.regionInfoProvider(o,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:l,signingService:u}=o;t.signingRegion=t.signingRegion||l||a,t.signingName=t.signingName||u||t.serviceId;const d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},f=t.signerConstructor||eD;return new f(d)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await j_(t.region)(),properties:{}},o);const a=o.signingRegion,l=o.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||l||t.serviceId;const u={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},d=t.signerConstructor||eD;return new d(u)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:s}},bLe=(t,e)=>kE(t,e).then(r=>e.utf8Encoder(r));var R8={},ME={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+e+"]["+r+"]*",i=new RegExp("^"+n+"$"),s=function(a,l){const u=[];let d=l.exec(a);for(;d;){const f=[];f.startIndex=l.lastIndex-d[0].length;const h=d.length;for(let g=0;g<h;g++)f.push(d[g]);u.push(f),d=l.exec(a)}return u},o=function(a){const l=i.exec(a);return!(l===null||typeof l>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,l,u){if(l){const d=Object.keys(l),f=d.length;for(let h=0;h<f;h++)u==="strict"?a[d[h]]=[l[d[h]]]:a[d[h]]=l[d[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=s,t.nameRegexp=n})(ME);const M8=ME,xLe={allowBooleanAttributes:!1,unpairedTags:[]};R8.validate=function(t,e){e=Object.assign({},xLe,e);const r=[];let n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=a9(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=l9(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let l="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)l+=t[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!kLe(l)){let f;return l.trim().length===0?f="Invalid space after '<'.":f="Tag '"+l+"' is an invalid name.",Hs("InvalidTag",f,Aa(t,s))}const u=TLe(t,s);if(u===!1)return Hs("InvalidAttr","Attributes for '"+l+"' have open quote.",Aa(t,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){const f=s-d.length;d=d.substring(0,d.length-1);const h=u9(d,e);if(h===!0)n=!0;else return Hs(h.err.code,h.err.msg,Aa(t,f+h.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return Hs("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",Aa(t,o));if(r.length===0)return Hs("InvalidTag","Closing tag '"+l+"' has not been opened.",Aa(t,o));{const f=r.pop();if(l!==f.tagName){let h=Aa(t,f.tagStartPos);return Hs("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+l+"'.",Aa(t,o))}r.length==0&&(i=!0)}}else return Hs("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",Aa(t,s));else{const f=u9(d,e);if(f!==!0)return Hs(f.err.code,f.err.msg,Aa(t,s-d.length+f.err.line));if(i===!0)return Hs("InvalidXml","Multiple possible root nodes found.",Aa(t,s));e.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:o}),n=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=l9(t,s);continue}else if(t[s+1]==="?"){if(s=a9(t,++s),s.err)return s}else break;else if(t[s]==="&"){const f=ALe(t,s);if(f==-1)return Hs("InvalidChar","char '&' is not expected.",Aa(t,s));s=f}else if(i===!0&&!o9(t[s]))return Hs("InvalidXml","Extra text at the end",Aa(t,s));t[s]==="<"&&s--}}else{if(o9(t[s]))continue;return Hs("InvalidChar","char '"+t[s]+"' is not expected.",Aa(t,s))}if(n){if(r.length==1)return Hs("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Aa(t,r[0].tagStartPos));if(r.length>0)return Hs("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Hs("InvalidXml","Start tag expected.",1);return!0};function o9(t){return t===" "||t==="	"||t===`
`||t==="\r"}function a9(t,e){const r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const n=t.substr(r,e-r);if(e>5&&n==="xml")return Hs("InvalidXml","XML declaration allowed only at the start of the document.",Aa(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function l9(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const wLe='"',SLe="'";function TLe(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===wLe||t[e]===SLe)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}const CLe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function u9(t,e){const r=M8.getAllMatches(t,CLe),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Hs("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",u_(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return Hs("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",u_(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return Hs("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",u_(r[i]));const s=r[i][2];if(!PLe(s))return Hs("InvalidAttr","Attribute '"+s+"' is an invalid name.",u_(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return Hs("InvalidAttr","Attribute '"+s+"' is repeated.",u_(r[i]))}return!0}function ELe(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function ALe(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,ELe(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Hs(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function PLe(t){return M8.isName(t)}function kLe(t){return M8.isName(t)}function Aa(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function u_(t){return t.startIndex+t[1].length}var O8={};const mee={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},ILe=function(t){return Object.assign({},mee,t)};O8.buildOptions=ILe;O8.defaultOptions=mee;let DLe=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};var RLe=DLe;const MLe=ME;function OLe(t,e){const r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,s=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&FLe(t,e))e+=7,[entityName,val,e]=$Le(t,e+1),val.indexOf("&")===-1&&(r[VLe(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&NLe(t,e))e+=8;else if(i&&BLe(t,e))e+=8;else if(i&&ULe(t,e))e+=9;else if(LLe)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:o+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function $Le(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=t[e++];let i="";for(;e<t.length&&t[e]!==n;e++)i+=t[e];return[r,i,e]}function LLe(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function FLe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function NLe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function BLe(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function ULe(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function VLe(t){if(MLe.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}var zLe=OLe;const HLe=/^[-+]?0x[a-fA-F0-9]+$/,jLe=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const GLe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function WLe(t,e={}){if(e=Object.assign({},GLe,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&HLe.test(r))return Number.parseInt(r,16);{const n=jLe.exec(r);if(n){const i=n[1],s=n[2];let o=qLe(n[3]);const a=n[4]||n[6];if(!e.leadingZeros&&s.length>0&&i&&r[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&r[1]!==".")return t;{const l=Number(r),u=""+l;return u.search(/[eE]/)!==-1||a?e.eNotation?l:t:r.indexOf(".")!==-1?u==="0"&&o===""||u===o||i&&u==="-"+o?l:t:s?o===u||i+o===u?l:t:r===u||r===i+u?l:t}}else return t}}function qLe(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var XLe=WLe;const gee=ME,c_=RLe,YLe=zLe,KLe=XLe;let ZLe=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=QLe,this.parseXml=n5e,this.parseTextData=JLe,this.resolveNameSpace=e5e,this.buildAttributesMap=r5e,this.isItStopNode=a5e,this.replaceEntitiesValue=s5e,this.readStopNodeData=u5e,this.saveTextToParentTag=o5e,this.addChild=i5e}};function QLe(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function JLe(t,e,r,n,i,s,o){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,r,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?sD(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?sD(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function e5e(t){if(this.options.removeNSPrefix){const e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}const t5e=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function r5e(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){const n=gee.getAllMatches(t,t5e),i=n.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(n[o][1]);let l=n[o][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const d=this.options.attributeValueProcessor(a,l,e);d==null?s[u]=l:typeof d!=typeof l||d!==l?s[u]=d:s[u]=sD(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const n5e=function(t){t=t.replace(/\r\n?/g,`
`);const e=new c_("!xml");let r=e,n="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){const a=z0(t,">",s,"Closing Tag is not closed.");let l=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){const f=l.indexOf(":");f!==-1&&(l=l.substr(f+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(n=this.saveTextToParentTag(n,r,i));const u=i.substring(i.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=i.lastIndexOf("."),i=i.substring(0,d),r=this.tagsNodeStack.pop(),n="",s=a}else if(t[s+1]==="?"){let a=iD(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const l=new c_(a.tagName);l.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(l[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,l,i)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){const a=z0(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const l=t.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=a}else if(t.substr(s+1,2)==="!D"){const a=YLe(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){const a=z0(t,"]]>",s,"CDATA is not closed.")-2,l=t.substring(s+9,a);n=this.saveTextToParentTag(n,r,i);let u=this.parseTextData(l,r.tagname,i,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):r.add(this.options.textNodeName,u),s=a+2}else{let a=iD(t,s,this.options.removeNSPrefix),l=a.tagName;const u=a.rawTagName;let d=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const g=r;if(g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),l!==e.tagname&&(i+=i?"."+l:l),this.isItStopNode(this.options.stopNodes,i,l)){let v="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),d=l):d=d.substr(0,d.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=a.closeIndex;else{const b=this.readStopNodeData(t,u,h+1);if(!b)throw new Error(`Unexpected end of ${u}`);s=b.i,v=b.tagContent}const p=new c_(l);l!==d&&f&&(p[":@"]=this.buildAttributesMap(d,i,l)),v&&(v=this.parseTextData(v,l,i,!0,f,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),p.add(this.options.textNodeName,v),this.addChild(r,p,i)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),i=i.substr(0,i.length-1),d=l):d=d.substr(0,d.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const v=new c_(l);l!==d&&f&&(v[":@"]=this.buildAttributesMap(d,i,l)),this.addChild(r,v,i),i=i.substr(0,i.lastIndexOf("."))}else{const v=new c_(l);this.tagsNodeStack.push(r),l!==d&&f&&(v[":@"]=this.buildAttributesMap(d,i,l)),this.addChild(r,v,i),r=v}n="",s=h}}else n+=t[s];return e.child};function i5e(t,e,r){const n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}const s5e=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function o5e(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function a5e(t,e,r){const n="*."+r;for(const i in t){const s=t[i];if(n===s||e===s)return!0}return!1}function l5e(t,e,r=">"){let n,i="";for(let s=e;s<t.length;s++){let o=t[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(t[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function z0(t,e,r,n){const i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function iD(t,e,r,n=">"){const i=l5e(t,e+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let l=s,u=!0;a!==-1&&(l=s.substring(0,a),s=s.substring(a+1).trimStart());const d=l;if(r){const f=l.indexOf(":");f!==-1&&(l=l.substr(f+1),u=l!==i.data.substr(f+1))}return{tagName:l,tagExp:s,closeIndex:o,attrExpPresent:u,rawTagName:d}}function u5e(t,e,r){const n=r;let i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){const s=z0(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:s};r=s}else if(t[r+1]==="?")r=z0(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=z0(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=z0(t,"]]>",r,"StopNode is not closed.")-2;else{const s=iD(t,r,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function sD(t,e,r){if(e&&typeof t=="string"){const n=t.trim();return n==="true"?!0:n==="false"?!1:KLe(t,r)}else return gee.isExist(t)?t:""}var c5e=ZLe,vee={};function d5e(t,e){return yee(t,e)}function yee(t,e,r){let n;const i={};for(let s=0;s<t.length;s++){const o=t[s],a=f5e(o);let l="";if(r===void 0?l=a:l=r+"."+a,a===e.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=yee(o[a],e,l);const d=p5e(u,e);o[":@"]?h5e(u,o[":@"],l,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(u)):e.isArray(a,l,d)?i[a]=[u]:i[a]=u}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function f5e(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function h5e(t,e,r,n){if(e){const i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){const a=i[o];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function p5e(t,e){const{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}vee.prettify=d5e;const{buildOptions:m5e}=O8,g5e=c5e,{prettify:v5e}=vee,y5e=R8;let _5e=class{constructor(e){this.externalEntities={},this.options=m5e(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=y5e.validate(e,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new g5e(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:v5e(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};var b5e=_5e;const x5e=`
`;function w5e(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=x5e),_ee(t,e,"",r)}function _ee(t,e,r,n){let i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o],l=S5e(a);if(l===void 0)continue;let u="";if(r.length===0?u=l:u=`${r}.${l}`,l===e.textNodeName){let v=a[l];T5e(u,e)||(v=e.tagValueProcessor(l,v),v=bee(v,e)),s&&(i+=n),i+=v,s=!1;continue}else if(l===e.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[l][0][e.textNodeName]}]]>`,s=!1;continue}else if(l===e.commentPropName){i+=n+`<!--${a[l][0][e.textNodeName]}-->`,s=!0;continue}else if(l[0]==="?"){const v=c9(a[":@"],e),p=l==="?xml"?"":n;let b=a[l][0][e.textNodeName];b=b.length!==0?" "+b:"",i+=p+`<${l}${b}${v}?>`,s=!0;continue}let d=n;d!==""&&(d+=e.indentBy);const f=c9(a[":@"],e),h=n+`<${l}${f}`,g=_ee(a[l],e,u,d);e.unpairedTags.indexOf(l)!==-1?e.suppressUnpairedNode?i+=h+">":i+=h+"/>":(!g||g.length===0)&&e.suppressEmptyNode?i+=h+"/>":g&&g.endsWith(">")?i+=h+`>${g}${n}</${l}>`:(i+=h+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?i+=n+e.indentBy+g+n:i+=g,i+=`</${l}>`),s=!0}return i}function S5e(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(t.hasOwnProperty(n)&&n!==":@")return n}}function c9(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){if(!t.hasOwnProperty(n))continue;let i=e.attributeValueProcessor(n,t[n]);i=bee(i,e),i===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${i}"`}return r}function T5e(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function bee(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const n=e.entities[r];t=t.replace(n.regex,n.val)}return t}var C5e=w5e;const E5e=C5e,A5e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Dp(t){this.options=Object.assign({},A5e,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=I5e),this.processTextOrObjNode=P5e,this.options.format?(this.indentate=k5e,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Dp.prototype.build=function(t){return this.options.preserveOrder?E5e(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Dp.prototype.j2x=function(t,e){let r="",n="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(n+="");else if(t[i]===null)this.isAttribute(i)?n+="":i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const s=t[i].length;let o="",a="";for(let l=0;l<s;l++){const u=t[i][l];if(!(typeof u>"u"))if(u===null)i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof u=="object")if(this.options.oneListGroup){const d=this.j2x(u,e+1);o+=d.val,this.options.attributesGroupName&&u.hasOwnProperty(this.options.attributesGroupName)&&(a+=d.attrStr)}else o+=this.processTextOrObjNode(u,i,e);else if(this.options.oneListGroup){let d=this.options.tagValueProcessor(i,u);d=this.replaceEntitiesValue(d),o+=d}else o+=this.buildTextValNode(u,i,"",e)}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,a,e)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(t[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+t[i][s[a]])}else n+=this.processTextOrObjNode(t[i],i,e);return{attrStr:r,val:n}};Dp.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function P5e(t,e,r){const n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}Dp.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(r||r==="")&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+s+this.tagEndChar+t+this.indentate(n)+i}};Dp.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Dp.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+i+"</"+e+this.tagEndChar}};Dp.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function k5e(t){return this.options.indentBy.repeat(t)}function I5e(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}var D5e=Dp;const R5e=R8,M5e=b5e,O5e=D5e;var $5e={XMLParser:M5e,XMLValidator:R5e,XMLBuilder:O5e};const Rp=(t,e)=>bLe(t,e).then(r=>{if(r.length){const n=new $5e.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:r}),l}const s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),LJ(a)}return{}}),L5e=async(t,e)=>{const r=await Rp(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},F5e=(t,e)=>{var r;if(((r=e==null?void 0:e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"},N5e={CrtSignerV4:null};class xee{constructor(e){this.sigv4Signer=new s6e(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async signWithCredentials(e,r,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,r,n)}return this.sigv4Signer.signWithCredentials(e,r,n)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}async presignWithCredentials(e,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=N5e.CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const $8="required",Ze="type",bt="conditions",er="fn",tr="argv",Cn="ref",Ms="assign",Hr="url",jr="properties",wee="backend",Mc="authSchemes",Wl="disableDoubleEncoding",ql="signingName",Bd="signingRegion",Gr="headers",L8="signingRegionSet",B5e=!1,Ku=!0,pu="isSet",Lo="booleanEquals",Kr="error",kT="aws.partition",is="stringEquals",Ws="getAttr",va="name",rd="substring",d9="bucketSuffix",See="parseURL",f9="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",pr="endpoint",hr="tree",Tee="aws.isVirtualHostableS3Bucket",gS="{url#scheme}://{Bucket}.{url#authority}{url#path}",xd="not",vS="{url#scheme}://{url#authority}{url#path}",Cee="hardwareType",Eee="regionPrefix",h9="bucketAliasSuffix",oD="outpostId",jm="isValidHostLabel",F8="sigv4a",kb="s3-outposts",Nv="s3",Aee="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Pee="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",p9="https://{Bucket}.s3.{partitionResult#dnsSuffix}",kee="aws.parseArn",Iee="bucketArn",Dee="arnType",IT="",N8="s3-object-lambda",Ree="accesspoint",B8="accessPointName",m9="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",g9="mrapPartition",v9="outpostType",y9="arnPrefix",Mee="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",_9="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",b9="https://s3.{partitionResult#dnsSuffix}",ug={[$8]:!1,[Ze]:"String"},cg={[$8]:!0,default:!1,[Ze]:"Boolean"},d_={[$8]:!1,[Ze]:"Boolean"},tc={[er]:Lo,[tr]:[{[Cn]:"Accelerate"},!0]},Xi={[er]:Lo,[tr]:[{[Cn]:"UseFIPS"},!0]},qi={[er]:Lo,[tr]:[{[Cn]:"UseDualStack"},!0]},Js={[er]:pu,[tr]:[{[Cn]:"Endpoint"}]},Oee={[er]:kT,[tr]:[{[Cn]:"Region"}],[Ms]:"partitionResult"},x9={[er]:is,[tr]:[{[er]:Ws,[tr]:[{[Cn]:"partitionResult"},va]},"aws-cn"]},DT={[er]:pu,[tr]:[{[Cn]:"Bucket"}]},Ra={[Cn]:"Bucket"},Pa={[er]:See,[tr]:[{[Cn]:"Endpoint"}],[Ms]:"url"},yS={[er]:Lo,[tr]:[{[er]:Ws,[tr]:[{[Cn]:"url"},"isIp"]},!0]},$ee={[Cn]:"url"},Lee={[er]:"uriEncode",[tr]:[Ra],[Ms]:"uri_encoded_bucket"},pf={[wee]:"S3Express",[Mc]:[{[Wl]:!0,[va]:"sigv4",[ql]:"s3express",[Bd]:"{Region}"}]},Pn={},Fee={[er]:Tee,[tr]:[Ra,!1]},Z3={[Kr]:"S3Express bucket name is not a valid virtual hostable name.",[Ze]:Kr},RT={[wee]:"S3Express",[Mc]:[{[Wl]:!0,[va]:"sigv4-s3express",[ql]:"s3express",[Bd]:"{Region}"}]},w9={[er]:pu,[tr]:[{[Cn]:"UseS3ExpressControlEndpoint"}]},S9={[er]:Lo,[tr]:[{[Cn]:"UseS3ExpressControlEndpoint"},!0]},Mn={[er]:xd,[tr]:[Js]},T9={[Kr]:"Unrecognized S3Express bucket name format.",[Ze]:Kr},C9={[er]:xd,[tr]:[DT]},E9={[Cn]:Cee},A9={[bt]:[Mn],[Kr]:"Expected a endpoint to be specified but no endpoint was found",[Ze]:Kr},Rx={[Mc]:[{[Wl]:!0,[va]:F8,[ql]:kb,[L8]:["*"]},{[Wl]:!0,[va]:"sigv4",[ql]:kb,[Bd]:"{Region}"}]},Q3={[er]:Lo,[tr]:[{[Cn]:"ForcePathStyle"},!1]},U5e={[Cn]:"ForcePathStyle"},Qs={[er]:Lo,[tr]:[{[Cn]:"Accelerate"},!1]},co={[er]:is,[tr]:[{[Cn]:"Region"},"aws-global"]},wo={[Mc]:[{[Wl]:!0,[va]:"sigv4",[ql]:Nv,[Bd]:"us-east-1"}]},ei={[er]:xd,[tr]:[co]},So={[er]:Lo,[tr]:[{[Cn]:"UseGlobalEndpoint"},!0]},P9={[Hr]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[jr]:{[Mc]:[{[Wl]:!0,[va]:"sigv4",[ql]:Nv,[Bd]:"{Region}"}]},[Gr]:{}},no={[Mc]:[{[Wl]:!0,[va]:"sigv4",[ql]:Nv,[Bd]:"{Region}"}]},To={[er]:Lo,[tr]:[{[Cn]:"UseGlobalEndpoint"},!1]},Zn={[er]:Lo,[tr]:[{[Cn]:"UseDualStack"},!1]},k9={[Hr]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},Wn={[er]:Lo,[tr]:[{[Cn]:"UseFIPS"},!1]},I9={[Hr]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},D9={[Hr]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},J3={[er]:Lo,[tr]:[{[er]:Ws,[tr]:[$ee,"isIp"]},!1]},eP={[Hr]:Aee,[jr]:no,[Gr]:{}},aD={[Hr]:gS,[jr]:no,[Gr]:{}},R9={[pr]:aD,[Ze]:pr},tP={[Hr]:Pee,[jr]:no,[Gr]:{}},M9={[Hr]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},Mx={[Kr]:"Invalid region: region was not a valid DNS name.",[Ze]:Kr},fl={[Cn]:Iee},Nee={[Cn]:Dee},rP={[er]:Ws,[tr]:[fl,"service"]},U8={[Cn]:B8},O9={[bt]:[qi],[Kr]:"S3 Object Lambda does not support Dual-stack",[Ze]:Kr},$9={[bt]:[tc],[Kr]:"S3 Object Lambda does not support S3 Accelerate",[Ze]:Kr},L9={[bt]:[{[er]:pu,[tr]:[{[Cn]:"DisableAccessPoints"}]},{[er]:Lo,[tr]:[{[Cn]:"DisableAccessPoints"},!0]}],[Kr]:"Access points are not supported for this operation",[Ze]:Kr},nP={[bt]:[{[er]:pu,[tr]:[{[Cn]:"UseArnRegion"}]},{[er]:Lo,[tr]:[{[Cn]:"UseArnRegion"},!1]},{[er]:xd,[tr]:[{[er]:is,[tr]:[{[er]:Ws,[tr]:[fl,"region"]},"{Region}"]}]}],[Kr]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[Ze]:Kr},Bee={[er]:Ws,[tr]:[{[Cn]:"bucketPartition"},va]},Uee={[er]:Ws,[tr]:[fl,"accountId"]},iP={[Mc]:[{[Wl]:!0,[va]:"sigv4",[ql]:N8,[Bd]:"{bucketArn#region}"}]},F9={[Kr]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[Ze]:Kr},sP={[Kr]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[Ze]:Kr},oP={[Kr]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[Ze]:Kr},aP={[Kr]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[Ze]:Kr},N9={[Kr]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[Ze]:Kr},B9={[Kr]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[Ze]:Kr},f_={[Mc]:[{[Wl]:!0,[va]:"sigv4",[ql]:Nv,[Bd]:"{bucketArn#region}"}]},U9={[Mc]:[{[Wl]:!0,[va]:F8,[ql]:kb,[L8]:["*"]},{[Wl]:!0,[va]:"sigv4",[ql]:kb,[Bd]:"{bucketArn#region}"}]},V9={[er]:kee,[tr]:[Ra]},z9={[Hr]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jr]:no,[Gr]:{}},H9={[Hr]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jr]:no,[Gr]:{}},j9={[Hr]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jr]:no,[Gr]:{}},lP={[Hr]:Mee,[jr]:no,[Gr]:{}},G9={[Hr]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jr]:no,[Gr]:{}},W9={[Cn]:"UseObjectLambdaEndpoint"},uP={[Mc]:[{[Wl]:!0,[va]:"sigv4",[ql]:N8,[Bd]:"{Region}"}]},q9={[Hr]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},X9={[Hr]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},Y9={[Hr]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},cP={[Hr]:vS,[jr]:no,[Gr]:{}},K9={[Hr]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[jr]:no,[Gr]:{}},dP=[{[Cn]:"Region"}],V5e=[{[Cn]:"Endpoint"}],z5e=[Ra],fP=[qi],Ox=[tc],n0=[Js,Pa],Z9=[{[er]:pu,[tr]:[{[Cn]:"DisableS3ExpressSessionAuth"}]},{[er]:Lo,[tr]:[{[Cn]:"DisableS3ExpressSessionAuth"},!0]}],Q9=[yS],hP=[Lee],pP=[Fee],dg=[Xi],J9=[{[er]:rd,[tr]:[Ra,6,14,!0],[Ms]:"s3expressAvailabilityZoneId"},{[er]:rd,[tr]:[Ra,14,16,!0],[Ms]:"s3expressAvailabilityZoneDelim"},{[er]:is,[tr]:[{[Cn]:"s3expressAvailabilityZoneDelim"},"--"]}],e7=[{[bt]:[Xi],[pr]:{[Hr]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[jr]:pf,[Gr]:{}},[Ze]:pr},{[pr]:{[Hr]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[jr]:pf,[Gr]:{}},[Ze]:pr}],t7=[{[er]:rd,[tr]:[Ra,6,15,!0],[Ms]:"s3expressAvailabilityZoneId"},{[er]:rd,[tr]:[Ra,15,17,!0],[Ms]:"s3expressAvailabilityZoneDelim"},{[er]:is,[tr]:[{[Cn]:"s3expressAvailabilityZoneDelim"},"--"]}],r7=[{[bt]:[Xi],[pr]:{[Hr]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[jr]:RT,[Gr]:{}},[Ze]:pr},{[pr]:{[Hr]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[jr]:RT,[Gr]:{}},[Ze]:pr}],H5e=[DT],n7=[{[er]:jm,[tr]:[{[Cn]:oD},!1]}],i7=[{[er]:is,[tr]:[{[Cn]:Eee},"beta"]}],j5e=["*"],yh=[Oee],s7=[{[er]:jm,[tr]:[{[Cn]:"Region"},!1]}],_h=[{[er]:is,[tr]:[{[Cn]:"Region"},"us-east-1"]}],mP=[{[er]:is,[tr]:[Nee,Ree]}],o7=[{[er]:Ws,[tr]:[fl,"resourceId[1]"],[Ms]:B8},{[er]:xd,[tr]:[{[er]:is,[tr]:[U8,IT]}]}],G5e=[fl,"resourceId[1]"],gP=[{[er]:xd,[tr]:[{[er]:is,[tr]:[{[er]:Ws,[tr]:[fl,"region"]},IT]}]}],a7=[{[er]:xd,[tr]:[{[er]:pu,[tr]:[{[er]:Ws,[tr]:[fl,"resourceId[2]"]}]}]}],W5e=[fl,"resourceId[2]"],vP=[{[er]:kT,[tr]:[{[er]:Ws,[tr]:[fl,"region"]}],[Ms]:"bucketPartition"}],l7=[{[er]:is,[tr]:[Bee,{[er]:Ws,[tr]:[{[Cn]:"partitionResult"},va]}]}],yP=[{[er]:jm,[tr]:[{[er]:Ws,[tr]:[fl,"region"]},!0]}],_P=[{[er]:jm,[tr]:[Uee,!1]}],u7=[{[er]:jm,[tr]:[U8,!1]}],c7=[{[er]:jm,[tr]:[{[Cn]:"Region"},!0]}],q5e={version:"1.0",parameters:{Bucket:ug,Region:ug,UseFIPS:cg,UseDualStack:cg,Endpoint:ug,ForcePathStyle:cg,Accelerate:cg,UseGlobalEndpoint:cg,UseObjectLambdaEndpoint:d_,Key:ug,Prefix:ug,CopySource:ug,DisableAccessPoints:d_,DisableMultiRegionAccessPoints:cg,UseArnRegion:d_,UseS3ExpressControlEndpoint:d_,DisableS3ExpressSessionAuth:d_},rules:[{[bt]:[{[er]:pu,[tr]:dP}],rules:[{[bt]:[tc,Xi],error:"Accelerate cannot be used with FIPS",[Ze]:Kr},{[bt]:[qi,Js],error:"Cannot set dual-stack in combination with a custom endpoint.",[Ze]:Kr},{[bt]:[Js,Xi],error:"A custom endpoint cannot be combined with FIPS",[Ze]:Kr},{[bt]:[Js,tc],error:"A custom endpoint cannot be combined with S3 Accelerate",[Ze]:Kr},{[bt]:[Xi,Oee,x9],error:"Partition does not support FIPS",[Ze]:Kr},{[bt]:[DT,{[er]:rd,[tr]:[Ra,0,6,Ku],[Ms]:d9},{[er]:is,[tr]:[{[Cn]:d9},"--x-s3"]}],rules:[{[bt]:fP,error:"S3Express does not support Dual-stack.",[Ze]:Kr},{[bt]:Ox,error:"S3Express does not support S3 Accelerate.",[Ze]:Kr},{[bt]:n0,rules:[{[bt]:Z9,rules:[{[bt]:Q9,rules:[{[bt]:hP,rules:[{endpoint:{[Hr]:f9,[jr]:pf,[Gr]:Pn},[Ze]:pr}],[Ze]:hr}],[Ze]:hr},{[bt]:pP,rules:[{endpoint:{[Hr]:gS,[jr]:pf,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},Z3],[Ze]:hr},{[bt]:Q9,rules:[{[bt]:hP,rules:[{endpoint:{[Hr]:f9,[jr]:RT,[Gr]:Pn},[Ze]:pr}],[Ze]:hr}],[Ze]:hr},{[bt]:pP,rules:[{endpoint:{[Hr]:gS,[jr]:RT,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},Z3],[Ze]:hr},{[bt]:[w9,S9],rules:[{[bt]:[Lee,Mn],rules:[{[bt]:dg,endpoint:{[Hr]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[jr]:pf,[Gr]:Pn},[Ze]:pr},{endpoint:{[Hr]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[jr]:pf,[Gr]:Pn},[Ze]:pr}],[Ze]:hr}],[Ze]:hr},{[bt]:pP,rules:[{[bt]:Z9,rules:[{[bt]:J9,rules:e7,[Ze]:hr},{[bt]:t7,rules:e7,[Ze]:hr},T9],[Ze]:hr},{[bt]:J9,rules:r7,[Ze]:hr},{[bt]:t7,rules:r7,[Ze]:hr},T9],[Ze]:hr},Z3],[Ze]:hr},{[bt]:[C9,w9,S9],rules:[{[bt]:n0,endpoint:{[Hr]:vS,[jr]:pf,[Gr]:Pn},[Ze]:pr},{[bt]:dg,endpoint:{[Hr]:"https://s3express-control-fips.{Region}.amazonaws.com",[jr]:pf,[Gr]:Pn},[Ze]:pr},{endpoint:{[Hr]:"https://s3express-control.{Region}.amazonaws.com",[jr]:pf,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},{[bt]:[DT,{[er]:rd,[tr]:[Ra,49,50,Ku],[Ms]:Cee},{[er]:rd,[tr]:[Ra,8,12,Ku],[Ms]:Eee},{[er]:rd,[tr]:[Ra,0,7,Ku],[Ms]:h9},{[er]:rd,[tr]:[Ra,32,49,Ku],[Ms]:oD},{[er]:kT,[tr]:dP,[Ms]:"regionPartition"},{[er]:is,[tr]:[{[Cn]:h9},"--op-s3"]}],rules:[{[bt]:n7,rules:[{[bt]:[{[er]:is,[tr]:[E9,"e"]}],rules:[{[bt]:i7,rules:[A9,{[bt]:n0,endpoint:{[Hr]:"https://{Bucket}.ec2.{url#authority}",[jr]:Rx,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},{endpoint:{[Hr]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[jr]:Rx,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},{[bt]:[{[er]:is,[tr]:[E9,"o"]}],rules:[{[bt]:i7,rules:[A9,{[bt]:n0,endpoint:{[Hr]:"https://{Bucket}.op-{outpostId}.{url#authority}",[jr]:Rx,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},{endpoint:{[Hr]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[jr]:Rx,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[Ze]:Kr}],[Ze]:hr},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[Ze]:Kr}],[Ze]:hr},{[bt]:H5e,rules:[{[bt]:[Js,{[er]:xd,[tr]:[{[er]:pu,[tr]:[{[er]:See,[tr]:V5e}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[Ze]:Kr},{[bt]:[Q3,Fee],rules:[{[bt]:yh,rules:[{[bt]:s7,rules:[{[bt]:[tc,x9],error:"S3 Accelerate cannot be used in this region",[Ze]:Kr},{[bt]:[qi,Xi,Qs,Mn,co],endpoint:{[Hr]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[qi,Xi,Qs,Mn,ei,So],rules:[{endpoint:P9,[Ze]:pr}],[Ze]:hr},{[bt]:[qi,Xi,Qs,Mn,ei,To],endpoint:P9,[Ze]:pr},{[bt]:[Zn,Xi,Qs,Mn,co],endpoint:{[Hr]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Xi,Qs,Mn,ei,So],rules:[{endpoint:k9,[Ze]:pr}],[Ze]:hr},{[bt]:[Zn,Xi,Qs,Mn,ei,To],endpoint:k9,[Ze]:pr},{[bt]:[qi,Wn,tc,Mn,co],endpoint:{[Hr]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[qi,Wn,tc,Mn,ei,So],rules:[{endpoint:I9,[Ze]:pr}],[Ze]:hr},{[bt]:[qi,Wn,tc,Mn,ei,To],endpoint:I9,[Ze]:pr},{[bt]:[qi,Wn,Qs,Mn,co],endpoint:{[Hr]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[qi,Wn,Qs,Mn,ei,So],rules:[{endpoint:D9,[Ze]:pr}],[Ze]:hr},{[bt]:[qi,Wn,Qs,Mn,ei,To],endpoint:D9,[Ze]:pr},{[bt]:[Zn,Wn,Qs,Js,Pa,yS,co],endpoint:{[Hr]:Aee,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Wn,Qs,Js,Pa,J3,co],endpoint:{[Hr]:gS,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Wn,Qs,Js,Pa,yS,ei,So],rules:[{[bt]:_h,endpoint:eP,[Ze]:pr},{endpoint:eP,[Ze]:pr}],[Ze]:hr},{[bt]:[Zn,Wn,Qs,Js,Pa,J3,ei,So],rules:[{[bt]:_h,endpoint:aD,[Ze]:pr},R9],[Ze]:hr},{[bt]:[Zn,Wn,Qs,Js,Pa,yS,ei,To],endpoint:eP,[Ze]:pr},{[bt]:[Zn,Wn,Qs,Js,Pa,J3,ei,To],endpoint:aD,[Ze]:pr},{[bt]:[Zn,Wn,tc,Mn,co],endpoint:{[Hr]:Pee,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Wn,tc,Mn,ei,So],rules:[{[bt]:_h,endpoint:tP,[Ze]:pr},{endpoint:tP,[Ze]:pr}],[Ze]:hr},{[bt]:[Zn,Wn,tc,Mn,ei,To],endpoint:tP,[Ze]:pr},{[bt]:[Zn,Wn,Qs,Mn,co],endpoint:{[Hr]:p9,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Wn,Qs,Mn,ei,So],rules:[{[bt]:_h,endpoint:{[Hr]:p9,[jr]:no,[Gr]:Pn},[Ze]:pr},{endpoint:M9,[Ze]:pr}],[Ze]:hr},{[bt]:[Zn,Wn,Qs,Mn,ei,To],endpoint:M9,[Ze]:pr}],[Ze]:hr},Mx],[Ze]:hr}],[Ze]:hr},{[bt]:[Js,Pa,{[er]:is,[tr]:[{[er]:Ws,[tr]:[$ee,"scheme"]},"http"]},{[er]:Tee,[tr]:[Ra,Ku]},Q3,Wn,Zn,Qs],rules:[{[bt]:yh,rules:[{[bt]:s7,rules:[R9],[Ze]:hr},Mx],[Ze]:hr}],[Ze]:hr},{[bt]:[Q3,{[er]:kee,[tr]:z5e,[Ms]:Iee}],rules:[{[bt]:[{[er]:Ws,[tr]:[fl,"resourceId[0]"],[Ms]:Dee},{[er]:xd,[tr]:[{[er]:is,[tr]:[Nee,IT]}]}],rules:[{[bt]:[{[er]:is,[tr]:[rP,N8]}],rules:[{[bt]:mP,rules:[{[bt]:o7,rules:[O9,$9,{[bt]:gP,rules:[L9,{[bt]:a7,rules:[nP,{[bt]:vP,rules:[{[bt]:yh,rules:[{[bt]:l7,rules:[{[bt]:yP,rules:[{[bt]:[{[er]:is,[tr]:[Uee,IT]}],error:"Invalid ARN: Missing account id",[Ze]:Kr},{[bt]:_P,rules:[{[bt]:u7,rules:[{[bt]:n0,endpoint:{[Hr]:m9,[jr]:iP,[Gr]:Pn},[Ze]:pr},{[bt]:dg,endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jr]:iP,[Gr]:Pn},[Ze]:pr},{endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jr]:iP,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},F9],[Ze]:hr},sP],[Ze]:hr},oP],[Ze]:hr},aP],[Ze]:hr}],[Ze]:hr}],[Ze]:hr},N9],[Ze]:hr},{error:"Invalid ARN: bucket ARN is missing a region",[Ze]:Kr}],[Ze]:hr},B9],[Ze]:hr},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[Ze]:Kr}],[Ze]:hr},{[bt]:mP,rules:[{[bt]:o7,rules:[{[bt]:gP,rules:[{[bt]:mP,rules:[{[bt]:gP,rules:[L9,{[bt]:a7,rules:[nP,{[bt]:vP,rules:[{[bt]:yh,rules:[{[bt]:[{[er]:is,[tr]:[Bee,"{partitionResult#name}"]}],rules:[{[bt]:yP,rules:[{[bt]:[{[er]:is,[tr]:[rP,Nv]}],rules:[{[bt]:_P,rules:[{[bt]:u7,rules:[{[bt]:Ox,error:"Access Points do not support S3 Accelerate",[Ze]:Kr},{[bt]:[Xi,qi],endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jr]:f_,[Gr]:Pn},[Ze]:pr},{[bt]:[Xi,Zn],endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jr]:f_,[Gr]:Pn},[Ze]:pr},{[bt]:[Wn,qi],endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jr]:f_,[Gr]:Pn},[Ze]:pr},{[bt]:[Wn,Zn,Js,Pa],endpoint:{[Hr]:m9,[jr]:f_,[Gr]:Pn},[Ze]:pr},{[bt]:[Wn,Zn],endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jr]:f_,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},F9],[Ze]:hr},sP],[Ze]:hr},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[Ze]:Kr}],[Ze]:hr},oP],[Ze]:hr},aP],[Ze]:hr}],[Ze]:hr}],[Ze]:hr},N9],[Ze]:hr}],[Ze]:hr}],[Ze]:hr},{[bt]:[{[er]:jm,[tr]:[U8,Ku]}],rules:[{[bt]:fP,error:"S3 MRAP does not support dual-stack",[Ze]:Kr},{[bt]:dg,error:"S3 MRAP does not support FIPS",[Ze]:Kr},{[bt]:Ox,error:"S3 MRAP does not support S3 Accelerate",[Ze]:Kr},{[bt]:[{[er]:Lo,[tr]:[{[Cn]:"DisableMultiRegionAccessPoints"},Ku]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[Ze]:Kr},{[bt]:[{[er]:kT,[tr]:dP,[Ms]:g9}],rules:[{[bt]:[{[er]:is,[tr]:[{[er]:Ws,[tr]:[{[Cn]:g9},va]},{[er]:Ws,[tr]:[fl,"partition"]}]}],rules:[{endpoint:{[Hr]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[jr]:{[Mc]:[{[Wl]:Ku,name:F8,[ql]:Nv,[L8]:j5e}]},[Gr]:Pn},[Ze]:pr}],[Ze]:hr},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[Ze]:Kr}],[Ze]:hr}],[Ze]:hr},{error:"Invalid Access Point Name",[Ze]:Kr}],[Ze]:hr},B9],[Ze]:hr},{[bt]:[{[er]:is,[tr]:[rP,kb]}],rules:[{[bt]:fP,error:"S3 Outposts does not support Dual-stack",[Ze]:Kr},{[bt]:dg,error:"S3 Outposts does not support FIPS",[Ze]:Kr},{[bt]:Ox,error:"S3 Outposts does not support S3 Accelerate",[Ze]:Kr},{[bt]:[{[er]:pu,[tr]:[{[er]:Ws,[tr]:[fl,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[Ze]:Kr},{[bt]:[{[er]:Ws,[tr]:G5e,[Ms]:oD}],rules:[{[bt]:n7,rules:[nP,{[bt]:vP,rules:[{[bt]:yh,rules:[{[bt]:l7,rules:[{[bt]:yP,rules:[{[bt]:_P,rules:[{[bt]:[{[er]:Ws,[tr]:W5e,[Ms]:v9}],rules:[{[bt]:[{[er]:Ws,[tr]:[fl,"resourceId[3]"],[Ms]:B8}],rules:[{[bt]:[{[er]:is,[tr]:[{[Cn]:v9},Ree]}],rules:[{[bt]:n0,endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[jr]:U9,[Gr]:Pn},[Ze]:pr},{endpoint:{[Hr]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[jr]:U9,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[Ze]:Kr}],[Ze]:hr},{error:"Invalid ARN: expected an access point name",[Ze]:Kr}],[Ze]:hr},{error:"Invalid ARN: Expected a 4-component resource",[Ze]:Kr}],[Ze]:hr},sP],[Ze]:hr},oP],[Ze]:hr},aP],[Ze]:hr}],[Ze]:hr}],[Ze]:hr},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[Ze]:Kr}],[Ze]:hr},{error:"Invalid ARN: The Outpost Id was not set",[Ze]:Kr}],[Ze]:hr},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[Ze]:Kr}],[Ze]:hr},{error:"Invalid ARN: No ARN type specified",[Ze]:Kr}],[Ze]:hr},{[bt]:[{[er]:rd,[tr]:[Ra,0,4,B5e],[Ms]:y9},{[er]:is,[tr]:[{[Cn]:y9},"arn:"]},{[er]:xd,[tr]:[{[er]:pu,[tr]:[V9]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[Ze]:Kr},{[bt]:[{[er]:Lo,[tr]:[U5e,Ku]},V9],error:"Path-style addressing cannot be used with ARN buckets",[Ze]:Kr},{[bt]:hP,rules:[{[bt]:yh,rules:[{[bt]:[Qs],rules:[{[bt]:[qi,Mn,Xi,co],endpoint:{[Hr]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[qi,Mn,Xi,ei,So],rules:[{endpoint:z9,[Ze]:pr}],[Ze]:hr},{[bt]:[qi,Mn,Xi,ei,To],endpoint:z9,[Ze]:pr},{[bt]:[Zn,Mn,Xi,co],endpoint:{[Hr]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Mn,Xi,ei,So],rules:[{endpoint:H9,[Ze]:pr}],[Ze]:hr},{[bt]:[Zn,Mn,Xi,ei,To],endpoint:H9,[Ze]:pr},{[bt]:[qi,Mn,Wn,co],endpoint:{[Hr]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[qi,Mn,Wn,ei,So],rules:[{endpoint:j9,[Ze]:pr}],[Ze]:hr},{[bt]:[qi,Mn,Wn,ei,To],endpoint:j9,[Ze]:pr},{[bt]:[Zn,Js,Pa,Wn,co],endpoint:{[Hr]:Mee,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Js,Pa,Wn,ei,So],rules:[{[bt]:_h,endpoint:lP,[Ze]:pr},{endpoint:lP,[Ze]:pr}],[Ze]:hr},{[bt]:[Zn,Js,Pa,Wn,ei,To],endpoint:lP,[Ze]:pr},{[bt]:[Zn,Mn,Wn,co],endpoint:{[Hr]:_9,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Zn,Mn,Wn,ei,So],rules:[{[bt]:_h,endpoint:{[Hr]:_9,[jr]:no,[Gr]:Pn},[Ze]:pr},{endpoint:G9,[Ze]:pr}],[Ze]:hr},{[bt]:[Zn,Mn,Wn,ei,To],endpoint:G9,[Ze]:pr}],[Ze]:hr},{error:"Path-style addressing cannot be used with S3 Accelerate",[Ze]:Kr}],[Ze]:hr}],[Ze]:hr}],[Ze]:hr},{[bt]:[{[er]:pu,[tr]:[W9]},{[er]:Lo,[tr]:[W9,Ku]}],rules:[{[bt]:yh,rules:[{[bt]:c7,rules:[O9,$9,{[bt]:n0,endpoint:{[Hr]:vS,[jr]:uP,[Gr]:Pn},[Ze]:pr},{[bt]:dg,endpoint:{[Hr]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[jr]:uP,[Gr]:Pn},[Ze]:pr},{endpoint:{[Hr]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[jr]:uP,[Gr]:Pn},[Ze]:pr}],[Ze]:hr},Mx],[Ze]:hr}],[Ze]:hr},{[bt]:[C9],rules:[{[bt]:yh,rules:[{[bt]:c7,rules:[{[bt]:[Xi,qi,Mn,co],endpoint:{[Hr]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Xi,qi,Mn,ei,So],rules:[{endpoint:q9,[Ze]:pr}],[Ze]:hr},{[bt]:[Xi,qi,Mn,ei,To],endpoint:q9,[Ze]:pr},{[bt]:[Xi,Zn,Mn,co],endpoint:{[Hr]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Xi,Zn,Mn,ei,So],rules:[{endpoint:X9,[Ze]:pr}],[Ze]:hr},{[bt]:[Xi,Zn,Mn,ei,To],endpoint:X9,[Ze]:pr},{[bt]:[Wn,qi,Mn,co],endpoint:{[Hr]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Wn,qi,Mn,ei,So],rules:[{endpoint:Y9,[Ze]:pr}],[Ze]:hr},{[bt]:[Wn,qi,Mn,ei,To],endpoint:Y9,[Ze]:pr},{[bt]:[Wn,Zn,Js,Pa,co],endpoint:{[Hr]:vS,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Wn,Zn,Js,Pa,ei,So],rules:[{[bt]:_h,endpoint:cP,[Ze]:pr},{endpoint:cP,[Ze]:pr}],[Ze]:hr},{[bt]:[Wn,Zn,Js,Pa,ei,To],endpoint:cP,[Ze]:pr},{[bt]:[Wn,Zn,Mn,co],endpoint:{[Hr]:b9,[jr]:wo,[Gr]:Pn},[Ze]:pr},{[bt]:[Wn,Zn,Mn,ei,So],rules:[{[bt]:_h,endpoint:{[Hr]:b9,[jr]:no,[Gr]:Pn},[Ze]:pr},{endpoint:K9,[Ze]:pr}],[Ze]:hr},{[bt]:[Wn,Zn,Mn,ei,To],endpoint:K9,[Ze]:pr}],[Ze]:hr},Mx],[Ze]:hr}],[Ze]:hr}],[Ze]:hr},{error:"A region must be set when sending requests to S3.",[Ze]:Kr}]},X5e=q5e,Y5e=new I$e({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Vee=(t,e={})=>Y5e.get(t,()=>Y$e(X5e,{endpointParams:t,logger:e.logger}));PT.aws=dee;const K5e=t=>async(e,r,n)=>{var a,l,u;if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const i=await t(e,r,n),s=(u=(l=(a=Ey(r))==null?void 0:a.commandInstance)==null?void 0:l.constructor)==null?void 0:u.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);const o=await XJ(n,{getEndpointParameterInstructions:s},e);return Object.assign(i,o)},Z5e=async(t,e,r)=>({operation:Ey(e).operation,region:await bd(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Q5e=K5e(Z5e);function zee(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Hee(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}const J5e=(t,e,r)=>i=>{var l;const o=(l=t(i).properties)==null?void 0:l.authSchemes;if(!o)return e(i);const a=[];for(const u of o){const{name:d,properties:f={},...h}=u,g=d.toLowerCase();d!==g&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${g}\``);let v;if(g==="sigv4a"){if(v="aws.auth#sigv4a",o.find(C=>{const T=C.name.toLowerCase();return T!=="sigv4a"&&T.startsWith("sigv4")}))continue}else if(g.startsWith("sigv4"))v="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${g}\``);const p=r[v];if(!p)throw new Error(`Could not find HttpAuthOption create function for \`${v}\``);const b=p(i);b.schemeId=v,b.signingProperties={...b.signingProperties||{},...h,...f},a.push(b)}return a},eFe=t=>{const e=[];switch(t.operation){default:e.push(zee(t)),e.push(Hee(t))}return e},tFe=J5e(Vee,eFe,{"aws.auth#sigv4":zee,"aws.auth#sigv4a":Hee}),rFe=t=>{const e=_Le(t);return{...yLe(e)}},nFe=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),Oc={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Gu extends E8{constructor(e){super(e),Object.setPrototypeOf(this,Gu.prototype)}}class V8 extends Gu{constructor(e){super({name:"NoSuchUpload",$fault:"client",...e}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,V8.prototype)}}class z8 extends Gu{constructor(e){super({name:"ObjectNotInActiveTierError",$fault:"client",...e}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,z8.prototype)}}class H8 extends Gu{constructor(e){super({name:"BucketAlreadyExists",$fault:"client",...e}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,H8.prototype)}}class j8 extends Gu{constructor(e){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...e}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,j8.prototype)}}class G8 extends Gu{constructor(e){super({name:"NoSuchBucket",$fault:"client",...e}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,G8.prototype)}}var d7;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(d7||(d7={}));var f7;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):e.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(e.ObjectSizeLessThan):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(f7||(f7={}));var h7;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(h7||(h7={}));var p7;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(p7||(p7={}));class W8 extends Gu{constructor(e){super({name:"InvalidObjectState",$fault:"client",...e}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,W8.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}}class q8 extends Gu{constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,q8.prototype)}}class X8 extends Gu{constructor(e){super({name:"NotFound",$fault:"client",...e}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,X8.prototype)}}const iFe=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Es}}),sFe=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Es}}),oFe=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Es},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Es}}),aFe=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Es},...t.SSEKMSKeyId&&{SSEKMSKeyId:Es},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Es}}),lFe=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:Es},...t.SessionToken&&{SessionToken:Es}}),uFe=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Es},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Es},...t.Credentials&&{Credentials:lFe(t.Credentials)}}),cFe=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Es},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Es}}),dFe=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Es}}),fFe=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Es}}),hFe=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Es}});function pFe(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function mFe(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class gFe{constructor(e){this.value=e}toString(){return mFe(""+this.value)}}class Au{static of(e,r,n){const i=new Au(e);return r!==void 0&&i.addChildNode(new gFe(r)),n!==void 0&&i.withName(n),i}constructor(e,r=[]){this.name=e,this.children=r,this.attributes={}}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,n=r){if(e[r]!=null){const i=Au.of(r,e[r]).withName(n);this.c(i)}}l(e,r,n,i){e[r]!=null&&i().map(o=>{o.withName(n),this.c(o)})}lc(e,r,n,i){if(e[r]!=null){const s=i(),o=new Au(n);s.map(a=>{o.c(a)}),this.c(o)}}toString(){const e=!!this.children.length;let r=`<${this.name}`;const n=this.attributes;for(const i of Object.keys(n)){const s=n[i];s!=null&&(r+=` ${i}="${pFe(""+s)}"`)}return r+=e?`>${this.children.map(i=>i.toString()).join("")}</${this.name}>`:"/>"}}class Y8 extends Gu{constructor(e){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...e}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,Y8.prototype)}}var m7;(function(t){t.visit=(e,r)=>e.Records!==void 0?r.Records(e.Records):e.Stats!==void 0?r.Stats(e.Stats):e.Progress!==void 0?r.Progress(e.Progress):e.Cont!==void 0?r.Cont(e.Cont):e.End!==void 0?r.End(e.End):r._(e.$unknown[0],e.$unknown[1])})(m7||(m7={}));const vFe=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Es},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Es}}),yFe=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Es},...t.SSEKMSKeyId&&{SSEKMSKeyId:Es},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Es}}),_Fe=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Es}}),bFe=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Es}}),xFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{"content-type":"application/xml",[Dy]:t[Bl],[Ry]:t[Ul],[My]:t[Vl],[Oy]:t[zl],[nh]:t[Qf],[th]:t[Kf],[f6]:t[r6],[zd]:t[Ud],[Ly]:t[ky],[Hd]:t[Vd]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Vn({[h6]:[,Xs(t[If],"UploadId")]});let s,o;return t.MultipartUpload!==void 0&&(o=JFe(t.MultipartUpload),o=o.n("CompleteMultipartUpload"),s=ste,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),r.m("POST").h(n).q(i).b(s),r.build()},wFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{[ote]:t[jee],[o6]:t[Z8],[a6]:t[Q8],[l6]:t[J8],[u6]:t[e6],[c6]:t[t6],[$T]:[()=>ps(t[Db]),()=>C2(t[Db]).toString()],[cte]:t[Xee],[dte]:t[Yee],[fte]:t[Kee],[hte]:t[Zee],[ih]:t[Jf],[v6]:t[Pu],[_6]:t[s6],[zd]:t[Ud],[Ly]:t[ky],[Hd]:t[Vd],[sh]:t[eh],[$y]:t[Iy],[qa]:[()=>ps(t[Fu]),()=>t[Fu].toString()],[nh]:t[Qf],[mte]:t[Jee],[g6]:t[i6],[NT]:[()=>ps(t[Rb]),()=>FJ(t[Rb]).toString()],[m6]:t[n6],[th]:t[Kf],[ute]:t[gu],...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=t.Metadata[a],o),{})});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Vn({[_Be]:[,""]});let s;return r.m("POST").h(n).q(i).b(s),r.build()},SFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{[xBe]:t[WNe],[ih]:t[Jf],[sh]:t[eh],[$y]:t[Iy],[qa]:[()=>ps(t[Fu]),()=>t[Fu].toString()]});r.bp("/"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const i=Vn({[vBe]:[,""]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},TFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{[pte]:t[Qee],[nh]:t[Qf],[lte]:[()=>ps(t[MT]),()=>t[MT].toString()],[th]:t[Kf]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Vn({[Fy]:[,"DeleteObject"],[ite]:[,t[Ua]]});let s;return r.m("DELETE").h(n).q(i).b(s),r.build()},CFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{"content-type":"application/xml",[pte]:t[Qee],[nh]:t[Qf],[lte]:[()=>ps(t[MT]),()=>t[MT].toString()],[th]:t[Kf],[y6]:t[gu]});r.bp("/"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const i=Vn({[KNe]:[,""]});let s,o;return t.Delete!==void 0&&(o=rNe(t.Delete),s=ste,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),r.m("POST").h(n).q(i).b(s),r.build()},EFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{[tBe]:t[kNe],[rBe]:[()=>ps(t[y7]),()=>C2(t[y7]).toString()],[f6]:t[r6],[nBe]:[()=>ps(t[_7]),()=>C2(t[_7]).toString()],[cBe]:t[FNe],[zd]:t[Ud],[Ly]:t[ky],[Hd]:t[Vd],[nh]:t[Qf],[th]:t[Kf],[bBe]:t[wNe]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Vn({[Fy]:[,"GetObject"],[dBe]:[,t[NNe]],[fBe]:[,t[BNe]],[hBe]:[,t[UNe]],[pBe]:[,t[VNe]],[mBe]:[,t[zNe]],[gBe]:[()=>t.ResponseExpires!==void 0,()=>C2(t[HNe]).toString()],[ite]:[,t[Ua]],[nte]:[()=>t.PartNumber!==void 0,()=>t[Sf].toString()]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},AFe=async(t,e)=>{const r=Rc(t,e),n={};r.bp("/");const i=Vn({[Fy]:[,"ListBuckets"],[sBe]:[()=>t.MaxBuckets!==void 0,()=>t[INe].toString()],[tte]:[,t[ip]]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},PFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{[nh]:t[Qf],[th]:t[Kf],[wBe]:[()=>ps(t[b7]),()=>(t[b7]||[]).join(", ")]});r.bp("/"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const i=Vn({[iBe]:[,"2"],[ZNe]:[,t[_S]],[QNe]:[,t[bS]],[oBe]:[()=>t.MaxKeys!==void 0,()=>t[xS].toString()],[uBe]:[,t[em]],[tte]:[,t[ip]],[eBe]:[()=>t.FetchOwner!==void 0,()=>t[PNe].toString()],[yBe]:[,t[TS]]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},kFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{[nh]:t[Qf],[th]:t[Kf],[zd]:t[Ud],[Ly]:t[ky],[Hd]:t[Vd]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Vn({[Fy]:[,"ListParts"],[aBe]:[()=>t.MaxParts!==void 0,()=>t[wS].toString()],[lBe]:[,t[SS]],[h6]:[,Xs(t[If],"UploadId")]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},IFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{[c6]:t[t6]||"application/octet-stream",[ote]:t[jee],[o6]:t[Z8],[a6]:t[Q8],[l6]:t[J8],[u6]:t[e6],[OT]:[()=>ps(t[Ib]),()=>t[Ib].toString()],[ete]:t[qee],[y6]:t[gu],[Dy]:t[Bl],[Ry]:t[Ul],[My]:t[Vl],[Oy]:t[zl],[$T]:[()=>ps(t[Db]),()=>C2(t[Db]).toString()],[f6]:t[r6],[cte]:t[Xee],[dte]:t[Yee],[fte]:t[Kee],[hte]:t[Zee],[ih]:t[Jf],[v6]:t[Pu],[_6]:t[s6],[zd]:t[Ud],[Ly]:t[ky],[Hd]:t[Vd],[sh]:t[eh],[$y]:t[Iy],[qa]:[()=>ps(t[Fu]),()=>t[Fu].toString()],[nh]:t[Qf],[mte]:t[Jee],[g6]:t[i6],[NT]:[()=>ps(t[Rb]),()=>FJ(t[Rb]).toString()],[m6]:t[n6],[th]:t[Kf],...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,l)=>(a[`x-amz-meta-${l.toLowerCase()}`]=t.Metadata[l],a),{})});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Vn({[Fy]:[,"PutObject"]});let s,o;return t.Body!==void 0&&(o=t.Body,s=o),r.m("PUT").h(n).q(i).b(s),r.build()},DFe=async(t,e)=>{const r=Rc(t,e),n=Vn({},ps,{"content-type":"application/octet-stream",[OT]:[()=>ps(t[Ib]),()=>t[Ib].toString()],[ete]:t[qee],[y6]:t[gu],[Dy]:t[Bl],[Ry]:t[Ul],[My]:t[Vl],[Oy]:t[zl],[zd]:t[Ud],[Ly]:t[ky],[Hd]:t[Vd],[nh]:t[Qf],[th]:t[Kf]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const i=Vn({[Fy]:[,"UploadPart"],[nte]:[Xs(t.PartNumber,"PartNumber")!=null,()=>t[Sf].toString()],[h6]:[,Xs(t[If],"UploadId")]});let s,o;return t.Body!==void 0&&(o=t.Body,s=o),r.m("PUT").h(n).q(i).b(s),r.build()},RFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Qg]:[,t.headers[p6]],[Jf]:[,t.headers[ih]],[Ua]:[,t.headers[OE]],[eh]:[,t.headers[sh]],[Fu]:[()=>t.headers[qa]!==void 0,()=>Lu(t.headers[qa])],[Zf]:[,t.headers[rh]]}),n=Xs(Hm(await Rp(t.body,e)),"body");return n[pc]!=null&&(r[pc]=gn(n[pc])),n[Bl]!=null&&(r[Bl]=gn(n[Bl])),n[Ul]!=null&&(r[Ul]=gn(n[Ul])),n[Vl]!=null&&(r[Vl]=gn(n[Vl])),n[zl]!=null&&(r[zl]=gn(n[zl])),n[Hl]!=null&&(r[Hl]=gn(n[Hl])),n[Ys]!=null&&(r[Ys]=gn(n[Ys])),n[kP]!=null&&(r[kP]=gn(n[kP])),r},MFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Gee]:[()=>t.headers[LT]!==void 0,()=>Xs(Eb(t.headers[LT]))],[Wee]:[,t.headers[ate]],[Jf]:[,t.headers[ih]],[Ud]:[,t.headers[zd]],[Vd]:[,t.headers[Hd]],[eh]:[,t.headers[sh]],[Iy]:[,t.headers[$y]],[Fu]:[()=>t.headers[qa]!==void 0,()=>Lu(t.headers[qa])],[Zf]:[,t.headers[rh]],[gu]:[,t.headers[ute]]}),n=Xs(Hm(await Rp(t.body,e)),"body");return n[pc]!=null&&(r[pc]=gn(n[pc])),n[Ys]!=null&&(r[Ys]=gn(n[Ys])),n[If]!=null&&(r[If]=gn(n[If])),r},OFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Jf]:[,t.headers[ih]],[eh]:[,t.headers[sh]],[Iy]:[,t.headers[$y]],[Fu]:[()=>t.headers[qa]!==void 0,()=>Lu(t.headers[qa])]}),n=Xs(Hm(await Rp(t.body,e)),"body");return n[wP]!=null&&(r[wP]=bNe(n[wP])),r},$Fe=async(t,e)=>{if(t.statusCode!==204&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[A2]:[()=>t.headers[FT]!==void 0,()=>Lu(t.headers[FT])],[Ua]:[,t.headers[OE]],[Zf]:[,t.headers[rh]]});return await kE(t.body,e),r},LFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Zf]:[,t.headers[rh]]}),n=Xs(Hm(await Rp(t.body,e)),"body");return n.Deleted===""?r[Fx]=[]:n[Fx]!=null&&(r[Fx]=dNe(Em(n[Fx]))),n.Error===""?r[v7]=[]:n[g7]!=null&&(r[v7]=hNe(Em(n[g7]))),r},FFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[A2]:[()=>t.headers[FT]!==void 0,()=>Lu(t.headers[FT])],[xNe]:[,t.headers[XNe]],[Qg]:[,t.headers[p6]],[GNe]:[,t.headers[SBe]],[J0]:[()=>t.headers[w7]!==void 0,()=>Xs(Eb(t.headers[w7]))],[Ib]:[()=>t.headers[OT]!==void 0,()=>T8(t.headers[OT])],[Hl]:[,t.headers[d6]],[Bl]:[,t.headers[Dy]],[Ul]:[,t.headers[Ry]],[Vl]:[,t.headers[My]],[zl]:[,t.headers[Oy]],[DNe]:[()=>t.headers[S7]!==void 0,()=>Q0(t.headers[S7])],[Ua]:[,t.headers[OE]],[Z8]:[,t.headers[o6]],[Q8]:[,t.headers[a6]],[J8]:[,t.headers[l6]],[e6]:[,t.headers[u6]],[CNe]:[,t.headers[YNe]],[t6]:[,t.headers[c6]],[Db]:[()=>t.headers[$T]!==void 0,()=>Xs(Eb(t.headers[$T]))],[ANe]:[,t.headers[JNe]],[s6]:[,t.headers[_6]],[Jf]:[,t.headers[ih]],[Ud]:[,t.headers[zd]],[Vd]:[,t.headers[Hd]],[eh]:[,t.headers[sh]],[Fu]:[()=>t.headers[qa]!==void 0,()=>Lu(t.headers[qa])],[Pu]:[,t.headers[v6]],[Zf]:[,t.headers[rh]],[jNe]:[,t.headers[TBe]],[LNe]:[()=>t.headers[T7]!==void 0,()=>Q0(t.headers[T7])],[qNe]:[()=>t.headers[C7]!==void 0,()=>Q0(t.headers[C7])],[i6]:[,t.headers[g6]],[Rb]:[()=>t.headers[NT]!==void 0,()=>Xs(Py(t.headers[NT]))],[n6]:[,t.headers[m6]],Metadata:[,Object.keys(t.headers).filter(i=>i.startsWith("x-amz-meta-")).reduce((i,s)=>(i[s.substring(11)]=t.headers[s],i),{})]}),n=t.body;return e.sdkStreamMixin(n),r.Body=n,r},NFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t)}),n=Xs(Hm(await Rp(t.body,e)),"body");return n.Buckets===""?r[h_]=[]:n[h_]!=null&&n[h_][pc]!=null&&(r[h_]=oNe(Em(n[h_][pc]))),n[ip]!=null&&(r[ip]=gn(n[ip])),n[kf]!=null&&(r[kf]=K8(n[kf])),r},BFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Zf]:[,t.headers[rh]]}),n=Xs(Hm(await Rp(t.body,e)),"body");return n.CommonPrefixes===""?r[$x]=[]:n[$x]!=null&&(r[$x]=uNe(Em(n[$x]))),n.Contents===""?r[Lx]=[]:n[Lx]!=null&&(r[Lx]=gNe(Em(n[Lx]))),n[ip]!=null&&(r[ip]=gn(n[ip])),n[_S]!=null&&(r[_S]=gn(n[_S])),n[bS]!=null&&(r[bS]=gn(n[bS])),n[ev]!=null&&(r[ev]=Lu(n[ev])),n[PP]!=null&&(r[PP]=Q0(n[PP])),n[xS]!=null&&(r[xS]=Q0(n[xS])),n[tv]!=null&&(r[tv]=gn(n[tv])),n[DP]!=null&&(r[DP]=gn(n[DP])),n[em]!=null&&(r[em]=gn(n[em])),n[TS]!=null&&(r[TS]=gn(n[TS])),r},UFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Gee]:[()=>t.headers[LT]!==void 0,()=>Xs(Eb(t.headers[LT]))],[Wee]:[,t.headers[ate]],[Zf]:[,t.headers[rh]]}),n=Xs(Hm(await Rp(t.body,e)),"body");return n[pc]!=null&&(r[pc]=gn(n[pc])),n[gu]!=null&&(r[gu]=gn(n[gu])),n[AP]!=null&&(r[AP]=pNe(n[AP])),n[ev]!=null&&(r[ev]=Lu(n[ev])),n[Ys]!=null&&(r[Ys]=gn(n[Ys])),n[wS]!=null&&(r[wS]=Q0(n[wS])),n[RP]!=null&&(r[RP]=gn(n[RP])),n[kf]!=null&&(r[kf]=K8(n[kf])),n[SS]!=null&&(r[SS]=gn(n[SS])),n.Part===""?r[lD]=[]:n[x7]!=null&&(r[lD]=yNe(Em(n[x7]))),n[Pu]!=null&&(r[Pu]=gn(n[Pu])),n[If]!=null&&(r[If]=gn(n[If])),r},VFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Qg]:[,t.headers[p6]],[Hl]:[,t.headers[d6]],[Bl]:[,t.headers[Dy]],[Ul]:[,t.headers[Ry]],[Vl]:[,t.headers[My]],[zl]:[,t.headers[Oy]],[Jf]:[,t.headers[ih]],[Ua]:[,t.headers[OE]],[Ud]:[,t.headers[zd]],[Vd]:[,t.headers[Hd]],[eh]:[,t.headers[sh]],[Iy]:[,t.headers[$y]],[Fu]:[()=>t.headers[qa]!==void 0,()=>Lu(t.headers[qa])],[Zf]:[,t.headers[rh]]});return await kE(t.body,e),r},zFe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $c(t,e);const r=Vn({$metadata:ao(t),[Jf]:[,t.headers[ih]],[Hl]:[,t.headers[d6]],[Bl]:[,t.headers[Dy]],[Ul]:[,t.headers[Ry]],[Vl]:[,t.headers[My]],[zl]:[,t.headers[Oy]],[Ud]:[,t.headers[zd]],[Vd]:[,t.headers[Hd]],[eh]:[,t.headers[sh]],[Fu]:[()=>t.headers[qa]!==void 0,()=>Lu(t.headers[qa])],[Zf]:[,t.headers[rh]]});return await kE(t.body,e),r},$c=async(t,e)=>{const r={...t,body:await L5e(t.body,e)},n=F5e(t,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await YFe(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await QFe(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await jFe(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await GFe(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await qFe(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await WFe(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await XFe(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await KFe(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await ZFe(r);default:const i=r.body;return HFe({output:t,parsedBody:i,errorCode:n})}},HFe=o8e(Gu),jFe=async(t,e)=>{const r=Vn({});t.body;const n=new H8({$metadata:ao(t),...r});return Fd(n,t.body)},GFe=async(t,e)=>{const r=Vn({});t.body;const n=new j8({$metadata:ao(t),...r});return Fd(n,t.body)},WFe=async(t,e)=>{const r=Vn({}),n=t.body;n[xP]!=null&&(r[xP]=gn(n[xP])),n[Pu]!=null&&(r[Pu]=gn(n[Pu]));const i=new W8({$metadata:ao(t),...r});return Fd(i,t.body)},qFe=async(t,e)=>{const r=Vn({});t.body;const n=new G8({$metadata:ao(t),...r});return Fd(n,t.body)},XFe=async(t,e)=>{const r=Vn({});t.body;const n=new q8({$metadata:ao(t),...r});return Fd(n,t.body)},YFe=async(t,e)=>{const r=Vn({});t.body;const n=new V8({$metadata:ao(t),...r});return Fd(n,t.body)},KFe=async(t,e)=>{const r=Vn({});t.body;const n=new X8({$metadata:ao(t),...r});return Fd(n,t.body)},ZFe=async(t,e)=>{const r=Vn({});t.body;const n=new Y8({$metadata:ao(t),...r});return Fd(n,t.body)},QFe=async(t,e)=>{const r=Vn({});t.body;const n=new z8({$metadata:ao(t),...r});return Fd(n,t.body)},JFe=(t,e)=>{const r=new Au(SNe);return r.l(t,"Parts","Part",()=>tNe(t[lD])),r},eNe=(t,e)=>{const r=new Au(TNe);return r.cc(t,Hl),r.cc(t,Bl),r.cc(t,Ul),r.cc(t,Vl),r.cc(t,zl),t[Sf]!=null&&r.c(Au.of(Sf,String(t[Sf])).n(Sf)),r},tNe=(t,e)=>t.filter(r=>r!=null).map(r=>eNe(r).n(rte)),rNe=(t,e)=>{const r=new Au(ENe);return r.l(t,"Objects","Object",()=>iNe(t[$Ne])),t[Nx]!=null&&r.c(Au.of(Nx,String(t[Nx])).n(Nx)),r},nNe=(t,e)=>{const r=new Au(RNe);return t[Ys]!=null&&r.c(Au.of(MNe,t[Ys]).n(Ys)),t[Ua]!=null&&r.c(Au.of(ONe,t[Ua]).n(Ua)),r},iNe=(t,e)=>t.filter(r=>r!=null).map(r=>nNe(r).n(rte)),sNe=(t,e)=>{const r={};return t[tv]!=null&&(r[tv]=gn(t[tv])),t[SP]!=null&&(r[SP]=Xs(Py(t[SP]))),r},oNe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>sNe(r)),aNe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>gn(r)),lNe=(t,e)=>{const r={};return t[em]!=null&&(r[em]=gn(t[em])),r},uNe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>lNe(r)),cNe=(t,e)=>{const r={};return t[Ys]!=null&&(r[Ys]=gn(t[Ys])),t[Ua]!=null&&(r[Ua]=gn(t[Ua])),t[A2]!=null&&(r[A2]=Lu(t[A2])),t[CP]!=null&&(r[CP]=gn(t[CP])),r},dNe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>cNe(r)),fNe=(t,e)=>{const r={};return t[Ys]!=null&&(r[Ys]=gn(t[Ys])),t[Ua]!=null&&(r[Ua]=gn(t[Ua])),t[TP]!=null&&(r[TP]=gn(t[TP])),t[IP]!=null&&(r[IP]=gn(t[IP])),r},hNe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>fNe(r)),pNe=(t,e)=>{const r={};return t[Jg]!=null&&(r[Jg]=gn(t[Jg])),t[Zg]!=null&&(r[Zg]=gn(t[Zg])),r},mNe=(t,e)=>{const r={};return t[Ys]!=null&&(r[Ys]=gn(t[Ys])),t[J0]!=null&&(r[J0]=Xs(Py(t[J0]))),t[Hl]!=null&&(r[Hl]=gn(t[Hl])),t.ChecksumAlgorithm===""?r[gu]=[]:t[gu]!=null&&(r[gu]=aNe(Em(t[gu]))),t[rv]!=null&&(r[rv]=T8(t[rv])),t[Pu]!=null&&(r[Pu]=gn(t[Pu])),t[kf]!=null&&(r[kf]=K8(t[kf])),t[OP]!=null&&(r[OP]=_Ne(t[OP])),r},gNe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>mNe(r)),K8=(t,e)=>{const r={};return t[Zg]!=null&&(r[Zg]=gn(t[Zg])),t[Jg]!=null&&(r[Jg]=gn(t[Jg])),r},vNe=(t,e)=>{const r={};return t[Sf]!=null&&(r[Sf]=Q0(t[Sf])),t[J0]!=null&&(r[J0]=Xs(Py(t[J0]))),t[Hl]!=null&&(r[Hl]=gn(t[Hl])),t[rv]!=null&&(r[rv]=T8(t[rv])),t[Bl]!=null&&(r[Bl]=gn(t[Bl])),t[Ul]!=null&&(r[Ul]=gn(t[Ul])),t[Vl]!=null&&(r[Vl]=gn(t[Vl])),t[zl]!=null&&(r[zl]=gn(t[zl])),r},yNe=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>vNe(r)),_Ne=(t,e)=>{const r={};return t[EP]!=null&&(r[EP]=Lu(t[EP])),t[MP]!=null&&(r[MP]=Xs(Py(t[MP]))),r},bNe=(t,e)=>{const r={};return t[bP]!=null&&(r[bP]=gn(t[bP])),t[$P]!=null&&(r[$P]=gn(t[$P])),t[LP]!=null&&(r[LP]=gn(t[LP])),t[Qg]!=null&&(r[Qg]=Xs(Py(t[Qg]))),r},ao=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),jee="ACL",Gee="AbortDate",bP="AccessKeyId",xNe="AcceptRanges",Wee="AbortRuleId",xP="AccessTier",pc="Bucket",MT="BypassGovernanceRetention",Fu="BucketKeyEnabled",h_="Buckets",wP="Credentials",gu="ChecksumAlgorithm",Z8="CacheControl",Bl="ChecksumCRC32",Ul="ChecksumCRC32C",Q8="ContentDisposition",SP="CreationDate",J8="ContentEncoding",e6="ContentLanguage",Ib="ContentLength",wNe="ChecksumMode",qee="ContentMD5",SNe="CompletedMultipartUpload",$x="CommonPrefixes",TNe="CompletedPart",CNe="ContentRange",Vl="ChecksumSHA1",zl="ChecksumSHA256",t6="ContentType",ip="ContinuationToken",Lx="Contents",TP="Code",_S="Delimiter",A2="DeleteMarker",CP="DeleteMarkerVersionId",Zg="DisplayName",Fx="Deleted",ENe="Delete",Db="Expires",Kf="ExpectedBucketOwner",ANe="ExpiresString",bS="EncodingType",Hl="ETag",g7="Error",v7="Errors",Qg="Expiration",PNe="FetchOwner",Xee="GrantFullControl",Yee="GrantRead",Kee="GrantReadACP",Zee="GrantWriteACP",Jg="ID",kNe="IfMatch",y7="IfModifiedSince",r6="IfNoneMatch",EP="IsRestoreInProgress",ev="IsTruncated",_7="IfUnmodifiedSince",AP="Initiator",Ys="Key",PP="KeyCount",kP="Location",J0="LastModified",INe="MaxBuckets",Qee="MFA",xS="MaxKeys",DNe="MissingMeta",wS="MaxParts",IP="Message",tv="Name",DP="NextContinuationToken",RP="NextPartNumberMarker",kf="Owner",RNe="ObjectIdentifier",MNe="ObjectKey",n6="ObjectLockLegalHoldStatus",i6="ObjectLockMode",Rb="ObjectLockRetainUntilDate",b7="OptionalObjectAttributes",ONe="ObjectVersionId",$Ne="Objects",em="Prefix",LNe="PartsCount",Sf="PartNumber",SS="PartNumberMarker",x7="Part",lD="Parts",Nx="Quiet",FNe="Range",Zf="RequestCharged",NNe="ResponseCacheControl",BNe="ResponseContentDisposition",UNe="ResponseContentEncoding",VNe="ResponseContentLanguage",zNe="ResponseContentType",HNe="ResponseExpires",MP="RestoreExpiryDate",Qf="RequestPayer",jNe="ReplicationStatus",OP="RestoreStatus",GNe="Restore",TS="StartAfter",$P="SecretAccessKey",Pu="StorageClass",WNe="SessionMode",Jf="ServerSideEncryption",Ud="SSECustomerAlgorithm",ky="SSECustomerKey",Vd="SSECustomerKeyMD5",Iy="SSEKMSEncryptionContext",eh="SSEKMSKeyId",LP="SessionToken",rv="Size",Jee="Tagging",qNe="TagCount",If="UploadId",Ua="VersionId",s6="WebsiteRedirectLocation",XNe="accept-ranges",o6="cache-control",a6="content-disposition",l6="content-encoding",u6="content-language",OT="content-length",ete="content-md5",YNe="content-range",c6="content-type",tte="continuation-token",KNe="delete",ZNe="delimiter",$T="expires",QNe="encoding-type",d6="etag",JNe="expiresstring",eBe="fetch-owner",tBe="if-match",rBe="if-modified-since",f6="if-none-match",nBe="if-unmodified-since",w7="last-modified",iBe="list-type",sBe="max-buckets",rte="member",oBe="max-keys",aBe="max-parts",nte="partNumber",lBe="part-number-marker",uBe="prefix",cBe="range",dBe="response-cache-control",fBe="response-content-disposition",hBe="response-content-encoding",pBe="response-content-language",mBe="response-content-type",gBe="response-expires",vBe="session",yBe="start-after",_Be="uploads",h6="uploadId",ite="versionId",ste='<?xml version="1.0" encoding="UTF-8"?>',ote="x-amz-acl",LT="x-amz-abort-date",ate="x-amz-abort-rule-id",lte="x-amz-bypass-governance-retention",ute="x-amz-checksum-algorithm",Dy="x-amz-checksum-crc32",Ry="x-amz-checksum-crc32c",bBe="x-amz-checksum-mode",My="x-amz-checksum-sha1",Oy="x-amz-checksum-sha256",xBe="x-amz-create-session-mode",FT="x-amz-delete-marker",p6="x-amz-expiration",th="x-amz-expected-bucket-owner",cte="x-amz-grant-full-control",dte="x-amz-grant-read",fte="x-amz-grant-read-acp",hte="x-amz-grant-write-acp",pte="x-amz-mfa",S7="x-amz-missing-meta",T7="x-amz-mp-parts-count",m6="x-amz-object-lock-legal-hold",g6="x-amz-object-lock-mode",NT="x-amz-object-lock-retain-until-date",wBe="x-amz-optional-object-attributes",SBe="x-amz-restore",rh="x-amz-request-charged",nh="x-amz-request-payer",TBe="x-amz-replication-status",v6="x-amz-storage-class",y6="x-amz-sdk-checksum-algorithm",ih="x-amz-server-side-encryption",sh="x-amz-server-side-encryption-aws-kms-key-id",qa="x-amz-server-side-encryption-bucket-key-enabled",$y="x-amz-server-side-encryption-context",zd="x-amz-server-side-encryption-customer-algorithm",Ly="x-amz-server-side-encryption-customer-key",Hd="x-amz-server-side-encryption-customer-key-md5",mte="x-amz-tagging",C7="x-amz-tagging-count",OE="x-amz-version-id",_6="x-amz-website-redirect-location",Fy="x-id";class CBe extends ju.classBuilder().ep({...Oc,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),Nd(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(cFe,uFe).ser(SFe).de(OFe).build(){}const EBe="@aws-sdk/client-s3",ABe="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",PBe="3.658.1",kBe={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},IBe="./dist-cjs/index.js",DBe="./dist-types/index.d.ts",RBe="./dist-es/index.js",MBe=!1,OBe={"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.658.1","@aws-sdk/client-sts":"3.658.1","@aws-sdk/core":"3.658.1","@aws-sdk/credential-provider-node":"3.658.1","@aws-sdk/middleware-bucket-endpoint":"3.654.0","@aws-sdk/middleware-expect-continue":"3.654.0","@aws-sdk/middleware-flexible-checksums":"3.658.1","@aws-sdk/middleware-host-header":"3.654.0","@aws-sdk/middleware-location-constraint":"3.654.0","@aws-sdk/middleware-logger":"3.654.0","@aws-sdk/middleware-recursion-detection":"3.654.0","@aws-sdk/middleware-sdk-s3":"3.658.1","@aws-sdk/middleware-ssec":"3.654.0","@aws-sdk/middleware-user-agent":"3.654.0","@aws-sdk/region-config-resolver":"3.654.0","@aws-sdk/signature-v4-multi-region":"3.658.1","@aws-sdk/types":"3.654.0","@aws-sdk/util-endpoints":"3.654.0","@aws-sdk/util-user-agent-browser":"3.654.0","@aws-sdk/util-user-agent-node":"3.654.0","@aws-sdk/xml-builder":"3.654.0","@smithy/config-resolver":"^3.0.8","@smithy/core":"^2.4.6","@smithy/eventstream-serde-browser":"^3.0.9","@smithy/eventstream-serde-config-resolver":"^3.0.6","@smithy/eventstream-serde-node":"^3.0.8","@smithy/fetch-http-handler":"^3.2.8","@smithy/hash-blob-browser":"^3.1.5","@smithy/hash-node":"^3.0.6","@smithy/hash-stream-node":"^3.1.5","@smithy/invalid-dependency":"^3.0.6","@smithy/md5-js":"^3.0.6","@smithy/middleware-content-length":"^3.0.8","@smithy/middleware-endpoint":"^3.1.3","@smithy/middleware-retry":"^3.0.21","@smithy/middleware-serde":"^3.0.6","@smithy/middleware-stack":"^3.0.6","@smithy/node-config-provider":"^3.1.7","@smithy/node-http-handler":"^3.2.3","@smithy/protocol-http":"^4.1.3","@smithy/smithy-client":"^3.3.5","@smithy/types":"^3.4.2","@smithy/url-parser":"^3.0.6","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.21","@smithy/util-defaults-mode-node":"^3.0.21","@smithy/util-endpoints":"^2.1.2","@smithy/util-middleware":"^3.0.6","@smithy/util-retry":"^3.0.6","@smithy/util-stream":"^3.1.8","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.5",tslib:"^2.6.2"},$Be={"@aws-sdk/signature-v4-crt":"3.658.1","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},LBe={node:">=16.0.0"},FBe={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},NBe=["dist-*/**"],BBe={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},UBe="Apache-2.0",VBe={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},zBe="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",HBe={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},jBe={name:EBe,description:ABe,version:PBe,scripts:kBe,main:IBe,types:DBe,module:RBe,sideEffects:MBe,dependencies:OBe,devDependencies:$Be,engines:LBe,typesVersions:FBe,files:NBe,author:BBe,license:UBe,browser:VBe,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:zBe,repository:HBe},GBe=t=>new TextEncoder().encode(t);function E7(t){return typeof t=="string"?t.length===0:t.byteLength===0}var gte={name:"SHA-1"},A7={name:"HMAC",hash:gte},WBe=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const qBe={};function sp(){return typeof window<"u"?window:typeof self<"u"?self:qBe}var XBe=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(r,n){sp().crypto.subtle.importKey("raw",P7(e),A7,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!E7(e)){var r=P7(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return sp().crypto.subtle.sign(A7,r,e.toHash).then(function(n){return new Uint8Array(n)})}):E7(this.toHash)?Promise.resolve(WBe):Promise.resolve().then(function(){return sp().crypto.subtle.digest(gte,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function P7(t){return typeof t=="string"?GBe(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var YBe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function vte(t){if(KBe(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return ZBe(e)}return!1}function KBe(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function ZBe(t){return t&&YBe.every(function(e){return typeof t[e]=="function"})}var QBe=function(){function t(e){if(vte(sp()))this.hash=new XBe(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,r){this.hash.update(vp(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}(),yte={name:"SHA-256"},k7={name:"HMAC",hash:yte},JBe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),eUe=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Cb(e)){var r=vp(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return sp().crypto.subtle.sign(k7,r,e.toHash).then(function(n){return new Uint8Array(n)})}):Cb(this.toHash)?Promise.resolve(JBe):Promise.resolve().then(function(){return sp().crypto.subtle.digest(yte,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){sp().crypto.subtle.importKey("raw",vp(e.secret),k7,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},t}(),lu=64,tUe=32,rUe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nUe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],iUe=Math.pow(2,53)-1,CS=function(){function t(){this.state=Int32Array.from(nUe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>iUe)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[r++],n--,this.bufferLength===lu&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%lu>=lu-8){for(var i=this.bufferLength;i<lu;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<lu-8;i++)r.setUint8(i,0);r.setUint32(lu-8,Math.floor(e/4294967296),!0),r.setUint32(lu-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(tUe),i=0;i<8;i++)s[i*4]=this.state[i]>>>24&255,s[i*4+1]=this.state[i]>>>16&255,s[i*4+2]=this.state[i]>>>8&255,s[i*4+3]=this.state[i]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var e=this,r=e.buffer,n=e.state,i=n[0],s=n[1],o=n[2],a=n[3],l=n[4],u=n[5],d=n[6],f=n[7],h=0;h<lu;h++){if(h<16)this.temp[h]=(r[h*4]&255)<<24|(r[h*4+1]&255)<<16|(r[h*4+2]&255)<<8|r[h*4+3]&255;else{var g=this.temp[h-2],v=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=this.temp[h-15];var p=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[h]=(v+this.temp[h-7]|0)+(p+this.temp[h-16]|0)}var b=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&d)|0)+(f+(rUe[h]+this.temp[h]|0)|0)|0,S=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&s^i&o^s&o)|0;f=d,d=u,u=l,l=a+b|0,a=o,o=s,s=i,i=b+S|0}n[0]+=i,n[1]+=s,n[2]+=o,n[3]+=a,n[4]+=l,n[5]+=u,n[6]+=d,n[7]+=f},t}(),sUe=function(){function t(e){this.secret=e,this.hash=new CS,this.reset()}return t.prototype.update=function(e){if(!(Cb(e)||this.error))try{this.hash.update(vp(e))}catch(r){this.error=r}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return v8(this,void 0,void 0,function(){return y8(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new CS,this.secret){this.outer=new CS;var e=oUe(this.secret),r=new Uint8Array(lu);r.set(e);for(var n=0;n<lu;n++)e[n]^=54,r[n]^=92;this.hash.update(e),this.outer.update(r);for(var n=0;n<e.byteLength;n++)e[n]=0}},t}();function oUe(t){var e=vp(t);if(e.byteLength>lu){var r=new CS;r.update(e),e=r.digest()}var n=new Uint8Array(lu);return n.set(e),n}var aUe=function(){function t(e){vte(sp())?this.hash=new eUe(e):this.hash=new sUe(e)}return t.prototype.update=function(e,r){this.hash.update(vp(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();const lUe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},_te={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},zs={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ka={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Oh={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ir{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const i=ir.getVersionPrecision(e),s=ir.getVersionPrecision(r);let o=Math.max(i,s),a=0;const l=ir.map([e,r],u=>{const d=o-ir.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return ir.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(e,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(i=0;i<e.length;i+=1)n.push(r(e[i]));return n}static find(e,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,i=e.length;n<i;n+=1){const s=e[n];if(r(s,n))return s}}static assign(e,...r){const n=e;let i,s;if(Object.assign)return Object.assign(e,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{n[l]=o[l]})}return e}static getBrowserAlias(e){return lUe[e]}static getBrowserTypeByAlias(e){return _te[e]||""}}const Bi=/version\/(\d+(\.?_?\d+)+)/i,uUe=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=ir.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=ir.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=ir.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=ir.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=ir.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=ir.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=ir.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=ir.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=ir.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=ir.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=ir.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=ir.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=ir.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=ir.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=ir.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=ir.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=ir.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=ir.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=ir.getFirstMatch(Bi,t)||ir.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=ir.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=ir.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=ir.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=ir.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=ir.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=ir.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=ir.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=ir.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=ir.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=ir.getFirstMatch(Bi,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?r:e;return{name:ir.getFirstMatch(i,t),version:ir.getSecondMatch(i,t)}}}],cUe=[{test:[/Roku\/DVP/],describe(t){const e=ir.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:ka.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ir.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:ka.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ir.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=ir.getWindowsVersionName(e);return{name:ka.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:ka.iOS},r=ir.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=ir.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=ir.getMacOSVersionName(e),n={name:ka.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ir.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:ka.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=ir.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=ir.getAndroidVersionName(e),n={name:ka.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ir.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:ka.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ir.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ir.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ir.getFirstMatch(/\bbb(\d+)/i,t);return{name:ka.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ir.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:ka.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ir.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:ka.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:ka.Linux}}},{test:[/CrOS/],describe(){return{name:ka.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=ir.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:ka.PlayStation4,version:e}}}],dUe=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=ir.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:zs.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:zs.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:zs.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:zs.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:zs.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:zs.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:zs.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=ir.getFirstMatch(/(ipod|iphone)/i,t);return{type:zs.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:zs.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:zs.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:zs.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:zs.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:zs.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:zs.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:zs.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:zs.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:zs.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:zs.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:zs.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:zs.tv}}}],fUe=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Oh.Blink};const r=ir.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Oh.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Oh.Trident},r=ir.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Oh.Presto},r=ir.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Oh.Gecko},r=ir.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Oh.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Oh.WebKit},r=ir.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];let I7=class{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ir.find(uUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ir.find(cUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=ir.find(dUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ir.find(fUe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ir.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const i={};let s=0;if(Object.keys(e).forEach(a=>{const l=e[a];typeof l=="string"?(i[a]=l,s+=1):typeof l=="object"&&(r[a]=l,n+=1)}),n>0){const a=Object.keys(r),l=ir.find(a,d=>this.isOS(d));if(l){const d=this.satisfies(r[l]);if(d!==void 0)return d}const u=ir.find(a,d=>this.isPlatform(d));if(u){const d=this.satisfies(r[u]);if(d!==void 0)return d}}if(s>0){const a=Object.keys(i),l=ir.find(a,u=>this.isBrowser(u,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=ir.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(e){let r=[0],n=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(i=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(i=!0,n=e.substr(1)),r.indexOf(ir.compareVersions(s,n,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class bte{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new I7(e,r)}static parse(e){return new I7(e).getResult()}static get BROWSER_MAP(){return _te}static get ENGINE_MAP(){return Oh}static get OS_MAP(){return ka}static get PLATFORMS_MAP(){return zs}}const hUe=({serviceId:t,clientVersion:e})=>async()=>{var i,s,o,a,l;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?bte.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",e],["ua","2.0"],[`os/${((s=r==null?void 0:r.os)==null?void 0:s.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((l=r==null?void 0:r.browser)==null?void 0:l.version)??"unknown"}`]];return t&&n.push([`api/${t}`,e]),n};class P2{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&D7(r),new P2(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&D7(e),parseInt(ul(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function D7(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class pUe{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const s of Object.keys(e)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const a=this.fromUtf8(e.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(P2.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!SUe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(MJ(e.value.replace(/\-/g,"")),1),f}}parse(e){const r={};let n=0;for(;n<e.byteLength;){const i=e.getUint8(n++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,i));switch(n+=i,e.getUint8(n++)){case 0:r[s]={type:M7,value:!0};break;case 1:r[s]={type:M7,value:!1};break;case 2:r[s]={type:mUe,value:e.getInt8(n++)};break;case 3:r[s]={type:gUe,value:e.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:vUe,value:e.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:yUe,value:new P2(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,r[s]={type:_Ue,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,r[s]={type:bUe,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:xUe,value:new Date(new P2(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const l=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[s]={type:wUe,value:`${ul(l.subarray(0,4))}-${ul(l.subarray(4,6))}-${ul(l.subarray(6,8))}-${ul(l.subarray(8,10))}-${ul(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var R7;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(R7||(R7={}));const M7="boolean",mUe="byte",gUe="short",vUe="integer",yUe="long",_Ue="binary",bUe="string",xUe="timestamp",wUe="uuid",SUe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,xte=4,$h=xte*2,_0=4,TUe=$h+_0*2;function CUe({byteLength:t,byteOffset:e,buffer:r}){if(t<TUe)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,e,t),i=n.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");const s=n.getUint32(xte,!1),o=n.getUint32($h,!1),a=n.getUint32(t-_0,!1),l=new ST().update(new Uint8Array(r,e,$h));if(o!==l.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(r,e+$h,t-($h+_0))),a!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+$h+_0,s),body:new Uint8Array(r,e+$h+_0+s,i-s-($h+_0+_0))}}class EUe{constructor(e,r){this.headerMarshaller=new pUe(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){const n=this.headerMarshaller.format(e),i=n.byteLength+r.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new ST;return o.setUint32(0,i,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(e){const{headers:r,body:n}=CUe(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class AUe{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class PUe{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class kUe{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class IUe{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function DUe(t){let e=0,r=0,n=null,i=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=t[Symbol.asyncIterator]();for(;;){const{value:l,done:u}=await a.next();if(u){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}const d=l.length;let f=0;for(;f<d;){if(!n){const g=d-f;i||(i=new Uint8Array(4));const v=Math.min(4-r,g);if(i.set(l.slice(f,f+v),r),r+=v,f+=v,r<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const h=Math.min(e-r,d-f);n.set(l.slice(f,f+h),r),r+=h,f+=h,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function RUe(t,e){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){const i=r.headers[":exception-type"].value,s={[i]:r},o=await t(s);if(o.$unknown){const a=new Error(e(r.body));throw a.name=i,a}throw o[i]}else if(n==="event"){const i={[r.headers[":event-type"].value]:r},s=await t(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let MUe=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new EUe(e,r),this.utfEncoder=e}deserialize(e,r){const n=DUe(e);return new kUe({messageStream:new AUe({inputStream:n,decoder:this.eventStreamCodec}),deserializer:RUe(r,this.utfEncoder)})}serialize(e,r){return new PUe({messageStream:new IUe({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const OUe=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}}),$Ue=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:i}=await e.next();if(n)return r.close();r.enqueue(i)}})};class LUe{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new MUe({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){const n=FUe(e)?OUe(e):e;return this.universalMarshaller.deserialize(n,r)}serialize(e,r){const n=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?$Ue(n):n}}const FUe=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,NUe=t=>new LUe(t);function BUe(t,e,r=1024*1024){return new Promise((n,i)=>{const s=new FileReader;s.addEventListener("error",i),s.addEventListener("abort",i);const o=t.size;let a=0;function l(){if(a>=o){n();return}s.readAsArrayBuffer(t.slice(a,Math.min(o,a+r)))}s.addEventListener("load",u=>{const d=u.target.result;e(new Uint8Array(d)),a+=d.byteLength,l()}),l()})}const UUe=async function(e,r){const n=new e;return await BUe(r,i=>{n.update(i)}),n.digest()},VUe=t=>()=>Promise.reject(t),bh=64,zUe=16,HUe=[1732584193,4023233417,2562383102,271733878];class jUe{constructor(){this.reset()}update(e){if(GUe(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=WUe(e);let n=0,{byteLength:i}=r;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===bh&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:i}=this,s=i*8;if(r.setUint8(this.bufferLength++,128),n%bh>=bh-8){for(let o=this.bufferLength;o<bh;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<bh-8;o++)r.setUint8(o,0);r.setUint32(bh-8,s>>>0,!0),r.setUint32(bh-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(zUe));for(let r=0;r<4;r++)e.setUint32(r*4,this.state[r],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:r}=this;let n=r[0],i=r[1],s=r[2],o=r[3];n=ta(n,i,s,o,e.getUint32(0,!0),7,3614090360),o=ta(o,n,i,s,e.getUint32(4,!0),12,3905402710),s=ta(s,o,n,i,e.getUint32(8,!0),17,606105819),i=ta(i,s,o,n,e.getUint32(12,!0),22,3250441966),n=ta(n,i,s,o,e.getUint32(16,!0),7,4118548399),o=ta(o,n,i,s,e.getUint32(20,!0),12,1200080426),s=ta(s,o,n,i,e.getUint32(24,!0),17,2821735955),i=ta(i,s,o,n,e.getUint32(28,!0),22,4249261313),n=ta(n,i,s,o,e.getUint32(32,!0),7,1770035416),o=ta(o,n,i,s,e.getUint32(36,!0),12,2336552879),s=ta(s,o,n,i,e.getUint32(40,!0),17,4294925233),i=ta(i,s,o,n,e.getUint32(44,!0),22,2304563134),n=ta(n,i,s,o,e.getUint32(48,!0),7,1804603682),o=ta(o,n,i,s,e.getUint32(52,!0),12,4254626195),s=ta(s,o,n,i,e.getUint32(56,!0),17,2792965006),i=ta(i,s,o,n,e.getUint32(60,!0),22,1236535329),n=ra(n,i,s,o,e.getUint32(4,!0),5,4129170786),o=ra(o,n,i,s,e.getUint32(24,!0),9,3225465664),s=ra(s,o,n,i,e.getUint32(44,!0),14,643717713),i=ra(i,s,o,n,e.getUint32(0,!0),20,3921069994),n=ra(n,i,s,o,e.getUint32(20,!0),5,3593408605),o=ra(o,n,i,s,e.getUint32(40,!0),9,38016083),s=ra(s,o,n,i,e.getUint32(60,!0),14,3634488961),i=ra(i,s,o,n,e.getUint32(16,!0),20,3889429448),n=ra(n,i,s,o,e.getUint32(36,!0),5,568446438),o=ra(o,n,i,s,e.getUint32(56,!0),9,3275163606),s=ra(s,o,n,i,e.getUint32(12,!0),14,4107603335),i=ra(i,s,o,n,e.getUint32(32,!0),20,1163531501),n=ra(n,i,s,o,e.getUint32(52,!0),5,2850285829),o=ra(o,n,i,s,e.getUint32(8,!0),9,4243563512),s=ra(s,o,n,i,e.getUint32(28,!0),14,1735328473),i=ra(i,s,o,n,e.getUint32(48,!0),20,2368359562),n=na(n,i,s,o,e.getUint32(20,!0),4,4294588738),o=na(o,n,i,s,e.getUint32(32,!0),11,2272392833),s=na(s,o,n,i,e.getUint32(44,!0),16,1839030562),i=na(i,s,o,n,e.getUint32(56,!0),23,4259657740),n=na(n,i,s,o,e.getUint32(4,!0),4,2763975236),o=na(o,n,i,s,e.getUint32(16,!0),11,1272893353),s=na(s,o,n,i,e.getUint32(28,!0),16,4139469664),i=na(i,s,o,n,e.getUint32(40,!0),23,3200236656),n=na(n,i,s,o,e.getUint32(52,!0),4,681279174),o=na(o,n,i,s,e.getUint32(0,!0),11,3936430074),s=na(s,o,n,i,e.getUint32(12,!0),16,3572445317),i=na(i,s,o,n,e.getUint32(24,!0),23,76029189),n=na(n,i,s,o,e.getUint32(36,!0),4,3654602809),o=na(o,n,i,s,e.getUint32(48,!0),11,3873151461),s=na(s,o,n,i,e.getUint32(60,!0),16,530742520),i=na(i,s,o,n,e.getUint32(8,!0),23,3299628645),n=ia(n,i,s,o,e.getUint32(0,!0),6,4096336452),o=ia(o,n,i,s,e.getUint32(28,!0),10,1126891415),s=ia(s,o,n,i,e.getUint32(56,!0),15,2878612391),i=ia(i,s,o,n,e.getUint32(20,!0),21,4237533241),n=ia(n,i,s,o,e.getUint32(48,!0),6,1700485571),o=ia(o,n,i,s,e.getUint32(12,!0),10,2399980690),s=ia(s,o,n,i,e.getUint32(40,!0),15,4293915773),i=ia(i,s,o,n,e.getUint32(4,!0),21,2240044497),n=ia(n,i,s,o,e.getUint32(32,!0),6,1873313359),o=ia(o,n,i,s,e.getUint32(60,!0),10,4264355552),s=ia(s,o,n,i,e.getUint32(24,!0),15,2734768916),i=ia(i,s,o,n,e.getUint32(52,!0),21,1309151649),n=ia(n,i,s,o,e.getUint32(16,!0),6,4149444226),o=ia(o,n,i,s,e.getUint32(44,!0),10,3174756917),s=ia(s,o,n,i,e.getUint32(8,!0),15,718787259),i=ia(i,s,o,n,e.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(HUe),this.buffer=new DataView(new ArrayBuffer(bh)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function $E(t,e,r,n,i,s){return e=(e+t&4294967295)+(n+s&4294967295)&4294967295,(e<<i|e>>>32-i)+r&4294967295}function ta(t,e,r,n,i,s,o){return $E(e&r|~e&n,t,e,i,s,o)}function ra(t,e,r,n,i,s,o){return $E(e&n|r&~n,t,e,i,s,o)}function na(t,e,r,n,i,s,o){return $E(e^r^n,t,e,i,s,o)}function ia(t,e,r,n,i,s,o){return $E(r^(e|~n),t,e,i,s,o)}function GUe(t){return typeof t=="string"?t.length===0:t.byteLength===0}function WUe(t){return typeof t=="string"?Cm(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const O7=typeof TextEncoder=="function"?new TextEncoder:null,qUe=t=>{if(typeof t=="string"){if(O7)return O7.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},XUe=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??b8,base64Encoder:(t==null?void 0:t.base64Encoder)??x8,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??Vee,extensions:(t==null?void 0:t.extensions)??[],getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??IOe,httpAuthSchemeProvider:(t==null?void 0:t.httpAuthSchemeProvider)??tFe,httpAuthSchemes:(t==null?void 0:t.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new pee},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new gLe}],logger:(t==null?void 0:t.logger)??new A8,sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??LOe,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??xee,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??ET,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Cm,utf8Encoder:(t==null?void 0:t.utf8Encoder)??_8}),YUe=["in-region","cross-region","mobile","standard","legacy"],KUe=({defaultsMode:t}={})=>vLe(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(ZUe()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${YUe.join(", ")}, got ${e}`)}}),ZUe=()=>{var r,n;const t=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?bte.parse(window.navigator.userAgent):void 0,e=(n=t==null?void 0:t.platform)==null?void 0:n.type;return e==="tablet"||e==="mobile"},QUe=t=>{const e=KUe(t),r=()=>e().then(l8e),n=XUe(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??qUe,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??hUe({serviceId:n.serviceId,clientVersion:jBe.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??NUe,maxAttempts:(t==null?void 0:t.maxAttempts)??AT,md5:(t==null?void 0:t.md5)??jUe,region:(t==null?void 0:t.region)??VUe("Region is missing"),requestHandler:w8.create((t==null?void 0:t.requestHandler)??r),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await r()).retryMode||k6e),sha1:(t==null?void 0:t.sha1)??QBe,sha256:(t==null?void 0:t.sha256)??aUe,streamCollector:(t==null?void 0:t.streamCollector)??DJ,streamHasher:(t==null?void 0:t.streamHasher)??UUe,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(lLe)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(uLe))}},JUe=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}},e9e=t=>({region:t.region()}),t9e=t=>{const e=t.httpAuthSchemes;let r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){const s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},r9e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),Bx=t=>t,n9e=(t,e)=>{const r={...Bx(JUe(t)),...Bx(h8e(t)),...Bx(UMe(t)),...Bx(t9e(t))};return e.forEach(n=>n.configure(r)),{...t,...e9e(r),...p8e(r),...VMe(r),...r9e(r)}};class i9e extends EOe{constructor(...[e]){const r=QUe(e||{}),n=nFe(r),i=k$e(n),s=pOe(i),o=Z6e(s),a=cLe(o),l=a,u=S6e(l),d=dLe(u),f=rFe(d),h=v$e(f,{session:[()=>this,CBe]}),g=n9e(h,(e==null?void 0:e.extensions)||[]);super(g),this.config=g,this.middlewareStack.use(aLe(this.config)),this.middlewareStack.use(n$e(this.config)),this.middlewareStack.use(pLe(this.config)),this.middlewareStack.use(vOe(this.config)),this.middlewareStack.use(bOe(this.config)),this.middlewareStack.use(COe(this.config)),this.middlewareStack.use(C6e(this.config,{httpAuthSchemeParametersProvider:Q5e,identityProviderConfigProvider:async v=>new o$e({"aws.auth#sigv4":v.credentials,"aws.auth#sigv4a":v.credentials})})),this.middlewareStack.use(s$e(this.config)),this.middlewareStack.use(P$e(this.config)),this.middlewareStack.use(GMe(this.config)),this.middlewareStack.use(P8e(this.config)),this.middlewareStack.use(l6e(this.config)),this.middlewareStack.use(g$e(this.config))}destroy(){super.destroy()}}function s9e(t){return e=>async r=>{const n={...r.input},i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of i){const o=n[s.target];if(o){let a;typeof o=="string"?a9e(o,t)?a=t.base64Decoder(o):(a=t.utf8Decoder(o),n[s.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[s.target]=t.base64Encoder(a));const l=new t.md5;l.update(a),n[s.hash]=t.base64Encoder(await l.digest())}}return e({...r,input:n})}}const o9e={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Ny=t=>({applyToStack:e=>{e.add(s9e(t),o9e)}});function a9e(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}class l9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),Nd(n),Ny(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(sFe,iFe).ser(xFe).de(RFe).build(){}class u9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),Nd(n),Ny(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(aFe,oFe).ser(wFe).de(MFe).build(){}class c9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),Nd(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(TFe).de($Fe).build(){}class d9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),PE(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}),Nd(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(CFe).de(LFe).build(){}class f9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),PE(n,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}),Ny(n),D8e()]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(fFe,dFe).ser(EFe).de(FFe).build(){}class h9e extends ju.classBuilder().ep(Oc).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),Nd(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(AFe).de(NFe).build(){}class p9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),Nd(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(PFe).de(BFe).build(){}class m9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),Nd(n),Ny(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(hFe,void 0).ser(kFe).de(UFe).build(){}class g9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),PE(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),S8e(),Nd(n),Ny(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(yFe,vFe).ser(IFe).de(VFe).build(){}class v9e extends ju.classBuilder().ep({...Oc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,i){return[Ic(n,this.serialize,this.deserialize),Dc(n,e.getEndpointParameterInstructions()),PE(n,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),Nd(n),Ny(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(bFe,_Fe).ser(DFe).de(zFe).build(){}function y9e(t){const{port:e,query:r}=t;let{protocol:n,path:i,hostname:s}=t;n&&n.slice(-1)!==":"&&(n+=":"),e&&(s+=`:${e}`),i&&i.charAt(0)!=="/"&&(i=`/${i}`);let o=r?IJ(r):"";o&&o[0]!=="?"&&(o=`?${o}`);let a="";if(t.username!=null||t.password!=null){const u=t.username??"",d=t.password??"";a=`${u}:${d}@`}let l="";return t.fragment&&(l=`#${t.fragment}`),`${n}//${a}${s}${i}${o}${l}`}const _9e="UNSIGNED-PAYLOAD",b9e="X-Amz-Content-Sha256";class $7{constructor(e){const r={service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1,applyChecksum:e.applyChecksum||!1,...e};this.signer=new xee(r)}presign(e,{unsignableHeaders:r=new Set,unhoistableHeaders:n=new Set,...i}={}){return this.prepareRequest(e,{unsignableHeaders:r,unhoistableHeaders:n}),this.signer.presign(e,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:n,...i})}presignWithCredentials(e,r,{unsignableHeaders:n=new Set,unhoistableHeaders:i=new Set,...s}={}){return this.prepareRequest(e,{unsignableHeaders:n,unhoistableHeaders:i}),this.signer.presignWithCredentials(e,r,{expiresIn:900,unsignableHeaders:n,unhoistableHeaders:i,...s})}prepareRequest(e,{unsignableHeaders:r=new Set,unhoistableHeaders:n=new Set}={}){r.add("content-type"),Object.keys(e.headers).map(a=>a.toLowerCase()).filter(a=>a.startsWith("x-amz-server-side-encryption")).forEach(a=>{n.add(a)}),e.headers[b9e]=_9e;const i=e.headers.host,s=e.port,o=`${e.hostname}${e.port!=null?":"+s:""}`;(!i||i===e.hostname&&e.port!=null)&&(e.headers.host=o)}}const x9e=async(t,e,r={})=>{var f,h,g;let n,i;if(typeof t.config.endpointProvider=="function"){const p=(h=(f=(await qJ(e.input,e.constructor,t.config)).properties)==null?void 0:f.authSchemes)==null?void 0:h[0];(p==null?void 0:p.name)==="sigv4a"?i=(g=p==null?void 0:p.signingRegionSet)==null?void 0:g.join(","):i=p==null?void 0:p.signingRegion,n=new $7({...t.config,signingName:p==null?void 0:p.signingName,region:async()=>i})}else n=new $7(t.config);const s=(v,p)=>async b=>{const{request:S}=b;if(!Ks.isInstance(S))throw new Error("Request to be presigned is not an valid HTTP request.");delete S.headers["amz-sdk-invocation-id"],delete S.headers["amz-sdk-request"],delete S.headers["x-amz-user-agent"];let C;const T={...r,signingRegion:r.signingRegion??p.signing_region??i,signingService:r.signingService??p.signing_service};return p.s3ExpressIdentity?C=await n.presignWithCredentials(S,p.s3ExpressIdentity,T):C=await n.presign(S,T),{response:{},output:{$metadata:{httpStatusCode:200},presigned:C}}},o="presignInterceptMiddleware",a=t.middlewareStack.clone();a.addRelativeTo(s,{name:o,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});const l=e.resolveMiddleware(a,t.config,{}),{output:u}=await l({input:e.input}),{presigned:d}=u;return y9e(d)};let G_=[],W_;const vu=t=>(W_!=null&&!t||(G_=[],Ae.region==""&&(Ae.platform=="cloudflare"?Ae.region="auto":Ae.region="us-east-1"),W_=new i9e({forcePathStyle:!0,endpoint:Ae.endpoint,credentials:{accessKeyId:Ae.accessKey,secretAccessKey:Ae.accessSecret},region:Ae.region})),W_),w9e=async(t,e,r,n,i,s)=>{const o=vu(!1);if(G_.push(o.send(new v9e({Bucket:e,Key:r,UploadId:n,Body:t,PartNumber:i+1}))),G_.length==s){await Promise.all(G_);const a=await o.send(new m9e({Bucket:e,Key:r,UploadId:n}));await o.send(new l9e({Bucket:e,Key:r,UploadId:n,MultipartUpload:{Parts:a.Parts.map(({ETag:l,PartNumber:u})=>({ETag:l,PartNumber:u}))}})),W_=null,G_=[]}},S9e=async(t,e)=>{const r=vu(!1),n=new f9e({Bucket:t,Key:e});return await x9e(r,n,{expiresIn:3600})},T9e=async(t,e)=>(await vu(!1).send(new u9e({Bucket:t,Key:e}))).UploadId,C9e=async t=>{const e=vu(!1),r=new p9e({Bucket:t,MaxKeys:1e3});try{let n=!0,i=[];for(;n;){const{Contents:s,IsTruncated:o,NextContinuationToken:a}=await e.send(r);s&&s.map(l=>{const u={key:l.Key,size:l.Size,timestamp:I9e(l.LastModified)/1e3};i.push(u)}),n=o,r.input.ContinuationToken=a}return i}catch(n){console.error(n)}},E9e=async(t,e)=>{const r=vu(!1),n=new d9e({Bucket:t,Delete:{Objects:e}});try{const{Deleted:i}=await r.send(n);return i}catch(i){console.error(i)}},A9e=async(t,e)=>{const r=vu(!1),n=new c9e({Bucket:t,Key:e});try{return await r.send(n)}catch(i){console.error(i)}},P9e=async(t,e,r)=>{const n=vu(!1),i=new g9e({Bucket:t,Key:e,Body:r});try{const s=await n.send(i)}catch(s){console.error(s)}},k9e=async()=>{const t=vu(!1),e=new h9e({});try{return await t.send(e)}catch(r){console.error(r)}};function I9e(t){return $r(t).valueOf()}var q_;typeof window<"u"?q_=window:typeof yo<"u"?q_=yo:typeof self<"u"?q_=self:q_={};var LE=q_;const Ke=oo(LE);var L7=typeof yo<"u"?yo:typeof window<"u"?window:{},D9e=f8,X_;typeof document<"u"?X_=document:(X_=L7["__GLOBAL_DOCUMENT_CACHE@4"],X_||(X_=L7["__GLOBAL_DOCUMENT_CACHE@4"]=D9e));var wte=X_;const gr=oo(wte);var b6={exports:{}};function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ls.apply(null,arguments)}const R9e=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Ls}},Symbol.toStringTag,{value:"Module"})),M9e=fY(R9e);var O9e=L9e,$9e=Object.prototype.toString;function L9e(t){if(!t)return!1;var e=$9e.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function F9e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=N9e(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9e(t,e){if(t){if(typeof t=="string")return F7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F7(t,e)}}function F7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var B9e=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(n,i){this.typeToInterceptorsMap_.has(n)||this.typeToInterceptorsMap_.set(n,new Set);var s=this.typeToInterceptorsMap_.get(n);return s.has(i)?!1:(s.add(i),!0)},e.removeInterceptor=function(n,i){var s=this.typeToInterceptorsMap_.get(n);return s&&s.has(i)?(s.delete(i),!0):!1},e.clearInterceptorsByType=function(n){var i=this.typeToInterceptorsMap_.get(n);return i?(this.typeToInterceptorsMap_.delete(n),this.typeToInterceptorsMap_.set(n,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(n){return this.typeToInterceptorsMap_.get(n)||new Set},e.execute=function(n,i){for(var s=this.getForType(n),o=F9e(s),a;!(a=o()).done;){var l=a.value;try{i=l(i)}catch{}}return i},t}(),U9e=B9e,V9e=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(n){this.maxAttempts_=n},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(n){this.delayFactor_=n},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(n){this.fuzzFactor_=n},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(n){this.initialDelay_=n},e.createRetry=function(n){var i=n===void 0?{}:n,s=i.maxAttempts,o=i.delayFactor,a=i.fuzzFactor,l=i.initialDelay;return new z9e({maxAttempts:s||this.maxAttempts_,delayFactor:o||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),z9e=function(){function t(r){this.maxAttempts_=r.maxAttempts,this.delayFactor_=r.delayFactor,this.fuzzFactor_=r.fuzzFactor,this.currentDelay_=r.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var n=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+n},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var n=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return n+Math.random()*(i-n)},t}(),H9e=V9e,j9e=LE,G9e=function(e,r){return r===void 0&&(r=!1),function(n,i,s){if(n){e(n);return}if(i.statusCode>=400&&i.statusCode<=599){var o=s;if(r)if(j9e.TextDecoder){var a=W9e(i.headers&&i.headers["content-type"]);try{o=new TextDecoder(a).decode(s)}catch{}}else o=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:o});return}e(null,s)}};function W9e(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),i=n[0],s=n[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var q9e=G9e,Ste=LE,X9e=M9e,Y9e=O9e,Tte=U9e,K9e=H9e;Gs.httpHandler=q9e;Gs.requestInterceptorsStorage=new Tte;Gs.responseInterceptorsStorage=new Tte;Gs.retryManager=new K9e;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var Z9e=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),s=n.slice(0,i).trim().toLowerCase(),o=n.slice(i+1).trim();typeof r[s]>"u"?r[s]=o:Array.isArray(r[s])?r[s].push(o):r[s]=[r[s],o]}),r};b6.exports=Gs;b6.exports.default=Gs;Gs.XMLHttpRequest=Ste.XMLHttpRequest||t7e;Gs.XDomainRequest="withCredentials"in new Gs.XMLHttpRequest?Gs.XMLHttpRequest:Ste.XDomainRequest;Q9e(["get","put","post","patch","head","delete"],function(t){Gs[t==="delete"?"del":t]=function(e,r,n){return r=Cte(e,r,n),r.method=t.toUpperCase(),x6(r)}});function Q9e(t,e){for(var r=0;r<t.length;r++)e(t[r])}function J9e(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Cte(t,e,r){var n=t;return Y9e(e)?(r=e,typeof t=="string"&&(n={uri:t})):n=X9e({},e,{uri:t}),n.callback=r,n}function Gs(t,e,r){return e=Cte(t,e,r),x6(e)}function x6(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Gs.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},r=Gs.requestInterceptorsStorage.execute(t.requestType,e);t.uri=r.uri,t.headers=r.headers,t.body=r.body,t.metadata=r.metadata,t.retry=r.retry,t.timeout=r.timeout}var n=!1,i=function(E,I,O){n||(n=!0,t.callback(E,I,O))};function s(){u.readyState===4&&!Gs.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function o(){var A=void 0;if(u.response?A=u.response:A=u.responseText||e7e(u),S)try{A=JSON.parse(A)}catch{}return A}function a(A){if(clearTimeout(C),clearTimeout(t.retryTimeout),A instanceof Error||(A=new Error(""+(A||"Unknown XMLHttpRequest Error"))),A.statusCode=0,!f&&Gs.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=u,x6(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Gs.responseInterceptorsStorage.getIsEnabled()){var E={headers:T.headers||{},body:T.body,responseUrl:u.responseURL,responseType:u.responseType},I=Gs.responseInterceptorsStorage.execute(t.requestType,E);T.body=I.body,T.headers=I.headers}return i(A,T)}function l(){if(!f){var A;clearTimeout(C),clearTimeout(t.retryTimeout),t.useXDR&&u.status===void 0?A=200:A=u.status===1223?204:u.status;var E=T,I=null;if(A!==0?(E={body:o(),statusCode:A,method:g,headers:{},url:h,rawRequest:u},u.getAllResponseHeaders&&(E.headers=Z9e(u.getAllResponseHeaders()))):I=new Error("Internal XMLHttpRequest Error"),t.requestType&&Gs.responseInterceptorsStorage.getIsEnabled()){var O={headers:E.headers||{},body:E.body,responseUrl:u.responseURL,responseType:u.responseType},N=Gs.responseInterceptorsStorage.execute(t.requestType,O);E.body=N.body,E.headers=N.headers}return i(I,E,E.body)}}var u=t.xhr||null;u||(t.cors||t.useXDR?u=new Gs.XDomainRequest:u=new Gs.XMLHttpRequest);var d,f,h=u.url=t.uri||t.url,g=u.method=t.method||"GET",v=t.body||t.data,p=u.headers=t.headers||{},b=!!t.sync,S=!1,C,T={body:void 0,headers:{},statusCode:0,method:g,url:h,rawRequest:u};if("json"in t&&t.json!==!1&&(S=!0,p.accept||p.Accept||(p.Accept="application/json"),g!=="GET"&&g!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),v=JSON.stringify(t.json===!0?v:t.json))),u.onreadystatechange=s,u.onload=l,u.onerror=a,u.onprogress=function(){},u.onabort=function(){f=!0,clearTimeout(t.retryTimeout)},u.ontimeout=a,u.open(g,h,!b,t.username,t.password),b||(u.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(C=setTimeout(function(){if(!f){f=!0,u.abort("timeout");var A=new Error("XMLHttpRequest timeout");A.code="ETIMEDOUT",a(A)}},t.timeout)),u.setRequestHeader)for(d in p)p.hasOwnProperty(d)&&u.setRequestHeader(d,p[d]);else if(t.headers&&!J9e(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(u),u.send(v||null),u}function e7e(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function t7e(){}var r7e=b6.exports;const Ete=oo(r7e);var Ate={exports:{}},N7=wte,w6=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Rl(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Rl.prototype=w6(Error.prototype);Rl.prototype.constructor=Rl;Rl.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function S6(t){function e(n,i,s,o){return(n|0)*3600+(i|0)*60+(s|0)+(o|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function k2(){this.values=w6(null)}k2.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Y_(t,e,r,n){var i=n?t.split(n):[t];for(var s in i)if(typeof i[s]=="string"){var o=i[s].split(r);if(o.length===2){var a=o[0].trim(),l=o[1].trim();e(a,l)}}}function n7e(t,e,r){var n=t;function i(){var a=S6(t);if(a===null)throw new Rl(Rl.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){var u=new k2;Y_(a,function(d,f){switch(d){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===f){u.set(d,r[h].region);break}break;case"vertical":u.alt(d,f,["rl","lr"]);break;case"line":var g=f.split(","),v=g[0];u.integer(d,v),u.percent(d,v)&&u.set("snapToLines",!1),u.alt(d,v,["auto"]),g.length===2&&u.alt("lineAlign",g[1],["start","center","end"]);break;case"position":g=f.split(","),u.percent(d,g[0]),g.length===2&&u.alt("positionAlign",g[1],["start","center","end"]);break;case"size":u.percent(d,f);break;case"align":u.alt(d,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.substr(0,3)!=="-->")throw new Rl(Rl.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),o(),e.endTime=i(),o(),s(t,e)}var FP=N7.createElement&&N7.createElement("textarea"),i7e={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},B7={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},s7e={v:"title",lang:"lang"},U7={rt:"ruby"};function Pte(t,e){function r(){if(!e)return null;function v(b){return e=e.substr(b.length),b}var p=e.match(/^([^<]*)(<[^>]*>?)?/);return v(p[1]?p[1]:p[2])}function n(v){return FP.innerHTML=v,v=FP.textContent,FP.textContent="",v}function i(v,p){return!U7[p.localName]||U7[p.localName]===v.localName}function s(v,p){var b=i7e[v];if(!b)return null;var S=t.document.createElement(b),C=s7e[v];return C&&p&&(S[C]=p.trim()),S}for(var o=t.document.createElement("div"),a=o,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),a=a.parentNode);continue}var d=S6(l.substr(1,l.length-2)),f;if(d){f=t.document.createProcessingInstruction("timestamp",d),a.appendChild(f);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(f=s(h[1],h[3]),!f)||!i(a,f))continue;if(h[2]){var g=h[2].split(".");g.forEach(function(v){var p=/^bg_/.test(v),b=p?v.slice(3):v;if(B7.hasOwnProperty(b)){var S=p?"background-color":"color",C=B7[b];f.style[S]=C}}),f.className=g.join(" ")}u.push(h[1]),a.appendChild(f),a=f;continue}a.appendChild(t.document.createTextNode(n(l)))}return o}var V7=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function o7e(t){for(var e=0;e<V7.length;e++){var r=V7[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function a7e(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function i(a,l){for(var u=l.childNodes.length-1;u>=0;u--)a.push(l.childNodes[u])}function s(a){if(!a||!a.length)return null;var l=a.pop(),u=l.textContent||l.innerText;if(u){var d=u.match(/^.*(\n|\r)/);return d?(a.length=0,d[0]):u}if(l.tagName==="ruby")return s(a);if(l.childNodes)return i(a,l),s(a)}for(i(e,t);r=s(e);)for(var o=0;o<r.length;o++)if(n=r.charCodeAt(o),o7e(n))return"rtl";return"ltr"}function l7e(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)r[i].mode==="showing"&&n++;return++n*-1}function FE(){}FE.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])};FE.prototype.formatStyle=function(t,e){return t===0?0:t+e};function BT(t,e,r){FE.call(this),this.cue=e,this.cueDiv=Pte(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:a7e(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}BT.prototype=w6(FE.prototype);BT.prototype.constructor=BT;function La(t){var e,r,n,i;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}La.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};La.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};La.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};La.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};La.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};La.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)};La.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};La.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i};function u7e(t,e,r,n){function i(b,S){for(var C,T=new La(b),A=1,E=0;E<S.length;E++){for(;b.overlapsOppositeAxis(r,S[E])||b.within(r)&&b.overlapsAny(n);)b.move(S[E]);if(b.within(r))return b;var I=b.intersectPercentage(r);A>I&&(C=new La(b),A=I),b=new La(T)}return C||T}var s=new La(e),o=e.cue,a=l7e(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var d=s.lineHeight,f=d*Math.round(a),h=r[u]+d,g=l[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/d)*d),a<0&&(f+=o.vertical===""?r.height:r.width,l=l.reverse()),s.move(g,f)}else{var v=s.lineHeight/r.height*100;switch(o.lineAlign){case"center":a-=v/2;break;case"end":a-=v;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],s=new La(e)}var p=i(s,l);e.move(p.toCSSCompatValues(r))}function By(){}By.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};By.convertCueToDOMTree=function(t,e){return!t||!e?null:Pte(t,e)};var c7e=.05,d7e="sans-serif",f7e="1.5%";By.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=f7e,r.appendChild(n);function i(d){for(var f=0;f<d.length;f++)if(d[f].hasBeenReset||!d[f].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)n.appendChild(e[s].displayState);return}var o=[],a=La.getSimpleBoxPosition(n),l=Math.round(a.height*c7e*100)/100,u={font:l+"px "+d7e};(function(){for(var d,f,h=0;h<e.length;h++)f=e[h],d=new BT(t,f,u),n.appendChild(d.div),u7e(t,d,a,o),f.displayState=d.div,o.push(La.getSimpleBoxPosition(d))})()};By.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};By.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Rl)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var d=e.buffer,f=0;f<d.length&&d[f]!=="\r"&&d[f]!==`
`;)++f;var h=d.substr(0,f);return d[f]==="\r"&&++f,d[f]===`
`&&++f,e.buffer=d.substr(f),h}function n(d){var f=new k2;if(Y_(d,function(g,v){switch(g){case"id":f.set(g,v);break;case"width":f.percent(g,v);break;case"lines":f.integer(g,v);break;case"regionanchor":case"viewportanchor":var p=v.split(",");if(p.length!==2)break;var b=new k2;if(b.percent("x",p[0]),b.percent("y",p[1]),!b.has("x")||!b.has("y"))break;f.set(g+"X",b.get("x")),f.set(g+"Y",b.get("y"));break;case"scroll":f.alt(g,v,["up"]);break}},/=/,/\s/),f.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=f.get("width",100),h.lines=f.get("lines",3),h.regionAnchorX=f.get("regionanchorX",0),h.regionAnchorY=f.get("regionanchorY",100),h.viewportAnchorX=f.get("viewportanchorX",0),h.viewportAnchorY=f.get("viewportanchorY",100),h.scroll=f.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:f.get("id"),region:h})}}function i(d){var f=new k2;Y_(d,function(h,g){switch(h){case"MPEGT":f.integer(h+"S",g);break;case"LOCA":f.set(h+"L",S6(g));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function s(d){d.match(/X-TIMESTAMP-MAP/)?Y_(d,function(f,h){switch(f){case"X-TIMESTAMP-MAP":i(h);break}},/=/):Y_(d,function(f,h){switch(f){case"Region":n(h);break}},/:/)}try{var o;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;o=r();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Rl(Rl.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=r(),e.state){case"HEADER":/:/.test(o)?s(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",o.indexOf("-->")===-1){e.cue.id=o;continue}case"CUE":try{n7e(o,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=o.indexOf("-->")!==-1;if(!o||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=o.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":o||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Rl(Rl.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var h7e=By,p7e="auto",m7e={"":1,lr:1,rl:1},g7e={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function v7e(t){if(typeof t!="string")return!1;var e=m7e[t.toLowerCase()];return e?t.toLowerCase():!1}function NP(t){if(typeof t!="string")return!1;var e=g7e[t.toLowerCase()];return e?t.toLowerCase():!1}function kte(t,e,r){this.hasBeenReset=!1;var n="",i=!1,s=t,o=e,a=r,l=null,u="",d=!0,f="auto",h="start",g="auto",v="auto",p=100,b="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(S){n=""+S}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(S){i=!!S}},startTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");s=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");o=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(S){a=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(S){l=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(S){var C=v7e(S);if(C===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=C,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(S){d=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(S){if(typeof S!="number"&&S!==p7e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(S){var C=NP(S);C?(h=C,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");g=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(S){var C=NP(S);C?(v=C,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return p},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");p=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(S){var C=NP(S);if(!C)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");b=C,this.hasBeenReset=!0}}}),this.displayState=void 0}kte.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var y7e=kte,_7e={"":!0,up:!0};function b7e(t){if(typeof t!="string")return!1;var e=_7e[t.toLowerCase()];return e?t.toLowerCase():!1}function p_(t){return typeof t=="number"&&t>=0&&t<=100}function x7e(){var t=100,e=3,r=0,n=100,i=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!p_(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!p_(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!p_(a))throw new Error("RegionAnchorY must be between 0 and 100.");r=a}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(a){if(!p_(a))throw new Error("ViewportAnchorY must be between 0 and 100.");s=a}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!p_(a))throw new Error("ViewportAnchorX must be between 0 and 100.");i=a}},scroll:{enumerable:!0,get:function(){return o},set:function(a){var l=b7e(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var w7e=x7e,Bf=LE,Gm=Ate.exports={WebVTT:h7e,VTTCue:y7e,VTTRegion:w7e};Bf.vttjs=Gm;Bf.WebVTT=Gm.WebVTT;var S7e=Gm.VTTCue,T7e=Gm.VTTRegion,C7e=Bf.VTTCue,E7e=Bf.VTTRegion;Gm.shim=function(){Bf.VTTCue=S7e,Bf.VTTRegion=T7e};Gm.restore=function(){Bf.VTTCue=C7e,Bf.VTTRegion=E7e};Bf.VTTCue||Gm.shim();var A7e=Ate.exports;const z7=oo(A7e);var Ite={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,u,d){if(d=d||{},l=l.trim(),u=u.trim(),!u){if(!d.alwaysNormalize)return l;var f=a.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=a.normalizePath(f.path),a.buildURLFromParts(f)}var h=a.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return d.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):u;var g=a.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var v=i.exec(g.path);g.netLoc=v[1],g.path=v[2]}g.netLoc&&!g.path&&(g.path="/");var p={scheme:g.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(p.netLoc=g.netLoc,h.path[0]!=="/"))if(!h.path)p.path=g.path,h.params||(p.params=g.params,h.query||(p.query=g.query));else{var b=g.path,S=b.substring(0,b.lastIndexOf("/")+1)+h.path;p.path=a.normalizePath(S)}return p.path===null&&(p.path=d.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(p)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(Ite);var P7e=Ite.exports;const H7=oo(P7e);var j7="http://example.com",NE=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=Ke.location&&Ke.location.href||"");var n=typeof Ke.URL=="function",i=/^\/\//.test(e),s=!Ke.location&&!/\/\//i.test(e);if(n?e=new Ke.URL(e,Ke.location||j7):/\/\//i.test(e)||(e=H7.buildAbsoluteURL(Ke.location&&Ke.location.href||"",e)),n){var o=new URL(r,e);return s?o.href.slice(j7.length):i?o.href.slice(o.protocol.length):o.href}return H7.buildAbsoluteURL(e,r)},T6=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var s=i.length,o=0;o<s;++o)i[o].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),k7e=function(e){return Ke.atob?Ke.atob(e):Buffer.from(e,"base64").toString("binary")};function I7e(t){for(var e=k7e(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class D7e extends T6{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const R7e=String.fromCharCode(9),BP=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},M7e=function(){const t="[^=]*",e='"[^"]*"|[^,]*',r="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+r+")")},Ta=function(t){const e={};if(!t)return e;const r=t.split(M7e());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e},G7=t=>{const e=t.split("x"),r={};return e[0]&&(r.width=parseInt(e[0],10)),e[1]&&(r.height=parseInt(e[1],10)),r};class O7e extends T6{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,o)=>{const a=o(e);return a===e?s:s.concat([a])},[e]).forEach(s=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),r=/^#EXTM3U/.exec(s),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),r){n=Ls(BP(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(s),r){if(n={type:"tag",tagType:"map"},r[1]){const o=Ta(r[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=BP(o.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),r){n={type:"tag",tagType:"stream-inf"},r[1]&&(n.attributes=Ta(r[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=G7(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(s),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=Ta(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(s),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(s),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=Ta(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(s),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=Ta(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=Ta(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(R7e)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=Ta(r[1]),["DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=BP(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=Ta(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=Ta(r[1]),["PART-TARGET"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=Ta(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(n.attributes.hasOwnProperty(o)){n.attributes[o]=parseInt(n.attributes[o],10);const a=o==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[a]=n.attributes[o],delete n.attributes[o]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=Ta(r[1]),["LAST-MSN","LAST-PART"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseInt(n.attributes[o],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(s),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=Ta(r[1]),["ID","CLASS"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=String(n.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=new Date(n.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/i.test(n.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=n.attributes[a].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in n.attributes){if(!o.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[a]),u=/^\d+(\.\d+)?$/.test(n.attributes[a]);n.attributes[a]=l?n.attributes[a].toString(16):u?parseFloat(n.attributes[a]):String(n.attributes[a])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-I-FRAMES-ONLY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),r){n={type:"tag",tagType:"content-steering"},n.attributes=Ta(r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),r){n={type:"tag",tagType:"i-frame-playlist"},n.attributes=Ta(r[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=G7(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),this.trigger("data",n);return}if(r=/^#EXT-X-DEFINE:(.*)$/.exec(s),r){n={type:"tag",tagType:"define"},n.attributes=Ta(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:n(s),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const $7e=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),xh=function(t){const e={};return Object.keys(t).forEach(function(r){e[$7e(r)]=t[r]}),e},UP=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",a=r&&r*3,l=n&&n*2;r&&!e.hasOwnProperty(s)&&(e[s]=a,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&e[s]<a&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${a})`}),e[s]=a),n&&!e.hasOwnProperty(o)&&(e[o]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[o]}).`})),n&&e[o]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[o]}) to partTargetDuration * 2 (${l}).`}),e[o]=l)};class L7e extends T6{constructor(e={}){super(),this.lineStream=new D7e,this.parseStream=new O7e,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const r=this,n=[];let i={},s,o,a=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let f=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let h=0,g=0;const v={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&s&&(i.map=s),!i.key&&o&&(i.key=o),!i.timeline&&typeof f=="number"&&(i.timeline=f),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(p){let b,S;if(r.manifest.definitions){for(const C in r.manifest.definitions)if(p.uri&&(p.uri=p.uri.replace(`{$${C}}`,r.manifest.definitions[C])),p.attributes)for(const T in p.attributes)typeof p.attributes[T]=="string"&&(p.attributes[T]=p.attributes[T].replace(`{$${C}}`,r.manifest.definitions[C]))}({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const C={};"length"in p&&(i.byterange=C,C.length=p.length,"offset"in p||(p.offset=h)),"offset"in p&&(i.byterange=C,C.offset=p.offset),h=C.offset+C.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(i.title=p.title),p.duration>0&&(i.duration=p.duration),p.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){o=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:I7e(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(o.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,f=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){s={},p.uri&&(s.uri=p.uri),p.byterange&&(s.byterange=p.byterange),o&&(s.key=o)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),Ls(i.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const C=this.manifest.mediaGroups[p.attributes.TYPE];C[p.attributes["GROUP-ID"]]=C[p.attributes["GROUP-ID"]]||{},b=C[p.attributes["GROUP-ID"]],S={default:/yes/i.test(p.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(S.language=p.attributes.LANGUAGE),p.attributes.URI&&(S.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(S.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(S.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(S.forced=/yes/i.test(p.attributes.FORCED)),b[p.attributes.NAME]=S},discontinuity(){f+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),i.dateTimeString=p.dateTimeString,i.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:C}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),C===null&&this.manifest.segments.reduceRight((T,A)=>(A.programDateTime=T-A.duration*1e3,A.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,UP.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){i.cueOut=p.data},"cue-out-cont"(){i.cueOutCont=p.data},"cue-in"(){i.cueIn=p.data},skip(){this.manifest.skip=xh(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const C=this.manifest.segments.length,T=xh(p.attributes);i.parts=i.parts||[],i.parts.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=g),g=T.byterange.offset+T.byterange.length);const A=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${A} for segment #${C}`,p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((E,I)=>{E.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${I} lacks required attribute(s): LAST-PART`})})},"server-control"(){const C=this.manifest.serverControl=xh(p.attributes);C.hasOwnProperty("canBlockReload")||(C.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),UP.call(this,this.manifest),C.canSkipDateranges&&!C.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const C=this.manifest.segments.length,T=xh(p.attributes),A=T.type&&T.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=A?g:0,A&&(g=T.byterange.offset+T.byterange.length)));const E=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${E} for segment #${C}`,p.attributes,["TYPE","URI"]),!!T.type)for(let I=0;I<i.preloadHints.length-1;I++){const O=i.preloadHints[I];O.type&&O.type===T.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${E} for segment #${C} has the same TYPE ${T.type} as preload hint #${I}`})}},"rendition-report"(){const C=xh(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(C);const T=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];a&&A.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${T}`,p.attributes,A)},"part-inf"(){this.manifest.partInf=xh(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),UP.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(xh(p.attributes));const C=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${C}`,p.attributes,["ID","START-DATE"]);const T=this.manifest.dateRanges[C];T.endDate&&T.startDate&&new Date(T.endDate)<new Date(T.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),T.duration&&T.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),T.plannedDuration&&T.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const A=!!T.endOnNext;if(A&&!T.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),A&&(T.duration||T.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),T.duration&&T.endDate){const I=T.startDate.getTime()+T.duration*1e3;this.manifest.dateRanges[C].endDate=new Date(I)}if(!v[T.id])v[T.id]=T;else{for(const I in v[T.id])if(T[I]&&JSON.stringify(v[T.id][I])!==JSON.stringify(T[I])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const E=this.manifest.dateRanges.findIndex(I=>I.id===T.id);this.manifest.dateRanges[E]=Ls(this.manifest.dateRanges[E],T),v[T.id]=Ls(v[T.id],T),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=xh(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const C=(T,A)=>{if(T in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${T}`});return}this.manifest.definitions[T]=A};if("QUERYPARAM"in p.attributes){if("NAME"in p.attributes||"IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const T=this.params.get(p.attributes.QUERYPARAM);if(!T){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${p.attributes.QUERYPARAM}`});return}C(p.attributes.QUERYPARAM,decodeURIComponent(T));return}if("NAME"in p.attributes){if("IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in p.attributes)||typeof p.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${p.attributes.NAME}`});return}C(p.attributes.NAME,p.attributes.VALUE);return}if("IMPORT"in p.attributes){if(!this.mainDefinitions[p.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${p.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}C(p.attributes.IMPORT,this.mainDefinitions[p.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:p.attributes,uri:p.uri,timeline:f}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",p.attributes,["BANDWIDTH","URI"])}}[p.tagType]||l).call(r)},uri(){i.uri=p.uri,n.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),o&&(i.key=o),i.timeline=f,s&&(i.map=s),g=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){p.segment?(i.custom=i.custom||{},i.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(r)})}requiredCompatibilityversion(e,r){(e<r||!e)&&this.trigger("warn",{message:`manifest must be at least version ${r}`})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(s){r.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var tm={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},F7e=["video","audio","text"],W7=["Video","Audio","Text"],Dte=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,i){var s=("00"+Number(n).toString(16)).slice(-2),o=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+o})},Jc=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(i){i=i.trim();var s;F7e.forEach(function(o){var a=tm[o].exec(i.toLowerCase());if(!(!a||a.length<=1)){s=o;var l=i.substring(0,a[1].length),u=i.replace(l,"");n.push({type:l,details:u,mediaType:o})}}),s||n.push({type:i,details:"",mediaType:"unknown"})}),n},N7e=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var i in n){var s=n[i];if(s.default&&s.playlists)return Jc(s.playlists[0].attributes.CODECS)}return null},Rte=function(e){return e===void 0&&(e=""),tm.audio.test(e.trim().toLowerCase())},B7e=function(e){return e===void 0&&(e=""),tm.text.test(e.trim().toLowerCase())},Mb=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(s){return Dte(s.trim())}),n="video";r.length===1&&Rte(r[0])?n="audio":r.length===1&&B7e(r[0])&&(n="application");var i="mp4";return r.every(function(s){return tm.mp4.test(s)})?i="mp4":r.every(function(s){return tm.webm.test(s)})?i="webm":r.every(function(s){return tm.ogg.test(s)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},ES=function(e){return e===void 0&&(e=""),Ke.MediaSource&&Ke.MediaSource.isTypeSupported&&Ke.MediaSource.isTypeSupported(Mb(e))||!1},VP=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<W7.length;n++){var i=W7[n];if(tm["muxer"+i].test(r))return!0}return!1})},q7="mp4a.40.2",U7e="avc1.4d400d",V7e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,z7e=/^application\/dash\+xml/i,Mte=function(e){return V7e.test(e)?"hls":z7e.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},H7e=function(e){return e.toString(2).length},j7e=function(e){return Math.ceil(H7e(e)/8)},Ote=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},G7e=function(e){return Ote(e)},mn=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!G7e(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Go=Ke.BigInt||Number,uD=[Go("0x1"),Go("0x100"),Go("0x10000"),Go("0x1000000"),Go("0x100000000"),Go("0x10000000000"),Go("0x1000000000000"),Go("0x100000000000000"),Go("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var W7e=function(e,r){var n=r===void 0?{}:r,i=n.signed,s=i===void 0?!1:i,o=n.le,a=o===void 0?!1:o;e=mn(e);var l=a?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],d=u.call(e,function(h,g,v){var p=a?v:Math.abs(v+1-e.length);return h+Go(g)*uD[p]},Go(0));if(s){var f=uD[e.length]/Go(2)-Go(1);d=Go(d),d>f&&(d-=f,d-=f,d-=Go(2))}return Number(d)},q7e=function(e,r){var n=r===void 0?{}:r,i=n.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Go(e);for(var o=j7e(e),a=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var u=s?l:Math.abs(l+1-a.length);a[u]=Number(e/uD[l]&Go(255)),e<0&&(a[u]=Math.abs(~a[u]),a[u]-=l===0?1:2)}return a},$te=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},X7e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),r.length<=1)return mn(r[0]);var i=r.reduce(function(a,l,u){return a+(l.byteLength||l.length)},0),s=new Uint8Array(i),o=0;return r.forEach(function(a){a=mn(a),s.set(a,o),o+=a.byteLength}),s},ds=function(e,r,n){var i=n===void 0?{}:n,s=i.offset,o=s===void 0?0:s,a=i.mask,l=a===void 0?[]:a;e=mn(e),r=mn(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-o>=r.length&&u.call(r,function(d,f){var h=l[f]?l[f]&e[o+f]:e[o+f];return d===h})},Y7e=function(e,r,n){r.forEach(function(i){for(var s in e.mediaGroups[i])for(var o in e.mediaGroups[i][s]){var a=e.mediaGroups[i][s][o];n(a,i,s,o)}})},K7e=function(e){return Ke.atob?Ke.atob(e):Buffer.from(e,"base64").toString("binary")};function Z7e(t){for(var e=K7e(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}var Mp={},oh={};function Q7e(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function C6(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function J7e(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Lte=C6({HTML:"text/html",isHTML:function(t){return t===Lte.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Fte=C6({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===Fte.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});oh.assign=J7e;oh.find=Q7e;oh.freeze=C6;oh.MIME_TYPE=Lte;oh.NAMESPACE=Fte;var Nte=oh,wd=Nte.find,Ob=Nte.NAMESPACE;function eVe(t){return t!==""}function tVe(t){return t?t.split(/[\t\n\f\r ]+/).filter(eVe):[]}function rVe(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function X7(t){if(!t)return[];var e=tVe(t);return Object.keys(e.reduce(rVe,{}))}function nVe(t){return function(e){return t&&t.indexOf(e)!==-1}}function $1(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function wl(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,$1(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var Sl={},mc=Sl.ELEMENT_NODE=1,Bv=Sl.ATTRIBUTE_NODE=2,UT=Sl.TEXT_NODE=3,Bte=Sl.CDATA_SECTION_NODE=4,Ute=Sl.ENTITY_REFERENCE_NODE=5,iVe=Sl.ENTITY_NODE=6,Vte=Sl.PROCESSING_INSTRUCTION_NODE=7,zte=Sl.COMMENT_NODE=8,Hte=Sl.DOCUMENT_NODE=9,jte=Sl.DOCUMENT_TYPE_NODE=10,Uf=Sl.DOCUMENT_FRAGMENT_NODE=11,sVe=Sl.NOTATION_NODE=12,ba={},Fo={};ba.INDEX_SIZE_ERR=(Fo[1]="Index size error",1);ba.DOMSTRING_SIZE_ERR=(Fo[2]="DOMString size error",2);var al=ba.HIERARCHY_REQUEST_ERR=(Fo[3]="Hierarchy request error",3);ba.WRONG_DOCUMENT_ERR=(Fo[4]="Wrong document",4);ba.INVALID_CHARACTER_ERR=(Fo[5]="Invalid character",5);ba.NO_DATA_ALLOWED_ERR=(Fo[6]="No data allowed",6);ba.NO_MODIFICATION_ALLOWED_ERR=(Fo[7]="No modification allowed",7);var Gte=ba.NOT_FOUND_ERR=(Fo[8]="Not found",8);ba.NOT_SUPPORTED_ERR=(Fo[9]="Not supported",9);var Y7=ba.INUSE_ATTRIBUTE_ERR=(Fo[10]="Attribute in use",10);ba.INVALID_STATE_ERR=(Fo[11]="Invalid state",11);ba.SYNTAX_ERR=(Fo[12]="Syntax error",12);ba.INVALID_MODIFICATION_ERR=(Fo[13]="Invalid modification",13);ba.NAMESPACE_ERR=(Fo[14]="Invalid namespace",14);ba.INVALID_ACCESS_ERR=(Fo[15]="Invalid access",15);function qs(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Fo[t]),this.message=Fo[t],Error.captureStackTrace&&Error.captureStackTrace(this,qs);return r.code=t,e&&(this.message=this.message+": "+e),r}qs.prototype=Error.prototype;$1(ba,qs);function Df(){}Df.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)Fg(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Uv(t,e){this._node=t,this._refresh=e,E6(this)}function E6(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(nre(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];$1(r,t),t._inc=e}}Uv.prototype.item=function(t){return E6(this),this[t]||null};wl(Uv,Df);function VT(){}function Wte(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function K7(t,e,r,n){if(n?e[Wte(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&Yte(i,t,n),oVe(i,t,r))}}function Z7(t,e,r){var n=Wte(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(Yte(s,t,r),r.ownerElement=null)}}else throw new qs(Gte,new Error(t.tagName+"@"+r))}VT.prototype={length:0,item:Df.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new qs(Y7);var r=this.getNamedItem(t.nodeName);return K7(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new qs(Y7);return r=this.getNamedItemNS(t.namespaceURI,t.localName),K7(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return Z7(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return Z7(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function qte(){}qte.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new L1;if(n.implementation=this,n.childNodes=new Df,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new BE;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function Oi(){}Oi.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return zT(this,t,e)},replaceChild:function(t,e){zT(this,t,e,Zte),e&&this.removeChild(e)},removeChild:function(t){return Kte(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return cD(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==UT&&t.nodeType==UT?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==Bv?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==Bv?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function Xte(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}$1(Sl,Oi);$1(Sl,Oi.prototype);function $b(t,e){if(e(t))return!0;if(t=t.firstChild)do if($b(t,e))return!0;while(t=t.nextSibling)}function L1(){this.ownerDocument=this}function oVe(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Ob.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function Yte(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Ob.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function A6(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function Kte(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,A6(t.ownerDocument,t),e}function aVe(t){return t&&(t.nodeType===Oi.DOCUMENT_NODE||t.nodeType===Oi.DOCUMENT_FRAGMENT_NODE||t.nodeType===Oi.ELEMENT_NODE)}function lVe(t){return t&&(Sd(t)||P6(t)||Vf(t)||t.nodeType===Oi.DOCUMENT_FRAGMENT_NODE||t.nodeType===Oi.COMMENT_NODE||t.nodeType===Oi.PROCESSING_INSTRUCTION_NODE)}function Vf(t){return t&&t.nodeType===Oi.DOCUMENT_TYPE_NODE}function Sd(t){return t&&t.nodeType===Oi.ELEMENT_NODE}function P6(t){return t&&t.nodeType===Oi.TEXT_NODE}function Q7(t,e){var r=t.childNodes||[];if(wd(r,Sd)||Vf(e))return!1;var n=wd(r,Vf);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function J7(t,e){var r=t.childNodes||[];function n(s){return Sd(s)&&s!==e}if(wd(r,n))return!1;var i=wd(r,Vf);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function uVe(t,e,r){if(!aVe(t))throw new qs(al,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new qs(Gte,"child not in parent");if(!lVe(e)||Vf(e)&&t.nodeType!==Oi.DOCUMENT_NODE)throw new qs(al,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function cVe(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Oi.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Sd);if(s.length>1||wd(i,P6))throw new qs(al,"More than one element or text in fragment");if(s.length===1&&!Q7(t,r))throw new qs(al,"Element in fragment can not be inserted before doctype")}if(Sd(e)&&!Q7(t,r))throw new qs(al,"Only one element can be added and only after doctype");if(Vf(e)){if(wd(n,Vf))throw new qs(al,"Only one doctype is allowed");var o=wd(n,Sd);if(r&&n.indexOf(o)<n.indexOf(r))throw new qs(al,"Doctype can only be inserted before an element");if(!r&&o)throw new qs(al,"Doctype can not be appended since element is present")}}function Zte(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===Oi.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Sd);if(s.length>1||wd(i,P6))throw new qs(al,"More than one element or text in fragment");if(s.length===1&&!J7(t,r))throw new qs(al,"Element in fragment can not be inserted before doctype")}if(Sd(e)&&!J7(t,r))throw new qs(al,"Only one element can be added and only after doctype");if(Vf(e)){if(wd(n,function(l){return Vf(l)&&l!==r}))throw new qs(al,"Only one doctype is allowed");var o=wd(n,Sd);if(r&&n.indexOf(o)<n.indexOf(r))throw new qs(al,"Doctype can only be inserted before an element")}}function zT(t,e,r,n){uVe(t,e,r),t.nodeType===Oi.DOCUMENT_NODE&&(n||cVe)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Uf){var s=e.firstChild;if(s==null)return e;var o=e.lastChild}else s=o=e;var a=r?r.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=r,a?a.nextSibling=s:t.firstChild=s,r==null?t.lastChild=o:r.previousSibling=o;do s.parentNode=t;while(s!==o&&(s=s.nextSibling));return A6(t.ownerDocument||t,t),e.nodeType==Uf&&(e.firstChild=e.lastChild=null),e}function dVe(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,A6(t.ownerDocument,t,e),e}L1.prototype={nodeName:"#document",nodeType:Hte,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Uf){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return zT(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===mc&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Kte(this,t)},replaceChild:function(t,e){zT(this,t,e,Zte),t.ownerDocument=this,e&&this.removeChild(e),Sd(t)&&(this.documentElement=t)},importNode:function(t,e){return rre(this,t,e)},getElementById:function(t){var e=null;return $b(this.documentElement,function(r){if(r.nodeType==mc&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=X7(t);return new Uv(this,function(r){var n=[];return e.length>0&&$b(r.documentElement,function(i){if(i!==r&&i.nodeType===mc){var s=i.getAttribute("class");if(s){var o=t===s;if(!o){var a=X7(s);o=e.every(nVe(a))}o&&n.push(i)}}}),n})},createElement:function(t){var e=new Am;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Df;var r=e.attributes=new VT;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new UE;return t.ownerDocument=this,t.childNodes=new Df,t},createTextNode:function(t){var e=new k6;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new I6;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new D6;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new M6;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new HT;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new R6;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Am,n=e.split(":"),i=r.attributes=new VT;return r.childNodes=new Df,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new HT,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};wl(L1,Oi);function Am(){this._nsMap={}}Am.prototype={nodeType:mc,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Uf?this.insertBefore(t,null):dVe(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Uv(this,function(e){var r=[];return $b(e,function(n){n!==e&&n.nodeType==mc&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new Uv(this,function(r){var n=[];return $b(r,function(i){i!==r&&i.nodeType===mc&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};L1.prototype.getElementsByTagName=Am.prototype.getElementsByTagName;L1.prototype.getElementsByTagNameNS=Am.prototype.getElementsByTagNameNS;wl(Am,Oi);function HT(){}HT.prototype.nodeType=Bv;wl(HT,Oi);function F1(){}F1.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Fo[al])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};wl(F1,Oi);function k6(){}k6.prototype={nodeName:"#text",nodeType:UT,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};wl(k6,F1);function I6(){}I6.prototype={nodeName:"#comment",nodeType:zte};wl(I6,F1);function D6(){}D6.prototype={nodeName:"#cdata-section",nodeType:Bte};wl(D6,F1);function BE(){}BE.prototype.nodeType=jte;wl(BE,Oi);function Qte(){}Qte.prototype.nodeType=sVe;wl(Qte,Oi);function Jte(){}Jte.prototype.nodeType=iVe;wl(Jte,Oi);function R6(){}R6.prototype.nodeType=Ute;wl(R6,Oi);function UE(){}UE.prototype.nodeName="#document-fragment";UE.prototype.nodeType=Uf;wl(UE,Oi);function M6(){}M6.prototype.nodeType=Vte;wl(M6,Oi);function ere(){}ere.prototype.serializeToString=function(t,e,r){return tre.call(t,e,r)};Oi.prototype.toString=tre;function tre(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return Fg(this,r,t,e,o),r.join("")}function eV(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Ob.XML||i===Ob.XMLNS)return!1;for(var s=r.length;s--;){var o=r[s];if(o.prefix===n)return o.namespace!==i}return!0}function zP(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,Xte),'"')}function Fg(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case mc:var s=t.attributes,o=s.length,S=t.firstChild,a=t.tagName;r=Ob.isHTML(t.namespaceURI)||r;var l=a;if(!r&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var f=i.length-1;f>=0;f--){var h=i[f];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+a);break}}}e.push("<",l);for(var g=0;g<o;g++){var v=s.item(g);v.prefix=="xmlns"?i.push({prefix:v.localName,namespace:v.value}):v.nodeName=="xmlns"&&i.push({prefix:"",namespace:v.value})}for(var g=0;g<o;g++){var v=s.item(g);if(eV(v,r,i)){var p=v.prefix||"",b=v.namespaceURI;zP(e,p?"xmlns:"+p:"xmlns",b),i.push({prefix:p,namespace:b})}Fg(v,e,r,n,i)}if(a===l&&eV(t,r,i)){var p=t.prefix||"",b=t.namespaceURI;zP(e,p?"xmlns:"+p:"xmlns",b),i.push({prefix:p,namespace:b})}if(S||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),r&&/^script$/i.test(a))for(;S;)S.data?e.push(S.data):Fg(S,e,r,n,i.slice()),S=S.nextSibling;else for(;S;)Fg(S,e,r,n,i.slice()),S=S.nextSibling;e.push("</",l,">")}else e.push("/>");return;case Hte:case Uf:for(var S=t.firstChild;S;)Fg(S,e,r,n,i.slice()),S=S.nextSibling;return;case Bv:return zP(e,t.name,t.value);case UT:return e.push(t.data.replace(/[<&>]/g,Xte));case Bte:return e.push("<![CDATA[",t.data,"]]>");case zte:return e.push("<!--",t.data,"-->");case jte:var C=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(" PUBLIC ",C),T&&T!="."&&e.push(" ",T),e.push(">");else if(T&&T!=".")e.push(" SYSTEM ",T,">");else{var A=t.internalSubset;A&&e.push(" [",A,"]"),e.push(">")}return;case Vte:return e.push("<?",t.target," ",t.data,"?>");case Ute:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function rre(t,e,r){var n;switch(e.nodeType){case mc:n=e.cloneNode(!1),n.ownerDocument=t;case Uf:break;case Bv:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(rre(t,i,r)),i=i.nextSibling;return n}function cD(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new Df),n.ownerDocument=t,n.nodeType){case mc:var o=e.attributes,a=n.attributes=new VT,l=o.length;a._ownerElement=n;for(var u=0;u<l;u++)n.setAttributeNode(cD(t,o.item(u),!0));break;case Bv:r=!0}if(r)for(var d=e.firstChild;d;)n.appendChild(cD(t,d,r)),d=d.nextSibling;return n}function nre(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case mc:case Uf:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(Uv.prototype,"length",{get:function(){return E6(this),this.$$length}}),Object.defineProperty(Oi.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case mc:case Uf:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),nre=function(e,r,n){e["$$"+r]=n}}}catch{}Mp.DocumentType=BE;Mp.DOMException=qs;Mp.DOMImplementation=qte;Mp.Element=Am;Mp.Node=Oi;Mp.NodeList=Df;Mp.XMLSerializer=ere;var VE={},ire={};(function(t){var e=oh.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(ire);var O6={},Lb=oh.NAMESPACE,dD=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,tV=new RegExp("[\\-\\.0-9"+dD.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),rV=new RegExp("^"+dD.source+tV.source+"*(?::"+dD.source+tV.source+"*)?$"),m_=0,wh=1,fg=2,g_=3,hg=4,pg=5,v_=6,Ux=7;function Vv(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Vv)}Vv.prototype=new Error;Vv.prototype.name=Vv.name;function sre(){}sre.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),ore(e,e={}),fVe(t,e,r,n,this.errorHandler),n.endDocument()}};function fVe(t,e,r,n,i){function s(z){if(z>65535){z-=65536;var re=55296+(z>>10),oe=56320+(z&1023);return String.fromCharCode(re,oe)}else return String.fromCharCode(z)}function o(z){var re=z.slice(1,-1);return Object.hasOwnProperty.call(r,re)?r[re]:re.charAt(0)==="#"?s(parseInt(re.substr(1).replace("x","0x"))):(i.error("entity not found:"+z),z)}function a(z){if(z>p){var re=t.substring(p,z).replace(/&#?\w+;/g,o);h&&l(p),n.characters(re,0,z-p),p=z}}function l(z,re){for(;z>=d&&(re=f.exec(t));)u=re.index,d=u+re[0].length,h.lineNumber++;h.columnNumber=z-u+1}for(var u=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,g=[{currentNSMap:e}],v={},p=0;;){try{var b=t.indexOf("<",p);if(b<0){if(!t.substr(p).match(/^\s*$/)){var S=n.doc,C=S.createTextNode(t.substr(p));S.appendChild(C),n.currentElement=C}return}switch(b>p&&a(b),t.charAt(b+1)){case"/":var W=t.indexOf(">",b+3),T=t.substring(b+2,W).replace(/[ \t\n\r]+$/g,""),A=g.pop();W<0?(T=t.substring(b+2).replace(/[\s<].*/,""),i.error("end tag name: "+T+" is not complete:"+A.tagName),W=b+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),i.error("end tag name: "+T+" maybe not complete"),W=b+1+T.length);var E=A.localNSMap,I=A.tagName==T,O=I||A.tagName&&A.tagName.toLowerCase()==T.toLowerCase();if(O){if(n.endElement(A.uri,A.localName,T),E)for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&n.endPrefixMapping(N);I||i.fatalError("end tag name: "+T+" is not match the current start tagName:"+A.tagName)}else g.push(A);W++;break;case"?":h&&l(b),W=vVe(t,b,n);break;case"!":h&&l(b),W=gVe(t,b,n,i);break;default:h&&l(b);var G=new are,ie=g[g.length-1].currentNSMap,W=hVe(t,b,G,ie,o,i),q=G.length;if(!G.closed&&mVe(t,W,G.tagName,v)&&(G.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&q){for(var J=nV(h,{}),X=0;X<q;X++){var R=G[X];l(R.offset),R.locator=nV(h,{})}n.locator=J,iV(G,n,ie)&&g.push(G),n.locator=h}else iV(G,n,ie)&&g.push(G);Lb.isHTML(G.uri)&&!G.closed?W=pVe(t,W,G.tagName,o,n):W++}}catch(z){if(z instanceof Vv)throw z;i.error("element parse error: "+z),W=-1}W>p?p=W:a(Math.max(b,p)+1)}}function nV(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function hVe(t,e,r,n,i,s){function o(h,g,v){r.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),r.addValue(h,g.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),v)}for(var a,l,u=++e,d=m_;;){var f=t.charAt(u);switch(f){case"=":if(d===wh)a=t.slice(e,u),d=g_;else if(d===fg)d=g_;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===g_||d===wh)if(d===wh&&(s.warning('attribute value must after "="'),a=t.slice(e,u)),e=u+1,u=t.indexOf(f,e),u>0)l=t.slice(e,u),o(a,l,e-1),d=pg;else throw new Error("attribute value no end '"+f+"' match");else if(d==hg)l=t.slice(e,u),o(a,l,e),s.warning('attribute "'+a+'" missed start quot('+f+")!!"),e=u+1,d=pg;else throw new Error('attribute value must after "="');break;case"/":switch(d){case m_:r.setTagName(t.slice(e,u));case pg:case v_:case Ux:d=Ux,r.closed=!0;case hg:case wh:break;case fg:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==m_&&r.setTagName(t.slice(e,u)),u;case">":switch(d){case m_:r.setTagName(t.slice(e,u));case pg:case v_:case Ux:break;case hg:case wh:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case fg:d===fg&&(l=a),d==hg?(s.warning('attribute "'+l+'" missed quot(")!'),o(a,l,e)):((!Lb.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case g_:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(d){case m_:r.setTagName(t.slice(e,u)),d=v_;break;case wh:a=t.slice(e,u),d=fg;break;case hg:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),o(a,l,e);case pg:d=v_;break}else switch(d){case fg:r.tagName,(!Lb.isHTML(n[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=u,d=wh;break;case pg:s.warning('attribute space is required"'+a+'"!!');case v_:d=wh,e=u;break;case g_:d=hg,e=u;break;case Ux:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function iV(t,e,r){for(var n=t.tagName,i=null,f=t.length;f--;){var s=t[f],o=s.qName,a=s.value,h=o.indexOf(":");if(h>0)var l=s.prefix=o.slice(0,h),u=o.slice(h+1),d=l==="xmlns"&&u;else u=o,l=null,d=o==="xmlns"&&"";s.localName=u,d!==!1&&(i==null&&(i={},ore(r,r={})),r[d]=i[d]=a,s.uri=Lb.XMLNS,e.startPrefixMapping(d,a))}for(var f=t.length;f--;){s=t[f];var l=s.prefix;l&&(l==="xml"&&(s.uri=Lb.XML),l!=="xmlns"&&(s.uri=r[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),u=t.localName=n.slice(h+1)):(l=null,u=t.localName=n);var g=t.uri=r[l||""];if(e.startElement(g,u,n,t),t.closed){if(e.endElement(g,u,n),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function pVe(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),s)}return e+1}function mVe(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function ore(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function gVe(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var o=yVe(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=!1,d=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],d=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var f=o[a-1];return r.startDTD(l,u,d),r.endDTD(),f.index+f[0].length}}return-1}function vVe(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function are(){this.attributeNames={}}are.prototype={setTagName:function(t){if(!rV.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!rV.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function yVe(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}O6.XMLReader=sre;O6.ParseError=Vv;var _Ve=oh,bVe=Mp,sV=ire,lre=O6,xVe=bVe.DOMImplementation,oV=_Ve.NAMESPACE,wVe=lre.ParseError,SVe=lre.XMLReader;function ure(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function cre(t){this.options=t||{locator:{}}}cre.prototype.parseFromString=function(t,e){var r=this.options,n=new SVe,i=r.domBuilder||new N1,s=r.errorHandler,o=r.locator,a=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?sV.HTML_ENTITIES:sV.XML_ENTITIES;o&&i.setDocumentLocator(o),n.errorHandler=TVe(s,i,o),n.domBuilder=r.domBuilder||i,l&&(a[""]=oV.HTML),a.xml=a.xml||oV.XML;var d=r.normalizeLineEndings||ure;return t&&typeof t=="string"?n.parse(d(t),a,u):n.errorHandler.error("invalid doc source"),i.doc};function TVe(t,e,r){if(!t){if(e instanceof N1)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(o){var a=t[o];!a&&i&&(a=t.length==2?function(l){t(o,l)}:t),n[o]=a&&function(l){a("[xmldom "+o+"]	"+l+fD(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function N1(){this.cdata=!1}function mg(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}N1.prototype={startDocument:function(){this.doc=new xVe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),o=n.length;Vx(this,s),this.currentElement=s,this.locator&&mg(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a),l=n.getValue(a),r=n.getQName(a),u=i.createAttributeNS(t,r);this.locator&&mg(n.getLocator(a),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&mg(this.locator,r),Vx(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=aV.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&mg(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=aV.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&mg(this.locator,n),Vx(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&mg(this.locator,i),Vx(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,fD(this.locator))},error:function(t){console.error("[xmldom error]	"+t,fD(this.locator))},fatalError:function(t){throw new wVe(t,this.locator)}};function fD(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function aV(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){N1.prototype[t]=function(){return null}});function Vx(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}VE.__DOMHandler=N1;VE.normalizeLineEndings=ure;VE.DOMParser=cre;var CVe=VE.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const lV=t=>!!t&&typeof t=="object",Oo=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):lV(e[n])&&lV(r[n])?e[n]=Oo(e[n],r[n]):e[n]=r[n]}),e),{}),dre=t=>Object.keys(t).map(e=>t[e]),EVe=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},zv=t=>t.reduce((e,r)=>e.concat(r),[]),fre=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},AVe=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),PVe=(t,e)=>dre(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var Hv={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Fb=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:NE(t||"",e)};if(r||n){const o=(r||n).split("-");let a=Ke.BigInt?Ke.BigInt(o[0]):parseInt(o[0],10),l=Ke.BigInt?Ke.BigInt(o[1]):parseInt(o[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof a=="bigint"?u=Ke.BigInt(l)-Ke.BigInt(a)+Ke.BigInt(1):u=l-a+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),i.byterange={length:u,offset:a}}return i},kVe=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Ke.BigInt(t.offset)+Ke.BigInt(t.length)-Ke.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},uV=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),IVe={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,s=uV(t.endNumber),o=e/r;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/o}:{start:0,end:n/o}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:s,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=t,u=uV(t.endNumber),d=(e+r)/1e3,f=n+o,g=d+a-f,v=Math.ceil(g*i/s),p=Math.floor((d-f-l)*i/s),b=Math.floor((d-f)*i/s);return{start:Math.max(0,p),end:typeof u=="number"?u:Math.min(v,b)}}},DVe=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:r/n,timeline:i,time:e*r}},$6=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:s}=t,{start:o,end:a}=IVe[e](t),l=EVe(o,a).map(DVe(t));if(e==="static"){const u=l.length-1,d=typeof i=="number"?i:s;l[u].duration=d-r/n*u}return l},hre=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:s,presentationTime:o,number:a=0,duration:l}=t;if(!e)throw new Error(Hv.NO_BASE_URL);const u=Fb({baseUrl:e,source:r.sourceURL,range:r.range}),d=Fb({baseUrl:e,source:e,indexRange:i});if(d.map=u,l){const f=$6(t);f.length&&(d.duration=f[0].duration,d.timeline=f[0].timeline)}else n&&(d.duration=n,d.timeline=s);return d.presentationTime=o||s,d.number=a,[d]},L6=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,a=o.offset+o.length,l=e.timescale,u=e.references.filter(b=>b.referenceType!==1),d=[],f=t.endList?"static":"dynamic",h=t.sidx.timeline;let g=h,v=t.mediaSequence||0,p;typeof e.firstOffset=="bigint"?p=Ke.BigInt(a)+e.firstOffset:p=a+e.firstOffset;for(let b=0;b<u.length;b++){const S=e.references[b],C=S.referencedSize,T=S.subsegmentDuration;let A;typeof p=="bigint"?A=p+Ke.BigInt(C)-Ke.BigInt(1):A=p+C-1;const E=`${p}-${A}`,O=hre({baseUrl:r,timescale:l,timeline:s,periodStart:h,presentationTime:g,number:v,duration:T,sourceDuration:i,indexRange:E,type:f})[0];n&&(O.map=n),d.push(O),typeof p=="bigint"?p+=Ke.BigInt(C):p+=C,g+=T/l,v++}return t.segments=d,t},RVe=["AUDIO","SUBTITLES"],MVe=1/60,pre=t=>PVe(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),OVe=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},cV=t=>{let e=[];return Y7e(t,RVe,(r,n,i,s)=>{e=e.concat(r.playlists||[])}),e},dV=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},$Ve=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:l}){return l===n.timeline});const i=OVe(t,n.attributes.NAME);if(!i||n.sidx)return;const s=n.segments[0],o=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<MVe});if(o===-1){dV({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[o].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),dV({playlist:n,mediaSequence:i.segments[o].number})})},LVe=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(cV(t)),n=e.playlists.concat(cV(e));return e.timelineStarts=pre([t.timelineStarts,e.timelineStarts]),$Ve({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},zE=t=>t&&t.uri+"-"+kVe(t.byterange),HP=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=dre(n.reduce((s,o)=>{const a=o.attributes.id+(o.attributes.lang||"");return s[a]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),s[a].segments.push(...o.segments)),o.attributes.contentProtection&&(s[a].attributes.contentProtection=o.attributes.contentProtection)):(s[a]=o,s[a].attributes.timelineStarts=[]),s[a].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),s},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=AVe(n.segments||[],"discontinuity"),n))},F6=(t,e)=>{const r=zE(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&L6(t,n,t.sidx.resolvedUri),t},FVe=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=F6(t[r],e);return t},NVe=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:s},o)=>{const a={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(a.contentProtection=t.contentProtection),t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),r&&(a.sidx=r),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},BVe=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const o={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},UVe=(t,e={},r=!1)=>{let n;const i=t.reduce((s,o)=>{const a=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let u=o.attributes.label||"main";if(l&&!o.attributes.label){const f=a?` (${a})`:"";u=`${o.attributes.lang}${f}`}s[u]||(s[u]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const d=F6(NVe(o,r),e);return s[u].playlists.push(d),typeof n>"u"&&a==="main"&&(n=o,n.default=!0),s},{});if(!n){const s=Object.keys(i)[0];i[s].default=!0}return i},VVe=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text";return r[i]||(r[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push(F6(BVe(n),e)),r},{}),zVe=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:s}=n;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},n.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[s]["3D"]=n["3D"])}),e),{}),HVe=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},jVe=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",GVe=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",WVe=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",qVe=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},fV=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],XVe=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,d=HP(t.filter(jVe)).map(HVe),f=HP(t.filter(GVe)),h=HP(t.filter(WVe)),g=t.map(A=>A.attributes.captionServices).filter(Boolean),v={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:FVe(d,n)};u>=0&&(v.minimumUpdatePeriod=u*1e3),e&&(v.locations=e),r&&(v.contentSteering=r),a==="dynamic"&&(v.suggestedPresentationDelay=l),s&&s.length>0&&(v.eventStream=s);const p=v.playlists.length===0,b=f.length?UVe(f,n,p):null,S=h.length?VVe(h,n):null,C=d.concat(fV(b),fV(S)),T=C.map(({timelineStarts:A})=>A);return v.timelineStarts=pre(T),qVe(C,v.timelineStarts),b&&(v.mediaGroups.AUDIO.audio=b),S&&(v.mediaGroups.SUBTITLES.subs=S),g.length&&(v.mediaGroups["CLOSED-CAPTIONS"].cc=zVe(g)),i?LVe({oldManifest:i,newManifest:v}):v},YVe=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:s,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=t,u=(n+i)/1e3,d=s+a,h=u+l-d;return Math.ceil((h*o-e)/r)},mre=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:s,timescale:o=1,startNumber:a=1,periodStart:l}=t,u=[];let d=-1;for(let f=0;f<e.length;f++){const h=e[f],g=h.d,v=h.r||0,p=h.t||0;d<0&&(d=p),p&&p>d&&(d=p);let b;if(v<0){const T=f+1;T===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?b=YVe(t,d,g):b=(s*o-d)/g:b=(e[T].t-d)/g}else b=v+1;const S=a+u.length+b;let C=a+u.length;for(;C<S;)u.push({number:C,duration:g/o,time:d,timeline:l}),d+=g,C++}return u},KVe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ZVe=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const s=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},hV=(t,e)=>t.replace(KVe,ZVe(e)),QVe=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?$6(t):mre(t,e),JVe=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=Fb({baseUrl:t.baseUrl,source:hV(n.sourceURL,r),range:n.range});return QVe(t,e).map(o=>{r.Number=o.number,r.Time=o.time;const a=hV(t.media||"",r),l=t.timescale||1,u=t.presentationTimeOffset||0,d=t.periodStart+(o.time-u)/l;return{uri:a,timeline:o.timeline,duration:o.duration,resolvedUri:NE(t.baseUrl||"",a),map:i,number:o.number,presentationTime:d}})},eze=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=Fb({baseUrl:r,source:n.sourceURL,range:n.range}),s=Fb({baseUrl:r,source:e.media,range:e.mediaRange});return s.map=i,s},tze=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(Hv.SEGMENT_TIME_UNSPECIFIED);const s=n.map(l=>eze(t,l));let o;return r&&(o=$6(t)),e&&(o=mre(t,e)),o.map((l,u)=>{if(s[u]){const d=s[u],f=t.timescale||1,h=t.presentationTimeOffset||0;return d.timeline=l.timeline,d.duration=l.duration,d.number=l.number,d.presentationTime=i+(l.time-h)/f,d}}).filter(l=>l)},rze=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=JVe,r=Oo(t,e.template)):e.base?(n=hre,r=Oo(t,e.base)):e.list&&(n=tze,r=Oo(t,e.list));const i={attributes:t};if(!n)return i;const s=n(r,e.segmentTimeline);if(r.duration){const{duration:o,timescale:a=1}=r;r.duration=o/a}else s.length?r.duration=s.reduce((o,a)=>Math.max(o,Math.ceil(a.duration)),0):r.duration=0;return i.attributes=r,i.segments=s,e.base&&r.indexRange&&(i.sidx=s[0],i.segments=[]),i},nze=t=>t.map(rze),hs=(t,e)=>fre(t.childNodes).filter(({tagName:r})=>r===e),B1=t=>t.textContent.trim(),ize=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),gg=t=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!a)return 0;const[l,u,d,f,h,g]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(d||0)*86400+parseFloat(f||0)*3600+parseFloat(h||0)*60+parseFloat(g||0)},sze=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),pV={mediaPresentationDuration(t){return gg(t)},availabilityStartTime(t){return sze(t)/1e3},minimumUpdatePeriod(t){return gg(t)},suggestedPresentationDelay(t){return gg(t)},type(t){return t},timeShiftBufferDepth(t){return gg(t)},start(t){return gg(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return ize(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?gg(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},eo=t=>t&&t.attributes?fre(t.attributes).reduce((e,r)=>{const n=pV[r.name]||pV.DEFAULT;return e[r.name]=n(r.value),e},{}):{},oze={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},HE=(t,e)=>e.length?zv(t.map(function(r){return e.map(function(n){const i=B1(n),s=NE(r.baseUrl,i),o=Oo(eo(n),{baseUrl:s});return s!==i&&!o.serviceLocation&&r.serviceLocation&&(o.serviceLocation=r.serviceLocation),o})})):t,N6=t=>{const e=hs(t,"SegmentTemplate")[0],r=hs(t,"SegmentList")[0],n=r&&hs(r,"SegmentURL").map(f=>Oo({tag:"SegmentURL"},eo(f))),i=hs(t,"SegmentBase")[0],s=r||e,o=s&&hs(s,"SegmentTimeline")[0],a=r||i||e,l=a&&hs(a,"Initialization")[0],u=e&&eo(e);u&&l?u.initialization=l&&eo(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const d={template:u,segmentTimeline:o&&hs(o,"S").map(f=>eo(f)),list:r&&Oo(eo(r),{segmentUrls:n,initialization:eo(l)}),base:i&&Oo(eo(i),{initialization:eo(l)})};return Object.keys(d).forEach(f=>{d[f]||delete d[f]}),d},aze=(t,e,r)=>n=>{const i=hs(n,"BaseURL"),s=HE(e,i),o=Oo(t,eo(n)),a=N6(n);return s.map(l=>({segmentInfo:Oo(r,a),attributes:Oo(o,l)}))},lze=t=>t.reduce((e,r)=>{const n=eo(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=oze[n.schemeIdUri];if(i){e[i]={attributes:n};const s=hs(r,"cenc:pssh")[0];if(s){const o=B1(s);e[i].pssh=o&&Z7e(o)}}return e},{}),uze=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,s=""]=r.split("=");n.channel=i,n.language=r,s.split(",").forEach(o=>{const[a,l]=o.split(":");a==="lang"?n.language=l:a==="er"?n.easyReader=Number(l):a==="war"?n.aspectRatio=Number(l):a==="3D"&&(n["3D"]=Number(l))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},cze=t=>zv(hs(t.node,"EventStream").map(e=>{const r=eo(e),n=r.schemeIdUri;return hs(e,"Event").map(i=>{const s=eo(i),o=s.presentationTime||0,a=r.timescale||1,l=s.duration||0,u=o/a+t.attributes.start;return{schemeIdUri:n,value:r.value,id:s.id,start:u,end:u+l/a,messageData:B1(i)||s.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),dze=(t,e,r)=>n=>{const i=eo(n),s=HE(e,hs(n,"BaseURL")),o=hs(n,"Role")[0],a={role:eo(o)};let l=Oo(t,i,a);const u=hs(n,"Accessibility")[0],d=uze(eo(u));d&&(l=Oo(l,{captionServices:d}));const f=hs(n,"Label")[0];if(f&&f.childNodes.length){const b=f.childNodes[0].nodeValue.trim();l=Oo(l,{label:b})}const h=lze(hs(n,"ContentProtection"));Object.keys(h).length&&(l=Oo(l,{contentProtection:h}));const g=N6(n),v=hs(n,"Representation"),p=Oo(r,g);return zv(v.map(aze(l,s,p)))},fze=(t,e)=>(r,n)=>{const i=HE(e,hs(r.node,"BaseURL")),s=Oo(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(s.periodDuration=r.attributes.duration);const o=hs(r.node,"AdaptationSet"),a=N6(r.node);return zv(o.map(dze(s,i,a)))},hze=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=Oo({serverURL:B1(t[0])},eo(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},pze=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,mze=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,o=hs(t,"Period");if(!o.length)throw new Error(Hv.INVALID_NUMBER_OF_PERIOD);const a=hs(t,"Location"),l=eo(t),u=HE([{baseUrl:r}],hs(t,"BaseURL")),d=hs(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,a.length&&(l.locations=a.map(B1));const f=[];return o.forEach((h,g)=>{const v=eo(h),p=f[g-1];v.start=pze({attributes:v,priorPeriodAttributes:p?p.attributes:null,mpdType:l.type}),f.push({node:h,attributes:v})}),{locations:l.locations,contentSteeringInfo:hze(d,s),representationInfo:zv(f.map(fze(l,u))),eventStream:zv(f.map(cze))}},gre=t=>{if(t==="")throw new Error(Hv.DASH_EMPTY_MANIFEST);const e=new CVe;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Hv.DASH_INVALID_XML);return n},gze=t=>{const e=hs(t,"UTCTiming")[0];if(!e)return null;const r=eo(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Hv.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},vze=(t,e={})=>{const r=mze(gre(t),e),n=nze(r.representationInfo);return XVe({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},yze=t=>gze(gre(t));var vre=Math.pow(2,32),_ze=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*vre+e.getUint32(4)},bze={getUint64:_ze,MAX_UINT32:vre},mV=bze.getUint64,xze=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=mV(t.subarray(n)),r.firstOffset=mV(t.subarray(n+8)),n+=16),n+=2;var i=e.getUint16(n);for(n+=2;i>0;n+=12,i--)r.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},wze=xze;const Sze=oo(wze);var Tze=mn([73,68,51]),Cze=function(e,r){r===void 0&&(r=0),e=mn(e);var n=e[r+5],i=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],s=(n&16)>>4;return s?i+20:i+10},K_=function t(e,r){return r===void 0&&(r=0),e=mn(e),e.length-r<10||!ds(e,Tze,{offset:r})?r:(r+=Cze(e,r),t(e,r))},gV=function(e){return typeof e=="string"?$te(e):e},Eze=function(e){return Array.isArray(e)?e.map(function(r){return gV(r)}):[gV(e)]},Aze=function t(e,r,n){n===void 0&&(n=!1),r=Eze(r),e=mn(e);var i=[];if(!r.length)return i;for(var s=0;s<e.length;){var o=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,a=e.subarray(s+4,s+8);if(o===0)break;var l=s+o;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(s+8,l);ds(a,r[0])&&(r.length===1?i.push(u):i.push.apply(i,t(u,r.slice(1),n))),s=l}return i},zx={EBML:mn([26,69,223,163]),DocType:mn([66,130]),Segment:mn([24,83,128,103]),SegmentInfo:mn([21,73,169,102]),Tracks:mn([22,84,174,107]),Track:mn([174]),TrackNumber:mn([215]),DefaultDuration:mn([35,227,131]),TrackEntry:mn([174]),TrackType:mn([131]),FlagDefault:mn([136]),CodecID:mn([134]),CodecPrivate:mn([99,162]),VideoTrack:mn([224]),AudioTrack:mn([225]),Cluster:mn([31,67,182,117]),Timestamp:mn([231]),TimestampScale:mn([42,215,177]),BlockGroup:mn([160]),BlockDuration:mn([155]),Block:mn([161]),SimpleBlock:mn([163])},hD=[128,64,32,16,8,4,2,1],Pze=function(e){for(var r=1,n=0;n<hD.length&&!(e&hD[n]);n++)r++;return r},jT=function(e,r,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var s=Pze(e[r]),o=e.subarray(r,r+s);return n&&(o=Array.prototype.slice.call(e,r,r+s),o[0]^=hD[s-1]),{length:s,value:W7e(o,{signed:i}),bytes:o}},vV=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?q7e(e):e},kze=function(e){return Array.isArray(e)?e.map(function(r){return vV(r)}):[vV(e)]},Ize=function t(e,r,n){if(n>=r.length)return r.length;var i=jT(r,n,!1);if(ds(e.bytes,i.bytes))return n;var s=jT(r,n+i.length);return t(e,r,n+s.length+s.value+i.length)},yV=function t(e,r){r=kze(r),e=mn(e);var n=[];if(!r.length)return n;for(var i=0;i<e.length;){var s=jT(e,i,!1),o=jT(e,i+s.length),a=i+s.length+o.length;o.value===127&&(o.value=Ize(s,e,a),o.value!==e.length&&(o.value-=a));var l=a+o.value>e.length?e.length:a+o.value,u=e.subarray(a,l);ds(r[0],s.bytes)&&(r.length===1?n.push(u):n=n.concat(t(u,r.slice(1))));var d=s.length+o.length+u.length;i+=d}return n},Dze=mn([0,0,0,1]),Rze=mn([0,0,1]),Mze=mn([0,0,3]),Oze=function(e){for(var r=[],n=1;n<e.length-2;)ds(e.subarray(n,n+3),Mze)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var i=e.length-r.length,s=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===r[0]&&(o++,r.shift()),s[n]=e[o];return s},yre=function(e,r,n,i){i===void 0&&(i=1/0),e=mn(e),n=[].concat(n);for(var s=0,o,a=0;s<e.length&&(a<i||o);){var l=void 0;if(ds(e.subarray(s),Dze)?l=4:ds(e.subarray(s),Rze)&&(l=3),!l){s++;continue}if(a++,o)return Oze(e.subarray(o,s));var u=void 0;r==="h264"?u=e[s+l]&31:r==="h265"&&(u=e[s+l]>>1&63),n.indexOf(u)!==-1&&(o=s+l),s+=l+(r==="h264"?1:2)}return e.subarray(0,0)},$ze=function(e,r,n){return yre(e,"h264",r,n)},Lze=function(e,r,n){return yre(e,"h265",r,n)},Ca={webm:mn([119,101,98,109]),matroska:mn([109,97,116,114,111,115,107,97]),flac:mn([102,76,97,67]),ogg:mn([79,103,103,83]),ac3:mn([11,119]),riff:mn([82,73,70,70]),avi:mn([65,86,73]),wav:mn([87,65,86,69]),"3gp":mn([102,116,121,112,51,103]),mp4:mn([102,116,121,112]),fmp4:mn([115,116,121,112]),mov:mn([102,116,121,112,113,116]),moov:mn([109,111,111,118]),moof:mn([109,111,111,102])},jv={aac:function(e){var r=K_(e);return ds(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=K_(e);return ds(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=yV(e,[zx.EBML,zx.DocType])[0];return ds(r,Ca.webm)},mkv:function(e){var r=yV(e,[zx.EBML,zx.DocType])[0];return ds(r,Ca.matroska)},mp4:function(e){if(jv["3gp"](e)||jv.mov(e))return!1;if(ds(e,Ca.mp4,{offset:4})||ds(e,Ca.fmp4,{offset:4})||ds(e,Ca.moof,{offset:4})||ds(e,Ca.moov,{offset:4}))return!0},mov:function(e){return ds(e,Ca.mov,{offset:4})},"3gp":function(e){return ds(e,Ca["3gp"],{offset:4})},ac3:function(e){var r=K_(e);return ds(e,Ca.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=K_(e);return ds(e,Ca.flac,{offset:r})},ogg:function(e){return ds(e,Ca.ogg)},avi:function(e){return ds(e,Ca.riff)&&ds(e,Ca.avi,{offset:8})},wav:function(e){return ds(e,Ca.riff)&&ds(e,Ca.wav,{offset:8})},h264:function(e){return $ze(e,7,3).length},h265:function(e){return Lze(e,[32,33],3).length}},pD=Object.keys(jv).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);pD.forEach(function(t){var e=jv[t];jv[t]=function(r){return e(mn(r))}});var Fze=jv,B6=function(e){e=mn(e);for(var r=0;r<pD.length;r++){var n=pD[r];if(Fze[n](e))return n}return""},Nze=function(e){return Aze(e,["moof"]).length>0},U6=9e4,V6,z6,jE,H6,_re,bre,xre;V6=function(t){return t*U6};z6=function(t,e){return t*e};jE=function(t){return t/U6};H6=function(t,e){return t/e};_re=function(t,e){return V6(H6(t,e))};bre=function(t,e){return z6(jE(t),e)};xre=function(t,e,r){return jE(r?t:t-e)};var H0={ONE_SECOND_IN_TS:U6,secondsToVideoTs:V6,secondsToAudioTs:z6,videoTsToSeconds:jE,audioTsToSeconds:H6,audioTsToVideoTs:_re,videoTsToAudioTs:bre,metadataTsToSeconds:xre};/**
 * @license
 * Video.js 8.17.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var mD="8.17.4";const _f={},bp=function(t,e){return _f[t]=_f[t]||[],e&&(_f[t]=_f[t].concat(e)),_f[t]},Bze=function(t,e){bp(t,e)},wre=function(t,e){const r=bp(t).indexOf(e);return r<=-1?!1:(_f[t]=_f[t].slice(),_f[t].splice(r,1),!0)},Uze=function(t,e){bp(t,[].concat(e).map(r=>{const n=(...i)=>(wre(t,n),r(...i));return n}))},GT={prefixed:!0},AS=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],_V=AS[0];let Z_;for(let t=0;t<AS.length;t++)if(AS[t][1]in gr){Z_=AS[t];break}if(Z_){for(let t=0;t<Z_.length;t++)GT[_V[t]]=Z_[t];GT.prefixed=Z_[0]!==_V[0]}let il=[];const Vze=(t,e,r)=>(n,i,s)=>{const o=e.levels[i],a=new RegExp(`^(${o})$`);let l=t;if(n!=="log"&&s.unshift(n.toUpperCase()+":"),r&&(l=`%c${t}`,s.unshift(r)),s.unshift(l+":"),il){il.push([].concat(s));const d=il.length-1e3;il.splice(0,d>0?d:0)}if(!Ke.console)return;let u=Ke.console[n];!u&&n==="debug"&&(u=Ke.console.info||Ke.console.log),!(!u||!o||!a.test(n))&&u[Array.isArray(s)?"apply":"call"](Ke.console,s)};function gD(t,e=":",r=""){let n="info",i;function s(...o){i("log",n,o)}return i=Vze(t,s,r),s.createLogger=(o,a,l)=>{const u=a!==void 0?a:e,d=l!==void 0?l:r,f=`${t} ${u} ${o}`;return gD(f,u,d)},s.createNewLogger=(o,a,l)=>gD(o,a,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=o=>{if(typeof o=="string"){if(!s.levels.hasOwnProperty(o))throw new Error(`"${o}" in not a valid log level`);n=o}return n},s.history=()=>il?[].concat(il):[],s.history.filter=o=>(il||[]).filter(a=>new RegExp(`.*${o}.*`).test(a[0])),s.history.clear=()=>{il&&(il.length=0)},s.history.disable=()=>{il!==null&&(il.length=0,il=null)},s.history.enable=()=>{il===null&&(il=[])},s.error=(...o)=>i("error",n,o),s.warn=(...o)=>i("warn",n,o),s.debug=(...o)=>i("debug",n,o),s}const ni=gD("VIDEOJS"),Sre=ni.createLogger,zze=Object.prototype.toString,Tre=function(t){return Pd(t)?Object.keys(t):[]};function nv(t,e){Tre(t).forEach(r=>e(t[r],r))}function Cre(t,e,r=0){return Tre(t).reduce((n,i)=>e(n,t[i],i),r)}function Pd(t){return!!t&&typeof t=="object"}function Gv(t){return Pd(t)&&zze.call(t)==="[object Object]"&&t.constructor===Object}function Hi(...t){const e={};return t.forEach(r=>{r&&nv(r,(n,i)=>{if(!Gv(n)){e[i]=n;return}Gv(e[i])||(e[i]={}),e[i]=Hi(e[i],n)})}),e}function Ere(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];e.push(n)}return e}function GE(t,e,r,n=!0){const i=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const o=r();return i(o),o}};return n&&(s.set=i),Object.defineProperty(t,e,s)}var Hze=Object.freeze({__proto__:null,each:nv,reduce:Cre,isObject:Pd,isPlain:Gv,merge:Hi,values:Ere,defineLazyProperty:GE});let j6=!1,Are=null,kd=!1,Pre,kre=!1,iv=!1,sv=!1,Id=!1,G6=null,WE=null;const jze=!!(Ke.cast&&Ke.cast.framework&&Ke.cast.framework.CastReceiverContext);let Ire=null,WT=!1,qE=!1,qT=!1,XE=!1,XT=!1,YT=!1,KT=!1;const Nb=!!(Uy()&&("ontouchstart"in Ke||Ke.navigator.maxTouchPoints||Ke.DocumentTouch&&Ke.document instanceof Ke.DocumentTouch)),Sh=Ke.navigator&&Ke.navigator.userAgentData;Sh&&Sh.platform&&Sh.brands&&(kd=Sh.platform==="Android",iv=!!Sh.brands.find(t=>t.brand==="Microsoft Edge"),sv=!!Sh.brands.find(t=>t.brand==="Chromium"),Id=!iv&&sv,G6=WE=(Sh.brands.find(t=>t.brand==="Chromium")||{}).version||null,qE=Sh.platform==="Windows");if(!sv){const t=Ke.navigator&&Ke.navigator.userAgent||"";j6=/iPod/i.test(t),Are=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),kd=/Android/i.test(t),Pre=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return r&&n?parseFloat(e[1]+"."+e[2]):r||null}(),kre=/Firefox/i.test(t),iv=/Edg/i.test(t),sv=/Chrome/i.test(t)||/CriOS/i.test(t),Id=!iv&&sv,G6=WE=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Ire=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),XT=/Tizen/i.test(t),YT=/Web0S/i.test(t),KT=XT||YT,WT=/Safari/i.test(t)&&!Id&&!kd&&!iv&&!KT,qE=/Windows/i.test(t),qT=/iPad/i.test(t)||WT&&Nb&&!/iPhone/i.test(t),XE=/iPhone/i.test(t)&&!qT}const Va=XE||qT||j6,YE=(WT||Va)&&!Id;var Dre=Object.freeze({__proto__:null,get IS_IPOD(){return j6},get IOS_VERSION(){return Are},get IS_ANDROID(){return kd},get ANDROID_VERSION(){return Pre},get IS_FIREFOX(){return kre},get IS_EDGE(){return iv},get IS_CHROMIUM(){return sv},get IS_CHROME(){return Id},get CHROMIUM_VERSION(){return G6},get CHROME_VERSION(){return WE},IS_CHROMECAST_RECEIVER:jze,get IE_VERSION(){return Ire},get IS_SAFARI(){return WT},get IS_WINDOWS(){return qE},get IS_IPAD(){return qT},get IS_IPHONE(){return XE},get IS_TIZEN(){return XT},get IS_WEBOS(){return YT},get IS_SMART_TV(){return KT},TOUCH_ENABLED:Nb,IS_IOS:Va,IS_ANY_SAFARI:YE});function bV(t){return typeof t=="string"&&!!t.trim()}function Gze(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Uy(){return gr===Ke.document}function Vy(t){return Pd(t)&&t.nodeType===1}function Rre(){try{return Ke.parent!==Ke.self}catch{return!0}}function Mre(t){return function(e,r){if(!bV(e))return gr[t](null);bV(r)&&(r=gr.querySelector(r));const n=Vy(r)?r:gr;return n[t]&&n[t](e)}}function An(t="div",e={},r={},n){const i=gr.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const o=e[s];s==="textContent"?Op(i,o):(i[s]!==o||s==="tabIndex")&&(i[s]=o)}),Object.getOwnPropertyNames(r).forEach(function(s){i.setAttribute(s,r[s])}),n&&W6(i,n),i}function Op(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function vD(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function I2(t,e){return Gze(e),t.classList.contains(e)}function rm(t,...e){return t.classList.add(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t}function KE(t,...e){return t?(t.classList.remove(...e.reduce((r,n)=>r.concat(n.split(/\s+/)),[])),t):(ni.warn("removeClass was called with an element that doesn't exist"),null)}function Ore(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,r)),t}function $re(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const n=e[r];n===null||typeof n>"u"||n===!1?t.removeAttribute(r):t.setAttribute(r,n===!0?"":n)})}function Uh(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let i=n.length-1;i>=0;i--){const s=n[i].name;let o=n[i].value;r.includes(s)&&(o=o!==null),e[s]=o}}return e}function Lre(t,e){return t.getAttribute(e)}function Wv(t,e,r){t.setAttribute(e,r)}function ZE(t,e){t.removeAttribute(e)}function Fre(){gr.body.focus(),gr.onselectstart=function(){return!1}}function Nre(){gr.onselectstart=function(){return!0}}function qv(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(Xv(t,"height"))),r.width||(r.width=parseFloat(Xv(t,"width"))),r}}function Bb(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let n=0,i=0;for(;t.offsetParent&&t!==gr[GT.fullscreenElement];)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:n,top:i,width:e,height:r}}function QE(t,e){const r={x:0,y:0};if(Va){let d=t;for(;d&&d.nodeName.toLowerCase()!=="html";){const f=Xv(d,"transform");if(/^matrix/.test(f)){const h=f.slice(7,-1).split(/,\s/).map(Number);r.x+=h[4],r.y+=h[5]}else if(/^matrix3d/.test(f)){const h=f.slice(9,-1).split(/,\s/).map(Number);r.x+=h[12],r.y+=h[13]}if(d.assignedSlot&&d.assignedSlot.parentElement&&Ke.WebKitCSSMatrix){const h=Ke.getComputedStyle(d.assignedSlot.parentElement).transform,g=new Ke.WebKitCSSMatrix(h);r.x+=g.m41,r.y+=g.m42}d=d.parentNode||d.host}}const n={},i=Bb(e.target),s=Bb(t),o=s.width,a=s.height;let l=e.offsetY-(s.top-i.top),u=e.offsetX-(s.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Va&&(u-=r.x,l-=r.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function Bre(t){return Pd(t)&&t.nodeType===3}function JE(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Ure(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Vy(e)||Bre(e))return e;if(typeof e=="string"&&/\S/.test(e))return gr.createTextNode(e)}).filter(e=>e)}function W6(t,e){return Ure(e).forEach(r=>t.appendChild(r)),t}function Vre(t,e){return W6(JE(t),e)}function Ub(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const xp=Mre("querySelector"),zre=Mre("querySelectorAll");function Xv(t,e){if(!t||!e)return"";if(typeof Ke.getComputedStyle=="function"){let r;try{r=Ke.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function Hre(t){[...gr.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(i=>i.cssText).join(""),n=gr.createElement("style");n.textContent=r,t.document.head.appendChild(n)}catch{const n=gr.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var jre=Object.freeze({__proto__:null,isReal:Uy,isEl:Vy,isInFrame:Rre,createEl:An,textContent:Op,prependTo:vD,hasClass:I2,addClass:rm,removeClass:KE,toggleClass:Ore,setAttributes:$re,getAttributes:Uh,getAttribute:Lre,setAttribute:Wv,removeAttribute:ZE,blockTextSelection:Fre,unblockTextSelection:Nre,getBoundingClientRect:qv,findPosition:Bb,getPointerPosition:QE,isTextNode:Bre,emptyEl:JE,normalizeContent:Ure,appendContent:W6,insertContent:Vre,isSingleLeftClick:Ub,$:xp,$$:zre,computedStyle:Xv,copyStyleSheetsToWindow:Hre});let Gre=!1,yD;const Wze=function(){if(yD.options.autoSetup===!1)return;const t=Array.prototype.slice.call(gr.getElementsByTagName("video")),e=Array.prototype.slice.call(gr.getElementsByTagName("audio")),r=Array.prototype.slice.call(gr.getElementsByTagName("video-js")),n=t.concat(e,r);if(n&&n.length>0)for(let i=0,s=n.length;i<s;i++){const o=n[i];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&yD(o);else{_D(1);break}}else Gre||_D(1)};function _D(t,e){Uy()&&(e&&(yD=e),Ke.setTimeout(Wze,t))}function bD(){Gre=!0,Ke.removeEventListener("load",bD)}Uy()&&(gr.readyState==="complete"?bD():Ke.addEventListener("load",bD));const Wre=function(t){const e=gr.createElement("style");return e.className=t,e},qre=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Fa=new WeakMap;const qze=3;let Xze=qze;function Nu(){return Xze++}function xV(t,e){if(!Fa.has(t))return;const r=Fa.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&Fa.delete(t)}function q6(t,e,r,n){r.forEach(function(i){t(e,i,n)})}function eA(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||Ke.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in n)i.includes(s)||s==="returnValue"&&n.preventDefault||(t[s]=n[s]);if(t.target||(t.target=t.srcElement||gr),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const s=gr.documentElement,o=gr.body;t.pageX=t.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Hx;const Yze=function(){if(typeof Hx!="boolean"){Hx=!1;try{const t=Object.defineProperty({},"passive",{get(){Hx=!0}});Ke.addEventListener("test",null,t),Ke.removeEventListener("test",null,t)}catch{}}return Hx},Kze=["touchstart","touchmove"];function Xl(t,e,r){if(Array.isArray(e))return q6(Xl,t,e,r);Fa.has(t)||Fa.set(t,{});const n=Fa.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=Nu()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,s){if(n.disabled)return;i=eA(i);const o=n.handlers[i.type];if(o){const a=o.slice(0);for(let l=0,u=a.length;l<u&&!i.isImmediatePropagationStopped();l++)try{a[l].call(t,i,s)}catch(d){ni.error(d)}}}),n.handlers[e].length===1)if(t.addEventListener){let i=!1;Yze()&&Kze.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function ha(t,e,r){if(!Fa.has(t))return;const n=Fa.get(t);if(!n.handlers)return;if(Array.isArray(e))return q6(ha,t,e,r);const i=function(o,a){n.handlers[a]=[],xV(o,a)};if(e===void 0){for(const o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&i(t,o);return}const s=n.handlers[e];if(s){if(!r){i(t,e);return}if(r.guid)for(let o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);xV(t,e)}}function zy(t,e,r){const n=Fa.has(t)?Fa.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=eA(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&e.bubbles===!0)zy.call(null,i,e,r);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){Fa.has(e.target)||Fa.set(e.target,{});const s=Fa.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function tA(t,e,r){if(Array.isArray(e))return q6(tA,t,e,r);const n=function(){ha(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Nu(),Xl(t,e,n)}function X6(t,e,r){const n=function(){ha(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Nu(),Xl(t,e,n)}var Zze=Object.freeze({__proto__:null,fixEvent:eA,on:Xl,off:ha,trigger:zy,one:tA,any:X6});const Bu=30,ts=function(t,e,r){e.guid||(e.guid=Nu());const n=e.bind(t);return n.guid=r?r+"_"+e.guid:e.guid,n},Dd=function(t,e){let r=Ke.performance.now();return function(...i){const s=Ke.performance.now();s-r>=e&&(t(...i),r=s)}},Xre=function(t,e,r,n=Ke){let i;const s=()=>{n.clearTimeout(i),i=null},o=function(){const a=this,l=arguments;let u=function(){i=null,u=null,r||t.apply(a,l)};!i&&r&&t.apply(a,l),n.clearTimeout(i),i=n.setTimeout(u,e)};return o.cancel=s,o};var Qze=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Bu,bind_:ts,throttle:Dd,debounce:Xre});let y_;class Yl{on(e,r){const n=this.addEventListener;this.addEventListener=()=>{},Xl(this,e,r),this.addEventListener=n}off(e,r){ha(this,e,r)}one(e,r){const n=this.addEventListener;this.addEventListener=()=>{},tA(this,e,r),this.addEventListener=n}any(e,r){const n=this.addEventListener;this.addEventListener=()=>{},X6(this,e,r),this.addEventListener=n}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=eA(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),zy(this,e)}queueTrigger(e){y_||(y_=new Map);const r=e.type||e;let n=y_.get(this);n||(n=new Map,y_.set(this,n));const i=n.get(r);n.delete(r),Ke.clearTimeout(i);const s=Ke.setTimeout(()=>{n.delete(r),n.size===0&&(n=null,y_.delete(this)),this.trigger(e)},0);n.set(r,s)}}Yl.prototype.allowedEvents_={};Yl.prototype.addEventListener=Yl.prototype.on;Yl.prototype.removeEventListener=Yl.prototype.off;Yl.prototype.dispatchEvent=Yl.prototype.trigger;const rA=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Rf=t=>t instanceof Yl||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),Jze=(t,e)=>{Rf(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},xD=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,ZT=(t,e,r)=>{if(!t||!t.nodeName&&!Rf(t))throw new Error(`Invalid target for ${rA(e)}#${r}; must be a DOM node or evented object.`)},Yre=(t,e,r)=>{if(!xD(t))throw new Error(`Invalid event type for ${rA(e)}#${r}; must be a non-empty string or array.`)},Kre=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${rA(e)}#${r}; must be a function.`)},jP=(t,e,r)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,o;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,o]=e):(i=e[0],s=e[1],o=e[2]),ZT(i,t,r),Yre(s,t,r),Kre(o,t,r),o=ts(t,o),{isTargetingSelf:n,target:i,type:s,listener:o}},i0=(t,e,r,n)=>{ZT(t,t,e),t.nodeName?Zze[e](t,r,n):t[e](r,n)},eHe={on(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=jP(this,t,"on");if(i0(r,"on",n,i),!e){const s=()=>this.off(r,n,i);s.guid=i.guid;const o=()=>this.off("dispose",s);o.guid=i.guid,i0(this,"on","dispose",s),i0(r,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=jP(this,t,"one");if(e)i0(r,"one",n,i);else{const s=(...o)=>{this.off(r,n,s),i.apply(null,o)};s.guid=i.guid,i0(r,"one",n,s)}},any(...t){const{isTargetingSelf:e,target:r,type:n,listener:i}=jP(this,t,"any");if(e)i0(r,"any",n,i);else{const s=(...o)=>{this.off(r,n,s),i.apply(null,o)};s.guid=i.guid,i0(r,"any",n,s)}},off(t,e,r){if(!t||xD(t))ha(this.eventBusEl_,t,e);else{const n=t,i=e;ZT(n,this,"off"),Yre(i,this,"off"),Kre(r,this,"off"),r=ts(this,r),this.off("dispose",r),n.nodeName?(ha(n,i,r),ha(n,"dispose",r)):Rf(n)&&(n.off(i,r),n.off("dispose",r))}},trigger(t,e){ZT(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!xD(r))throw new Error(`Invalid event type for ${rA(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return zy(this.eventBusEl_,t,e)}};function Y6(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=An("span",{className:"vjs-event-bus"});return Object.assign(t,eHe),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&Fa.has(n)&&Fa.delete(n)}),Ke.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const tHe={state:{},setState(t){typeof t=="function"&&(t=t());let e;return nv(t,(r,n)=>{this.state[n]!==r&&(e=e||{},e[n]={from:this.state[n],to:r}),this.state[n]=r}),e&&Rf(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Zre(t,e){return Object.assign(t,tHe),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Rf(t)&&t.on("statechanged",t.handleStateChanged),t}const D2=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},$s=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Qre=function(t,e){return $s(t)===$s(e)};var rHe=Object.freeze({__proto__:null,toLowerCase:D2,toTitleCase:$s,titleCaseEquals:Qre});class qt{constructor(e,r,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Hi({},this.options_),r=this.options_=Hi(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${Nu()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),r.evented!==!1&&(Y6(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Zre(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Hi(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,n){return An(e,r,n)}localize(e,r,n=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),o=s&&s[i],a=i&&i.split("-")[0],l=s&&s[a];let u=n;return o&&o[e]?u=o[e]:l&&l[e]&&(u=l[e]),r&&(u=u.replace(/\{(\d+)\}/g,function(d,f){const h=r[f-1];let g=h;return typeof h>"u"&&(g=d),g})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let r=this;for(let n=0;n<e.length;n++)if(r=r.getChild(e[n]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=An("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=gr.createElementNS(n,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const o=gr.createElementNS(n,"use");return s.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?r.replaceChild(i,r.querySelector(".vjs-icon-placeholder")):r.appendChild(i),this.iconIsSet_=!0,i}addChild(e,r={},n=this.children_.length){let i,s;if(typeof e=="string"){s=$s(e);const o=r.componentClass||s;r.name=s;const a=qt.getComponent(o);if(!a)throw new Error(`Component ${o} does not exist`);if(typeof a!="function")return null;i=new a(this.player_||this,r)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&$s(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[D2(s)]=i),typeof i.el=="function"&&i.el()){let o=null;this.children_[n+1]&&(this.children_[n+1].el_?o=this.children_[n+1].el_:Vy(this.children_[n+1])&&(o=this.children_[n+1])),this.contentEl().insertBefore(i.el(),o)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){r=!0,this.children_.splice(i,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[$s(e.name())]=null,this.childNameIndex_[D2(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,n=o=>{const a=o.name;let l=o.opts;if(r[a]!==void 0&&(l=r[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(a,l);u&&(this[a]=u)};let i;const s=qt.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(o){return!i.some(function(a){return typeof a=="string"?o===a:o===a.name})})).map(o=>{let a,l;return typeof o=="string"?(a=o,l=e[a]||this.options_[a]||{}):(a=o.name,l=o),{name:a,opts:l}}).filter(o=>{const a=qt.getComponent(o.opts.componentClass||$s(o.name));return a&&!s.isTech(a)}).forEach(n)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return xp(e,r||this.contentEl())}$$(e,r){return zre(e,r||this.contentEl())}hasClass(e){return I2(this.el_,e)}addClass(...e){rm(this.el_,...e)}removeClass(...e){KE(this.el_,...e)}toggleClass(e,r){Ore(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return Lre(this.el_,e)}setAttribute(e,r){Wv(this.el_,e,r)}removeAttribute(e){ZE(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,n){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+$s(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Xv(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const n=`offset${$s(e)}`;r=this.el_[n]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},n={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:r,center:n}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const n=10,i=200;let s;this.on("touchstart",function(a){a.touches.length===1&&(r={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},e=Ke.performance.now(),s=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)s=!1;else if(r){const l=a.touches[0].pageX-r.pageX,u=a.touches[0].pageY-r.pageY;Math.sqrt(l*l+u*u)>n&&(s=!1)}});const o=function(){s=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(a){r=null,s===!0&&Ke.performance.now()-e<i&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=ts(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,r){var n;return e=ts(this,e),this.clearTimersOnDispose_(),n=Ke.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},r),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Ke.clearTimeout(e)),e}setInterval(e,r){e=ts(this,e),this.clearTimersOnDispose_();const n=Ke.setInterval(e,r);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),Ke.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=ts(this,e),r=Ke.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),r=ts(this,r);const n=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),Ke.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((n,i)=>this[r](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function r(s){const o=Ke.getComputedStyle(s,null),a=o.getPropertyValue("visibility");return o.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(a)}function n(s){return!(!r(s.parentElement)||!r(s)||s.style.opacity==="0"||Ke.getComputedStyle(s).height==="0px"||Ke.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const o={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(o.x<0||o.x>(gr.documentElement.clientWidth||Ke.innerWidth)||o.y<0||o.y>(gr.documentElement.clientHeight||Ke.innerHeight))return!1;let a=gr.elementFromPoint(o.x,o.y);for(;a;){if(a===s)return!0;if(a.parentNode)a=a.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&n(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=qt.getComponent("Tech"),i=n&&n.isTech(r),s=qt===r||qt.prototype.isPrototypeOf(r.prototype);if(i||!s){let a;throw i?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${e}"; ${a}.`)}e=$s(e),qt.components_||(qt.components_={});const o=qt.getComponent("Player");if(e==="Player"&&o&&o.players){const a=o.players,l=Object.keys(a);if(a&&l.length>0&&l.map(u=>a[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return qt.components_[e]=r,qt.components_[D2(e)]=r,r}static getComponent(e){if(!(!e||!qt.components_))return qt.components_[e]}}qt.registerComponent("Component",qt);function nHe(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function wV(t,e,r,n){return nHe(t,n,r.length-1),r[n][e]}function GP(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:wV.bind(null,"start",0,t),end:wV.bind(null,"end",1,t)},Ke.Symbol&&Ke.Symbol.iterator&&(e[Ke.Symbol.iterator]=()=>(t||[]).values()),e}function gc(t,e){return Array.isArray(t)?GP(t):t===void 0||e===void 0?GP():GP([[t,e]])}const Jre=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||o>0?i+":":"",n=((i||s>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r};let K6=Jre;function ene(t){K6=t}function tne(){K6=Jre}function Pm(t,e=t){return K6(t,e)}var iHe=Object.freeze({__proto__:null,createTimeRanges:gc,createTimeRange:gc,setFormatTime:ene,resetFormatTime:tne,formatTime:Pm});function rne(t,e){let r=0,n,i;if(!e)return 0;(!t||!t.length)&&(t=gc(0,0));for(let s=0;s<t.length;s++)n=t.start(s),i=t.end(s),i>e&&(i=e),r+=i-n;return r/e}function ks(t){if(t instanceof ks)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Pd(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=ks.defaultMessages[this.code]||"")}ks.prototype.code=0;ks.prototype.message="";ks.prototype.status=null;ks.prototype.metadata=null;ks.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];ks.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};ks.MEDIA_ERR_CUSTOM=0;ks.prototype.MEDIA_ERR_CUSTOM=0;ks.MEDIA_ERR_ABORTED=1;ks.prototype.MEDIA_ERR_ABORTED=1;ks.MEDIA_ERR_NETWORK=2;ks.prototype.MEDIA_ERR_NETWORK=2;ks.MEDIA_ERR_DECODE=3;ks.prototype.MEDIA_ERR_DECODE=3;ks.MEDIA_ERR_SRC_NOT_SUPPORTED=4;ks.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;ks.MEDIA_ERR_ENCRYPTED=5;ks.prototype.MEDIA_ERR_ENCRYPTED=5;function R2(t){return t!=null&&typeof t.then=="function"}function dd(t){R2(t)&&t.then(null,e=>{})}const wD=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,n,i)=>(t[n]&&(r[n]=t[n]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})},sHe=function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=wD(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return r.indexOf(i)===-1}).map(wD))},oHe=function(t,e){return t.forEach(function(r){const n=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(i=>n.addCue(i))}),e.textTracks()};var SV={textTracksToJson:sHe,jsonToTextTracks:oHe,trackToJson_:wD};const WP="vjs-modal-dialog";class Hy extends qt{constructor(e,r){super(e,r),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=An("div",{className:`${WP}-content`},{role:"document"}),this.descEl_=An("p",{className:`${WP}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Op(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${WP} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let n=this.getChild("closeButton");if(r&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!r&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),n=r.parentNode,i=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(r),this.empty(),Vre(r,e),this.trigger("modalfill"),i?n.insertBefore(r,i):n.appendChild(r);const s=this.getChild("closeButton");s&&n.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),JE(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=gr.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const r=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let s=0;s<r.length;s++)if(n===r[s]){i=s;break}gr.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof Ke.HTMLAnchorElement||r instanceof Ke.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof Ke.HTMLInputElement||r instanceof Ke.HTMLSelectElement||r instanceof Ke.HTMLTextAreaElement||r instanceof Ke.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof Ke.HTMLIFrameElement||r instanceof Ke.HTMLObjectElement||r instanceof Ke.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}Hy.prototype.options_={pauseOnOpen:!0,temporary:!0};qt.registerComponent("ModalDialog",Hy);class Yv extends Yl{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Rf(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this[n],r.off&&r.off(),this.tracks_.splice(n,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}Yv.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Yv.prototype.allowedEvents_)Yv.prototype["on"+t]=null;const qP=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class aHe extends Yv{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){qP(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&qP(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,qP(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const XP=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class lHe extends Yv{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){XP(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&XP(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,XP(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class nne extends Yv{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class uHe{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,n=e.length;r<n;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){r=this.trackElements_[n];break}return r}removeTrackElement_(e){for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class QT{constructor(e){QT.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(r<i)for(n=r;n<i;n++)s.call(this,n)}getCueById(e){let r=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){r=s;break}}return r}}const cHe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},dHe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},fHe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},TV={disabled:"disabled",hidden:"hidden",showing:"showing"};class Z6 extends Yl{constructor(e={}){super();const r={id:e.id||"vjs_track_"+Nu(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in r)Object.defineProperty(this,i,{get(){return r[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}}const Q6=function(t){return new URL(t,gr.baseURI)},ine=function(t){return new URL(t,gr.baseURI).href},J6=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},nA=function(t,e=Ke.location){return Q6(t).origin!==e.origin};var hHe=Object.freeze({__proto__:null,parseUrl:Q6,getAbsoluteURL:ine,getFileExtension:J6,isCrossOrigin:nA});const CV=function(t,e){const r=new Ke.WebVTT.Parser(Ke,Ke.vttjs,Ke.WebVTT.StringDecoder()),n=[];r.oncue=function(i){e.addCue(i)},r.onparsingerror=function(i){n.push(i)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(Ke.console&&Ke.console.groupCollapsed&&Ke.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>ni.error(i)),Ke.console&&Ke.console.groupEnd&&Ke.console.groupEnd()),r.flush()},EV=function(t,e){const r={uri:t},n=nA(t);n&&(r.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(r.withCredentials=i),Ete(r,ts(this,function(s,o,a){if(s)return ni.error(s,o);e.loaded_=!0,typeof Ke.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){ni.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return CV(a,e)}):CV(a,e)}))};class U1 extends Z6{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Hi(e,{kind:fHe[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=TV[r.mode]||"disabled";const i=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(n="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new QT(this.cues_),o=new QT(this.activeCues_);let a=!1;this.timeupdateHandler=ts(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(u){TV[u]&&n!==u&&(n=u,!this.preload_&&n!=="disabled"&&this.cues.length===0&&EV(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const u=this.tech_.currentTime(),d=[];for(let f=0,h=this.cues.length;f<h;f++){const g=this.cues[f];g.startTime<=u&&g.endTime>=u&&d.push(g)}if(a=!1,d.length!==this.activeCues_.length)a=!0;else for(let f=0;f<d.length;f++)this.activeCues_.indexOf(d[f])===-1&&(a=!0);return this.activeCues_=d,o.setCues_(this.activeCues_),o},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&EV(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new Ke.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in r||(r[i]=e[i]);r.id=e.id,r.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const n=this.cues_[r];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}U1.prototype.allowedEvents_={cuechange:"cuechange"};class sne extends Z6{constructor(e={}){const r=Hi(e,{kind:dHe[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class one extends Z6{constructor(e={}){const r=Hi(e,{kind:cHe[e.kind]||""});super(r);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class zf extends Yl{constructor(e={}){super();let r;const n=new U1(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return n}}}),r=zf.NONE,n.addEventListener("loadeddata",()=>{r=zf.LOADED,this.trigger({type:"load",target:this})})}}zf.prototype.allowedEvents_={load:"load"};zf.NONE=0;zf.LOADING=1;zf.LOADED=2;zf.ERROR=3;const ku={audio:{ListClass:aHe,TrackClass:sne,capitalName:"Audio"},video:{ListClass:lHe,TrackClass:one,capitalName:"Video"},text:{ListClass:nne,TrackClass:U1,capitalName:"Text"}};Object.keys(ku).forEach(function(t){ku[t].getterName=`${t}Tracks`,ku[t].privateName=`${t}Tracks_`});const Kv={remoteText:{ListClass:nne,TrackClass:U1,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:uHe,TrackClass:zf,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Oa=Object.assign({},ku,Kv);Kv.names=Object.keys(Kv);ku.names=Object.keys(ku);Oa.names=[].concat(Kv.names).concat(ku.names);function pHe(t,e,r,n,i={}){const s=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;const o=new Oa.text.TrackClass(i);return s.addTrack(o),o}class $n extends qt{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Oa.names.forEach(n=>{const i=Oa[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Oa.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ts(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return gc(0,0)}bufferedPercent(){return rne(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(ku.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const n=this[`${r}Tracks`]()||[];let i=n.length;for(;i--;){const s=n[i];r==="text"&&this.removeRemoteTextTrack(s),n.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const n=e[r];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new ks(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?gc(0,0):gc()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){ku.names.forEach(e=>{const r=ku[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!Ke.WebVTT)if(gr.body.contains(this.el())){if(!this.options_["vtt.js"]&&Gv(z7)&&Object.keys(z7).length>0){this.trigger("vttjsloaded");return}const e=gr.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),Ke.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),n=a=>e.addTrack(a.track),i=a=>e.removeTrack(a.track);r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),o=()=>{s();for(let a=0;a<e.length;a++){const l=e[a];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let a=0;a<e.length;a++)e[a].removeEventListener("cuechange",s)})}addTextTrack(e,r,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return pHe(this,e,r,n)}createRemoteTextTrack(e){const r=Hi(e,{tech:this});return new Kv.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const n=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=Nu();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return $n.canPlayType(e.type)}static isTech(e){return e.prototype instanceof $n||e instanceof $n||e===$n}static registerTech(e,r){if($n.techs_||($n.techs_={}),!$n.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!$n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!$n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=$s(e),$n.techs_[e]=r,$n.techs_[D2(e)]=r,e!=="Tech"&&$n.defaultTechOrder_.push(e),r}static getTech(e){if(e){if($n.techs_&&$n.techs_[e])return $n.techs_[e];if(e=$s(e),Ke&&Ke.videojs&&Ke.videojs[e])return ni.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),Ke.videojs[e]}}}Oa.names.forEach(function(t){const e=Oa[t];$n.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});$n.prototype.featuresVolumeControl=!0;$n.prototype.featuresMuteControl=!0;$n.prototype.featuresFullscreenResize=!1;$n.prototype.featuresPlaybackRate=!1;$n.prototype.featuresProgressEvents=!1;$n.prototype.featuresSourceset=!1;$n.prototype.featuresTimeupdateEvents=!1;$n.prototype.featuresNativeTextTracks=!1;$n.prototype.featuresVideoFrameCallback=!1;$n.withSourceHandlers=function(t){t.registerSourceHandler=function(r,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,r)},t.canPlayType=function(r){const n=t.sourceHandlers||[];let i;for(let s=0;s<n.length;s++)if(i=n[s].canPlayType(r),i)return i;return""},t.selectSourceHandler=function(r,n){const i=t.sourceHandlers||[];let s;for(let o=0;o<i.length;o++)if(s=i[o].canHandleSource(r,n),s)return i[o];return null},t.canPlaySource=function(r,n){const i=t.selectSourceHandler(r,n);return i?i.canHandleSource(r,n):""},["seekable","seeking","duration"].forEach(function(r){const n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let n=t.selectSourceHandler(r,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:ni.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};qt.registerComponent("Tech",$n);$n.registerTech("Tech",$n);$n.defaultTechOrder_=[];const nm={},JT={},eC={};function mHe(t,e){nm[t]=nm[t]||[],nm[t].push(e)}function gHe(t,e,r){t.setTimeout(()=>b0(e,nm[e.type],r,t),1)}function vHe(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function yHe(t,e,r){return t.reduceRight(e$(r),e[r]())}function _He(t,e,r,n){return e[r](t.reduce(e$(r),n))}function AV(t,e,r,n=null){const i="call"+$s(r),s=t.reduce(e$(i),n),o=s===eC,a=o?null:e[r](s);return wHe(t,r,a,o),a}const bHe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},xHe={setCurrentTime:1,setMuted:1,setVolume:1},PV={play:1,pause:1};function e$(t){return(e,r)=>e===eC?eC:r[t]?r[t](e):e}function wHe(t,e,r,n){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](n,r)}}function SHe(t){JT.hasOwnProperty(t.id())&&delete JT[t.id()]}function THe(t,e){const r=JT[t.id()];let n=null;if(r==null)return n=e(t),JT[t.id()]=[[e,n]],n;for(let i=0;i<r.length;i++){const[s,o]=r[i];s===e&&(n=o)}return n===null&&(n=e(t),r.push([e,n])),n}function b0(t={},e=[],r,n,i=[],s=!1){const[o,...a]=e;if(typeof o=="string")b0(t,nm[o],r,n,i,s);else if(o){const l=THe(n,o);if(!l.setSource)return i.push(l),b0(t,a,r,n,i,s);l.setSource(Object.assign({},t),function(u,d){if(u)return b0(t,a,r,n,i,s);i.push(l),b0(d,t.type===d.type?a:nm[d.type],r,n,i,s)})}else a.length?b0(t,a,r,n,i,s):s?r(t,i):b0(t,nm["*"],r,n,i,!0)}const CHe={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},tC=function(t=""){const e=J6(t);return CHe[e.toLowerCase()]||""},EHe=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(i=>i.src===e);if(r.length)return r[0].type;const n=t.$$("source");for(let i=0;i<n.length;i++){const s=n[i];if(s.type&&s.src&&s.src===e)return s.type}return tC(e)},ane=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=ane(r),Array.isArray(r)?e=e.concat(r):Pd(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[kV({src:t})]:Pd(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[kV(t)]:t=[];return t};function kV(t){if(!t.type){const e=tC(t.src);e&&(t.type=e)}return t}var AHe=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const IV=XT?10009:YT?461:8,vg={codes:{play:415,pause:19,ff:417,rw:412,back:IV},names:{415:"play",19:"pause",417:"ff",412:"rw",[IV]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},DV=5;class PHe extends Yl{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const r=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r.key)){if(this.isPaused_)return;r.preventDefault();const n=r.key.substring(5).toLowerCase();this.move(n)}else if(vg.isEventKey(r,"play")||vg.isEventKey(r,"pause")||vg.isEventKey(r,"ff")||vg.isEventKey(r,"rw")){r.preventDefault();const n=vg.getEventName(r);this.performMediaAction_(n)}else vg.isEventKey(r,"Back")&&e.target&&e.target.closeable()&&(r.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+DV);break;case"rw":this.userSeek_(this.player_.currentTime()-DV);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const r=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);r&&(n=!!r.closest(".video-js"),r.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!n||!r)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,r=[];function n(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&r.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&n(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){r.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?n(i.children_):i.hasOwnProperty("items")&&i.items.length>0?n(i.items):this.findSuitableDOMChild(i)&&r.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((a,l)=>{r.push({name:()=>"ModalButton"+(l+1),el:()=>a,getPositions:()=>{const u=a.getBoundingClientRect(),d={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},f={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:d,center:f}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=r,this.focusableComponents}findSuitableDOMChild(e){function r(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let i=0;i<n.children.length;i++){const s=n.children[i],o=r(s);if(o)return o}return null}return e.el()?r(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const r=e||document.activeElement;if(this.focusableComponents.length){for(const n of this.focusableComponents)if(n.el()===r)return n}}add(e){const r=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&r.push(e),this.focusableComponents=r,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let r=0;r<this.focusableComponents.length;r++)if(this.focusableComponents[r].name()===e.name()){this.focusableComponents.splice(r,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const r=this.getCurrentComponent();if(!r)return;const n=r.getPositions(),i=this.focusableComponents.filter(o=>o!==r&&this.isInDirection_(n.boundingClientRect,o.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(n.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:r})}findBestCandidate_(e,r,n){let i=1/0,s=null;for(const o of r){const a=o.getPositions().center,l=this.calculateDistance_(e,a,n);l<i&&(i=l,s=o)}return s}isInDirection_(e,r,n){switch(n){case"right":return r.left>=e.right;case"left":return r.right<=e.left;case"down":return r.top>=e.bottom;case"up":return r.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,r,n){const i=Math.abs(e.x-r.x),s=Math.abs(e.y-r.y);let o;switch(n){case"right":case"left":o=i+s*100;break;case"up":o=s*2+i*.5;break;case"down":o=s*5+i;break;default:o=i+s}return o}searchForTrackSelect_(){const e=this;for(const r of e.updateFocusableComponents())if(r.constructor.name==="TextTrackSelect"){e.focus(r);break}}}class kHe extends qt{constructor(e,r,n){const i=Hi({createEl:!1},r);if(super(e,i,n),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let s=0,o=r.playerOptions.techOrder;s<o.length;s++){const a=$s(o[s]);let l=$n.getTech(a);if(a||(l=qt.getComponent(a)),l&&l.isSupported()){e.loadTech_(a);break}}else e.src(r.playerOptions.sources)}}qt.registerComponent("MediaLoader",kHe);class iA extends qt{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",r={},n={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&ni.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=r.tabIndex;const i=An(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(An("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=An("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,Op(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}qt.registerComponent("ClickableComponent",iA);class SD extends iA{constructor(e,r){super(e,r),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return An("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(An("picture",{className:"vjs-poster",tabIndex:-1},{},An("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?dd(this.player_.play()):this.player_.pause())}}SD.prototype.crossorigin=SD.prototype.crossOrigin;qt.registerComponent("PosterImage",SD);const nu="#222",RV="#ccc",IHe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function YP(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Gc(t,e,r){try{t.style[e]=r}catch{return}}function MV(t){return t?`${t}px`:""}class DHe extends qt{constructor(e,r,n){super(e,r,n);const i=o=>this.updateDisplay(o),s=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",i),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(ts(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const o=Ke.screen.orientation||Ke,a=Ke.screen.orientation?"change":"orientationchange";o.addEventListener(a,s),e.on("dispose",()=>o.removeEventListener(a,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,s,o;for(let a=0;a<r.length;a++){const l=r[a];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?o=l:o||(o=l):n&&!n.enabled?(o=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}o?o.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof Ke.WebVTT=="function"&&Ke.WebVTT.processCues(Ke,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const o=[];for(let a=0;a<e.length;++a){const l=e[a];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let n=null,i=null,s=e.length;for(;s--;){const o=e[s];o.mode==="showing"&&(o.kind==="descriptions"?n=o:i=o)}if(i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n)),!Ke.CSS.supports("inset","10px")){const o=this.el_,a=o.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;o.style="",Gc(o,"position","relative"),Gc(o,"height",u-l+"px"),Gc(o,"top","unset"),KT?Gc(o,"bottom",u+"px"):Gc(o,"bottom","0px"),a.length>0&&a.forEach(d=>{if(d.style.inset){const f=d.style.inset.split(" ");f.length===3&&Object.assign(d.style,{top:f[0],right:f[1],bottom:f[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!Ke.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),n=e/r,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,o=0;Math.abs(n-i)>.1&&(n>i?s=Math.round((e-r*i)/2):o=Math.round((r-e/i)/2)),Gc(this.el_,"insetInline",MV(s)),Gc(this.el_,"insetBlock",MV(o))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const s=n[i];if(!s)continue;const o=s.displayState;if(r.color&&(o.firstChild.style.color=r.color),r.textOpacity&&Gc(o.firstChild,"color",YP(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(o.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Gc(o.firstChild,"backgroundColor",YP(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Gc(o,"backgroundColor",YP(r.windowColor,r.windowOpacity)):o.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?o.firstChild.style.textShadow=`2px 2px 3px ${nu}, 2px 2px 4px ${nu}, 2px 2px 5px ${nu}`:r.edgeStyle==="raised"?o.firstChild.style.textShadow=`1px 1px ${nu}, 2px 2px ${nu}, 3px 3px ${nu}`:r.edgeStyle==="depressed"?o.firstChild.style.textShadow=`1px 1px ${RV}, 0 1px ${RV}, -1px -1px ${nu}, 0 -1px ${nu}`:r.edgeStyle==="uniform"&&(o.firstChild.style.textShadow=`0 0 4px ${nu}, 0 0 4px ${nu}, 0 0 4px ${nu}, 0 0 4px ${nu}`)),r.fontPercent&&r.fontPercent!==1){const a=Ke.parseFloat(o.style.fontSize);o.style.fontSize=a*r.fontPercent+"px",o.style.height="auto",o.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=IHe[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof Ke.WebVTT!="function"||e.every(n=>!n.activeCues))return;const r=[];for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s)r.push(i.activeCues[s])}Ke.WebVTT.processCues(Ke,r,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s){const o=i.activeCues[s].displayState;rm(o,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&Wv(o,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}qt.registerComponent("TextTrackDisplay",DHe);class RHe extends qt{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=An("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}qt.registerComponent("LoadingSpinner",RHe);class pa extends iA{createEl(e,r={},n={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),n=Object.assign({type:"button"},n);const i=An(e,r,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(An("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,r={}){const n=this.constructor.name;return ni.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),qt.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}qt.registerComponent("Button",pa);class lne extends pa{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){dd(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();R2(r)?r.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}lne.prototype.controlText_="Play Video";qt.registerComponent("BigPlayButton",lne);class MHe extends pa{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}qt.registerComponent("CloseButton",MHe);class une extends pa{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),r.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?dd(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}une.prototype.controlText_="Play";qt.registerComponent("PlayToggle",une);class jy extends qt{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=An("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return r.appendChild(n),this.contentEl_=An("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Pm(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,ni.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=gr.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}jy.prototype.labelText_="Time";jy.prototype.controlText_="Time";qt.registerComponent("TimeDisplay",jy);class t$ extends jy{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}t$.prototype.labelText_="Current Time";t$.prototype.controlText_="Current Time";qt.registerComponent("CurrentTimeDisplay",t$);class r$ extends jy{constructor(e,r){super(e,r);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}r$.prototype.labelText_="Duration";r$.prototype.controlText_="Duration";qt.registerComponent("DurationDisplay",r$);class OHe extends qt{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return r.appendChild(n),e.appendChild(r),e}}qt.registerComponent("TimeDivider",OHe);class n$ extends jy{constructor(e,r){super(e,r),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(An("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}n$.prototype.labelText_="Remaining Time";n$.prototype.controlText_="Remaining Time";qt.registerComponent("RemainingTimeDisplay",n$);class $He extends qt{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=An("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(An("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(gr.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}qt.registerComponent("LiveDisplay",$He);class cne extends pa{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=An("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}cne.prototype.controlText_="Seek to live, currently playing live";qt.registerComponent("SeekToLive",cne);function V1(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var LHe=Object.freeze({__proto__:null,clamp:V1});class i$ extends qt{constructor(e,r){super(e,r),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},n={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,r,n)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Id&&e.preventDefault(),Fre(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;Nre(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(V1(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=QE(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){const r=this.options_.playerOptions.spatialNavigation,n=r&&r.enabled,i=r&&r.horizontalSeek;n?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}qt.registerComponent("Slider",i$);const KP=(t,e)=>V1(t/e*100,0,100).toFixed(2)+"%";class FHe extends qt{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=An("span",{className:"vjs-control-text"}),n=An("span",{textContent:this.localize("Loaded")}),i=gr.createTextNode(": ");return this.percentageEl_=An("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,n=this.player_.buffered(),i=r&&r.isLive()?r.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),o=this.partEls_,a=KP(s,i);this.percent_!==a&&(this.el_.style.width=a,Op(this.percentageEl_,a),this.percent_=a);for(let l=0;l<n.length;l++){const u=n.start(l),d=n.end(l);let f=o[l];f||(f=this.el_.appendChild(An()),o[l]=f),!(f.dataset.start===u&&f.dataset.end===d)&&(f.dataset.start=u,f.dataset.end=d,f.style.left=KP(u,s),f.style.width=KP(d-u,s))}for(let l=o.length;l>n.length;l--)this.el_.removeChild(o[l-1]);o.length=n.length})}}qt.registerComponent("LoadProgressBar",FHe);class NHe extends qt{constructor(e,r){super(e,r),this.update=Dd(ts(this,this.update),Bu)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,n){const i=Bb(this.el_),s=qv(this.player_.el()),o=e.width*r;if(!s||!i)return;let a=e.left-s.left+o,l=e.width-o+(s.right-e.right);l||(l=e.width-o,a=o);let u=i.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(n)}write(e){Op(this.el_,e)}updateTime(e,r,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-r*a;s=(l<1?"":"-")+Pm(l,a)}else s=Pm(n,o);this.update(e,r,s),i&&i()})}}qt.registerComponent("TimeTooltip",NHe);class s$ extends qt{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=Dd(ts(this,this.update),Bu)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,i)}}s$.prototype.options_={children:[]};!Va&&!kd&&s$.prototype.options_.children.push("timeTooltip");qt.registerComponent("PlayProgressBar",s$);class dne extends qt{constructor(e,r){super(e,r),this.update=Dd(ts(this,this.update),Bu)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const n=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,n,()=>{this.el_.style.left=`${e.width*r}px`})}}dne.prototype.options_={children:["timeTooltip"]};qt.registerComponent("MouseTimeDisplay",dne);const jx=5,OV=12;class o$ extends i${constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=ts(this,this.update),this.update=Dd(this.update_,Bu),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in gr&&"visibilityState"in gr&&this.on(gr,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){gr.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Bu))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(gr.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==n||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Pm(n,s),Pm(s,s)],"{1} of {2}")),this.currentTime_=n,this.duration_=s),this.bar&&this.bar.update(qv(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const n=this.player_.liveTracker;return n&&n.isLive()?(r=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){Ub(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!Ub(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){s.seekToLiveEdge();return}const o=s.seekableStart(),a=s.liveCurrentTime();if(n=o+i*s.liveWindow(),n>=a&&(n=a),n<=o&&(n=o+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?dd(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+jx)}stepBack(){this.userSeek_(this.player_.currentTime()-jx)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=parseInt(e.key,10)*.1;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-jx*OV)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+jx*OV)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in gr&&"visibilityState"in gr&&this.off(gr,"visibilitychange",this.toggleVisibility_),super.dispose()}}o$.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Va&&!kd&&o$.prototype.options_.children.splice(1,0,"mouseTimeDisplay");qt.registerComponent("SeekBar",o$);class fne extends qt{constructor(e,r){super(e,r),this.handleMouseMove=Dd(ts(this,this.handleMouseMove),Bu),this.throttledHandleMouseSeek=Dd(ts(this,this.handleMouseSeek),Bu),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const n=r.getChild("playProgressBar"),i=r.getChild("mouseTimeDisplay");if(!n&&!i)return;const s=r.el(),o=Bb(s);let a=QE(s,e).x;a=V1(a,0,1),i&&i.update(o,a),n&&n.update(o,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&dd(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}fne.prototype.options_={children:["seekBar"]};qt.registerComponent("ProgressControl",fne);class hne extends pa{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){gr.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in Ke?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof gr.exitPictureInPicture=="function"&&super.show()}}hne.prototype.controlText_="Picture-in-Picture";qt.registerComponent("PictureInPictureToggle",hne);class pne extends pa{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),gr[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}pne.prototype.controlText_="Fullscreen";qt.registerComponent("FullscreenToggle",pne);const BHe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class UHe extends qt{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}qt.registerComponent("VolumeLevel",UHe);class VHe extends qt{constructor(e,r){super(e,r),this.update=Dd(ts(this,this.update),Bu)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,n,i){if(!n){const s=qv(this.el_),o=qv(this.player_.el()),a=e.width*r;if(!o||!s)return;const l=e.left-o.left+a,u=e.width-a+(o.right-e.right);let d=s.width/2;l<d?d+=d-l:u<d&&(d=u),d<0?d=0:d>s.width&&(d=s.width),this.el_.style.right=`-${d}px`}this.write(`${i}%`)}write(e){Op(this.el_,e)}updateVolume(e,r,n,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,n,i.toFixed(0)),s&&s()})}}qt.registerComponent("VolumeLevelTooltip",VHe);class mne extends qt{constructor(e,r){super(e,r),this.update=Dd(ts(this,this.update),Bu)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,n){const i=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,n,i,()=>{n?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}mne.prototype.options_={children:["volumeLevelTooltip"]};qt.registerComponent("MouseVolumeLevelDisplay",mne);class sA extends i${constructor(e,r){super(e,r),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Ub(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const n=this.el(),i=qv(n),s=this.vertical();let o=QE(n,e);o=s?o.y:o.x,o=V1(o,0,1),r.update(i,o,s)}Ub(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}sA.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Va&&!kd&&sA.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");sA.prototype.playerEvent="volumechange";qt.registerComponent("VolumeBar",sA);class gne extends qt{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Gv(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),BHe(this,e),this.throttledHandleMouseMove=Dd(ts(this,this.handleMouseMove),Bu),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}gne.prototype.options_={children:["volumeBar"]};qt.registerComponent("VolumeControl",gne);const zHe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class vne extends pa{constructor(e,r){super(e,r),zHe(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),n=this.player_.lastVolume_();if(r===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),Va&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),KE(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),rm(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}vne.prototype.controlText_="Mute";qt.registerComponent("MuteToggle",vne);class yne extends qt{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Gv(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Xl(gr,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),ha(gr,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}yne.prototype.options_={children:["muteToggle","volumeControl"]};qt.registerComponent("VolumePanel",yne);class _ne extends pa{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let s;r+this.skipTime<=i?s=r+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}_ne.prototype.controlText_="Skip Forward";qt.registerComponent("SkipForward",_ne);class bne extends pa{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let s;i&&r-this.skipTime<=i?s=i:r>=this.skipTime?s=r-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}bne.prototype.controlText_="Skip Backward";qt.registerComponent("SkipBackward",bne);class xne extends qt{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof qt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof qt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=An(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Xl(r,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||gr.activeElement;if(!this.children().some(n=>n.el()===r)){const n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const n=r.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}qt.registerComponent("Menu",xne);class a$ extends qt{constructor(e,r={}){super(e,r),this.menuButton_=new pa(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=pa.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Xl(gr,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new xne(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=An("li",{className:"vjs-menu-title",textContent:$s(this.options_.title),tabIndex:-1}),n=new qt(this.player_,{el:r});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=pa.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),ha(gr,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Va&&Rre())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}qt.registerComponent("MenuButton",a$);class l$ extends a${constructor(e,r){const n=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!n)return;const i=ts(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}qt.registerComponent("TrackButton",l$);class z1 extends iA{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),n),s=An("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}qt.registerComponent("MenuItem",z1);class H1 extends z1{constructor(e,r){const n=r.track,i=e.textTracks();r.label=n.label||n.language||"Unknown",r.selected=n.mode==="showing",super(e,r),this.track=n,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const s=(...a)=>{this.handleTracksChange.apply(this,a)},o=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",o)}),i.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof Ke.Event!="object")try{a=new Ke.Event("change")}catch{}a||(a=gr.createEvent("Event"),a.initEvent("change",!0,!0)),i.dispatchEvent(a)})}this.handleTracksChange()}handleClick(e){const r=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const s=n[i];this.kinds.indexOf(s.kind)!==-1&&(s===r?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}qt.registerComponent("TextTrackMenuItem",H1);class wne extends H1{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const o=r[i];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let n=!0;for(let i=0,s=r.length;i<s;i++){const o=r[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}qt.registerComponent("OffTextTrackMenuItem",wne);class Gy extends l${constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=H1){let n;this.label_&&(n=`${this.label_} off`),e.push(new wne(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const o=i[s];if(this.kinds_.indexOf(o.kind)>-1){const a=new r(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${o.kind}-menu-item`),e.push(a)}}return e}}qt.registerComponent("TextTrackButton",Gy);class Sne extends z1{constructor(e,r){const n=r.track,i=r.cue,s=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=s&&s<i.endTime,super(e,r),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}qt.registerComponent("ChaptersTrackMenuItem",Sne);class u$ extends Gy{constructor(e,r,n){super(e,r,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize($s(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let n=0,i=r.length;n<i;n++){const s=r[n],o=new Sne(this.player_,{track:this.track_,cue:s});e.push(o)}return e}}u$.prototype.kind_="chapters";u$.prototype.controlText_="Chapters";qt.registerComponent("ChaptersButton",u$);class c$ extends Gy{constructor(e,r,n){super(e,r,n),this.setIcon("audio-description");const i=e.textTracks(),s=ts(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const r=this.player().textTracks();let n=!1;for(let i=0,s=r.length;i<s;i++){const o=r[i];if(o.kind!==this.kind_&&o.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}c$.prototype.kind_="descriptions";c$.prototype.controlText_="Descriptions";qt.registerComponent("DescriptionsButton",c$);class d$ extends Gy{constructor(e,r,n){super(e,r,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}d$.prototype.kind_="subtitles";d$.prototype.controlText_="Subtitles";qt.registerComponent("SubtitlesButton",d$);class f$ extends H1{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}qt.registerComponent("CaptionSettingsMenuItem",f$);class h$ extends Gy{constructor(e,r,n){super(e,r,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new f$(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}h$.prototype.kind_="captions";h$.prototype.controlText_="Captions";qt.registerComponent("CaptionsButton",h$);class Tne extends H1{createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(An("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(An("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}qt.registerComponent("SubsCapsMenuItem",Tne);class p$ extends Gy{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText($s(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new f$(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Tne),e}}p$.prototype.kinds_=["captions","subtitles"];p$.prototype.controlText_="Subtitles";qt.registerComponent("SubsCapsButton",p$);class Cne extends z1{constructor(e,r){const n=r.track,i=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,super(e,r),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const s=(...o)=>{this.handleTracksChange.apply(this,o)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,r,n){const i=super.createEl(e,r,n),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(An("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(An("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}qt.registerComponent("AudioTrackMenuItem",Cne);class Ene extends l${constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let n=0;n<r.length;n++){const i=r[n];e.push(new Cne(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}Ene.prototype.controlText_="Audio Track";qt.registerComponent("AudioTrackButton",Ene);class m$ extends z1{constructor(e,r){const n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=i===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=n,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}m$.prototype.contentElType="button";qt.registerComponent("PlaybackRateMenuItem",m$);class Ane extends a${constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=An("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let n=e.length-1;n>=0;n--)r.push(new m$(this.player(),{rate:e[n]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Ane.prototype.controlText_="Playback Rate";qt.registerComponent("PlaybackRateMenuButton",Ane);class Pne extends qt{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},n={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,n)}}qt.registerComponent("Spacer",Pne);class HHe extends Pne{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}qt.registerComponent("CustomControlSpacer",HHe);class kne extends qt{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}kne.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};qt.registerComponent("ControlBar",kne);class Ine extends Hy{constructor(e,r){super(e,r),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}Ine.prototype.options_=Object.assign({},Hy.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});qt.registerComponent("ErrorDisplay",Ine);class Dne extends qt{constructor(e,r={}){super(e,r),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),An("select",{id:this.options_.id},{},this.options_.SelectOptions.map(r=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Nu()}`)+"-"+r[1].replace(/\W+/g,""),i=An("option",{id:n,value:this.localize(r[0]),textContent:r[1]});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),i}))}}qt.registerComponent("TextTrackSelect",Dne);class im extends qt{constructor(e,r={}){super(e,r);const n=An("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const s of i){const o=this.options_.selectConfigs[s],a=o.className,l=o.id.replace("%s",this.options_.id_);let u=null;const d=`vjs_select_${Nu()}`;if(this.options_.type==="colors"){u=An("span",{className:a});const h=An("label",{id:l,className:"vjs-label",textContent:o.label});h.setAttribute("for",d),u.appendChild(h)}const f=new Dne(e,{SelectOptions:o.options,legendId:this.options_.legendId,id:d,labelId:l});this.addChild(f),this.options_.type==="colors"&&(u.appendChild(f.el()),this.el().appendChild(u))}}createEl(){return An("fieldset",{className:this.options_.className})}}qt.registerComponent("TextTrackFieldset",im);class Rne extends qt{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new im(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new im(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const o=new im(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o)}createEl(){return An("div",{className:"vjs-track-settings-colors"})}}qt.registerComponent("TextTrackSettingsColors",Rne);class Mne extends qt{constructor(e,r={}){super(e,r);const n=this.options_.textTrackComponentid,i=new im(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new im(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const o=new im(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o)}createEl(){return An("div",{className:"vjs-track-settings-font"})}}qt.registerComponent("TextTrackSettingsFont",Mne);class One extends qt{constructor(e,r={}){super(e,r);const n=this.localize("restore all settings to the default values"),i=new pa(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const s=new pa(e,{controlText:n,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return An("div",{className:"vjs-track-settings-controls"})}}qt.registerComponent("TrackSettingsControls",One);const ZP="vjs-text-track-settings",$V=["#000","Black"],LV=["#00F","Blue"],FV=["#0FF","Cyan"],NV=["#0F0","Green"],BV=["#F0F","Magenta"],UV=["#F00","Red"],VV=["#FFF","White"],zV=["#FF0","Yellow"],QP=["1","Opaque"],JP=["0.5","Semi-Transparent"],HV=["0","Transparent"],Vh={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[$V,VV,UV,NV,LV,zV,BV,FV],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[QP,JP,HV],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[VV,$V,UV,NV,LV,zV,BV,FV],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[QP,JP],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[HV,JP,QP],className:"vjs-window-opacity vjs-opacity"}};Vh.windowColor.options=Vh.backgroundColor.options;function $ne(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function jHe(t,e){const r=t.options[t.options.selectedIndex].value;return $ne(r,e)}function GHe(t,e,r){if(e){for(let n=0;n<t.options.length;n++)if($ne(t.options[n].value,r)===e){t.selectedIndex=n;break}}}class WHe extends Hy{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=An("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const r=new Rne(e,{textTrackComponentid:this.id_,selectConfigs:Vh,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(r);const n=new Mne(e,{textTrackComponentid:this.id_,selectConfigs:Vh,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new One(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),nv(Vh,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Cre(Vh,(e,r,n)=>{const i=jHe(this.$(r.selector),r.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){nv(Vh,(r,n)=>{GHe(this.$(r.selector),e[n],r.parser)})}setDefaults(){nv(Vh,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(Ke.localStorage.getItem(ZP))}catch(r){ni.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?Ke.localStorage.setItem(ZP,JSON.stringify(e)):Ke.localStorage.removeItem(ZP)}catch(r){ni.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}qt.registerComponent("TextTrackSettings",WHe);class qHe extends qt{constructor(e,r){let n=r.ResizeObserver||Ke.ResizeObserver;r.ResizeObserver===null&&(n=!1);const i=Hi({createEl:!n,reportTouchActivity:!1},r);super(e,i),this.ResizeObserver=r.ResizeObserver||Ke.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Xre(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let o=this.unloadListener_=function(){ha(this,"resize",s),ha(this,"unload",o),o=null};Xl(this.el_.contentWindow,"unload",o),Xl(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}qt.registerComponent("ResizeManager",qHe);const XHe={trackingThreshold:20,liveTolerance:15};class YHe extends qt{constructor(e,r){const n=Hi(XHe,r,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(Ke.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),s=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Bu),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.end(n));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let n=e?e.length:0;for(;n--;)r.push(e.start(n));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}qt.registerComponent("LiveTracker",YHe);class KHe extends qt{constructor(e,r){super(e,r),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:An("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Nu()}`}),description:An("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Nu()}`})},An("div",{className:"vjs-title-bar"},{},Ere(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],o=this.els[i],a=n[i];JE(o),s&&Op(o,s),r&&(r.removeAttribute(a),s&&r.setAttribute(a,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}qt.registerComponent("TitleBar",KHe);const ZHe={initialDisplay:4e3,position:[],takeFocus:!1};class QHe extends pa{constructor(e,r){r=Hi(ZHe,r),super(e,r),this.controlText(r.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],n=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=An("button",{},{type:"button",class:this.buildCSSClass()},An("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}qt.registerComponent("TransientButton",QHe);const TD=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),n=[];let i="";if(!r.length)return!1;for(let s=0;s<r.length;s++){const o=r[s].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(i=n[0]),t.triggerSourceset(i),!0):!1},JHe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=gr.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=gr.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",Ke.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Lne=(t,e)=>{let r={};for(let n=0;n<t.length&&(r=Object.getOwnPropertyDescriptor(t[n],e),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},eje=t=>Lne([t.el(),Ke.HTMLMediaElement.prototype,Ke.Element.prototype,JHe],"innerHTML"),jV=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},n=eje(t),i=s=>(...o)=>{const a=s.apply(e,o);return TD(t),a};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(r[s]=e[s],e[s]=i(r[s]))}),Object.defineProperty(e,"innerHTML",Hi(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(s=>{e[s]=r[s]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},tje=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?ine(Ke.Element.prototype.getAttribute.call(this,"src")):""},set(t){return Ke.Element.prototype.setAttribute.call(this,"src",t),t}}),rje=t=>Lne([t.el(),Ke.HTMLMediaElement.prototype,tje],"src"),nje=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=rje(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Hi(r,{set:s=>{const o=r.set.call(e,s);return t.triggerSourceset(e.src),o}})),e.setAttribute=(s,o)=>{const a=n.call(e,s,o);return/src/i.test(s)&&t.triggerSourceset(e.src),a},e.load=()=>{const s=i.call(e);return TD(t)||(t.triggerSourceset(""),jV(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):TD(t)||jV(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Vr extends $n{constructor(e,r){super(e,r);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let o=s.length;const a=[];for(;o--;){const l=s[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&nA(l.src)&&(i=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&ni.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Nb||XE)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Vr.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){nje(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const n=()=>{r=[];for(let s=0;s<e.length;s++){const o=e[s];o.kind==="metadata"&&r.push({track:o,storedMode:o.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let s=0;s<r.length;s++){const o=r[s];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!r,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=ku[e],n=this.el()[r.getterName],i=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!n||!n.addEventListener)return;const s={change:a=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[Kv.remoteText.getterName]().trigger(l)},addtrack(a){i.addTrack(a.track)},removetrack(a){i.removeTrack(a.track)}},o=function(){const a=[];for(let l=0;l<i.length;l++){let u=!1;for(let d=0;d<n.length;d++)if(n[d]===i[l]){u=!0;break}u||a.push(i[l])}for(;a.length;)i.removeTrack(a.shift())};this[r.getterName+"Listeners_"]=s,Object.keys(s).forEach(a=>{const l=s[a];n.addEventListener(a,l),this.on("dispose",u=>n.removeEventListener(a,l))}),this.on("loadstart",o),this.on("dispose",a=>this.off("loadstart",o))}proxyNativeTracks_(){ku.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),Vr.disposeMediaElement(e),e=n}else{e=gr.createElement("video");const n=this.options_.tag&&Uh(this.options_.tag),i=Hi({},n);(!Nb||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,$re(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Wv(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let n=0;n<r.length;n++){const i=r[n],s=this.options_[i];typeof s<"u"&&(s?Wv(e,i,i):ZE(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const s=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),n||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&YE?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){ni(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&kd&&Id&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)dd(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Vr.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):super.addTextTrack(e,r,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=gr.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const n=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let n=r.length;for(;n--;)(e===r[n]||e===r[n].track)&&this.el().removeChild(r[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Ke.performance&&(e.creationTime=Ke.performance.now()),e}}GE(Vr,"TEST_VID",function(){if(!Uy())return;const t=gr.createElement("video"),e=gr.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Vr.isSupported=function(){try{Vr.TEST_VID.volume=.5}catch{return!1}return!!(Vr.TEST_VID&&Vr.TEST_VID.canPlayType)};Vr.canPlayType=function(t){return Vr.TEST_VID.canPlayType(t)};Vr.canPlaySource=function(t,e){return Vr.canPlayType(t.type)};Vr.canControlVolume=function(){try{const t=Vr.TEST_VID.volume;Vr.TEST_VID.volume=t/2+.1;const e=t!==Vr.TEST_VID.volume;return e&&Va?(Ke.setTimeout(()=>{Vr&&Vr.prototype&&(Vr.prototype.featuresVolumeControl=t!==Vr.TEST_VID.volume)}),!1):e}catch{return!1}};Vr.canMuteVolume=function(){try{const t=Vr.TEST_VID.muted;return Vr.TEST_VID.muted=!t,Vr.TEST_VID.muted?Wv(Vr.TEST_VID,"muted","muted"):ZE(Vr.TEST_VID,"muted","muted"),t!==Vr.TEST_VID.muted}catch{return!1}};Vr.canControlPlaybackRate=function(){if(kd&&Id&&WE<58)return!1;try{const t=Vr.TEST_VID.playbackRate;return Vr.TEST_VID.playbackRate=t/2+.1,t!==Vr.TEST_VID.playbackRate}catch{return!1}};Vr.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(gr.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(gr.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(gr.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(gr.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Vr.supportsNativeTextTracks=function(){return YE||Va&&Id};Vr.supportsNativeVideoTracks=function(){return!!(Vr.TEST_VID&&Vr.TEST_VID.videoTracks)};Vr.supportsNativeAudioTracks=function(){return!!(Vr.TEST_VID&&Vr.TEST_VID.audioTracks)};Vr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){GE(Vr.prototype,t,()=>Vr[e](),!0)});Vr.prototype.featuresVolumeControl=Vr.canControlVolume();Vr.prototype.movingMediaElementInDOM=!Va;Vr.prototype.featuresFullscreenResize=!0;Vr.prototype.featuresProgressEvents=!0;Vr.prototype.featuresTimeupdateEvents=!0;Vr.prototype.featuresVideoFrameCallback=!!(Vr.TEST_VID&&Vr.TEST_VID.requestVideoFrameCallback);Vr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Vr.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Vr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Vr.prototype["set"+$s(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Vr.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Vr.prototype["set"+$s(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Vr.prototype[t]=function(){return this.el_[t]()}});$n.withSourceHandlers(Vr);Vr.nativeSourceHandler={};Vr.nativeSourceHandler.canPlayType=function(t){try{return Vr.TEST_VID.canPlayType(t)}catch{return""}};Vr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Vr.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=J6(t.src);return Vr.nativeSourceHandler.canPlayType(`video/${r}`)}return""};Vr.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};Vr.nativeSourceHandler.dispose=function(){};Vr.registerSourceHandler(Vr.nativeSourceHandler);$n.registerTech("Html5",Vr);const Fne=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],e4={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},CD=["tiny","xsmall","small","medium","large","xlarge","huge"],PS={};CD.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;PS[t]=`vjs-layout-${e}`});const ije={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class as extends qt{constructor(e,r,n){if(e.id=e.id||r.id||`vjs_video_${Nu()}`,r=Object.assign(as.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const o=e.closest("[lang]");o&&(r.language=o.getAttribute("lang"))}if(super(null,r,n),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.boundUpdatePlayerHeightOnAudioOnlyMode_=o=>this.updatePlayerHeightOnAudioOnlyMode_(o),this.isFullscreen_=!1,this.log=Sre(this.id_),this.fsApi_=GT,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Uh(e),this.language(this.options_.language),r.languages){const o={};Object.getOwnPropertyNames(r.languages).forEach(function(a){o[a.toLowerCase()]=r.languages[a]}),this.languages_=o}else this.languages_=as.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error(`plugin "${o}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Y6(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Xl(gr,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Hi(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(o=>{this[o](r.plugins[o])}),r.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const a=new Ke.DOMParser().parseFromString(AHe,"image/svg+xml");if(a.querySelector("parsererror"))ni.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=a.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),r.spatialNavigation&&r.spatialNavigation.enabled&&(this.spatialNavigation=new PHe(this),this.addClass("vjs-spatial-navigation-enabled")),Nb&&this.addClass("vjs-touch-enabled"),Va||this.addClass("vjs-workinghover"),as.players[this.id_]=this;const s=mD.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),ha(gr,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ha(gr,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),as.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),SHe(this),Oa.names.forEach(e=>{const r=Oa[e],n=this[r.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?r=this.el_=e.parentNode:i||(r=this.el_=super.createEl("div"));const s=Uh(e);if(i){for(r=this.el_=e,e=this.tag=gr.createElement("video");r.children.length;)e.appendChild(r.firstChild);I2(r,"video-js")||rm(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,Object.keys(r).forEach(l=>{try{e[l]=r[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",Id&&qE&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||r.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const o=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>Dre[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...o),Ke.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Wre("vjs-styles-dimensions");const l=xp(".vjs-styles-defaults"),u=xp("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=e.getElementsByTagName("a");for(let l=0;l<a.length;l++){const u=a.item(l);rm(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),vD(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ni.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const n=e+"_";if(r===void 0)return this[n]||0;if(r===""||r==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(r);if(isNaN(i)){ni.error(`Improper value "${r}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Rf(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Jze(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(Ke.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l));return}let e,r,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const s=n.split(":"),o=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*o,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),qre(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${r}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${o*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const n=$s(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&($n.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const o={source:r,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Oa.names.forEach(l=>{const u=Oa[l];o[u.getterName]=this[u.privateName]}),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const a=$n.getTech(e);if(!a)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new a(o),this.tech_.ready(ts(this,this.handleTechReady_),!0),SV.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Fne.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${$s(l)}_`](u))}),Object.keys(e4).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${e4[l]}_`].bind(this),event:u});return}this[`handleTech${e4[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&vD(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Oa.names.forEach(e=>{const r=Oa[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=SV.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ni.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":mD}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const o=this.play();if(R2(o))return o.catch(a=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),R2(n)&&(n=n.catch(r))):e==="muted"&&!this.muted()?n=r():n=this.play(),!!R2(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,n="";typeof r!="string"&&(r=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=EHe(this,r)),this.cache_.source=Hi({},e,{src:r,type:n});const i=this.cache_.sources.filter(l=>l.src&&l.src===r),s=[],o=this.$$("source"),a=[];for(let l=0;l<o.length;l++){const u=Uh(o[l]);s.push(u),u.src&&u.src===r&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=s=>this.updateSourceCaches_(s);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=()=>{}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?dd(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const n=this.el();let i=gr[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in xHe)return _He(this.middleware_,this.tech_,e,r);if(e in PV)return AV(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(n){throw ni(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in bHe)return yHe(this.middleware_,this.tech_,e);if(e in PV)return AV(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(ni(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(ni(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(ni(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=dd){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(YE||Va);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||gc(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=gc(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=gc(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return rne(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let n=e.end(e.length-1);return n>r&&(n=r),n}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((n,i)=>{function s(){r.off("fullscreenerror",a),r.off("fullscreenchange",o)}function o(){s(),n()}function a(u,d){s(),i(d)}r.one("fullscreenchange",o),r.one("fullscreenerror",a);const l=r.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(n,i))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](r);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,n)=>{function i(){e.off("fullscreenerror",o),e.off("fullscreenchange",s)}function s(){i(),r()}function o(l,u){i(),n(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",o);const a=e.exitFullscreenHelper_();a&&(a.then(i,i),a.then(r,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=gr[this.fsApi_.exitFullscreen]();return e&&dd(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=gr.documentElement.style.overflow,Xl(gr,"keydown",this.boundFullWindowOnEscKey_),gr.documentElement.style.overflow="hidden",rm(gr.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,ha(gr,"keydown",this.boundFullWindowOnEscKey_),gr.documentElement.style.overflow=this.docOrigOverflow,KE(gr.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&Ke.documentPictureInPicture){const e=gr.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(An("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),Ke.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(Hre(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in gr&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(Ke.documentPictureInPicture&&Ke.documentPictureInPicture.window)return Ke.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in gr)return gr.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?o.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=o=>e.key.toLowerCase()==="f",muteKey:i=o=>e.key.toLowerCase()==="m",playPauseKey:s=o=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=r;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const o=qt.getComponent("FullscreenToggle");gr[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),qt.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),qt.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const s=i[n];let o=$n.getTech(s);if(o||(o=qt.getComponent(s)),!o){ni.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(o.isSupported()&&(r=o.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(a=>[a,$n.getTech(a)]).filter(([a,l])=>l?l.isSupported():(ni.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(a,l,u){let d;return a.some(f=>l.some(h=>{if(d=u(f,h),d)return!0})),d};let i;const s=a=>(l,u)=>a(u,l),o=([a,l],u)=>{if(l.canPlaySource(u,this.options_[a.toLowerCase()]))return{source:u,tech:a}};return this.options_.sourceOrder?i=n(e,r,s(o)):i=n(r,e,o),i||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=ane(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),gHe(this,n[0],(i,s)=>{if(this.middleware_=s,r||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}vHe(s,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?Qre(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();dd(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Rf(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=n||{};e&&e.updateContent(),r&&r.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(bp("beforeerror").forEach(r=>{const n=r(this,e);if(!(Pd(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new ks(e),this.addClass("vjs-error"),ni.error(`(CODE:${this.error_.code} ${ks.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),bp("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,n;const i=ts(this,this.reportUserActivity),s=function(f){(f.screenX!==r||f.screenY!==n)&&(r=f.screenX,n=f.screenY,i())},o=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},a=function(f){i(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",s),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!Va&&!kd&&(l.on("mouseenter",function(f){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(f){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let u;const d=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const f=this.options_.inactivityTimeout;f<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},f))};this.setInterval(d,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();e.forEach(i=>{i!==r&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,n){if(this.tech_)return this.tech_.addTextTrack(e,r,n)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Rf(this)&&this.trigger("languagechange"))}languages(){return Hi(as.prototype.options_.languages,this.languages_)}toJSON(){const e=Hi(this.options_),r=e.tracks;e.tracks=[];for(let n=0;n<r.length;n++){let i=r[n];i=Hi(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,r){r=r||{},r.content=e||"";const n=new Hy(this,r);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let n=0;n<CD.length;n++){const i=CD[n],s=this.breakpoints_[i];if(r<=s){if(e===i)return;e&&this.removeClass(PS[e]),this.addClass(PS[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},ije,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return PS[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Hi(e);const{artist:i,artwork:s,description:o,poster:a,src:l,textTracks:u,title:d}=this.cache_.media;!s&&a&&(this.cache_.media.artwork=[{src:a,type:tC(a)}]),n&&this.crossOrigin(n),l&&this.src(l),a&&this.poster(a),Array.isArray(u)&&u.forEach(f=>this.addRemoteTextTrack(f,!1)),this.titleBar&&this.titleBar.update({title:d,description:o||i||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:r,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:tC(i.poster)}]),i}return Hi(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},n=Uh(e),i=n["data-setup"];if(I2(e,"vjs-fill")&&(n.fill=!0),I2(e,"vjs-fluid")&&(n.fluid=!0),i!==null)try{Object.assign(n,JSON.parse(i||"{}"))}catch(s){ni.error("data-setup",s)}if(Object.assign(r,n),e.hasChildNodes()){const s=e.childNodes;for(let o=0,a=s.length;o<a;o++){const l=s[o],u=l.nodeName.toLowerCase();u==="source"?r.sources.push(Uh(l)):u==="track"&&r.tracks.push(Uh(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Oa.names.forEach(function(t){const e=Oa[t];as.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});as.prototype.crossorigin=as.prototype.crossOrigin;as.players={};const __=Ke.navigator;as.prototype.options_={techOrder:$n.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:__&&(__.languages&&__.languages[0]||__.userLanguage||__.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1};Fne.forEach(function(t){as.prototype[`handleTech${$s(t)}_`]=function(){return this.trigger(t)}});qt.registerComponent("Player",as);const rC="plugin",ov="activePlugins_",Ng={},nC=t=>Ng.hasOwnProperty(t),kS=t=>nC(t)?Ng[t]:void 0,Nne=(t,e)=>{t[ov]=t[ov]||{},t[ov][e]=!0},iC=(t,e,r)=>{const n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},sje=function(t,e){const r=function(){iC(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return Nne(this,t),iC(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){r[n]=e[n]}),r},GV=(t,e)=>(e.prototype.name=t,function(...r){iC(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...r);return this[t]=()=>n,iC(this,n.getEventHash()),n});class vl{constructor(e){if(this.constructor===vl)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Y6(this),delete this.trigger,Zre(this,this.constructor.defaultState),Nne(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return zy(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[ov][e]=!1,this.player=this.state=null,r[e]=GV(e,Ng[e])}static isBasic(e){const r=typeof e=="string"?kS(e):e;return typeof r=="function"&&!vl.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(nC(e))ni.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(as.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return Ng[e]=r,e!==rC&&(vl.isBasic(r)?as.prototype[e]=sje(e,r):as.prototype[e]=GV(e,r)),r}static deregisterPlugin(e){if(e===rC)throw new Error("Cannot de-register base plugin.");nC(e)&&(delete Ng[e],delete as.prototype[e])}static getPlugins(e=Object.keys(Ng)){let r;return e.forEach(n=>{const i=kS(n);i&&(r=r||{},r[n]=i)}),r}static getPluginVersion(e){const r=kS(e);return r&&r.VERSION||""}}vl.getPlugin=kS;vl.BASE_PLUGIN_NAME=rC;vl.registerPlugin(rC,vl);as.prototype.usingPlugin=function(t){return!!this[ov]&&this[ov][t]===!0};as.prototype.hasPlugin=function(t){return!!nC(t)};function oje(t,e){let r=!1;return function(...n){return r||ni.warn(t),r=!0,e.apply(this,n)}}function Lc(t,e,r,n){return oje(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,n)}var aje={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const Bne=t=>t.indexOf("#")===0?t.slice(1):t;function It(t,e,r){let n=It.getPlayer(t);if(n)return e&&ni.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&n.ready(r),n;const i=typeof t=="string"?xp("#"+Bne(t)):t;if(!Vy(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in i?i.getRootNode()instanceof Ke.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!o.contains(i))&&ni.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),bp("beforesetup").forEach(l=>{const u=l(i,Hi(e));if(!Pd(u)||Array.isArray(u)){ni.error("please return an object in beforesetup hooks");return}e=Hi(e,u)});const a=qt.getComponent("Player");return n=new a(i,e,r),bp("setup").forEach(l=>l(n)),n}It.hooks_=_f;It.hooks=bp;It.hook=Bze;It.hookOnce=Uze;It.removeHook=wre;if(Ke.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Uy()){let t=xp(".vjs-styles-defaults");if(!t){t=Wre("vjs-styles-defaults");const e=xp("head");e&&e.insertBefore(t,e.firstChild),qre(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}_D(1,It);It.VERSION=mD;It.options=as.prototype.options_;It.getPlayers=()=>as.players;It.getPlayer=t=>{const e=as.players;let r;if(typeof t=="string"){const n=Bne(t),i=e[n];if(i)return i;r=xp("#"+n)}else r=t;if(Vy(r)){const{player:n,playerId:i}=r;if(n||e[i])return n||e[i]}};It.getAllPlayers=()=>Object.keys(as.players).map(t=>as.players[t]).filter(Boolean);It.players=as.players;It.getComponent=qt.getComponent;It.registerComponent=(t,e)=>($n.isTech(e)&&ni.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),qt.registerComponent.call(qt,t,e));It.getTech=$n.getTech;It.registerTech=$n.registerTech;It.use=mHe;Object.defineProperty(It,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(It.middleware,"TERMINATOR",{value:eC,writeable:!1,enumerable:!0});It.browser=Dre;It.obj=Hze;It.mergeOptions=Lc(9,"videojs.mergeOptions","videojs.obj.merge",Hi);It.defineLazyProperty=Lc(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",GE);It.bind=Lc(9,"videojs.bind","native Function.prototype.bind",ts);It.registerPlugin=vl.registerPlugin;It.deregisterPlugin=vl.deregisterPlugin;It.plugin=(t,e)=>(ni.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),vl.registerPlugin(t,e));It.getPlugins=vl.getPlugins;It.getPlugin=vl.getPlugin;It.getPluginVersion=vl.getPluginVersion;It.addLanguage=function(t,e){return t=(""+t).toLowerCase(),It.options.languages=Hi(It.options.languages,{[t]:e}),It.options.languages[t]};It.log=ni;It.createLogger=Sre;It.time=iHe;It.createTimeRange=Lc(9,"videojs.createTimeRange","videojs.time.createTimeRanges",gc);It.createTimeRanges=Lc(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",gc);It.formatTime=Lc(9,"videojs.formatTime","videojs.time.formatTime",Pm);It.setFormatTime=Lc(9,"videojs.setFormatTime","videojs.time.setFormatTime",ene);It.resetFormatTime=Lc(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",tne);It.parseUrl=Lc(9,"videojs.parseUrl","videojs.url.parseUrl",Q6);It.isCrossOrigin=Lc(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",nA);It.EventTarget=Yl;It.any=X6;It.on=Xl;It.one=tA;It.off=ha;It.trigger=zy;It.xhr=Ete;It.TextTrack=U1;It.AudioTrack=sne;It.VideoTrack=one;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{It[t]=function(){return ni.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),jre[t].apply(null,arguments)}});It.computedStyle=Lc(9,"videojs.computedStyle","videojs.dom.computedStyle",Xv);It.dom=jre;It.fn=Qze;It.num=LHe;It.str=rHe;It.url=hHe;It.Error=aje;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class lje{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(n){r.enabled_(n)}}),r}}class sC extends It.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const n=this.levels_.length;return r=new lje(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){r=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,n=this.length;r<n;r++){const i=this[r];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}sC.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in sC.prototype.allowedEvents_)sC.prototype["on"+t]=null;var Une="4.1.0";const uje=function(t,e){const r=t.qualityLevels,n=new sC,i=function(){n.dispose(),t.qualityLevels=r,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>n,t.qualityLevels.VERSION=Une,n},Vne=function(t){return uje(this,It.obj.merge({},t))};It.registerPlugin("qualityLevels",Vne);Vne.VERSION=Une;/*! @name @videojs/http-streaming @version 3.13.3 @license Apache-2.0 */const ll=NE,oC=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Wu=t=>It.log.debug?It.log.debug.bind(It,"VHS:",`${t} >`):function(){};function Pi(...t){const e=It.obj||It;return(e.merge||e.mergeOptions).apply(e,t)}function Ko(...t){const e=It.time||It;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function cje(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const n=t.start(r),i=t.end(r);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const fd=1/30,hd=fd*3,zne=function(t,e){const r=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&r.push([t.start(n),t.end(n)]);return Ko(r)},Bg=function(t,e){return zne(t,function(r,n){return r-hd<=e&&n+hd>=e})},Gx=function(t,e){return zne(t,function(r){return r-fd>=e})},dje=function(t){if(t.length<2)return Ko();const e=[];for(let r=1;r<t.length;r++){const n=t.end(r-1),i=t.start(r);e.push([n,i])}return Ko(e)},fje=function(t,e){let r=null,n=null,i=0;const s=[],o=[];if(!t||!t.length||!e||!e.length)return Ko();let a=t.length;for(;a--;)s.push({time:t.start(a),type:"start"}),s.push({time:t.end(a),type:"end"});for(a=e.length;a--;)s.push({time:e.start(a),type:"start"}),s.push({time:e.end(a),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),a=0;a<s.length;a++)s[a].type==="start"?(i++,i===2&&(r=s[a].time)):s[a].type==="end"&&(i--,i===1&&(n=s[a].time)),r!==null&&n!==null&&(o.push([r,n]),r=null,n=null);return Ko(o)},Hne=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},hje=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},j0=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},pje=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},t4=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},g$=function(t,e){let r=0;if(!t||!t.length)return r;for(let n=0;n<t.length;n++){const i=t.start(n),s=t.end(n);if(!(e>s)){if(e>i&&e<=s){r+=s-e;continue}r+=s-i}}return r},v$=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(n){r+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=t.partTargetDuration)}),r},ED=t=>(t.segments||[]).reduce((e,r,n)=>(r.parts?r.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:n,partIndex:s,part:i,segment:r})}):e.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),e),[]),jne=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},Gne=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let n=(r||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},Wne=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=jne(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},mje=function(t,e){let r=0,n=e-t.mediaSequence,i=t.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=t.segments[n],typeof i.end<"u")return{result:r+i.end,precise:!0};if(r+=v$(t,i),typeof i.start<"u")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},gje=function(t,e){let r=0,n,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(n=t.segments[i],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=v$(t,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},qne=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=mje(t,e);if(n.precise)return n.result;const i=gje(t,e);return i.precise?i.result:n.result+r},Xne=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return Ke.Infinity}return qne(t,e,r)},M2=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:n}){let i=0;if(r>n&&([r,n]=[n,r]),r<0){for(let s=r;s<Math.min(0,n);s++)i+=t;r=0}for(let s=r;s<n;s++)i+=e[s].duration;return i},Yne=function(t,e,r,n){if(!t||!t.segments)return null;if(t.endList)return Xne(t);if(e===null)return null;e=e||0;let i=qne(t,t.mediaSequence+t.segments.length,e);return r&&(n=typeof n=="number"?n:Wne(null,t),i-=n),Math.max(0,i)},vje=function(t,e,r){const i=e||0;let s=Yne(t,e,!0,r);return s===null?Ko():(s<i&&(s=i),Ko(i,s))},yje=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:n,startTime:i,exactManifestTimings:s}){let o=e-i;const a=ED(t);let l=0;for(let u=0;u<a.length;u++){const d=a[u];if(r===d.segmentIndex&&!(typeof n=="number"&&typeof d.partIndex=="number"&&n!==d.partIndex)){l=u;break}}if(o<0){if(l>0)for(let u=l-1;u>=0;u--){const d=a[u];if(o+=d.duration,s){if(o<0)continue}else if(o+fd<=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:i-M2({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(o-=t.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<a.length;u++){const d=a[u];o-=d.duration;const f=d.duration>fd,h=o===0,g=f&&o+fd>=0;if(!((h||g)&&u!==a.length-1)){if(s){if(o>0)continue}else if(o-fd>=0)continue;return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:i+M2({defaultDuration:t.targetDuration,durationList:a,startIndex:l,endIndex:u})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:e}},Kne=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},y$=function(t){return t.excludeUntil&&t.excludeUntil===1/0},oA=function(t){const e=Kne(t);return!t.disabled&&!e},_je=function(t){return t.disabled},bje=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Zne=function(t,e){return e.attributes&&e.attributes[t]},xje=function(t,e,r,n=0){return Zne("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-n*8)/e:NaN},AD=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>oA(n)?(n.attributes.BANDWIDTH||0)<r:!1).length===0},_$=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),WV=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const i in r){for(const s in r[i])if(n=e(r[i][s]),n)break;if(n)break}return!!n},j1=t=>{if(!t||!t.playlists||!t.playlists.length)return WV(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],n=r.attributes&&r.attributes.CODECS;if(!(n&&n.split(",").every(s=>Rte(s))||WV(t,s=>_$(r,s))))return!1}return!0};var cl={liveEdgeDelay:Wne,duration:Xne,seekable:vje,getMediaInfoForTime:yje,isEnabled:oA,isDisabled:_je,isExcluded:Kne,isIncompatible:y$,playlistEnd:Yne,isAes:bje,hasAttribute:Zne,estimateSegmentRequestTime:xje,isLowestEnabledRendition:AD,isAudioOnly:j1,playlistMatch:_$,segmentDurationWithParts:v$};const{log:Qne}=It,av=(t,e)=>`${t}-${e}`,Jne=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,wje=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:n=[],customTagMappers:i=[],llhls:s})=>{const o=new L7e;t&&o.on("warn",t),e&&o.on("info",e),n.forEach(u=>o.addParser(u)),i.forEach(u=>o.addTagMapper(u)),o.push(r),o.end();const a=o.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){a.hasOwnProperty(u)&&delete a[u]}),a.segments&&a.segments.forEach(function(u){["parts","preloadHints"].forEach(function(d){u.hasOwnProperty(d)&&delete u[d]})})),!a.targetDuration){let u=10;a.segments&&a.segments.length&&(u=a.segments.reduce((d,f)=>Math.max(d,f.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),a.targetDuration=u}const l=jne(a);if(l.length&&!a.partTargetDuration){const u=l.reduce((d,f)=>Math.max(d,f.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),Qne.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=u}return a},Wy=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const n in t.mediaGroups[r])for(const i in t.mediaGroups[r][n]){const s=t.mediaGroups[r][n][i];e(s,r,n,i)}})},eie=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},Sje=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];eie({playlist:r,id:av(e,r.uri)}),r.resolvedUri=ll(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||Qne.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Tje=t=>{Wy(t,e=>{e.uri&&(e.resolvedUri=ll(t.uri,e.uri))})},Cje=(t,e)=>{const r=av(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Ke.location.href,resolvedUri:Ke.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[e]=n.playlists[0],n},tie=(t,e,r=Jne)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const n=j1(t);Wy(t,(i,s,o,a)=>{if(!i.playlists||!i.playlists.length){if(n&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o)return}i.playlists=[Ls({},i)]}i.playlists.forEach(function(l,u){const d=r(s,o,a,l),f=av(u,d);l.uri?l.resolvedUri=l.resolvedUri||ll(t.uri,l.uri):(l.uri=u===0?d:f,l.resolvedUri=l.uri),l.id=l.id||f,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),Sje(t),Tje(t)};class qV{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,n=r.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),r.push(n),!!n.class))if(e[n.class]){const s=e[n.class].push(n);n.classListIndex=s-1}else e[n.class]=[n],n.classListIndex=0});for(const n of r){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const rie=22,sm=({requestType:t,request:e,error:r,parseFailure:n})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,o={uri:e.uri,requestType:t},a=i&&!s||n;if(r&&s)o.error=Ls({},r),o.errorType=It.Error.NetworkRequestFailed;else if(e.aborted)o.errorType=It.Error.NetworkRequestAborted;else if(e.timedout)o.erroType=It.Error.NetworkRequestTimeout;else if(a){const l=n?It.Error.NetworkBodyParserFailed:It.Error.NetworkBadStatus;o.errorType=l,o.status=e.status,o.headers=e.headers}return o},{EventTarget:Eje}=It,Aje=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const s=n.parts||[],o=Gne(e)-1;o>-1&&o!==s.length-1&&(r._HLS_part=o),(o>-1||s.length)&&i--}r._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new Ke.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){r.hasOwnProperty(i)&&n.searchParams.set(i,r[i])}),t=n.toString()}return t},Pje=(t,e)=>{if(!t)return e;const r=Pi(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(r.parts[n]=Pi(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},kje=(t,e,r)=>{const n=t.slice(),i=e.slice();r=r||0;const s=[];let o;for(let a=0;a<i.length;a++){const l=n[a+r],u=i[a];l?(o=l.map||o,s.push(Pje(l,u))):(o&&!u.map&&(u.map=o),s.push(u))}return s},nie=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=ll(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=ll(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=ll(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=ll(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=ll(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=ll(e,r.uri))})},iie=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},sie=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,PD=(t,e,r=sie)=>{const n=Pi(t,{}),i=n.playlists[e.id];if(!i||r(i,e))return null;e.segments=iie(e);const s=Pi(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}s.segments=kje(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(o=>{nie(o,s.resolvedUri)});for(let o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,Wy(t,(o,a,l,u)=>{if(o.playlists)for(let d=0;d<o.playlists.length;d++)e.id===o.playlists[d].id&&(o.playlists[d]=s)}),n},kD=(t,e)=>{const r=t.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],s=i&&i.duration||n&&n.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},XV=(t,e,r)=>{if(!t)return;const n=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:o,CODECS:a}=i.attributes;n.push({id:i.id,bandwidth:s,resolution:o,codecs:a})}),{type:e,isLive:r,renditions:n}};class Ug extends Eje{constructor(e,r,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Wu("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=r,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const s=r.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new qV,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=ll(this.main.uri,e.uri);this.llhls&&(r=Aje(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,n){const{uri:i,id:s}=r;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:sm({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:r}){try{return wje({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(n){this.error=n,this.error.metadata={errorType:It.Error.StreamingHlsPlaylistParserError,error:n}}}haveMetadata({playlistString:e,playlistObject:r,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:s});const o=r||this.parseManifest_({url:n,manifestString:e});o.lastRequest=Date.now(),eie({playlist:o,uri:n,id:i});const a=PD(this.main,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(kD(this.media(),!!a)),s.parsedPlaylist=XV(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),Ke.clearTimeout(this.mediaUpdateTimeout),Ke.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new qV,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(Ke.clearTimeout(this.finalRenditionTimeout),r){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Ke.setTimeout(this.media.bind(this,e,!1),a);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(kD(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const o={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:o}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=oC(e.resolvedUri,l),a)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:o}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(Ke.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(Ke.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Ke.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(Ke.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Ke.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Ke.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,n)=>{if(!this.request)return;if(this.request=null,r)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:sm({requestType:n.requestType,request:n,error:r})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=oC(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=XV(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,tie(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=iie(n),n.segments.forEach(i=>{nie(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||Ke.location.href;this.main=Cje(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const n=this.main,i=e.ID;let s=n.playlists.length;for(;s--;){const o=n.playlists[s];if(o.attributes["PATHWAY-ID"]===i){const a=o.resolvedUri,l=o.id;if(r){const u=this.createCloneURI_(o.resolvedUri,e),d=av(i,u),f=this.createCloneAttributes_(i,o.attributes),h=this.createClonePlaylist_(o,d,e,f);n.playlists[s]=h,n.playlists[d]=h,n.playlists[u]=h}else n.playlists.splice(s,1);delete n.playlists[l],delete n.playlists[a]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||!n.mediaGroups[s][i])){for(const o in n.mediaGroups[s])if(o===i){for(const a in n.mediaGroups[s][o])n.mediaGroups[s][o][a].playlists.forEach((u,d)=>{const f=n.playlists[u.id],h=f.id,g=f.resolvedUri;delete n.playlists[h],delete n.playlists[g]});delete n.mediaGroups[s][o]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const n=this.main,i=n.playlists.length,s=this.createCloneURI_(r.resolvedUri,e),o=av(e.ID,s),a=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,o,e,a);n.playlists[i]=l,n.playlists[o]=l,n.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][r]))for(const o in i.mediaGroups[s]){if(o===n)i.mediaGroups[s][r]={};else continue;for(const a in i.mediaGroups[s][o]){const l=i.mediaGroups[s][o][a];i.mediaGroups[s][r][a]=Ls({},l);const u=i.mediaGroups[s][r][a],d=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=d,u.uri=d,u.playlists=[],l.playlists.forEach((f,h)=>{const g=i.playlists[f.id],v=Jne(s,r,a),p=av(r,v);if(g&&!i.playlists[p]){const b=this.createClonePlaylist_(g,p,e),S=b.resolvedUri;i.playlists[p]=b,i.playlists[S]=b}u.playlists[h]=this.createClonePlaylist_(f,p,e)})}}})}createClonePlaylist_(e,r,n,i){const s=this.createCloneURI_(e.resolvedUri,n),o={resolvedUri:s,uri:s,id:r};return e.segments&&(o.segments=[]),i&&(o.attributes=i),Pi(e,o)}createCloneURI_(e,r){const n=new URL(e);n.hostname=r["URI-REPLACEMENT"].HOST;const i=r["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))n.searchParams.set(s,i[s]);return n.href}createCloneAttributes_(e,r){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{r[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&r.add(i.toLowerCase())}return r}}}const ID=function(t,e,r,n){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),n(e,t)},Ije=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(n=>{r=n(r)}),r},Dje=(t,e,r,n)=>{!t||!t.size||t.forEach(i=>{i(e,r,n)})},oie=function(){const t=function e(r,n){r=Pi({timeout:45e3},r);const i=e.beforeRequest||It.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||It.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||It.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(It.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const a=It.Vhs.xhr.original===!0?It.xhr:It.Vhs.xhr,l=Ije(s,r);s.delete(i);const u=a(l||r,function(f,h){return Dje(o,u,f,h),ID(u,f,h,n)}),d=u.abort;return u.abort=function(){return u.aborted=!0,d.apply(u,arguments)},u.uri=r.uri,u.requestType=r.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},Rje=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Ke.BigInt(t.offset)+Ke.BigInt(t.length)-Ke.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},DD=function(t){const e={};return t.byterange&&(e.Range=Rje(t.byterange)),e},Mje=function(t,e){return t.start(e)+"-"+t.end(e)},Oje=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},$je=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},aie=function(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];Ote(n)?e[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[r]=n}),e},aC=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},lie=function(t){return t.resolvedUri},uie=t=>{const e=Array.prototype.slice.call(t),r=16;let n="",i,s;for(let o=0;o<e.length/r;o++)i=e.slice(o*r,o*r+r).map(Oje).join(""),s=e.slice(o*r,o*r+r).map($je).join(""),n+=i+" "+s+`
`;return n},Lje=({bytes:t})=>uie(t),Fje=t=>{let e="",r;for(r=0;r<t.length;r++)e+=Mje(t,r)+" ";return e};var Nje=Object.freeze({__proto__:null,createTransferableMessage:aie,initSegmentId:aC,segmentKeyId:lie,hexDump:uie,tagDump:Lje,textRanges:Fje});const cie=.25,Bje=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+r,s=t-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},Uje=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,Vje=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(r<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(r<u)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,o=i.videoTimingInfo?Uje(i.videoTimingInfo):i.duration+i.duration*cie,a=new Date(s.getTime()+o*1e3);return r>a?null:(r>new Date(s)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:cl.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},zje=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,n;for(let s=0;s<e.segments.length&&(n=e.segments[s],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(t<=r));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+i.duration*cie)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},Hje=(t,e)=>{let r,n;try{r=new Date(t),n=new Date(e)}catch{}const i=r.getTime();return(n.getTime()-i)/1e3},jje=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},Gje=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const n=zje(e,t);if(!n)return r({message:"valid programTime was not found"});if(n.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},s=Bje(e,n.segment);return s&&(i.programDateTime=s.toISOString()),r(null,i)},die=({programTime:t,playlist:e,retryCount:r=2,seekTo:n,pauseAfterSeek:i=!0,tech:s,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!jje(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const a=Vje(t,e);if(!a)return o({message:`${t} was not found in the stream`});const l=a.segment,u=Hje(l.dateTimeObject,t);if(a.type==="estimate"){if(r===0)return o({message:`${t} is not buffered yet. Try again`});n(a.estimatedStart+u),s.one("seeked",()=>{die({programTime:t,playlist:e,retryCount:r-1,seekTo:n,pauseAfterSeek:i,tech:s,callback:o})});return}const d=l.start+u,f=()=>o(null,s.currentTime());s.one("seeked",f),i&&s.pause(),n(d)},r4=(t,e)=>{if(t.readyState===4)return e()},Wje=(t,e,r,n)=>{let i=[],s,o=!1;const a=function(f,h,g,v){return h.abort(),o=!0,r(f,h,g,v)},l=function(f,h){if(o)return;if(f)return f.metadata=sm({requestType:n,request:h,error:f}),a(f,h,"",i);const g=h.responseText.substring(i&&i.byteLength||0,h.responseText.length);if(i=X7e(i,$te(g,!0)),s=s||K_(i),i.length<10||s&&i.length<s+2)return r4(h,()=>a(f,h,"",i));const v=B6(i);return v==="ts"&&i.length<188?r4(h,()=>a(f,h,"",i)):!v&&i.length<376?r4(h,()=>a(f,h,"",i)):a(null,h,v,i)},d=e({uri:t,beforeSend(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function({total:h,loaded:g}){return ID(f,null,{statusCode:f.status},l)})}},function(f,h){return ID(d,f,h,l)});return d},{EventTarget:qje}=It,YV=function(t,e){if(!sie(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const n=t.segments[r],i=e.segments[r];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const s=n.byterange,o=i.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}return!0},Xje=(t,e,r,n)=>{const i=n.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${i}`},Yje=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:n,previousManifest:i})=>{const s=vze(t,{manifestUri:e,clientOffset:r,sidxMapping:n,previousManifest:i});return tie(s,e,Xje),s},Kje=(t,e)=>{Wy(t,(r,n,i,s)=>{s in e.mediaGroups[n][i]||delete t.mediaGroups[n][i][s]})},Zje=(t,e,r)=>{let n=!0,i=Pi(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const o=e.playlists[s];if(o.sidx){const l=zE(o.sidx);r&&r[l]&&r[l].sidx&&L6(o,r[l].sidx,o.sidx.resolvedUri)}const a=PD(i,o,YV);a&&(i=a,n=!1)}return Wy(e,(s,o,a,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,d=PD(i,s.playlists[0],YV);d&&(i=d,l in i.mediaGroups[o][a]||(i.mediaGroups[o][a][l]=s),i.mediaGroups[o][a][l].playlists[0]=i.playlists[u],n=!1)}}),Kje(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},Qje=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,KV=(t,e)=>{const r={};for(const n in t){const s=t[n].sidx;if(s){const o=zE(s);if(!e[o])break;const a=e[o].sidxInfo;Qje(a,s)&&(r[o]=e[o])}}return r},Jje=(t,e)=>{let n=KV(t.playlists,e);return Wy(t,(i,s,o,a)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=Pi(n,KV(l,e))}}),n};class RD extends qje{constructor(e,r,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=n;if(this.vhs_=r,this.withCredentials=s,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Wu("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,r,n){const i=e.sidx&&zE(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=Ke.setTimeout(()=>n(!1),0);return}const s=oC(e.sidx.resolvedUri),o=(l,u)=>{if(this.requestErrored_(l,u,r))return;const d=this.mainPlaylistLoader_.sidxMapping_,{requestType:f}=u;let h;try{h=Sze(mn(u.response).subarray(8))}catch(g){g.metadata=sm({requestType:f,request:u,parseFailure:!0}),this.requestErrored_(g,u,r);return}return d[i]={sidxInfo:e.sidx,sidx:h},L6(e,h,e.sidx.resolvedUri),n(!0)},a="dash-sidx";this.request=Wje(s,this.vhs_.xhr,(l,u,d,f)=>{if(l)return o(l,u);if(!d||d!=="mp4"){const v=d||"unknown";return o({status:u.status,message:`Unsupported ${v} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:h,length:g}=e.sidx.byterange;if(f.length>=g+h)return o(l,{response:f.subarray(h,h+g),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:DD({byterange:e.sidx.byterange})},o)},a)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Ke.clearTimeout(this.minimumUpdatePeriodTimeout_),Ke.clearTimeout(this.mediaRequest_),Ke.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,i=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Ke.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(Ke.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){Ke.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Ke.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=Ke.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:r}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,i)=>{if(n){const{requestType:o}=i;n.metadata=sm({requestType:o,request:i,error:n})}if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:r});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=oC(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const r=yze(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:ll(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n){const{requestType:o}=i;return this.error.metadata=sm({requestType:o,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;r.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:r});let n;try{n=Yje({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:It.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(n=Zje(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:s,endList:o}=n,a=[];n.playlists.forEach(u=>{a.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!o,renditions:a};r.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:r})}return!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Ke.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=Ke.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=Jje(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==r[e];if(n?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=Ke.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},kD(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&r.add(i.replace(/-/g,"").toLowerCase())}return r}}}var Eo={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const eGe=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},fie=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},tGe=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},hie=function(t){return function(){const e=tGe(t),r=fie(new Worker(e));r.objURL=e;const n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},r}},pie=function(t){return`var browserWorkerPolyFill = ${fie.toString()};
browserWorkerPolyFill(self);
`+t},mie=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},rGe=pie(mie(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var P={};this.on=function(L,V){P[L]||(P[L]=[]),P[L]=P[L].concat(V)},this.off=function(L,V){var B;return P[L]?(B=P[L].indexOf(V),P[L]=P[L].slice(),P[L].splice(B,1),B>-1):!1},this.trigger=function(L){var V,B,Z,fe;if(V=P[L],!!V)if(arguments.length===2)for(Z=V.length,B=0;B<Z;++B)V[B].call(this,arguments[1]);else{for(fe=[],B=arguments.length,B=1;B<arguments.length;++B)fe.push(arguments[B]);for(Z=V.length,B=0;B<Z;++B)V[B].apply(this,fe)}},this.dispose=function(){P={}}}};e.prototype.pipe=function(P){return this.on("data",function(L){P.push(L)}),this.on("done",function(L){P.flush(L)}),this.on("partialdone",function(L){P.partialFlush(L)}),this.on("endedtimeline",function(L){P.endTimeline(L)}),this.on("reset",function(L){P.reset(L)}),P},e.prototype.push=function(P){this.trigger("data",P)},e.prototype.flush=function(P){this.trigger("done",P)},e.prototype.partialFlush=function(P){this.trigger("partialdone",P)},e.prototype.endTimeline=function(P){this.trigger("endedtimeline",P)},e.prototype.reset=function(P){this.trigger("reset",P)};var r=e,n=Math.pow(2,32),i=function(P){var L=new DataView(P.buffer,P.byteOffset,P.byteLength),V;return L.getBigUint64?(V=L.getBigUint64(0),V<Number.MAX_SAFE_INTEGER?Number(V):V):L.getUint32(0)*n+L.getUint32(4)},s={getUint64:i,MAX_UINT32:n},o=s.MAX_UINT32,a,l,u,d,f,h,g,v,p,b,S,C,T,A,E,I,O,N,G,ie,W,q,J,X,R,z,re,oe,H,ee,ae,be,Me,Qe,ht,je;(function(){var P;if(J={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(P in J)J.hasOwnProperty(P)&&(J[P]=[P.charCodeAt(0),P.charCodeAt(1),P.charCodeAt(2),P.charCodeAt(3)]);X=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),z=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),R=new Uint8Array([0,0,0,1]),re=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),oe=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),H={video:re,audio:oe},be=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ae=new Uint8Array([0,0,0,0,0,0,0,0]),Me=new Uint8Array([0,0,0,0,0,0,0,0]),Qe=Me,ht=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),je=Me,ee=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(P){var L=[],V=0,B,Z,fe;for(B=1;B<arguments.length;B++)L.push(arguments[B]);for(B=L.length;B--;)V+=L[B].byteLength;for(Z=new Uint8Array(V+8),fe=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),fe.setUint32(0,Z.byteLength),Z.set(P,4),B=0,V=8;B<L.length;B++)Z.set(L[B],V),V+=L[B].byteLength;return Z},l=function(){return a(J.dinf,a(J.dref,be))},u=function(P){return a(J.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,P.audioobjecttype<<3|P.samplingfrequencyindex>>>1,P.samplingfrequencyindex<<7|P.channelcount<<3,6,1,2]))},d=function(){return a(J.ftyp,X,R,X,z)},I=function(P){return a(J.hdlr,H[P])},f=function(P){return a(J.mdat,P)},E=function(P){var L=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,P.duration>>>24&255,P.duration>>>16&255,P.duration>>>8&255,P.duration&255,85,196,0,0]);return P.samplerate&&(L[12]=P.samplerate>>>24&255,L[13]=P.samplerate>>>16&255,L[14]=P.samplerate>>>8&255,L[15]=P.samplerate&255),a(J.mdhd,L)},A=function(P){return a(J.mdia,E(P),I(P.type),g(P))},h=function(P){return a(J.mfhd,new Uint8Array([0,0,0,0,(P&4278190080)>>24,(P&16711680)>>16,(P&65280)>>8,P&255]))},g=function(P){return a(J.minf,P.type==="video"?a(J.vmhd,ee):a(J.smhd,ae),l(),N(P))},v=function(P,L){for(var V=[],B=L.length;B--;)V[B]=ie(L[B]);return a.apply(null,[J.moof,h(P)].concat(V))},p=function(P){for(var L=P.length,V=[];L--;)V[L]=C(P[L]);return a.apply(null,[J.moov,S(4294967295)].concat(V).concat(b(P)))},b=function(P){for(var L=P.length,V=[];L--;)V[L]=W(P[L]);return a.apply(null,[J.mvex].concat(V))},S=function(P){var L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(P&4278190080)>>24,(P&16711680)>>16,(P&65280)>>8,P&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(J.mvhd,L)},O=function(P){var L=P.samples||[],V=new Uint8Array(4+L.length),B,Z;for(Z=0;Z<L.length;Z++)B=L[Z].flags,V[Z+4]=B.dependsOn<<4|B.isDependedOn<<2|B.hasRedundancy;return a(J.sdtp,V)},N=function(P){return a(J.stbl,G(P),a(J.stts,je),a(J.stsc,Qe),a(J.stsz,ht),a(J.stco,Me))},function(){var P,L;G=function(V){return a(J.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),V.type==="video"?P(V):L(V))},P=function(V){var B=V.sps||[],Z=V.pps||[],fe=[],Oe=[],Ve,We;for(Ve=0;Ve<B.length;Ve++)fe.push((B[Ve].byteLength&65280)>>>8),fe.push(B[Ve].byteLength&255),fe=fe.concat(Array.prototype.slice.call(B[Ve]));for(Ve=0;Ve<Z.length;Ve++)Oe.push((Z[Ve].byteLength&65280)>>>8),Oe.push(Z[Ve].byteLength&255),Oe=Oe.concat(Array.prototype.slice.call(Z[Ve]));if(We=[J.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(V.width&65280)>>8,V.width&255,(V.height&65280)>>8,V.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(J.avcC,new Uint8Array([1,V.profileIdc,V.profileCompatibility,V.levelIdc,255].concat([B.length],fe,[Z.length],Oe))),a(J.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],V.sarRatio){var Je=V.sarRatio[0],xt=V.sarRatio[1];We.push(a(J.pasp,new Uint8Array([(Je&4278190080)>>24,(Je&16711680)>>16,(Je&65280)>>8,Je&255,(xt&4278190080)>>24,(xt&16711680)>>16,(xt&65280)>>8,xt&255])))}return a.apply(null,We)},L=function(V){return a(J.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(V.channelcount&65280)>>8,V.channelcount&255,(V.samplesize&65280)>>8,V.samplesize&255,0,0,0,0,(V.samplerate&65280)>>8,V.samplerate&255,0,0]),u(V))}}(),T=function(P){var L=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,0,(P.duration&4278190080)>>24,(P.duration&16711680)>>16,(P.duration&65280)>>8,P.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(P.width&65280)>>8,P.width&255,0,0,(P.height&65280)>>8,P.height&255,0,0]);return a(J.tkhd,L)},ie=function(P){var L,V,B,Z,fe,Oe,Ve;return L=a(J.tfhd,new Uint8Array([0,0,0,58,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),Oe=Math.floor(P.baseMediaDecodeTime/o),Ve=Math.floor(P.baseMediaDecodeTime%o),V=a(J.tfdt,new Uint8Array([1,0,0,0,Oe>>>24&255,Oe>>>16&255,Oe>>>8&255,Oe&255,Ve>>>24&255,Ve>>>16&255,Ve>>>8&255,Ve&255])),fe=32+20+8+16+8+8,P.type==="audio"?(B=q(P,fe),a(J.traf,L,V,B)):(Z=O(P),B=q(P,Z.length+fe),a(J.traf,L,V,B,Z))},C=function(P){return P.duration=P.duration||4294967295,a(J.trak,T(P),A(P))},W=function(P){var L=new Uint8Array([0,0,0,0,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return P.type!=="video"&&(L[L.length-1]=0),a(J.trex,L)},function(){var P,L,V;V=function(B,Z){var fe=0,Oe=0,Ve=0,We=0;return B.length&&(B[0].duration!==void 0&&(fe=1),B[0].size!==void 0&&(Oe=2),B[0].flags!==void 0&&(Ve=4),B[0].compositionTimeOffset!==void 0&&(We=8)),[0,0,fe|Oe|Ve|We,1,(B.length&4278190080)>>>24,(B.length&16711680)>>>16,(B.length&65280)>>>8,B.length&255,(Z&4278190080)>>>24,(Z&16711680)>>>16,(Z&65280)>>>8,Z&255]},L=function(B,Z){var fe,Oe,Ve,We,Je,xt;for(We=B.samples||[],Z+=8+12+16*We.length,Ve=V(We,Z),Oe=new Uint8Array(Ve.length+We.length*16),Oe.set(Ve),fe=Ve.length,xt=0;xt<We.length;xt++)Je=We[xt],Oe[fe++]=(Je.duration&4278190080)>>>24,Oe[fe++]=(Je.duration&16711680)>>>16,Oe[fe++]=(Je.duration&65280)>>>8,Oe[fe++]=Je.duration&255,Oe[fe++]=(Je.size&4278190080)>>>24,Oe[fe++]=(Je.size&16711680)>>>16,Oe[fe++]=(Je.size&65280)>>>8,Oe[fe++]=Je.size&255,Oe[fe++]=Je.flags.isLeading<<2|Je.flags.dependsOn,Oe[fe++]=Je.flags.isDependedOn<<6|Je.flags.hasRedundancy<<4|Je.flags.paddingValue<<1|Je.flags.isNonSyncSample,Oe[fe++]=Je.flags.degradationPriority&61440,Oe[fe++]=Je.flags.degradationPriority&15,Oe[fe++]=(Je.compositionTimeOffset&4278190080)>>>24,Oe[fe++]=(Je.compositionTimeOffset&16711680)>>>16,Oe[fe++]=(Je.compositionTimeOffset&65280)>>>8,Oe[fe++]=Je.compositionTimeOffset&255;return a(J.trun,Oe)},P=function(B,Z){var fe,Oe,Ve,We,Je,xt;for(We=B.samples||[],Z+=8+12+8*We.length,Ve=V(We,Z),fe=new Uint8Array(Ve.length+We.length*8),fe.set(Ve),Oe=Ve.length,xt=0;xt<We.length;xt++)Je=We[xt],fe[Oe++]=(Je.duration&4278190080)>>>24,fe[Oe++]=(Je.duration&16711680)>>>16,fe[Oe++]=(Je.duration&65280)>>>8,fe[Oe++]=Je.duration&255,fe[Oe++]=(Je.size&4278190080)>>>24,fe[Oe++]=(Je.size&16711680)>>>16,fe[Oe++]=(Je.size&65280)>>>8,fe[Oe++]=Je.size&255;return a(J.trun,fe)},q=function(B,Z){return B.type==="audio"?P(B,Z):L(B,Z)}}();var ze={ftyp:d,mdat:f,moof:v,moov:p,initSegment:function(P){var L=d(),V=p(P),B;return B=new Uint8Array(L.byteLength+V.byteLength),B.set(L),B.set(V,L.byteLength),B}},ut=function(P){var L,V,B=[],Z=[];for(Z.byteLength=0,Z.nalCount=0,Z.duration=0,B.byteLength=0,L=0;L<P.length;L++)V=P[L],V.nalUnitType==="access_unit_delimiter_rbsp"?(B.length&&(B.duration=V.dts-B.dts,Z.byteLength+=B.byteLength,Z.nalCount+=B.length,Z.duration+=B.duration,Z.push(B)),B=[V],B.byteLength=V.data.byteLength,B.pts=V.pts,B.dts=V.dts):(V.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(B.keyFrame=!0),B.duration=V.dts-B.dts,B.byteLength+=V.data.byteLength,B.push(V));return Z.length&&(!B.duration||B.duration<=0)&&(B.duration=Z[Z.length-1].duration),Z.byteLength+=B.byteLength,Z.nalCount+=B.length,Z.duration+=B.duration,Z.push(B),Z},ct=function(P){var L,V,B=[],Z=[];for(B.byteLength=0,B.nalCount=0,B.duration=0,B.pts=P[0].pts,B.dts=P[0].dts,Z.byteLength=0,Z.nalCount=0,Z.duration=0,Z.pts=P[0].pts,Z.dts=P[0].dts,L=0;L<P.length;L++)V=P[L],V.keyFrame?(B.length&&(Z.push(B),Z.byteLength+=B.byteLength,Z.nalCount+=B.nalCount,Z.duration+=B.duration),B=[V],B.nalCount=V.length,B.byteLength=V.byteLength,B.pts=V.pts,B.dts=V.dts,B.duration=V.duration):(B.duration+=V.duration,B.nalCount+=V.length,B.byteLength+=V.byteLength,B.push(V));return Z.length&&B.duration<=0&&(B.duration=Z[Z.length-1].duration),Z.byteLength+=B.byteLength,Z.nalCount+=B.nalCount,Z.duration+=B.duration,Z.push(B),Z},mt=function(P){var L;return!P[0][0].keyFrame&&P.length>1&&(L=P.shift(),P.byteLength-=L.byteLength,P.nalCount-=L.nalCount,P[0][0].dts=L.dts,P[0][0].pts=L.pts,P[0][0].duration+=L.duration),P},jt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},vt=function(P,L){var V=jt();return V.dataOffset=L,V.compositionTimeOffset=P.pts-P.dts,V.duration=P.duration,V.size=4*P.length,V.size+=P.byteLength,P.keyFrame&&(V.flags.dependsOn=2,V.flags.isNonSyncSample=0),V},se=function(P,L){var V,B,Z,fe,Oe,Ve=L||0,We=[];for(V=0;V<P.length;V++)for(fe=P[V],B=0;B<fe.length;B++)Oe=fe[B],Z=vt(Oe,Ve),Ve+=Z.size,We.push(Z);return We},Pe=function(P){var L,V,B,Z,fe,Oe,Ve=0,We=P.byteLength,Je=P.nalCount,xt=We+4*Je,Ht=new Uint8Array(xt),Fr=new DataView(Ht.buffer);for(L=0;L<P.length;L++)for(Z=P[L],V=0;V<Z.length;V++)for(fe=Z[V],B=0;B<fe.length;B++)Oe=fe[B],Fr.setUint32(Ve,Oe.data.byteLength),Ve+=4,Ht.set(Oe.data,Ve),Ve+=Oe.data.byteLength;return Ht},tt=function(P,L){var V,B=L||0,Z=[];return V=vt(P,B),Z.push(V),Z},et=function(P){var L,V,B=0,Z=P.byteLength,fe=P.length,Oe=Z+4*fe,Ve=new Uint8Array(Oe),We=new DataView(Ve.buffer);for(L=0;L<P.length;L++)V=P[L],We.setUint32(B,V.data.byteLength),B+=4,Ve.set(V.data,B),B+=V.data.byteLength;return Ve},ot={groupNalsIntoFrames:ut,groupFramesIntoGops:ct,extendFirstKeyFrame:mt,generateSampleTable:se,concatenateNalData:Pe,generateSampleTableForFrame:tt,concatenateNalDataForFrame:et},St=[33,16,5,32,164,27],Dt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],_t=function(P){for(var L=[];P--;)L.push(0);return L},Kt=function(P){return Object.keys(P).reduce(function(L,V){return L[V]=new Uint8Array(P[V].reduce(function(B,Z){return B.concat(Z)},[])),L},{})},Ut,lt=function(){if(!Ut){var P={96e3:[St,[227,64],_t(154),[56]],88200:[St,[231],_t(170),[56]],64e3:[St,[248,192],_t(240),[56]],48e3:[St,[255,192],_t(268),[55,148,128],_t(54),[112]],44100:[St,[255,192],_t(268),[55,163,128],_t(84),[112]],32e3:[St,[255,192],_t(268),[55,234],_t(226),[112]],24e3:[St,[255,192],_t(268),[55,255,128],_t(268),[111,112],_t(126),[224]],16e3:[St,[255,192],_t(268),[55,255,128],_t(268),[111,255],_t(269),[223,108],_t(195),[1,192]],12e3:[Dt,_t(268),[3,127,248],_t(268),[6,255,240],_t(268),[13,255,224],_t(268),[27,253,128],_t(259),[56]],11025:[Dt,_t(268),[3,127,248],_t(268),[6,255,240],_t(268),[13,255,224],_t(268),[27,255,192],_t(268),[55,175,128],_t(108),[112]],8e3:[Dt,_t(268),[3,121,16],_t(47),[7]]};Ut=Kt(P)}return Ut},kt=9e4,yt,Pt,Er,zt,xr,Ot,Re;yt=function(P){return P*kt},Pt=function(P,L){return P*L},Er=function(P){return P/kt},zt=function(P,L){return P/L},xr=function(P,L){return yt(zt(P,L))},Ot=function(P,L){return Pt(Er(P),L)},Re=function(P,L,V){return Er(V?P:P-L)};var Ie={ONE_SECOND_IN_TS:kt,secondsToVideoTs:yt,secondsToAudioTs:Pt,videoTsToSeconds:Er,audioTsToSeconds:zt,audioTsToVideoTs:xr,videoTsToAudioTs:Ot,metadataTsToSeconds:Re},nt=lt,le=Ie,Ee=function(P){var L,V,B=0;for(L=0;L<P.length;L++)V=P[L],B+=V.data.byteLength;return B},Fe=function(P,L,V,B){var Z,fe=0,Oe=0,Ve=0,We=0,Je,xt,Ht;if(L.length&&(Z=le.audioTsToVideoTs(P.baseMediaDecodeTime,P.samplerate),fe=Math.ceil(le.ONE_SECOND_IN_TS/(P.samplerate/1024)),V&&B&&(Oe=Z-Math.max(V,B),Ve=Math.floor(Oe/fe),We=Ve*fe),!(Ve<1||We>le.ONE_SECOND_IN_TS/2))){for(Je=nt()[P.samplerate],Je||(Je=L[0].data),xt=0;xt<Ve;xt++)Ht=L[0],L.splice(0,0,{data:Je,dts:Ht.dts-fe,pts:Ht.pts-fe});return P.baseMediaDecodeTime-=Math.floor(le.videoTsToAudioTs(We,P.samplerate)),We}},He=function(P,L,V){return L.minSegmentDts>=V?P:(L.minSegmentDts=1/0,P.filter(function(B){return B.dts>=V?(L.minSegmentDts=Math.min(L.minSegmentDts,B.dts),L.minSegmentPts=L.minSegmentDts,!0):!1}))},Ar=function(P){var L,V,B=[];for(L=0;L<P.length;L++)V=P[L],B.push({size:V.data.byteLength,duration:1024});return B},c=function(P){var L,V,B=0,Z=new Uint8Array(Ee(P));for(L=0;L<P.length;L++)V=P[L],Z.set(V.data,B),B+=V.data.byteLength;return Z},$t={prefixWithSilence:Fe,trimAdtsFramesByEarliestDts:He,generateSampleTable:Ar,concatenateFrameData:c},ur=Ie.ONE_SECOND_IN_TS,he=function(P,L){typeof L.pts=="number"&&(P.timelineStartInfo.pts===void 0&&(P.timelineStartInfo.pts=L.pts),P.minSegmentPts===void 0?P.minSegmentPts=L.pts:P.minSegmentPts=Math.min(P.minSegmentPts,L.pts),P.maxSegmentPts===void 0?P.maxSegmentPts=L.pts:P.maxSegmentPts=Math.max(P.maxSegmentPts,L.pts)),typeof L.dts=="number"&&(P.timelineStartInfo.dts===void 0&&(P.timelineStartInfo.dts=L.dts),P.minSegmentDts===void 0?P.minSegmentDts=L.dts:P.minSegmentDts=Math.min(P.minSegmentDts,L.dts),P.maxSegmentDts===void 0?P.maxSegmentDts=L.dts:P.maxSegmentDts=Math.max(P.maxSegmentDts,L.dts))},w=function(P){delete P.minSegmentDts,delete P.maxSegmentDts,delete P.minSegmentPts,delete P.maxSegmentPts},k=function(P,L){var V,B,Z=P.minSegmentDts;return L||(Z-=P.timelineStartInfo.dts),V=P.timelineStartInfo.baseMediaDecodeTime,V+=Z,V=Math.max(0,V),P.type==="audio"&&(B=P.samplerate/ur,V*=B,V=Math.floor(V)),V},U={clearDtsInfo:w,calculateTrackBaseMediaDecodeTime:k,collectDtsInfo:he},de=4,ye=128,ue=function(P){for(var L=0,V={payloadType:-1,payloadSize:0},B=0,Z=0;L<P.byteLength&&P[L]!==ye;){for(;P[L]===255;)B+=255,L++;for(B+=P[L++];P[L]===255;)Z+=255,L++;if(Z+=P[L++],!V.payload&&B===de){var fe=String.fromCharCode(P[L+3],P[L+4],P[L+5],P[L+6]);if(fe==="GA94"){V.payloadType=B,V.payloadSize=Z,V.payload=P.subarray(L,L+Z);break}else V.payload=void 0}L+=Z,B=0,Z=0}return V},ke=function(P){return P.payload[0]!==181||(P.payload[1]<<8|P.payload[2])!==49||String.fromCharCode(P.payload[3],P.payload[4],P.payload[5],P.payload[6])!=="GA94"||P.payload[7]!==3?null:P.payload.subarray(8,P.payload.length-1)},De=function(P,L){var V=[],B,Z,fe,Oe;if(!(L[0]&64))return V;for(Z=L[0]&31,B=0;B<Z;B++)fe=B*3,Oe={type:L[fe+2]&3,pts:P},L[fe+2]&4&&(Oe.ccData=L[fe+3]<<8|L[fe+4],V.push(Oe));return V},we=function(P){for(var L=P.byteLength,V=[],B=1,Z,fe;B<L-2;)P[B]===0&&P[B+1]===0&&P[B+2]===3?(V.push(B+2),B+=2):B++;if(V.length===0)return P;Z=L-V.length,fe=new Uint8Array(Z);var Oe=0;for(B=0;B<Z;Oe++,B++)Oe===V[0]&&(Oe++,V.shift()),fe[B]=P[Oe];return fe},Be={parseSei:ue,parseUserData:ke,parseCaptionPackets:De,discardEmulationPreventionBytes:we,USER_DATA_REGISTERED_ITU_T_T35:de},it=r,at=Be,ft=function(P){P=P||{},ft.prototype.init.call(this),this.parse708captions_=typeof P.parse708captions=="boolean"?P.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Jt(0,0),new Jt(0,1),new Jt(1,0),new Jt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Gt({captionServices:P.captionServices})),this.reset(),this.ccStreams_.forEach(function(L){L.on("data",this.trigger.bind(this,"data")),L.on("partialdone",this.trigger.bind(this,"partialdone")),L.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ft.prototype=new it,ft.prototype.push=function(P){var L,V,B;if(P.nalUnitType==="sei_rbsp"&&(L=at.parseSei(P.escapedRBSP),!!L.payload&&L.payloadType===at.USER_DATA_REGISTERED_ITU_T_T35&&(V=at.parseUserData(L),!!V))){if(P.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(P.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}B=at.parseCaptionPackets(P.pts,V),this.captionPackets_=this.captionPackets_.concat(B),this.latestDts_!==P.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=P.dts}},ft.prototype.flushCCStreams=function(P){this.ccStreams_.forEach(function(L){return P==="flush"?L.flush():L.partialFlush()},this)},ft.prototype.flushStream=function(P){if(!this.captionPackets_.length){this.flushCCStreams(P);return}this.captionPackets_.forEach(function(L,V){L.presortIndex=V}),this.captionPackets_.sort(function(L,V){return L.pts===V.pts?L.presortIndex-V.presortIndex:L.pts-V.pts}),this.captionPackets_.forEach(function(L){L.type<2?this.dispatchCea608Packet(L):this.dispatchCea708Packet(L)},this),this.captionPackets_.length=0,this.flushCCStreams(P)},ft.prototype.flush=function(){return this.flushStream("flush")},ft.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ft.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(P){P.reset()})},ft.prototype.dispatchCea608Packet=function(P){this.setsTextOrXDSActive(P)?this.activeCea608Channel_[P.type]=null:this.setsChannel1Active(P)?this.activeCea608Channel_[P.type]=0:this.setsChannel2Active(P)&&(this.activeCea608Channel_[P.type]=1),this.activeCea608Channel_[P.type]!==null&&this.ccStreams_[(P.type<<1)+this.activeCea608Channel_[P.type]].push(P)},ft.prototype.setsChannel1Active=function(P){return(P.ccData&30720)===4096},ft.prototype.setsChannel2Active=function(P){return(P.ccData&30720)===6144},ft.prototype.setsTextOrXDSActive=function(P){return(P.ccData&28928)===256||(P.ccData&30974)===4138||(P.ccData&30974)===6186},ft.prototype.dispatchCea708Packet=function(P){this.parse708captions_&&this.cc708Stream_.push(P)};var Nt={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Xe=function(P){var L=Nt[P]||P;return P&4096&&P===L?"":String.fromCharCode(L)},qe=function(P){return 32<=P&&P<=127||160<=P&&P<=255},Mt=function(P){this.windowNum=P,this.reset()};Mt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Mt.prototype.getText=function(){return this.rows.join(`
`)},Mt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Mt.prototype.newLine=function(P){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(P),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Mt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Mt.prototype.addText=function(P){this.rows[this.rowIdx]+=P},Mt.prototype.backspace=function(){if(!this.isEmpty()){var P=this.rows[this.rowIdx];this.rows[this.rowIdx]=P.substr(0,P.length-1)}};var Lt=function(P,L,V){this.serviceNum=P,this.text="",this.currentWindow=new Mt(-1),this.windows=[],this.stream=V,typeof L=="string"&&this.createTextDecoder(L)};Lt.prototype.init=function(P,L){this.startPts=P;for(var V=0;V<8;V++)this.windows[V]=new Mt(V),typeof L=="function"&&(this.windows[V].beforeRowOverflow=L)},Lt.prototype.setCurrentWindow=function(P){this.currentWindow=this.windows[P]},Lt.prototype.createTextDecoder=function(P){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(P)}catch(L){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+P+" encoding. "+L})}};var Gt=function(P){P=P||{},Gt.prototype.init.call(this);var L=this,V=P.captionServices||{},B={},Z;Object.keys(V).forEach(fe=>{Z=V[fe],/^SERVICE/.test(fe)&&(B[fe]=Z.encoding)}),this.serviceEncodings=B,this.current708Packet=null,this.services={},this.push=function(fe){fe.type===3?(L.new708Packet(),L.add708Bytes(fe)):(L.current708Packet===null&&L.new708Packet(),L.add708Bytes(fe))}};Gt.prototype=new it,Gt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Gt.prototype.add708Bytes=function(P){var L=P.ccData,V=L>>>8,B=L&255;this.current708Packet.ptsVals.push(P.pts),this.current708Packet.data.push(V),this.current708Packet.data.push(B)},Gt.prototype.push708Packet=function(){var P=this.current708Packet,L=P.data,V=null,B=null,Z=0,fe=L[Z++];for(P.seq=fe>>6,P.sizeCode=fe&63;Z<L.length;Z++)fe=L[Z++],V=fe>>5,B=fe&31,V===7&&B>0&&(fe=L[Z++],V=fe),this.pushServiceBlock(V,Z,B),B>0&&(Z+=B-1)},Gt.prototype.pushServiceBlock=function(P,L,V){var B,Z=L,fe=this.current708Packet.data,Oe=this.services[P];for(Oe||(Oe=this.initService(P,Z));Z<L+V&&Z<fe.length;Z++)B=fe[Z],qe(B)?Z=this.handleText(Z,Oe):B===24?Z=this.multiByteCharacter(Z,Oe):B===16?Z=this.extendedCommands(Z,Oe):128<=B&&B<=135?Z=this.setCurrentWindow(Z,Oe):152<=B&&B<=159?Z=this.defineWindow(Z,Oe):B===136?Z=this.clearWindows(Z,Oe):B===140?Z=this.deleteWindows(Z,Oe):B===137?Z=this.displayWindows(Z,Oe):B===138?Z=this.hideWindows(Z,Oe):B===139?Z=this.toggleWindows(Z,Oe):B===151?Z=this.setWindowAttributes(Z,Oe):B===144?Z=this.setPenAttributes(Z,Oe):B===145?Z=this.setPenColor(Z,Oe):B===146?Z=this.setPenLocation(Z,Oe):B===143?Oe=this.reset(Z,Oe):B===8?Oe.currentWindow.backspace():B===12?Oe.currentWindow.clearText():B===13?Oe.currentWindow.pendingNewLine=!0:B===14?Oe.currentWindow.clearText():B===141&&Z++},Gt.prototype.extendedCommands=function(P,L){var V=this.current708Packet.data,B=V[++P];return qe(B)&&(P=this.handleText(P,L,{isExtended:!0})),P},Gt.prototype.getPts=function(P){return this.current708Packet.ptsVals[Math.floor(P/2)]},Gt.prototype.initService=function(P,L){var B="SERVICE"+P,V=this,B,Z;return B in this.serviceEncodings&&(Z=this.serviceEncodings[B]),this.services[P]=new Lt(P,Z,V),this.services[P].init(this.getPts(L),function(fe){V.flushDisplayed(fe,V.services[P])}),this.services[P]},Gt.prototype.handleText=function(P,L,V){var B=V&&V.isExtended,Z=V&&V.isMultiByte,fe=this.current708Packet.data,Oe=B?4096:0,Ve=fe[P],We=fe[P+1],Je=L.currentWindow,xt,Ht;function Fr(rr){return rr.map(yn=>("0"+(yn&255).toString(16)).slice(-2)).join("")}if(Z?(Ht=[Ve,We],P++):Ht=[Ve],L.textDecoder_&&!B)xt=L.textDecoder_.decode(new Uint8Array(Ht));else if(Z){const rr=Fr(Ht);xt=String.fromCharCode(parseInt(rr,16))}else xt=Xe(Oe|Ve);return Je.pendingNewLine&&!Je.isEmpty()&&Je.newLine(this.getPts(P)),Je.pendingNewLine=!1,Je.addText(xt),P},Gt.prototype.multiByteCharacter=function(P,L){var V=this.current708Packet.data,B=V[P+1],Z=V[P+2];return qe(B)&&qe(Z)&&(P=this.handleText(++P,L,{isMultiByte:!0})),P},Gt.prototype.setCurrentWindow=function(P,L){var V=this.current708Packet.data,B=V[P],Z=B&7;return L.setCurrentWindow(Z),P},Gt.prototype.defineWindow=function(P,L){var V=this.current708Packet.data,B=V[P],Z=B&7;L.setCurrentWindow(Z);var fe=L.currentWindow;return B=V[++P],fe.visible=(B&32)>>5,fe.rowLock=(B&16)>>4,fe.columnLock=(B&8)>>3,fe.priority=B&7,B=V[++P],fe.relativePositioning=(B&128)>>7,fe.anchorVertical=B&127,B=V[++P],fe.anchorHorizontal=B,B=V[++P],fe.anchorPoint=(B&240)>>4,fe.rowCount=B&15,B=V[++P],fe.columnCount=B&63,B=V[++P],fe.windowStyle=(B&56)>>3,fe.penStyle=B&7,fe.virtualRowCount=fe.rowCount+1,P},Gt.prototype.setWindowAttributes=function(P,L){var V=this.current708Packet.data,B=V[P],Z=L.currentWindow.winAttr;return B=V[++P],Z.fillOpacity=(B&192)>>6,Z.fillRed=(B&48)>>4,Z.fillGreen=(B&12)>>2,Z.fillBlue=B&3,B=V[++P],Z.borderType=(B&192)>>6,Z.borderRed=(B&48)>>4,Z.borderGreen=(B&12)>>2,Z.borderBlue=B&3,B=V[++P],Z.borderType+=(B&128)>>5,Z.wordWrap=(B&64)>>6,Z.printDirection=(B&48)>>4,Z.scrollDirection=(B&12)>>2,Z.justify=B&3,B=V[++P],Z.effectSpeed=(B&240)>>4,Z.effectDirection=(B&12)>>2,Z.displayEffect=B&3,P},Gt.prototype.flushDisplayed=function(P,L){for(var V=[],B=0;B<8;B++)L.windows[B].visible&&!L.windows[B].isEmpty()&&V.push(L.windows[B].getText());L.endPts=P,L.text=V.join(`

`),this.pushCaption(L),L.startPts=P},Gt.prototype.pushCaption=function(P){P.text!==""&&(this.trigger("data",{startPts:P.startPts,endPts:P.endPts,text:P.text,stream:"cc708_"+P.serviceNum}),P.text="",P.startPts=P.endPts)},Gt.prototype.displayWindows=function(P,L){var V=this.current708Packet.data,B=V[++P],Z=this.getPts(P);this.flushDisplayed(Z,L);for(var fe=0;fe<8;fe++)B&1<<fe&&(L.windows[fe].visible=1);return P},Gt.prototype.hideWindows=function(P,L){var V=this.current708Packet.data,B=V[++P],Z=this.getPts(P);this.flushDisplayed(Z,L);for(var fe=0;fe<8;fe++)B&1<<fe&&(L.windows[fe].visible=0);return P},Gt.prototype.toggleWindows=function(P,L){var V=this.current708Packet.data,B=V[++P],Z=this.getPts(P);this.flushDisplayed(Z,L);for(var fe=0;fe<8;fe++)B&1<<fe&&(L.windows[fe].visible^=1);return P},Gt.prototype.clearWindows=function(P,L){var V=this.current708Packet.data,B=V[++P],Z=this.getPts(P);this.flushDisplayed(Z,L);for(var fe=0;fe<8;fe++)B&1<<fe&&L.windows[fe].clearText();return P},Gt.prototype.deleteWindows=function(P,L){var V=this.current708Packet.data,B=V[++P],Z=this.getPts(P);this.flushDisplayed(Z,L);for(var fe=0;fe<8;fe++)B&1<<fe&&L.windows[fe].reset();return P},Gt.prototype.setPenAttributes=function(P,L){var V=this.current708Packet.data,B=V[P],Z=L.currentWindow.penAttr;return B=V[++P],Z.textTag=(B&240)>>4,Z.offset=(B&12)>>2,Z.penSize=B&3,B=V[++P],Z.italics=(B&128)>>7,Z.underline=(B&64)>>6,Z.edgeType=(B&56)>>3,Z.fontStyle=B&7,P},Gt.prototype.setPenColor=function(P,L){var V=this.current708Packet.data,B=V[P],Z=L.currentWindow.penColor;return B=V[++P],Z.fgOpacity=(B&192)>>6,Z.fgRed=(B&48)>>4,Z.fgGreen=(B&12)>>2,Z.fgBlue=B&3,B=V[++P],Z.bgOpacity=(B&192)>>6,Z.bgRed=(B&48)>>4,Z.bgGreen=(B&12)>>2,Z.bgBlue=B&3,B=V[++P],Z.edgeRed=(B&48)>>4,Z.edgeGreen=(B&12)>>2,Z.edgeBlue=B&3,P},Gt.prototype.setPenLocation=function(P,L){var V=this.current708Packet.data,B=V[P],Z=L.currentWindow.penLoc;return L.currentWindow.pendingNewLine=!0,B=V[++P],Z.row=B&15,B=V[++P],Z.column=B&63,P},Gt.prototype.reset=function(P,L){var V=this.getPts(P);return this.flushDisplayed(V,L),this.initService(L.serviceNum,P)};var Zt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Or=function(P){return P===null?"":(P=Zt[P]||P,String.fromCharCode(P))},fr=14,_e=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ar=function(){for(var P=[],L=fr+1;L--;)P.push({text:"",indent:0,offset:0});return P},Jt=function(P,L){Jt.prototype.init.call(this),this.field_=P||0,this.dataChannel_=L||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(V){var B,Z,fe,Oe,Ve;if(B=V.ccData&32639,B===this.lastControlCode_){this.lastControlCode_=null;return}if((B&61440)===4096?this.lastControlCode_=B:B!==this.PADDING_&&(this.lastControlCode_=null),fe=B>>>8,Oe=B&255,B!==this.PADDING_)if(B===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(B===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(V.pts),this.flushDisplayed(V.pts),Z=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=Z,this.startPts_=V.pts;else if(B===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(V.pts);else if(B===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(V.pts);else if(B===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(V.pts);else if(B===this.CARRIAGE_RETURN_)this.clearFormatting(V.pts),this.flushDisplayed(V.pts),this.shiftRowsUp_(),this.startPts_=V.pts;else if(B===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(B===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(V.pts),this.displayed_=ar();else if(B===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ar();else if(B===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(V.pts),this.displayed_=ar()),this.mode_="paintOn",this.startPts_=V.pts;else if(this.isSpecialCharacter(fe,Oe))fe=(fe&3)<<8,Ve=Or(fe|Oe),this[this.mode_](V.pts,Ve),this.column_++;else if(this.isExtCharacter(fe,Oe))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),fe=(fe&3)<<8,Ve=Or(fe|Oe),this[this.mode_](V.pts,Ve),this.column_++;else if(this.isMidRowCode(fe,Oe))this.clearFormatting(V.pts),this[this.mode_](V.pts," "),this.column_++,(Oe&14)===14&&this.addFormatting(V.pts,["i"]),(Oe&1)===1&&this.addFormatting(V.pts,["u"]);else if(this.isOffsetControlCode(fe,Oe)){const Je=Oe&3;this.nonDisplayed_[this.row_].offset=Je,this.column_+=Je}else if(this.isPAC(fe,Oe)){var We=_e.indexOf(B&7968);if(this.mode_==="rollUp"&&(We-this.rollUpRows_+1<0&&(We=this.rollUpRows_-1),this.setRollUp(V.pts,We)),We!==this.row_&&We>=0&&We<=14&&(this.clearFormatting(V.pts),this.row_=We),Oe&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(V.pts,["u"]),(B&16)===16){const Je=(B&14)>>1;this.column_=Je*4,this.nonDisplayed_[this.row_].indent+=Je}this.isColorPAC(Oe)&&(Oe&14)===14&&this.addFormatting(V.pts,["i"])}else this.isNormalChar(fe)&&(Oe===0&&(Oe=null),Ve=Or(fe),Ve+=Or(Oe),this[this.mode_](V.pts,Ve),this.column_+=Ve.length)}};Jt.prototype=new it,Jt.prototype.flushDisplayed=function(P){const L=B=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+B+"."})},V=[];this.displayed_.forEach((B,Z)=>{if(B&&B.text&&B.text.length){try{B.text=B.text.trim()}catch{L(Z)}B.text.length&&V.push({text:B.text,line:Z+1,position:10+Math.min(70,B.indent*10)+B.offset*2.5})}else B==null&&L(Z)}),V.length&&this.trigger("data",{startPts:this.startPts_,endPts:P,content:V,stream:this.name_})},Jt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ar(),this.nonDisplayed_=ar(),this.lastControlCode_=null,this.column_=0,this.row_=fr,this.rollUpRows_=2,this.formatting_=[]},Jt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Jt.prototype.isSpecialCharacter=function(P,L){return P===this.EXT_&&L>=48&&L<=63},Jt.prototype.isExtCharacter=function(P,L){return(P===this.EXT_+1||P===this.EXT_+2)&&L>=32&&L<=63},Jt.prototype.isMidRowCode=function(P,L){return P===this.EXT_&&L>=32&&L<=47},Jt.prototype.isOffsetControlCode=function(P,L){return P===this.OFFSET_&&L>=33&&L<=35},Jt.prototype.isPAC=function(P,L){return P>=this.BASE_&&P<this.BASE_+8&&L>=64&&L<=127},Jt.prototype.isColorPAC=function(P){return P>=64&&P<=79||P>=96&&P<=127},Jt.prototype.isNormalChar=function(P){return P>=32&&P<=127},Jt.prototype.setRollUp=function(P,L){if(this.mode_!=="rollUp"&&(this.row_=fr,this.mode_="rollUp",this.flushDisplayed(P),this.nonDisplayed_=ar(),this.displayed_=ar()),L!==void 0&&L!==this.row_)for(var V=0;V<this.rollUpRows_;V++)this.displayed_[L-V]=this.displayed_[this.row_-V],this.displayed_[this.row_-V]={text:"",indent:0,offset:0};L===void 0&&(L=this.row_),this.topRow_=L-this.rollUpRows_+1},Jt.prototype.addFormatting=function(P,L){this.formatting_=this.formatting_.concat(L);var V=L.reduce(function(B,Z){return B+"<"+Z+">"},"");this[this.mode_](P,V)},Jt.prototype.clearFormatting=function(P){if(this.formatting_.length){var L=this.formatting_.reverse().reduce(function(V,B){return V+"</"+B+">"},"");this.formatting_=[],this[this.mode_](P,L)}},Jt.prototype.popOn=function(P,L){var V=this.nonDisplayed_[this.row_].text;V+=L,this.nonDisplayed_[this.row_].text=V},Jt.prototype.rollUp=function(P,L){var V=this.displayed_[this.row_].text;V+=L,this.displayed_[this.row_].text=V},Jt.prototype.shiftRowsUp_=function(){var P;for(P=0;P<this.topRow_;P++)this.displayed_[P]={text:"",indent:0,offset:0};for(P=this.row_+1;P<fr+1;P++)this.displayed_[P]={text:"",indent:0,offset:0};for(P=this.topRow_;P<this.row_;P++)this.displayed_[P]=this.displayed_[P+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Jt.prototype.paintOn=function(P,L){var V=this.displayed_[this.row_].text;V+=L,this.displayed_[this.row_].text=V};var Hn={CaptionStream:ft,Cea608Stream:Jt,Cea708Stream:Gt},oi={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},_r=r,Ei=8589934592,Jr=4294967296,zr="shared",en=function(P,L){var V=1;for(P>L&&(V=-1);Math.abs(L-P)>Jr;)P+=V*Ei;return P},sn=function(P){var L,V;sn.prototype.init.call(this),this.type_=P||zr,this.push=function(B){if(B.type==="metadata"){this.trigger("data",B);return}this.type_!==zr&&B.type!==this.type_||(V===void 0&&(V=B.dts),B.dts=en(B.dts,V),B.pts=en(B.pts,V),L=B.dts,this.trigger("data",B))},this.flush=function(){V=L,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){V=void 0,L=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};sn.prototype=new _r;var tn={TimestampRolloverStream:sn,handleRollover:en},xn=(P,L,V)=>{if(!P)return-1;for(var B=V;B<P.length;B++)if(P[B]===L)return B;return-1},Nr={typedArrayIndexOf:xn},Xr=Nr.typedArrayIndexOf,dr={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},Br=function(P,L,V){var B,Z="";for(B=L;B<V;B++)Z+="%"+("00"+P[B].toString(16)).slice(-2);return Z},fn=function(P,L,V){return decodeURIComponent(Br(P,L,V))},xi=function(P,L,V){return unescape(Br(P,L,V))},Fn=function(P){return P[0]<<21|P[1]<<14|P[2]<<7|P[3]},ln={APIC:function(P){var L=1,V,B,Z="-->";P.data[0]===dr.Utf8&&(V=Xr(P.data,0,L),!(V<0)&&(P.mimeType=xi(P.data,L,V),L=V+1,P.pictureType=P.data[L],L++,B=Xr(P.data,0,L),!(B<0)&&(P.description=fn(P.data,L,B),L=B+1,P.mimeType===Z?P.url=xi(P.data,L,P.data.length):P.pictureData=P.data.subarray(L,P.data.length))))},"T*":function(P){P.data[0]===dr.Utf8&&(P.value=fn(P.data,1,P.data.length).replace(/\0*$/,""),P.values=P.value.split("\0"))},TXXX:function(P){var L;P.data[0]===dr.Utf8&&(L=Xr(P.data,0,1),L!==-1&&(P.description=fn(P.data,1,L),P.value=fn(P.data,L+1,P.data.length).replace(/\0*$/,""),P.data=P.value))},"W*":function(P){P.url=xi(P.data,0,P.data.length).replace(/\0.*$/,"")},WXXX:function(P){var L;P.data[0]===dr.Utf8&&(L=Xr(P.data,0,1),L!==-1&&(P.description=fn(P.data,1,L),P.url=xi(P.data,L+1,P.data.length).replace(/\0.*$/,"")))},PRIV:function(P){var L;for(L=0;L<P.data.length;L++)if(P.data[L]===0){P.owner=xi(P.data,0,L);break}P.privateData=P.data.subarray(L+1),P.data=P.privateData}},Kn=function(P){var L,V,B=10,Z=0,fe=[];if(!(P.length<10||P[0]!=="I".charCodeAt(0)||P[1]!=="D".charCodeAt(0)||P[2]!=="3".charCodeAt(0))){Z=Fn(P.subarray(6,10)),Z+=10;var Oe=P[5]&64;Oe&&(B+=4,B+=Fn(P.subarray(10,14)),Z-=Fn(P.subarray(16,20)));do{if(L=Fn(P.subarray(B+4,B+8)),L<1)break;V=String.fromCharCode(P[B],P[B+1],P[B+2],P[B+3]);var Ve={id:V,data:P.subarray(B+10,B+L+10)};Ve.key=Ve.id,ln[Ve.id]?ln[Ve.id](Ve):Ve.id[0]==="T"?ln["T*"](Ve):Ve.id[0]==="W"&&ln["W*"](Ve),fe.push(Ve),B+=10,B+=L}while(B<Z);return fe}},At={parseId3Frames:Kn,parseSyncSafeInteger:Fn,frameParsers:ln},us=r,vi=oi,Ti=At,Ci;Ci=function(P){var L={descriptor:P&&P.descriptor},V=0,B=[],Z=0,fe;if(Ci.prototype.init.call(this),this.dispatchType=vi.METADATA_STREAM_TYPE.toString(16),L.descriptor)for(fe=0;fe<L.descriptor.length;fe++)this.dispatchType+=("00"+L.descriptor[fe].toString(16)).slice(-2);this.push=function(Oe){var Ve,We,Je,xt,Ht,Fr;if(Oe.type==="timed-metadata"){if(Oe.dataAlignmentIndicator&&(Z=0,B.length=0),B.length===0&&(Oe.data.length<10||Oe.data[0]!=="I".charCodeAt(0)||Oe.data[1]!=="D".charCodeAt(0)||Oe.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(B.push(Oe),Z+=Oe.data.byteLength,B.length===1&&(V=Ti.parseSyncSafeInteger(Oe.data.subarray(6,10)),V+=10),!(Z<V)){for(Ve={data:new Uint8Array(V),frames:[],pts:B[0].pts,dts:B[0].dts},Ht=0;Ht<V;)Ve.data.set(B[0].data.subarray(0,V-Ht),Ht),Ht+=B[0].data.byteLength,Z-=B[0].data.byteLength,B.shift();We=10,Ve.data[5]&64&&(We+=4,We+=Ti.parseSyncSafeInteger(Ve.data.subarray(10,14)),V-=Ti.parseSyncSafeInteger(Ve.data.subarray(16,20)));do{if(Je=Ti.parseSyncSafeInteger(Ve.data.subarray(We+4,We+8)),Je<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Fr=String.fromCharCode(Ve.data[We],Ve.data[We+1],Ve.data[We+2],Ve.data[We+3]),xt={id:Fr,data:Ve.data.subarray(We+10,We+Je+10)},xt.key=xt.id,Ti.frameParsers[xt.id]?Ti.frameParsers[xt.id](xt):xt.id[0]==="T"?Ti.frameParsers["T*"](xt):xt.id[0]==="W"&&Ti.frameParsers["W*"](xt),xt.owner==="com.apple.streaming.transportStreamTimestamp"){var rr=xt.data,yn=(rr[3]&1)<<30|rr[4]<<22|rr[5]<<14|rr[6]<<6|rr[7]>>>2;yn*=4,yn+=rr[7]&3,xt.timeStamp=yn,Ve.pts===void 0&&Ve.dts===void 0&&(Ve.pts=xt.timeStamp,Ve.dts=xt.timeStamp),this.trigger("timestamp",xt)}Ve.frames.push(xt),We+=10,We+=Je}while(We<V);this.trigger("data",Ve)}}}},Ci.prototype=new us;var Bo=Ci,Jo=r,lo=Hn,Wi=oi,Fi=tn.TimestampRolloverStream,xa,ea,bo,Uo=188,xo=71;xa=function(){var P=new Uint8Array(Uo),L=0;xa.prototype.init.call(this),this.push=function(V){var B=0,Z=Uo,fe;for(L?(fe=new Uint8Array(V.byteLength+L),fe.set(P.subarray(0,L)),fe.set(V,L),L=0):fe=V;Z<fe.byteLength;){if(fe[B]===xo&&fe[Z]===xo){this.trigger("data",fe.subarray(B,Z)),B+=Uo,Z+=Uo;continue}B++,Z++}B<fe.byteLength&&(P.set(fe.subarray(B),0),L=fe.byteLength-B)},this.flush=function(){L===Uo&&P[0]===xo&&(this.trigger("data",P),L=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){L=0,this.trigger("reset")}},xa.prototype=new Jo,ea=function(){var P,L,V,B;ea.prototype.init.call(this),B=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,P=function(Z,fe){var Oe=0;fe.payloadUnitStartIndicator&&(Oe+=Z[Oe]+1),fe.type==="pat"?L(Z.subarray(Oe),fe):V(Z.subarray(Oe),fe)},L=function(Z,fe){fe.section_number=Z[7],fe.last_section_number=Z[8],B.pmtPid=(Z[10]&31)<<8|Z[11],fe.pmtPid=B.pmtPid},V=function(Z,fe){var Oe,Ve,We,Je;if(Z[5]&1){for(B.programMapTable={video:null,audio:null,"timed-metadata":{}},Oe=(Z[1]&15)<<8|Z[2],Ve=3+Oe-4,We=(Z[10]&15)<<8|Z[11],Je=12+We;Je<Ve;){var xt=Z[Je],Ht=(Z[Je+1]&31)<<8|Z[Je+2];xt===Wi.H264_STREAM_TYPE&&B.programMapTable.video===null?B.programMapTable.video=Ht:xt===Wi.ADTS_STREAM_TYPE&&B.programMapTable.audio===null?B.programMapTable.audio=Ht:xt===Wi.METADATA_STREAM_TYPE&&(B.programMapTable["timed-metadata"][Ht]=xt),Je+=((Z[Je+3]&15)<<8|Z[Je+4])+5}fe.programMapTable=B.programMapTable}},this.push=function(Z){var fe={},Oe=4;if(fe.payloadUnitStartIndicator=!!(Z[1]&64),fe.pid=Z[1]&31,fe.pid<<=8,fe.pid|=Z[2],(Z[3]&48)>>>4>1&&(Oe+=Z[Oe]+1),fe.pid===0)fe.type="pat",P(Z.subarray(Oe),fe),this.trigger("data",fe);else if(fe.pid===this.pmtPid)for(fe.type="pmt",P(Z.subarray(Oe),fe),this.trigger("data",fe);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([Z,Oe,fe]):this.processPes_(Z,Oe,fe)},this.processPes_=function(Z,fe,Oe){Oe.pid===this.programMapTable.video?Oe.streamType=Wi.H264_STREAM_TYPE:Oe.pid===this.programMapTable.audio?Oe.streamType=Wi.ADTS_STREAM_TYPE:Oe.streamType=this.programMapTable["timed-metadata"][Oe.pid],Oe.type="pes",Oe.data=Z.subarray(fe),this.trigger("data",Oe)}},ea.prototype=new Jo,ea.STREAM_TYPES={h264:27,adts:15},bo=function(){var P=this,L=!1,V={data:[],size:0},B={data:[],size:0},Z={data:[],size:0},fe,Oe=function(We,Je){var xt;const Ht=We[0]<<16|We[1]<<8|We[2];Je.data=new Uint8Array,Ht===1&&(Je.packetLength=6+(We[4]<<8|We[5]),Je.dataAlignmentIndicator=(We[6]&4)!==0,xt=We[7],xt&192&&(Je.pts=(We[9]&14)<<27|(We[10]&255)<<20|(We[11]&254)<<12|(We[12]&255)<<5|(We[13]&254)>>>3,Je.pts*=4,Je.pts+=(We[13]&6)>>>1,Je.dts=Je.pts,xt&64&&(Je.dts=(We[14]&14)<<27|(We[15]&255)<<20|(We[16]&254)<<12|(We[17]&255)<<5|(We[18]&254)>>>3,Je.dts*=4,Je.dts+=(We[18]&6)>>>1)),Je.data=We.subarray(9+We[8]))},Ve=function(We,Je,xt){var Ht=new Uint8Array(We.size),Fr={type:Je},rr=0,yn=0,In=!1,uo;if(!(!We.data.length||We.size<9)){for(Fr.trackId=We.data[0].pid,rr=0;rr<We.data.length;rr++)uo=We.data[rr],Ht.set(uo.data,yn),yn+=uo.data.byteLength;Oe(Ht,Fr),In=Je==="video"||Fr.packetLength<=We.size,(xt||In)&&(We.size=0,We.data.length=0),In&&P.trigger("data",Fr)}};bo.prototype.init.call(this),this.push=function(We){({pat:function(){},pes:function(){var Je,xt;switch(We.streamType){case Wi.H264_STREAM_TYPE:Je=V,xt="video";break;case Wi.ADTS_STREAM_TYPE:Je=B,xt="audio";break;case Wi.METADATA_STREAM_TYPE:Je=Z,xt="timed-metadata";break;default:return}We.payloadUnitStartIndicator&&Ve(Je,xt,!0),Je.data.push(We),Je.size+=We.data.byteLength},pmt:function(){var Je={type:"metadata",tracks:[]};fe=We.programMapTable,fe.video!==null&&Je.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.video,codec:"avc",type:"video"}),fe.audio!==null&&Je.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.audio,codec:"adts",type:"audio"}),L=!0,P.trigger("data",Je)}})[We.type]()},this.reset=function(){V.size=0,V.data.length=0,B.size=0,B.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Ve(V,"video"),Ve(B,"audio"),Ve(Z,"timed-metadata")},this.flush=function(){if(!L&&fe){var We={type:"metadata",tracks:[]};fe.video!==null&&We.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.video,codec:"avc",type:"video"}),fe.audio!==null&&We.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+fe.audio,codec:"adts",type:"audio"}),P.trigger("data",We)}L=!1,this.flushStreams_(),this.trigger("done")}},bo.prototype=new Jo;var un={PAT_PID:0,MP2T_PACKET_LENGTH:Uo,TransportPacketStream:xa,TransportParseStream:ea,ElementaryStream:bo,TimestampRolloverStream:Fi,CaptionStream:lo.CaptionStream,Cea608Stream:lo.Cea608Stream,Cea708Stream:lo.Cea708Stream,MetadataStream:Bo};for(var Kl in Wi)Wi.hasOwnProperty(Kl)&&(un[Kl]=Wi[Kl]);var Xa=un,Tl=r,Km=Ie.ONE_SECOND_IN_TS,Ya,cs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ya=function(P){var L,V=0;Ya.prototype.init.call(this),this.skipWarn_=function(B,Z){this.trigger("log",{level:"warn",message:`adts skiping bytes ${B} to ${Z} in frame ${V} outside syncword`})},this.push=function(B){var Z=0,fe,Oe,Ve,We,Je;if(P||(V=0),B.type==="audio"){L&&L.length?(Ve=L,L=new Uint8Array(Ve.byteLength+B.data.byteLength),L.set(Ve),L.set(B.data,Ve.byteLength)):L=B.data;for(var xt;Z+7<L.length;){if(L[Z]!==255||(L[Z+1]&246)!==240){typeof xt!="number"&&(xt=Z),Z++;continue}if(typeof xt=="number"&&(this.skipWarn_(xt,Z),xt=null),Oe=(~L[Z+1]&1)*2,fe=(L[Z+3]&3)<<11|L[Z+4]<<3|(L[Z+5]&224)>>5,We=((L[Z+6]&3)+1)*1024,Je=We*Km/cs[(L[Z+2]&60)>>>2],L.byteLength-Z<fe)break;this.trigger("data",{pts:B.pts+V*Je,dts:B.dts+V*Je,sampleCount:We,audioobjecttype:(L[Z+2]>>>6&3)+1,channelcount:(L[Z+2]&1)<<2|(L[Z+3]&192)>>>6,samplerate:cs[(L[Z+2]&60)>>>2],samplingfrequencyindex:(L[Z+2]&60)>>>2,samplesize:16,data:L.subarray(Z+7+Oe,Z+fe)}),V++,Z+=fe}typeof xt=="number"&&(this.skipWarn_(xt,Z),xt=null),L=L.subarray(Z)}},this.flush=function(){V=0,this.trigger("done")},this.reset=function(){L=void 0,this.trigger("reset")},this.endTimeline=function(){L=void 0,this.trigger("endedtimeline")}},Ya.prototype=new Tl;var Np=Ya,Bp;Bp=function(P){var L=P.byteLength,V=0,B=0;this.length=function(){return 8*L},this.bitsAvailable=function(){return 8*L+B},this.loadWord=function(){var Z=P.byteLength-L,fe=new Uint8Array(4),Oe=Math.min(4,L);if(Oe===0)throw new Error("no bytes available");fe.set(P.subarray(Z,Z+Oe)),V=new DataView(fe.buffer).getUint32(0),B=Oe*8,L-=Oe},this.skipBits=function(Z){var fe;B>Z?(V<<=Z,B-=Z):(Z-=B,fe=Math.floor(Z/8),Z-=fe*8,L-=fe,this.loadWord(),V<<=Z,B-=Z)},this.readBits=function(Z){var fe=Math.min(B,Z),Oe=V>>>32-fe;return B-=fe,B>0?V<<=fe:L>0&&this.loadWord(),fe=Z-fe,fe>0?Oe<<fe|this.readBits(fe):Oe},this.skipLeadingZeros=function(){var Z;for(Z=0;Z<B;++Z)if(V&2147483648>>>Z)return V<<=Z,B-=Z,Z;return this.loadWord(),Z+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var Z=this.skipLeadingZeros();return this.readBits(Z+1)-1},this.readExpGolomb=function(){var Z=this.readUnsignedExpGolomb();return 1&Z?1+Z>>>1:-1*(Z>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Zm=Bp,uh=r,Up=Zm,Nc,Zl,Bc;Zl=function(){var P=0,L,V;Zl.prototype.init.call(this),this.push=function(B){var Z;V?(Z=new Uint8Array(V.byteLength+B.data.byteLength),Z.set(V),Z.set(B.data,V.byteLength),V=Z):V=B.data;for(var fe=V.byteLength;P<fe-3;P++)if(V[P+2]===1){L=P+5;break}for(;L<fe;)switch(V[L]){case 0:if(V[L-1]!==0){L+=2;break}else if(V[L-2]!==0){L++;break}P+3!==L-2&&this.trigger("data",V.subarray(P+3,L-2));do L++;while(V[L]!==1&&L<fe);P=L-2,L+=3;break;case 1:if(V[L-1]!==0||V[L-2]!==0){L+=3;break}this.trigger("data",V.subarray(P+3,L-2)),P=L-2,L+=3;break;default:L+=3;break}V=V.subarray(P),L-=P,P=0},this.reset=function(){V=null,P=0,this.trigger("reset")},this.flush=function(){V&&V.byteLength>3&&this.trigger("data",V.subarray(P+3)),V=null,P=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Zl.prototype=new uh,Bc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Nc=function(){var P=new Zl,L,V,B,Z,fe,Oe,Ve;Nc.prototype.init.call(this),L=this,this.push=function(We){We.type==="video"&&(V=We.trackId,B=We.pts,Z=We.dts,P.push(We))},P.on("data",function(We){var Je={trackId:V,pts:B,dts:Z,data:We,nalUnitTypeCode:We[0]&31};switch(Je.nalUnitTypeCode){case 5:Je.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Je.nalUnitType="sei_rbsp",Je.escapedRBSP=fe(We.subarray(1));break;case 7:Je.nalUnitType="seq_parameter_set_rbsp",Je.escapedRBSP=fe(We.subarray(1)),Je.config=Oe(Je.escapedRBSP);break;case 8:Je.nalUnitType="pic_parameter_set_rbsp";break;case 9:Je.nalUnitType="access_unit_delimiter_rbsp";break}L.trigger("data",Je)}),P.on("done",function(){L.trigger("done")}),P.on("partialdone",function(){L.trigger("partialdone")}),P.on("reset",function(){L.trigger("reset")}),P.on("endedtimeline",function(){L.trigger("endedtimeline")}),this.flush=function(){P.flush()},this.partialFlush=function(){P.partialFlush()},this.reset=function(){P.reset()},this.endTimeline=function(){P.endTimeline()},Ve=function(We,Je){var xt=8,Ht=8,Fr,rr;for(Fr=0;Fr<We;Fr++)Ht!==0&&(rr=Je.readExpGolomb(),Ht=(xt+rr+256)%256),xt=Ht===0?xt:Ht},fe=function(We){for(var Je=We.byteLength,xt=[],Ht=1,Fr,rr;Ht<Je-2;)We[Ht]===0&&We[Ht+1]===0&&We[Ht+2]===3?(xt.push(Ht+2),Ht+=2):Ht++;if(xt.length===0)return We;Fr=Je-xt.length,rr=new Uint8Array(Fr);var yn=0;for(Ht=0;Ht<Fr;yn++,Ht++)yn===xt[0]&&(yn++,xt.shift()),rr[Ht]=We[yn];return rr},Oe=function(We){var Je=0,xt=0,Ht=0,Fr=0,rr,yn,In,uo,tu,Kp,d5,f5,h5,FA,p5,Vs=[1,1],m5,Zp;if(rr=new Up(We),yn=rr.readUnsignedByte(),uo=rr.readUnsignedByte(),In=rr.readUnsignedByte(),rr.skipUnsignedExpGolomb(),Bc[yn]&&(tu=rr.readUnsignedExpGolomb(),tu===3&&rr.skipBits(1),rr.skipUnsignedExpGolomb(),rr.skipUnsignedExpGolomb(),rr.skipBits(1),rr.readBoolean()))for(p5=tu!==3?8:12,Zp=0;Zp<p5;Zp++)rr.readBoolean()&&(Zp<6?Ve(16,rr):Ve(64,rr));if(rr.skipUnsignedExpGolomb(),Kp=rr.readUnsignedExpGolomb(),Kp===0)rr.readUnsignedExpGolomb();else if(Kp===1)for(rr.skipBits(1),rr.skipExpGolomb(),rr.skipExpGolomb(),d5=rr.readUnsignedExpGolomb(),Zp=0;Zp<d5;Zp++)rr.skipExpGolomb();if(rr.skipUnsignedExpGolomb(),rr.skipBits(1),f5=rr.readUnsignedExpGolomb(),h5=rr.readUnsignedExpGolomb(),FA=rr.readBits(1),FA===0&&rr.skipBits(1),rr.skipBits(1),rr.readBoolean()&&(Je=rr.readUnsignedExpGolomb(),xt=rr.readUnsignedExpGolomb(),Ht=rr.readUnsignedExpGolomb(),Fr=rr.readUnsignedExpGolomb()),rr.readBoolean()&&rr.readBoolean()){switch(m5=rr.readUnsignedByte(),m5){case 1:Vs=[1,1];break;case 2:Vs=[12,11];break;case 3:Vs=[10,11];break;case 4:Vs=[16,11];break;case 5:Vs=[40,33];break;case 6:Vs=[24,11];break;case 7:Vs=[20,11];break;case 8:Vs=[32,11];break;case 9:Vs=[80,33];break;case 10:Vs=[18,11];break;case 11:Vs=[15,11];break;case 12:Vs=[64,33];break;case 13:Vs=[160,99];break;case 14:Vs=[4,3];break;case 15:Vs=[3,2];break;case 16:Vs=[2,1];break;case 255:{Vs=[rr.readUnsignedByte()<<8|rr.readUnsignedByte(),rr.readUnsignedByte()<<8|rr.readUnsignedByte()];break}}Vs&&Vs[0]/Vs[1]}return{profileIdc:yn,levelIdc:In,profileCompatibility:uo,width:(f5+1)*16-Je*2-xt*2,height:(2-FA)*(h5+1)*16-Ht*2-Fr*2,sarRatio:Vs}}},Nc.prototype=new uh;var Gd={H264Stream:Nc,NalByteStream:Zl},Wd=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ch=function(P,L){var V=P[L+6]<<21|P[L+7]<<14|P[L+8]<<7|P[L+9],B=P[L+5],Z=(B&16)>>4;return V=V>=0?V:0,Z?V+20:V+10},dh=function(P,L){return P.length-L<10||P[L]!=="I".charCodeAt(0)||P[L+1]!=="D".charCodeAt(0)||P[L+2]!=="3".charCodeAt(0)?L:(L+=ch(P,L),dh(P,L))},Vp=function(P){var L=dh(P,0);return P.length>=L+2&&(P[L]&255)===255&&(P[L+1]&240)===240&&(P[L+1]&22)===16},Ql=function(P){return P[0]<<21|P[1]<<14|P[2]<<7|P[3]},qd=function(P,L,V){var B,Z="";for(B=L;B<V;B++)Z+="%"+("00"+P[B].toString(16)).slice(-2);return Z},Xd=function(P,L,V){return unescape(qd(P,L,V))},zp=function(P,L){var V=(P[L+5]&224)>>5,B=P[L+4]<<3,Z=P[L+3]&6144;return Z|B|V},Jl=function(P,L){return P[L]==="I".charCodeAt(0)&&P[L+1]==="D".charCodeAt(0)&&P[L+2]==="3".charCodeAt(0)?"timed-metadata":P[L]&!0&&(P[L+1]&240)===240?"audio":null},Uc=function(P){for(var L=0;L+5<P.length;){if(P[L]!==255||(P[L+1]&246)!==240){L++;continue}return Wd[(P[L+2]&60)>>>2]}return null},qu=function(P){var L,V,B,Z;L=10,P[5]&64&&(L+=4,L+=Ql(P.subarray(10,14)));do{if(V=Ql(P.subarray(L+4,L+8)),V<1)return null;if(Z=String.fromCharCode(P[L],P[L+1],P[L+2],P[L+3]),Z==="PRIV"){B=P.subarray(L+10,L+V+10);for(var fe=0;fe<B.byteLength;fe++)if(B[fe]===0){var Oe=Xd(B,0,fe);if(Oe==="com.apple.streaming.transportStreamTimestamp"){var Ve=B.subarray(fe+1),We=(Ve[3]&1)<<30|Ve[4]<<22|Ve[5]<<14|Ve[6]<<6|Ve[7]>>>2;return We*=4,We+=Ve[7]&3,We}break}}L+=10,L+=V}while(L<P.byteLength);return null},Zs={isLikelyAacData:Vp,parseId3TagSize:ch,parseAdtsSize:zp,parseType:Jl,parseSampleRate:Uc,parseAacTimestamp:qu},Hp=r,jp=Zs,Vc;Vc=function(){var P=new Uint8Array,L=0;Vc.prototype.init.call(this),this.setTimestamp=function(V){L=V},this.push=function(V){var B=0,Z=0,fe,Oe,Ve,We;for(P.length?(We=P.length,P=new Uint8Array(V.byteLength+We),P.set(P.subarray(0,We)),P.set(V,We)):P=V;P.length-Z>=3;){if(P[Z]==="I".charCodeAt(0)&&P[Z+1]==="D".charCodeAt(0)&&P[Z+2]==="3".charCodeAt(0)){if(P.length-Z<10||(B=jp.parseId3TagSize(P,Z),Z+B>P.length))break;Oe={type:"timed-metadata",data:P.subarray(Z,Z+B)},this.trigger("data",Oe),Z+=B;continue}else if((P[Z]&255)===255&&(P[Z+1]&240)===240){if(P.length-Z<7||(B=jp.parseAdtsSize(P,Z),Z+B>P.length))break;Ve={type:"audio",data:P.subarray(Z,Z+B),pts:L,dts:L},this.trigger("data",Ve),Z+=B;continue}Z++}fe=P.length-Z,fe>0?P=P.subarray(Z):P=new Uint8Array},this.reset=function(){P=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){P=new Uint8Array,this.trigger("endedtimeline")}},Vc.prototype=new Hp;var Qm=Vc,J1=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],IA=J1,Cl=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ka=Cl,Gp=r,fh=ze,Wp=ot,Yd=$t,El=U,eu=Xa,qp=Ie,zc=Np,y=Gd.H264Stream,x=Qm,M=Zs.isLikelyAacData,ce=Ie.ONE_SECOND_IN_TS,K=IA,D=Ka,ne,Y,j,$,Q=function(P,L){L.stream=P,this.trigger("log",L)},ge=function(P,L){for(var V=Object.keys(L),B=0;B<V.length;B++){var Z=V[B];Z==="headOfPipeline"||!L[Z].on||L[Z].on("log",Q.bind(P,Z))}},Ce=function(P,L){var V;if(P.length!==L.length)return!1;for(V=0;V<P.length;V++)if(P[V]!==L[V])return!1;return!0},Ge=function(P,L,V,B,Z,fe){var Oe=V-L,Ve=B-L,We=Z-V;return{start:{dts:P,pts:P+Oe},end:{dts:P+Ve,pts:P+We},prependedContentDuration:fe,baseMediaDecodeTime:P}};Y=function(P,L){var V=[],B,Z=0,fe=0,Oe=1/0;L=L||{},B=L.firstSequenceNumber||0,Y.prototype.init.call(this),this.push=function(Ve){El.collectDtsInfo(P,Ve),P&&K.forEach(function(We){P[We]=Ve[We]}),V.push(Ve)},this.setEarliestDts=function(Ve){Z=Ve},this.setVideoBaseMediaDecodeTime=function(Ve){Oe=Ve},this.setAudioAppendStart=function(Ve){fe=Ve},this.flush=function(){var Ve,We,Je,xt,Ht,Fr,rr;if(V.length===0){this.trigger("done","AudioSegmentStream");return}Ve=Yd.trimAdtsFramesByEarliestDts(V,P,Z),P.baseMediaDecodeTime=El.calculateTrackBaseMediaDecodeTime(P,L.keepOriginalTimestamps),rr=Yd.prefixWithSilence(P,Ve,fe,Oe),P.samples=Yd.generateSampleTable(Ve),Je=fh.mdat(Yd.concatenateFrameData(Ve)),V=[],We=fh.moof(B,[P]),xt=new Uint8Array(We.byteLength+Je.byteLength),B++,xt.set(We),xt.set(Je,We.byteLength),El.clearDtsInfo(P),Ht=Math.ceil(ce*1024/P.samplerate),Ve.length&&(Fr=Ve.length*Ht,this.trigger("segmentTimingInfo",Ge(qp.audioTsToVideoTs(P.baseMediaDecodeTime,P.samplerate),Ve[0].dts,Ve[0].pts,Ve[0].dts+Fr,Ve[0].pts+Fr,rr||0)),this.trigger("timingInfo",{start:Ve[0].pts,end:Ve[0].pts+Fr})),this.trigger("data",{track:P,boxes:xt}),this.trigger("done","AudioSegmentStream")},this.reset=function(){El.clearDtsInfo(P),V=[],this.trigger("reset")}},Y.prototype=new Gp,ne=function(P,L){var V,B=[],Z=[],fe,Oe;L=L||{},V=L.firstSequenceNumber||0,ne.prototype.init.call(this),delete P.minPTS,this.gopCache_=[],this.push=function(Ve){El.collectDtsInfo(P,Ve),Ve.nalUnitType==="seq_parameter_set_rbsp"&&!fe&&(fe=Ve.config,P.sps=[Ve.data],D.forEach(function(We){P[We]=fe[We]},this)),Ve.nalUnitType==="pic_parameter_set_rbsp"&&!Oe&&(Oe=Ve.data,P.pps=[Ve.data]),B.push(Ve)},this.flush=function(){for(var Ve,We,Je,xt,Ht,Fr,rr=0,yn,In;B.length&&B[0].nalUnitType!=="access_unit_delimiter_rbsp";)B.shift();if(B.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Ve=Wp.groupNalsIntoFrames(B),Je=Wp.groupFramesIntoGops(Ve),Je[0][0].keyFrame||(We=this.getGopForFusion_(B[0],P),We?(rr=We.duration,Je.unshift(We),Je.byteLength+=We.byteLength,Je.nalCount+=We.nalCount,Je.pts=We.pts,Je.dts=We.dts,Je.duration+=We.duration):Je=Wp.extendFirstKeyFrame(Je)),Z.length){var uo;if(L.alignGopsAtEnd?uo=this.alignGopsAtEnd_(Je):uo=this.alignGopsAtStart_(Je),!uo){this.gopCache_.unshift({gop:Je.pop(),pps:P.pps,sps:P.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),B=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}El.clearDtsInfo(P),Je=uo}El.collectDtsInfo(P,Je),P.samples=Wp.generateSampleTable(Je),Ht=fh.mdat(Wp.concatenateNalData(Je)),P.baseMediaDecodeTime=El.calculateTrackBaseMediaDecodeTime(P,L.keepOriginalTimestamps),this.trigger("processedGopsInfo",Je.map(function(tu){return{pts:tu.pts,dts:tu.dts,byteLength:tu.byteLength}})),yn=Je[0],In=Je[Je.length-1],this.trigger("segmentTimingInfo",Ge(P.baseMediaDecodeTime,yn.dts,yn.pts,In.dts+In.duration,In.pts+In.duration,rr)),this.trigger("timingInfo",{start:Je[0].pts,end:Je[Je.length-1].pts+Je[Je.length-1].duration}),this.gopCache_.unshift({gop:Je.pop(),pps:P.pps,sps:P.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),B=[],this.trigger("baseMediaDecodeTime",P.baseMediaDecodeTime),this.trigger("timelineStartInfo",P.timelineStartInfo),xt=fh.moof(V,[P]),Fr=new Uint8Array(xt.byteLength+Ht.byteLength),V++,Fr.set(xt),Fr.set(Ht,xt.byteLength),this.trigger("data",{track:P,boxes:Fr}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),B=[],this.gopCache_.length=0,Z.length=0,this.trigger("reset")},this.resetStream_=function(){El.clearDtsInfo(P),fe=void 0,Oe=void 0},this.getGopForFusion_=function(Ve){var We=45e3,Je=1e4,xt=1/0,Ht,Fr,rr,yn,In;for(In=0;In<this.gopCache_.length;In++)yn=this.gopCache_[In],rr=yn.gop,!(!(P.pps&&Ce(P.pps[0],yn.pps[0]))||!(P.sps&&Ce(P.sps[0],yn.sps[0])))&&(rr.dts<P.timelineStartInfo.dts||(Ht=Ve.dts-rr.dts-rr.duration,Ht>=-Je&&Ht<=We&&(!Fr||xt>Ht)&&(Fr=yn,xt=Ht)));return Fr?Fr.gop:null},this.alignGopsAtStart_=function(Ve){var We,Je,xt,Ht,Fr,rr,yn,In;for(Fr=Ve.byteLength,rr=Ve.nalCount,yn=Ve.duration,We=Je=0;We<Z.length&&Je<Ve.length&&(xt=Z[We],Ht=Ve[Je],xt.pts!==Ht.pts);){if(Ht.pts>xt.pts){We++;continue}Je++,Fr-=Ht.byteLength,rr-=Ht.nalCount,yn-=Ht.duration}return Je===0?Ve:Je===Ve.length?null:(In=Ve.slice(Je),In.byteLength=Fr,In.duration=yn,In.nalCount=rr,In.pts=In[0].pts,In.dts=In[0].dts,In)},this.alignGopsAtEnd_=function(Ve){var We,Je,xt,Ht,Fr,rr;for(We=Z.length-1,Je=Ve.length-1,Fr=null,rr=!1;We>=0&&Je>=0;){if(xt=Z[We],Ht=Ve[Je],xt.pts===Ht.pts){rr=!0;break}if(xt.pts>Ht.pts){We--;continue}We===Z.length-1&&(Fr=Je),Je--}if(!rr&&Fr===null)return null;var yn;if(rr?yn=Je:yn=Fr,yn===0)return Ve;var In=Ve.slice(yn),uo=In.reduce(function(tu,Kp){return tu.byteLength+=Kp.byteLength,tu.duration+=Kp.duration,tu.nalCount+=Kp.nalCount,tu},{byteLength:0,duration:0,nalCount:0});return In.byteLength=uo.byteLength,In.duration=uo.duration,In.nalCount=uo.nalCount,In.pts=In[0].pts,In.dts=In[0].dts,In},this.alignGopsWith=function(Ve){Z=Ve}},ne.prototype=new Gp,$=function(P,L){this.numberOfTracks=0,this.metadataStream=L,P=P||{},typeof P.remux<"u"?this.remuxTracks=!!P.remux:this.remuxTracks=!0,typeof P.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=P.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,$.prototype.init.call(this),this.push=function(V){if(V.content||V.text)return this.pendingCaptions.push(V);if(V.frames)return this.pendingMetadata.push(V);this.pendingTracks.push(V.track),this.pendingBytes+=V.boxes.byteLength,V.track.type==="video"&&(this.videoTrack=V.track,this.pendingBoxes.push(V.boxes)),V.track.type==="audio"&&(this.audioTrack=V.track,this.pendingBoxes.unshift(V.boxes))}},$.prototype=new Gp,$.prototype.flush=function(P){var L=0,V={captions:[],captionStreams:{},metadata:[],info:{}},B,Z,fe,Oe=0,Ve;if(this.pendingTracks.length<this.numberOfTracks){if(P!=="VideoSegmentStream"&&P!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(Oe=this.videoTrack.timelineStartInfo.pts,D.forEach(function(We){V.info[We]=this.videoTrack[We]},this)):this.audioTrack&&(Oe=this.audioTrack.timelineStartInfo.pts,K.forEach(function(We){V.info[We]=this.audioTrack[We]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?V.type=this.pendingTracks[0].type:V.type="combined",this.emittedTracks+=this.pendingTracks.length,fe=fh.initSegment(this.pendingTracks),V.initSegment=new Uint8Array(fe.byteLength),V.initSegment.set(fe),V.data=new Uint8Array(this.pendingBytes),Ve=0;Ve<this.pendingBoxes.length;Ve++)V.data.set(this.pendingBoxes[Ve],L),L+=this.pendingBoxes[Ve].byteLength;for(Ve=0;Ve<this.pendingCaptions.length;Ve++)B=this.pendingCaptions[Ve],B.startTime=qp.metadataTsToSeconds(B.startPts,Oe,this.keepOriginalTimestamps),B.endTime=qp.metadataTsToSeconds(B.endPts,Oe,this.keepOriginalTimestamps),V.captionStreams[B.stream]=!0,V.captions.push(B);for(Ve=0;Ve<this.pendingMetadata.length;Ve++)Z=this.pendingMetadata[Ve],Z.cueTime=qp.metadataTsToSeconds(Z.pts,Oe,this.keepOriginalTimestamps),V.metadata.push(Z);for(V.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",V),Ve=0;Ve<V.captions.length;Ve++)B=V.captions[Ve],this.trigger("caption",B);for(Ve=0;Ve<V.metadata.length;Ve++)Z=V.metadata[Ve],this.trigger("id3Frame",Z)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},$.prototype.setRemux=function(P){this.remuxTracks=P},j=function(P){var L=this,V=!0,B,Z;j.prototype.init.call(this),P=P||{},this.baseMediaDecodeTime=P.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var fe={};this.transmuxPipeline_=fe,fe.type="aac",fe.metadataStream=new eu.MetadataStream,fe.aacStream=new x,fe.audioTimestampRolloverStream=new eu.TimestampRolloverStream("audio"),fe.timedMetadataTimestampRolloverStream=new eu.TimestampRolloverStream("timed-metadata"),fe.adtsStream=new zc,fe.coalesceStream=new $(P,fe.metadataStream),fe.headOfPipeline=fe.aacStream,fe.aacStream.pipe(fe.audioTimestampRolloverStream).pipe(fe.adtsStream),fe.aacStream.pipe(fe.timedMetadataTimestampRolloverStream).pipe(fe.metadataStream).pipe(fe.coalesceStream),fe.metadataStream.on("timestamp",function(Oe){fe.aacStream.setTimestamp(Oe.timeStamp)}),fe.aacStream.on("data",function(Oe){Oe.type!=="timed-metadata"&&Oe.type!=="audio"||fe.audioSegmentStream||(Z=Z||{timelineStartInfo:{baseMediaDecodeTime:L.baseMediaDecodeTime},codec:"adts",type:"audio"},fe.coalesceStream.numberOfTracks++,fe.audioSegmentStream=new Y(Z,P),fe.audioSegmentStream.on("log",L.getLogTrigger_("audioSegmentStream")),fe.audioSegmentStream.on("timingInfo",L.trigger.bind(L,"audioTimingInfo")),fe.adtsStream.pipe(fe.audioSegmentStream).pipe(fe.coalesceStream),L.trigger("trackinfo",{hasAudio:!!Z,hasVideo:!!B}))}),fe.coalesceStream.on("data",this.trigger.bind(this,"data")),fe.coalesceStream.on("done",this.trigger.bind(this,"done")),ge(this,fe)},this.setupTsPipeline=function(){var fe={};this.transmuxPipeline_=fe,fe.type="ts",fe.metadataStream=new eu.MetadataStream,fe.packetStream=new eu.TransportPacketStream,fe.parseStream=new eu.TransportParseStream,fe.elementaryStream=new eu.ElementaryStream,fe.timestampRolloverStream=new eu.TimestampRolloverStream,fe.adtsStream=new zc,fe.h264Stream=new y,fe.captionStream=new eu.CaptionStream(P),fe.coalesceStream=new $(P,fe.metadataStream),fe.headOfPipeline=fe.packetStream,fe.packetStream.pipe(fe.parseStream).pipe(fe.elementaryStream).pipe(fe.timestampRolloverStream),fe.timestampRolloverStream.pipe(fe.h264Stream),fe.timestampRolloverStream.pipe(fe.adtsStream),fe.timestampRolloverStream.pipe(fe.metadataStream).pipe(fe.coalesceStream),fe.h264Stream.pipe(fe.captionStream).pipe(fe.coalesceStream),fe.elementaryStream.on("data",function(Oe){var Ve;if(Oe.type==="metadata"){for(Ve=Oe.tracks.length;Ve--;)!B&&Oe.tracks[Ve].type==="video"?(B=Oe.tracks[Ve],B.timelineStartInfo.baseMediaDecodeTime=L.baseMediaDecodeTime):!Z&&Oe.tracks[Ve].type==="audio"&&(Z=Oe.tracks[Ve],Z.timelineStartInfo.baseMediaDecodeTime=L.baseMediaDecodeTime);B&&!fe.videoSegmentStream&&(fe.coalesceStream.numberOfTracks++,fe.videoSegmentStream=new ne(B,P),fe.videoSegmentStream.on("log",L.getLogTrigger_("videoSegmentStream")),fe.videoSegmentStream.on("timelineStartInfo",function(We){Z&&!P.keepOriginalTimestamps&&(Z.timelineStartInfo=We,fe.audioSegmentStream.setEarliestDts(We.dts-L.baseMediaDecodeTime))}),fe.videoSegmentStream.on("processedGopsInfo",L.trigger.bind(L,"gopInfo")),fe.videoSegmentStream.on("segmentTimingInfo",L.trigger.bind(L,"videoSegmentTimingInfo")),fe.videoSegmentStream.on("baseMediaDecodeTime",function(We){Z&&fe.audioSegmentStream.setVideoBaseMediaDecodeTime(We)}),fe.videoSegmentStream.on("timingInfo",L.trigger.bind(L,"videoTimingInfo")),fe.h264Stream.pipe(fe.videoSegmentStream).pipe(fe.coalesceStream)),Z&&!fe.audioSegmentStream&&(fe.coalesceStream.numberOfTracks++,fe.audioSegmentStream=new Y(Z,P),fe.audioSegmentStream.on("log",L.getLogTrigger_("audioSegmentStream")),fe.audioSegmentStream.on("timingInfo",L.trigger.bind(L,"audioTimingInfo")),fe.audioSegmentStream.on("segmentTimingInfo",L.trigger.bind(L,"audioSegmentTimingInfo")),fe.adtsStream.pipe(fe.audioSegmentStream).pipe(fe.coalesceStream)),L.trigger("trackinfo",{hasAudio:!!Z,hasVideo:!!B})}}),fe.coalesceStream.on("data",this.trigger.bind(this,"data")),fe.coalesceStream.on("id3Frame",function(Oe){Oe.dispatchType=fe.metadataStream.dispatchType,L.trigger("id3Frame",Oe)}),fe.coalesceStream.on("caption",this.trigger.bind(this,"caption")),fe.coalesceStream.on("done",this.trigger.bind(this,"done")),ge(this,fe)},this.setBaseMediaDecodeTime=function(fe){var Oe=this.transmuxPipeline_;P.keepOriginalTimestamps||(this.baseMediaDecodeTime=fe),Z&&(Z.timelineStartInfo.dts=void 0,Z.timelineStartInfo.pts=void 0,El.clearDtsInfo(Z),Oe.audioTimestampRolloverStream&&Oe.audioTimestampRolloverStream.discontinuity()),B&&(Oe.videoSegmentStream&&(Oe.videoSegmentStream.gopCache_=[]),B.timelineStartInfo.dts=void 0,B.timelineStartInfo.pts=void 0,El.clearDtsInfo(B),Oe.captionStream.reset()),Oe.timestampRolloverStream&&Oe.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(fe){Z&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(fe)},this.setRemux=function(fe){var Oe=this.transmuxPipeline_;P.remux=fe,Oe&&Oe.coalesceStream&&Oe.coalesceStream.setRemux(fe)},this.alignGopsWith=function(fe){B&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(fe)},this.getLogTrigger_=function(fe){var Oe=this;return function(Ve){Ve.stream=fe,Oe.trigger("log",Ve)}},this.push=function(fe){if(V){var Oe=M(fe);Oe&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!Oe&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),V=!1}this.transmuxPipeline_.headOfPipeline.push(fe)},this.flush=function(){V=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},j.prototype=new Gp;var Te={Transmuxer:j,VideoSegmentStream:ne,AudioSegmentStream:Y,AUDIO_PROPERTIES:K,VIDEO_PROPERTIES:D,generateSegmentTimingInfo:Ge},Ne=function(P){return P>>>0},Le=function(P){return("00"+P.toString(16)).slice(-2)},xe={toUnsigned:Ne,toHexString:Le},st=function(P){var L="";return L+=String.fromCharCode(P[0]),L+=String.fromCharCode(P[1]),L+=String.fromCharCode(P[2]),L+=String.fromCharCode(P[3]),L},pt=st,Ye=xe.toUnsigned,Tt=pt,Qt=function(P,L){var V=[],B,Z,fe,Oe,Ve;if(!L.length)return null;for(B=0;B<P.byteLength;)Z=Ye(P[B]<<24|P[B+1]<<16|P[B+2]<<8|P[B+3]),fe=Tt(P.subarray(B+4,B+8)),Oe=Z>1?B+Z:P.byteLength,fe===L[0]&&(L.length===1?V.push(P.subarray(B+8,Oe)):(Ve=Qt(P.subarray(B+8,Oe),L.slice(1)),Ve.length&&(V=V.concat(Ve)))),B=Oe;return V},yr=Qt,Dr=xe.toUnsigned,nr=s.getUint64,Tr=function(P){var L={version:P[0],flags:new Uint8Array(P.subarray(1,4))};return L.version===1?L.baseMediaDecodeTime=nr(P.subarray(4)):L.baseMediaDecodeTime=Dr(P[4]<<24|P[5]<<16|P[6]<<8|P[7]),L},wr=Tr,Rt=function(P){return{isLeading:(P[0]&12)>>>2,dependsOn:P[0]&3,isDependedOn:(P[1]&192)>>>6,hasRedundancy:(P[1]&48)>>>4,paddingValue:(P[1]&14)>>>1,isNonSyncSample:P[1]&1,degradationPriority:P[2]<<8|P[3]}},mr=Rt,Pr=mr,vr=function(P){var L={version:P[0],flags:new Uint8Array(P.subarray(1,4)),samples:[]},V=new DataView(P.buffer,P.byteOffset,P.byteLength),B=L.flags[2]&1,Z=L.flags[2]&4,fe=L.flags[1]&1,Oe=L.flags[1]&2,Ve=L.flags[1]&4,We=L.flags[1]&8,Je=V.getUint32(4),xt=8,Ht;for(B&&(L.dataOffset=V.getInt32(xt),xt+=4),Z&&Je&&(Ht={flags:Pr(P.subarray(xt,xt+4))},xt+=4,fe&&(Ht.duration=V.getUint32(xt),xt+=4),Oe&&(Ht.size=V.getUint32(xt),xt+=4),We&&(L.version===1?Ht.compositionTimeOffset=V.getInt32(xt):Ht.compositionTimeOffset=V.getUint32(xt),xt+=4),L.samples.push(Ht),Je--);Je--;)Ht={},fe&&(Ht.duration=V.getUint32(xt),xt+=4),Oe&&(Ht.size=V.getUint32(xt),xt+=4),Ve&&(Ht.flags=Pr(P.subarray(xt,xt+4)),xt+=4),We&&(L.version===1?Ht.compositionTimeOffset=V.getInt32(xt):Ht.compositionTimeOffset=V.getUint32(xt),xt+=4),L.samples.push(Ht);return L},Sn=vr,bn=function(P){var L=new DataView(P.buffer,P.byteOffset,P.byteLength),V={version:P[0],flags:new Uint8Array(P.subarray(1,4)),trackId:L.getUint32(4)},B=V.flags[2]&1,Z=V.flags[2]&2,fe=V.flags[2]&8,Oe=V.flags[2]&16,Ve=V.flags[2]&32,We=V.flags[0]&65536,Je=V.flags[0]&131072,xt;return xt=8,B&&(xt+=4,V.baseDataOffset=L.getUint32(12),xt+=4),Z&&(V.sampleDescriptionIndex=L.getUint32(xt),xt+=4),fe&&(V.defaultSampleDuration=L.getUint32(xt),xt+=4),Oe&&(V.defaultSampleSize=L.getUint32(xt),xt+=4),Ve&&(V.defaultSampleFlags=L.getUint32(xt)),We&&(V.durationIsEmpty=!0),!B&&Je&&(V.baseDataOffsetIsMoof=!0),V},vn=bn,di;typeof window<"u"?di=window:typeof t<"u"?di=t:typeof self<"u"?di=self:di={};var fi=di,Jn=Be.discardEmulationPreventionBytes,Rn=Hn.CaptionStream,hi=yr,Ni=wr,ai=Sn,yi=vn,rn=fi,Tn=function(P,L){for(var V=P,B=0;B<L.length;B++){var Z=L[B];if(V<Z.size)return Z;V-=Z.size}return null},dt=function(P,L,V){var B=new DataView(P.buffer,P.byteOffset,P.byteLength),Z={logs:[],seiNals:[]},fe,Oe,Ve,We;for(Oe=0;Oe+4<P.length;Oe+=Ve)if(Ve=B.getUint32(Oe),Oe+=4,!(Ve<=0))switch(P[Oe]&31){case 6:var Je=P.subarray(Oe+1,Oe+1+Ve),xt=Tn(Oe,L);if(fe={nalUnitType:"sei_rbsp",size:Ve,data:Je,escapedRBSP:Jn(Je),trackId:V},xt)fe.pts=xt.pts,fe.dts=xt.dts,We=xt;else if(We)fe.pts=We.pts,fe.dts=We.dts;else{Z.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Oe+" for trackId "+V+". See mux.js#223."});break}Z.seiNals.push(fe);break}return Z},_s=function(P,L,V){var B=L,Z=V.defaultSampleDuration||0,fe=V.defaultSampleSize||0,Oe=V.trackId,Ve=[];return P.forEach(function(We){var Je=ai(We),xt=Je.samples;xt.forEach(function(Ht){Ht.duration===void 0&&(Ht.duration=Z),Ht.size===void 0&&(Ht.size=fe),Ht.trackId=Oe,Ht.dts=B,Ht.compositionTimeOffset===void 0&&(Ht.compositionTimeOffset=0),typeof B=="bigint"?(Ht.pts=B+rn.BigInt(Ht.compositionTimeOffset),B+=rn.BigInt(Ht.duration)):(Ht.pts=B+Ht.compositionTimeOffset,B+=Ht.duration)}),Ve=Ve.concat(xt)}),Ve},li=function(P,L){var V=hi(P,["moof","traf"]),B=hi(P,["mdat"]),Z={},fe=[];return B.forEach(function(Oe,Ve){var We=V[Ve];fe.push({mdat:Oe,traf:We})}),fe.forEach(function(Oe){var Ve=Oe.mdat,We=Oe.traf,Je=hi(We,["tfhd"]),xt=yi(Je[0]),Ht=xt.trackId,Fr=hi(We,["tfdt"]),rr=Fr.length>0?Ni(Fr[0]).baseMediaDecodeTime:0,yn=hi(We,["trun"]),In,uo;L===Ht&&yn.length>0&&(In=_s(yn,rr,xt),uo=dt(Ve,In,Ht),Z[Ht]||(Z[Ht]={seiNals:[],logs:[]}),Z[Ht].seiNals=Z[Ht].seiNals.concat(uo.seiNals),Z[Ht].logs=Z[Ht].logs.concat(uo.logs))}),Z},jn=function(P,L,V){var B;if(L===null)return null;B=li(P,L);var Z=B[L]||{};return{seiNals:Z.seiNals,logs:Z.logs,timescale:V}},pi=function(){var P=!1,L,V,B,Z,fe,Oe;this.isInitialized=function(){return P},this.init=function(Ve){L=new Rn,P=!0,Oe=Ve?Ve.isPartial:!1,L.on("data",function(We){We.startTime=We.startPts/Z,We.endTime=We.endPts/Z,fe.captions.push(We),fe.captionStreams[We.stream]=!0}),L.on("log",function(We){fe.logs.push(We)})},this.isNewInit=function(Ve,We){return Ve&&Ve.length===0||We&&typeof We=="object"&&Object.keys(We).length===0?!1:B!==Ve[0]||Z!==We[B]},this.parse=function(Ve,We,Je){var xt;if(this.isInitialized()){if(!We||!Je)return null;if(this.isNewInit(We,Je))B=We[0],Z=Je[B];else if(B===null||!Z)return V.push(Ve),null}else return null;for(;V.length>0;){var Ht=V.shift();this.parse(Ht,We,Je)}return xt=jn(Ve,B,Z),xt&&xt.logs&&(fe.logs=fe.logs.concat(xt.logs)),xt===null||!xt.seiNals?fe.logs.length?{logs:fe.logs,captions:[],captionStreams:[]}:null:(this.pushNals(xt.seiNals),this.flushStream(),fe)},this.pushNals=function(Ve){if(!this.isInitialized()||!Ve||Ve.length===0)return null;Ve.forEach(function(We){L.push(We)})},this.flushStream=function(){if(!this.isInitialized())return null;Oe?L.partialFlush():L.flush()},this.clearParsedCaptions=function(){fe.captions=[],fe.captionStreams={},fe.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;L.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){V=[],B=null,Z=null,fe?this.clearParsedCaptions():fe={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},on=pi,Vo=function(P){for(var L=0,V=String.fromCharCode(P[L]),B="";V!=="\0";)B+=V,L++,V=String.fromCharCode(P[L]);return B+=V,B},Kd={uint8ToCString:Vo},Xp=Kd.uint8ToCString,Zd=s.getUint64,Za=function(P){var L=4,V=P[0],B,Z,fe,Oe,Ve,We,Je,xt;if(V===0){B=Xp(P.subarray(L)),L+=B.length,Z=Xp(P.subarray(L)),L+=Z.length;var Ht=new DataView(P.buffer);fe=Ht.getUint32(L),L+=4,Ve=Ht.getUint32(L),L+=4,We=Ht.getUint32(L),L+=4,Je=Ht.getUint32(L),L+=4}else if(V===1){var Ht=new DataView(P.buffer);fe=Ht.getUint32(L),L+=4,Oe=Zd(P.subarray(L)),L+=8,We=Ht.getUint32(L),L+=4,Je=Ht.getUint32(L),L+=4,B=Xp(P.subarray(L)),L+=B.length,Z=Xp(P.subarray(L)),L+=Z.length}xt=new Uint8Array(P.subarray(L,P.byteLength));var Fr={scheme_id_uri:B,value:Z,timescale:fe||1,presentation_time:Oe,presentation_time_delta:Ve,event_duration:We,id:Je,message_data:xt};return Jm(V,Fr)?Fr:void 0},Is=function(P,L,V,B){return P||P===0?P/L:B+V/L},Jm=function(P,L){var V=L.scheme_id_uri!=="\0",B=P===0&&eg(L.presentation_time_delta)&&V,Z=P===1&&eg(L.presentation_time)&&V;return!(P>1)&&B||Z},eg=function(P){return P!==void 0||P!==null},Lle={parseEmsgBox:Za,scaleTime:Is},ex=xe.toUnsigned,Jy=xe.toHexString,Us=yr,tg=pt,DA=Lle,Fle=vn,Nle=Sn,Ble=wr,Ule=s.getUint64,t5,r5,n5,i5,s5,RA,o5,MA=fi,Vle=At.parseId3Frames;t5=function(P){var L={},V=Us(P,["moov","trak"]);return V.reduce(function(B,Z){var fe,Oe,Ve,We,Je;return fe=Us(Z,["tkhd"])[0],!fe||(Oe=fe[0],Ve=Oe===0?12:20,We=ex(fe[Ve]<<24|fe[Ve+1]<<16|fe[Ve+2]<<8|fe[Ve+3]),Je=Us(Z,["mdia","mdhd"])[0],!Je)?null:(Oe=Je[0],Ve=Oe===0?12:20,B[We]=ex(Je[Ve]<<24|Je[Ve+1]<<16|Je[Ve+2]<<8|Je[Ve+3]),B)},L)},r5=function(P,L){var V;V=Us(L,["moof","traf"]);var B=V.reduce(function(Z,fe){var Oe=Us(fe,["tfhd"])[0],Ve=ex(Oe[4]<<24|Oe[5]<<16|Oe[6]<<8|Oe[7]),We=P[Ve]||9e4,Je=Us(fe,["tfdt"])[0],xt=new DataView(Je.buffer,Je.byteOffset,Je.byteLength),Ht;Je[0]===1?Ht=Ule(Je.subarray(4,12)):Ht=xt.getUint32(4);let Fr;return typeof Ht=="bigint"?Fr=Ht/MA.BigInt(We):typeof Ht=="number"&&!isNaN(Ht)&&(Fr=Ht/We),Fr<Number.MAX_SAFE_INTEGER&&(Fr=Number(Fr)),Fr<Z&&(Z=Fr),Z},1/0);return typeof B=="bigint"||isFinite(B)?B:0},n5=function(P,L){var V=Us(L,["moof","traf"]),B=0,Z=0,fe;if(V&&V.length){var Oe=Us(V[0],["tfhd"])[0],Ve=Us(V[0],["trun"])[0],We=Us(V[0],["tfdt"])[0];if(Oe){var Je=Fle(Oe);fe=Je.trackId}if(We){var xt=Ble(We);B=xt.baseMediaDecodeTime}if(Ve){var Ht=Nle(Ve);Ht.samples&&Ht.samples.length&&(Z=Ht.samples[0].compositionTimeOffset||0)}}var Fr=P[fe]||9e4;typeof B=="bigint"&&(Z=MA.BigInt(Z),Fr=MA.BigInt(Fr));var rr=(B+Z)/Fr;return typeof rr=="bigint"&&rr<Number.MAX_SAFE_INTEGER&&(rr=Number(rr)),rr},i5=function(P){var L=Us(P,["moov","trak"]),V=[];return L.forEach(function(B){var Z=Us(B,["mdia","hdlr"]),fe=Us(B,["tkhd"]);Z.forEach(function(Oe,Ve){var We=tg(Oe.subarray(8,12)),Je=fe[Ve],xt,Ht,Fr;We==="vide"&&(xt=new DataView(Je.buffer,Je.byteOffset,Je.byteLength),Ht=xt.getUint8(0),Fr=Ht===0?xt.getUint32(12):xt.getUint32(20),V.push(Fr))})}),V},RA=function(P){var L=P[0],V=L===0?12:20;return ex(P[V]<<24|P[V+1]<<16|P[V+2]<<8|P[V+3])},s5=function(P){var L=Us(P,["moov","trak"]),V=[];return L.forEach(function(B){var Z={},fe=Us(B,["tkhd"])[0],Oe,Ve;fe&&(Oe=new DataView(fe.buffer,fe.byteOffset,fe.byteLength),Ve=Oe.getUint8(0),Z.id=Ve===0?Oe.getUint32(12):Oe.getUint32(20));var We=Us(B,["mdia","hdlr"])[0];if(We){var Je=tg(We.subarray(8,12));Je==="vide"?Z.type="video":Je==="soun"?Z.type="audio":Z.type=Je}var xt=Us(B,["mdia","minf","stbl","stsd"])[0];if(xt){var Ht=xt.subarray(8);Z.codec=tg(Ht.subarray(4,8));var Fr=Us(Ht,[Z.codec])[0],rr,yn;Fr&&(/^[asm]vc[1-9]$/i.test(Z.codec)?(rr=Fr.subarray(78),yn=tg(rr.subarray(4,8)),yn==="avcC"&&rr.length>11?(Z.codec+=".",Z.codec+=Jy(rr[9]),Z.codec+=Jy(rr[10]),Z.codec+=Jy(rr[11])):Z.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(Z.codec)?(rr=Fr.subarray(28),yn=tg(rr.subarray(4,8)),yn==="esds"&&rr.length>20&&rr[19]!==0?(Z.codec+="."+Jy(rr[19]),Z.codec+="."+Jy(rr[20]>>>2&63).replace(/^0/,"")):Z.codec="mp4a.40.2"):Z.codec=Z.codec.toLowerCase())}var In=Us(B,["mdia","mdhd"])[0];In&&(Z.timescale=RA(In)),V.push(Z)}),V},o5=function(P,L=0){var V=Us(P,["emsg"]);return V.map(B=>{var Z=DA.parseEmsgBox(new Uint8Array(B)),fe=Vle(Z.message_data);return{cueTime:DA.scaleTime(Z.presentation_time,Z.timescale,Z.presentation_time_delta,L),duration:DA.scaleTime(Z.event_duration,Z.timescale),frames:fe}})};var OA={findBox:Us,parseType:tg,timescale:t5,startTime:r5,compositionStartTime:n5,videoTrackIds:i5,tracks:s5,getTimescaleFromMediaHeader:RA,getEmsgID3:o5},$A=oi,a5=function(P){var L=P[1]&31;return L<<=8,L|=P[2],L},tx=function(P){return!!(P[1]&64)},rx=function(P){var L=0;return(P[3]&48)>>>4>1&&(L+=P[4]+1),L},zle=function(P,L){var V=a5(P);return V===0?"pat":V===L?"pmt":L?"pes":null},Hle=function(P){var L=tx(P),V=4+rx(P);return L&&(V+=P[V]+1),(P[V+10]&31)<<8|P[V+11]},jle=function(P){var L={},V=tx(P),B=4+rx(P);if(V&&(B+=P[B]+1),!!(P[B+5]&1)){var Z,fe,Oe;Z=(P[B+1]&15)<<8|P[B+2],fe=3+Z-4,Oe=(P[B+10]&15)<<8|P[B+11];for(var Ve=12+Oe;Ve<fe;){var We=B+Ve;L[(P[We+1]&31)<<8|P[We+2]]=P[We],Ve+=((P[We+3]&15)<<8|P[We+4])+5}return L}},Gle=function(P,L){var V=a5(P),B=L[V];switch(B){case $A.H264_STREAM_TYPE:return"video";case $A.ADTS_STREAM_TYPE:return"audio";case $A.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Wle=function(P){var L=tx(P);if(!L)return null;var V=4+rx(P);if(V>=P.byteLength)return null;var B=null,Z;return Z=P[V+7],Z&192&&(B={},B.pts=(P[V+9]&14)<<27|(P[V+10]&255)<<20|(P[V+11]&254)<<12|(P[V+12]&255)<<5|(P[V+13]&254)>>>3,B.pts*=4,B.pts+=(P[V+13]&6)>>>1,B.dts=B.pts,Z&64&&(B.dts=(P[V+14]&14)<<27|(P[V+15]&255)<<20|(P[V+16]&254)<<12|(P[V+17]&255)<<5|(P[V+18]&254)>>>3,B.dts*=4,B.dts+=(P[V+18]&6)>>>1)),B},LA=function(P){switch(P){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},qle=function(P){for(var L=4+rx(P),V=P.subarray(L),B=0,Z=0,fe=!1,Oe;Z<V.byteLength-3;Z++)if(V[Z+2]===1){B=Z+5;break}for(;B<V.byteLength;)switch(V[B]){case 0:if(V[B-1]!==0){B+=2;break}else if(V[B-2]!==0){B++;break}Z+3!==B-2&&(Oe=LA(V[Z+3]&31),Oe==="slice_layer_without_partitioning_rbsp_idr"&&(fe=!0));do B++;while(V[B]!==1&&B<V.length);Z=B-2,B+=3;break;case 1:if(V[B-1]!==0||V[B-2]!==0){B+=3;break}Oe=LA(V[Z+3]&31),Oe==="slice_layer_without_partitioning_rbsp_idr"&&(fe=!0),Z=B-2,B+=3;break;default:B+=3;break}return V=V.subarray(Z),B-=Z,Z=0,V&&V.byteLength>3&&(Oe=LA(V[Z+3]&31),Oe==="slice_layer_without_partitioning_rbsp_idr"&&(fe=!0)),fe},Xle={parseType:zle,parsePat:Hle,parsePmt:jle,parsePayloadUnitStartIndicator:tx,parsePesType:Gle,parsePesTime:Wle,videoPacketContainsKeyFrame:qle},l5=oi,rg=tn.handleRollover,ki={};ki.ts=Xle,ki.aac=Zs;var Yp=Ie.ONE_SECOND_IN_TS,wa=188,Hc=71,Yle=function(P,L){for(var V=0,B=wa,Z,fe;B<P.byteLength;){if(P[V]===Hc&&P[B]===Hc){switch(Z=P.subarray(V,B),fe=ki.ts.parseType(Z,L.pid),fe){case"pat":L.pid=ki.ts.parsePat(Z);break;case"pmt":var Oe=ki.ts.parsePmt(Z);L.table=L.table||{},Object.keys(Oe).forEach(function(Ve){L.table[Ve]=Oe[Ve]});break}V+=wa,B+=wa;continue}V++,B++}},u5=function(P,L,V){for(var B=0,Z=wa,fe,Oe,Ve,We,Je,xt=!1;Z<=P.byteLength;){if(P[B]===Hc&&(P[Z]===Hc||Z===P.byteLength)){switch(fe=P.subarray(B,Z),Oe=ki.ts.parseType(fe,L.pid),Oe){case"pes":Ve=ki.ts.parsePesType(fe,L.table),We=ki.ts.parsePayloadUnitStartIndicator(fe),Ve==="audio"&&We&&(Je=ki.ts.parsePesTime(fe),Je&&(Je.type="audio",V.audio.push(Je),xt=!0));break}if(xt)break;B+=wa,Z+=wa;continue}B++,Z++}for(Z=P.byteLength,B=Z-wa,xt=!1;B>=0;){if(P[B]===Hc&&(P[Z]===Hc||Z===P.byteLength)){switch(fe=P.subarray(B,Z),Oe=ki.ts.parseType(fe,L.pid),Oe){case"pes":Ve=ki.ts.parsePesType(fe,L.table),We=ki.ts.parsePayloadUnitStartIndicator(fe),Ve==="audio"&&We&&(Je=ki.ts.parsePesTime(fe),Je&&(Je.type="audio",V.audio.push(Je),xt=!0));break}if(xt)break;B-=wa,Z-=wa;continue}B--,Z--}},Kle=function(P,L,V){for(var B=0,Z=wa,fe,Oe,Ve,We,Je,xt,Ht,Fr,rr=!1,yn={data:[],size:0};Z<P.byteLength;){if(P[B]===Hc&&P[Z]===Hc){switch(fe=P.subarray(B,Z),Oe=ki.ts.parseType(fe,L.pid),Oe){case"pes":if(Ve=ki.ts.parsePesType(fe,L.table),We=ki.ts.parsePayloadUnitStartIndicator(fe),Ve==="video"&&(We&&!rr&&(Je=ki.ts.parsePesTime(fe),Je&&(Je.type="video",V.video.push(Je),rr=!0)),!V.firstKeyFrame)){if(We&&yn.size!==0){for(xt=new Uint8Array(yn.size),Ht=0;yn.data.length;)Fr=yn.data.shift(),xt.set(Fr,Ht),Ht+=Fr.byteLength;if(ki.ts.videoPacketContainsKeyFrame(xt)){var In=ki.ts.parsePesTime(xt);In?(V.firstKeyFrame=In,V.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}yn.size=0}yn.data.push(fe),yn.size+=fe.byteLength}break}if(rr&&V.firstKeyFrame)break;B+=wa,Z+=wa;continue}B++,Z++}for(Z=P.byteLength,B=Z-wa,rr=!1;B>=0;){if(P[B]===Hc&&P[Z]===Hc){switch(fe=P.subarray(B,Z),Oe=ki.ts.parseType(fe,L.pid),Oe){case"pes":Ve=ki.ts.parsePesType(fe,L.table),We=ki.ts.parsePayloadUnitStartIndicator(fe),Ve==="video"&&We&&(Je=ki.ts.parsePesTime(fe),Je&&(Je.type="video",V.video.push(Je),rr=!0));break}if(rr)break;B-=wa,Z-=wa;continue}B--,Z--}},Zle=function(P,L){if(P.audio&&P.audio.length){var V=L;(typeof V>"u"||isNaN(V))&&(V=P.audio[0].dts),P.audio.forEach(function(fe){fe.dts=rg(fe.dts,V),fe.pts=rg(fe.pts,V),fe.dtsTime=fe.dts/Yp,fe.ptsTime=fe.pts/Yp})}if(P.video&&P.video.length){var B=L;if((typeof B>"u"||isNaN(B))&&(B=P.video[0].dts),P.video.forEach(function(fe){fe.dts=rg(fe.dts,B),fe.pts=rg(fe.pts,B),fe.dtsTime=fe.dts/Yp,fe.ptsTime=fe.pts/Yp}),P.firstKeyFrame){var Z=P.firstKeyFrame;Z.dts=rg(Z.dts,B),Z.pts=rg(Z.pts,B),Z.dtsTime=Z.dts/Yp,Z.ptsTime=Z.pts/Yp}}},Qle=function(P){for(var L=!1,V=0,B=null,Z=null,fe=0,Oe=0,Ve;P.length-Oe>=3;){var We=ki.aac.parseType(P,Oe);switch(We){case"timed-metadata":if(P.length-Oe<10){L=!0;break}if(fe=ki.aac.parseId3TagSize(P,Oe),fe>P.length){L=!0;break}Z===null&&(Ve=P.subarray(Oe,Oe+fe),Z=ki.aac.parseAacTimestamp(Ve)),Oe+=fe;break;case"audio":if(P.length-Oe<7){L=!0;break}if(fe=ki.aac.parseAdtsSize(P,Oe),fe>P.length){L=!0;break}B===null&&(Ve=P.subarray(Oe,Oe+fe),B=ki.aac.parseSampleRate(Ve)),V++,Oe+=fe;break;default:Oe++;break}if(L)return null}if(B===null||Z===null)return null;var Je=Yp/B,xt={audio:[{type:"audio",dts:Z,pts:Z},{type:"audio",dts:Z+V*1024*Je,pts:Z+V*1024*Je}]};return xt},Jle=function(P){var L={pid:null,table:null},V={};Yle(P,L);for(var B in L.table)if(L.table.hasOwnProperty(B)){var Z=L.table[B];switch(Z){case l5.H264_STREAM_TYPE:V.video=[],Kle(P,L,V),V.video.length===0&&delete V.video;break;case l5.ADTS_STREAM_TYPE:V.audio=[],u5(P,L,V),V.audio.length===0&&delete V.audio;break}}return V},eue=function(P,L){var V=ki.aac.isLikelyAacData(P),B;return V?B=Qle(P):B=Jle(P),!B||!B.audio&&!B.video?null:(Zle(B,L),B)},tue={inspect:eue,parseAudioPes_:u5};const rue=function(P,L){L.on("data",function(V){const B=V.initSegment;V.initSegment={data:B.buffer,byteOffset:B.byteOffset,byteLength:B.byteLength};const Z=V.data;V.data=Z.buffer,P.postMessage({action:"data",segment:V,byteOffset:Z.byteOffset,byteLength:Z.byteLength},[V.data])}),L.on("done",function(V){P.postMessage({action:"done"})}),L.on("gopInfo",function(V){P.postMessage({action:"gopInfo",gopInfo:V})}),L.on("videoSegmentTimingInfo",function(V){const B={start:{decode:Ie.videoTsToSeconds(V.start.dts),presentation:Ie.videoTsToSeconds(V.start.pts)},end:{decode:Ie.videoTsToSeconds(V.end.dts),presentation:Ie.videoTsToSeconds(V.end.pts)},baseMediaDecodeTime:Ie.videoTsToSeconds(V.baseMediaDecodeTime)};V.prependedContentDuration&&(B.prependedContentDuration=Ie.videoTsToSeconds(V.prependedContentDuration)),P.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:B})}),L.on("audioSegmentTimingInfo",function(V){const B={start:{decode:Ie.videoTsToSeconds(V.start.dts),presentation:Ie.videoTsToSeconds(V.start.pts)},end:{decode:Ie.videoTsToSeconds(V.end.dts),presentation:Ie.videoTsToSeconds(V.end.pts)},baseMediaDecodeTime:Ie.videoTsToSeconds(V.baseMediaDecodeTime)};V.prependedContentDuration&&(B.prependedContentDuration=Ie.videoTsToSeconds(V.prependedContentDuration)),P.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:B})}),L.on("id3Frame",function(V){P.postMessage({action:"id3Frame",id3Frame:V})}),L.on("caption",function(V){P.postMessage({action:"caption",caption:V})}),L.on("trackinfo",function(V){P.postMessage({action:"trackinfo",trackInfo:V})}),L.on("audioTimingInfo",function(V){P.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ie.videoTsToSeconds(V.start),end:Ie.videoTsToSeconds(V.end)}})}),L.on("videoTimingInfo",function(V){P.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ie.videoTsToSeconds(V.start),end:Ie.videoTsToSeconds(V.end)}})}),L.on("log",function(V){P.postMessage({action:"log",log:V})})};class c5{constructor(L,V){this.options=V||{},this.self=L,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Te.Transmuxer(this.options),rue(this.self,this.transmuxer)}pushMp4Captions(L){this.captionParser||(this.captionParser=new on,this.captionParser.init());const V=new Uint8Array(L.data,L.byteOffset,L.byteLength),B=this.captionParser.parse(V,L.trackIds,L.timescales);this.self.postMessage({action:"mp4Captions",captions:B&&B.captions||[],logs:B&&B.logs||[],data:V.buffer},[V.buffer])}probeMp4StartTime({timescales:L,data:V}){const B=OA.startTime(L,V);this.self.postMessage({action:"probeMp4StartTime",startTime:B,data:V},[V.buffer])}probeMp4Tracks({data:L}){const V=OA.tracks(L);this.self.postMessage({action:"probeMp4Tracks",tracks:V,data:L},[L.buffer])}probeEmsgID3({data:L,offset:V}){const B=OA.getEmsgID3(L,V);this.self.postMessage({action:"probeEmsgID3",id3Frames:B,emsgData:L},[L.buffer])}probeTs({data:L,baseStartTime:V}){const B=typeof V=="number"&&!isNaN(V)?V*Ie.ONE_SECOND_IN_TS:void 0,Z=tue.inspect(L,B);let fe=null;Z&&(fe={hasVideo:Z.video&&Z.video.length===2||!1,hasAudio:Z.audio&&Z.audio.length===2||!1},fe.hasVideo&&(fe.videoStart=Z.video[0].ptsTime),fe.hasAudio&&(fe.audioStart=Z.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:fe,data:L},[L.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(L){const V=new Uint8Array(L.data,L.byteOffset,L.byteLength);this.transmuxer.push(V)}reset(){this.transmuxer.reset()}setTimestampOffset(L){const V=L.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ie.secondsToVideoTs(V)))}setAudioAppendStart(L){this.transmuxer.setAudioAppendStart(Math.ceil(Ie.secondsToVideoTs(L.appendStart)))}setRemux(L){this.transmuxer.setRemux(L.remux)}flush(L){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(L){this.transmuxer.alignGopsWith(L.gopsToAlignWith.slice())}}self.onmessage=function(P){if(P.data.action==="init"&&P.data.options){this.messageHandlers=new c5(self,P.data.options);return}this.messageHandlers||(this.messageHandlers=new c5(self)),P.data&&P.data.action&&P.data.action!=="init"&&this.messageHandlers[P.data.action]&&this.messageHandlers[P.data.action](P.data)}}));var nGe=hie(rGe);const iGe=(t,e,r)=>{const{type:n,initSegment:i,captions:s,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:o,metadata:a});const d=t.data.segment.boxes||{data:t.data.segment.data},f={type:n,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(f.videoFrameDtsTime=l),typeof u<"u"&&(f.videoFramePtsTime=u),r(f)},sGe=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},oGe=(t,e)=>{e.gopInfo=t.data.gopInfo},gie=t=>{const{transmuxer:e,bytes:r,audioAppendStart:n,gopsToAlignWith:i,remux:s,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:f,onId3:h,onCaptions:g,onDone:v,onEndedTimeline:p,onTransmuxerLog:b,isEndOfTimeline:S,segment:C,triggerSegmentEventFn:T}=t,A={buffer:[]};let E=S;const I=N=>{e.currentTransmux===t&&(N.data.action==="data"&&iGe(N,A,o),N.data.action==="trackinfo"&&a(N.data.trackInfo),N.data.action==="gopInfo"&&oGe(N,A),N.data.action==="audioTimingInfo"&&l(N.data.audioTimingInfo),N.data.action==="videoTimingInfo"&&u(N.data.videoTimingInfo),N.data.action==="videoSegmentTimingInfo"&&d(N.data.videoSegmentTimingInfo),N.data.action==="audioSegmentTimingInfo"&&f(N.data.audioSegmentTimingInfo),N.data.action==="id3Frame"&&h([N.data.id3Frame],N.data.id3Frame.dispatchType),N.data.action==="caption"&&g(N.data.caption),N.data.action==="endedtimeline"&&(E=!1,p()),N.data.action==="log"&&b(N.data.log),N.data.type==="transmuxed"&&(E||(e.onmessage=null,sGe({transmuxedData:A,callback:v}),vie(e))))},O=()=>{const N={message:"Received an error message from the transmuxer worker",metadata:{errorType:It.Error.StreamingFailedToTransmuxSegment,segmentInfo:R0({segment:C})}};v(null,N)};if(e.onmessage=I,e.onerror=O,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),r.byteLength){const N=r instanceof ArrayBuffer?r:r.buffer,G=r instanceof ArrayBuffer?0:r.byteOffset;T({type:"segmenttransmuxingstart",segment:C}),e.postMessage({action:"push",data:N,byteOffset:G,byteLength:r.byteLength},[N])}S&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},vie=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():gie(t.currentTransmux))},ZV=(t,e)=>{t.postMessage({action:e}),vie(t)},yie=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,ZV(e,t);return}e.transmuxQueue.push(ZV.bind(null,e,t))},aGe=t=>{yie("reset",t)},lGe=t=>{yie("endTimeline",t)},_ie=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,gie(t);return}t.transmuxer.transmuxQueue.push(t)},uGe=t=>{const e=new nGe;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e};var n4={reset:aGe,endTimeline:lGe,transmux:_ie,createTransmuxer:uGe};const O2=function(t){const e=t.transmuxer,r=t.endAction||t.action,n=t.callback,i=Ls({},t,{endAction:null,transmuxer:null,callback:null}),s=o=>{o.data.action===r&&(e.removeEventListener("message",s),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),n(o.data))};if(e.addEventListener("message",s),t.data){const o=t.data instanceof ArrayBuffer;i.byteOffset=o?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const a=[o?t.data:t.data.buffer];e.postMessage(i,a)}else e.postMessage(i)},pd={FAILURE:2,TIMEOUT:-101,ABORTED:-102},MD=t=>{t.forEach(e=>{e.abort()})},cGe=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),dGe=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},b$=(t,e)=>{const{requestType:r}=e,n=sm({requestType:r,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:pd.TIMEOUT,xhr:e,metadata:n}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:pd.ABORTED,xhr:e,metadata:n}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:pd.FAILURE,xhr:e,metadata:n}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:pd.FAILURE,xhr:e,metadata:n}:null},QV=(t,e,r,n)=>(i,s)=>{const o=s.response,a=b$(i,s);if(a)return r(a,t);if(o.byteLength!==16)return r({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:pd.FAILURE,xhr:s},t);const l=new DataView(o),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let f=0;f<e.length;f++)e[f].bytes=u;const d={uri:s.uri};return n({type:"segmentkeyloadcomplete",segment:t,keyInfo:d}),r(null,t)},bie=(t,e)=>{const r=B6(t.map.bytes);if(r!=="mp4"){const n=t.map.resolvedUri||t.map.uri,i=r||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:pd.FAILURE,metadata:{mediaType:i}})}O2({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:i})=>(t.map.bytes=i,n.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},fGe=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:r})=>(n,i)=>{const s=b$(n,i);if(s)return e(s,t);const o=new Uint8Array(i.response);if(r({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=o,e(null,t);t.map.bytes=o,bie(t,function(a){if(a)return a.xhr=i,a.status=i.status,e(a,t);e(null,t)})},hGe=({segment:t,finishProcessingFn:e,responseType:r,triggerSegmentEventFn:n})=>(i,s)=>{const o=b$(i,s);if(o)return e(o,t);n({type:"segmentloaded",segment:t});const a=r==="arraybuffer"||!s.responseText?s.response:eGe(s.responseText.substring(t.lastReachedChar||0));return t.stats=cGe(s),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},pGe=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{const v=t.map&&t.map.tracks||{},p=!!(v.audio&&v.video);let b=n.bind(null,t,"audio","start");const S=n.bind(null,t,"audio","end");let C=n.bind(null,t,"video","start");const T=n.bind(null,t,"video","end"),A=()=>_ie({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:E=>{E.type=E.type==="combined"?"video":E.type,d(t,E)},onTrackInfo:E=>{r&&(p&&(E.isMuxed=!0),r(t,E))},onAudioTimingInfo:E=>{b&&typeof E.start<"u"&&(b(E.start),b=null),S&&typeof E.end<"u"&&S(E.end)},onVideoTimingInfo:E=>{C&&typeof E.start<"u"&&(C(E.start),C=null),T&&typeof E.end<"u"&&T(E.end)},onVideoSegmentTimingInfo:E=>{const I={pts:{start:E.start.presentation,end:E.end.presentation},dts:{start:E.start.decode,end:E.end.decode}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:I}),i(E)},onAudioSegmentTimingInfo:E=>{const I={pts:{start:E.start.pts,end:E.end.pts},dts:{start:E.start.dts,end:E.end.dts}};g({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:I}),s(E)},onId3:(E,I)=>{o(t,E,I)},onCaptions:E=>{a(t,[E])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:h,onDone:(E,I)=>{f&&(E.type=E.type==="combined"?"video":E.type,g({type:"segmenttransmuxingcomplete",segment:t}),f(I,t,E))},segment:t,triggerSegmentEventFn:g});O2({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:E=>{t.bytes=e=E.data;const I=E.result;I&&(r(t,{hasAudio:I.hasAudio,hasVideo:I.hasVideo,isMuxed:p}),r=null),A()}})},xie=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{let v=new Uint8Array(e);if(Nze(v)){t.isFmp4=!0;const{tracks:p}=t.map,b={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(b.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(b.videoCodec=p.video.codec),p.video&&p.audio&&(b.isMuxed=!0),r(t,b);const S=(C,T)=>{d(t,{data:v,type:b.hasAudio&&!b.isMuxed?"audio":"video"}),T&&T.length&&o(t,T),C&&C.length&&a(t,C),f(null,t,{})};O2({action:"probeMp4StartTime",timescales:t.map.timescales,data:v,transmuxer:t.transmuxer,callback:({data:C,startTime:T})=>{e=C.buffer,t.bytes=v=C,b.hasAudio&&!b.isMuxed&&n(t,"audio","start",T),b.hasVideo&&n(t,"video","start",T),O2({action:"probeEmsgID3",data:v,transmuxer:t.transmuxer,offset:T,callback:({emsgData:A,id3Frames:E})=>{if(e=A.buffer,t.bytes=v=A,!p.video||!A.byteLength||!t.transmuxer){S(void 0,E);return}O2({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:v,timescales:t.map.timescales,trackIds:[p.video.id],callback:I=>{e=I.data.buffer,t.bytes=v=I.data,I.logs.forEach(function(O){h(Pi(O,{stream:"mp4CaptionParser"}))}),S(I.captions,E)}})}})}});return}if(!t.transmuxer){f(null,t,{});return}if(typeof t.container>"u"&&(t.container=B6(v)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),f(null,t,{});return}pGe({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})},wie=function({id:t,key:e,encryptedBytes:r,decryptionWorker:n,segment:i,doneFn:s},o){const a=u=>{if(u.data.source===t){n.removeEventListener("message",a);const d=u.data.decrypted;o(new Uint8Array(d.bytes,d.byteOffset,d.byteLength))}};n.onerror=()=>{const u="An error occurred in the decryption worker",d=R0({segment:i}),f={message:u,metadata:{error:new Error(u),errorType:It.Error.StreamingFailedToDecryptSegment,segmentInfo:d,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(f,i)},n.addEventListener("message",a);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(aie({source:t,encrypted:r,key:l,iv:e.iv}),[r.buffer,l.buffer])},mGe=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{g({type:"segmentdecryptionstart"}),wie({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:f},v=>{e.bytes=v,g({type:"segmentdecryptioncomplete",segment:e}),xie({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})})},gGe=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})=>{let v=0,p=!1;return(b,S)=>{if(!p){if(b)return p=!0,MD(t),f(b,S);if(v+=1,v===t.length){const C=function(){if(S.encryptedBytes)return mGe({decryptionWorker:e,segment:S,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g});xie({segment:S,bytes:S.bytes,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d,doneFn:f,onTransmuxerLog:h,triggerSegmentEventFn:g})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return g({type:"segmentdecryptionstart",segment:S}),wie({decryptionWorker:e,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key,segment:S,doneFn:f},T=>{S.map.bytes=T,g({type:"segmentdecryptioncomplete",segment:S}),bie(S,A=>{if(A)return MD(t),f(A,S);C()})});C()}}}},vGe=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},yGe=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:d})=>f=>{if(!f.target.aborted)return t.stats=Pi(t.stats,dGe(f)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(f,t)},_Ge=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:n,abortFn:i,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:p,onTransmuxerLog:b,triggerSegmentEventFn:S})=>{const C=[],T=gGe({activeXhrs:C,decryptionWorker:r,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v,doneFn:p,onTransmuxerLog:b,triggerSegmentEventFn:S});if(n.key&&!n.key.bytes){const N=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&N.push(n.map.key);const G=Pi(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),ie=QV(n,N,T,S),W={uri:n.key.resolvedUri};S({type:"segmentkeyloadstart",segment:n,keyInfo:W});const q=t(G,ie);C.push(q)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const q=Pi(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),J=QV(n,[n.map.key],T,S),X={uri:n.map.key.resolvedUri};S({type:"segmentkeyloadstart",segment:n,keyInfo:X});const R=t(q,J);C.push(R)}const G=Pi(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:DD(n.map),requestType:"segment-media-initialization"}),ie=fGe({segment:n,finishProcessingFn:T,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:n});const W=t(G,ie);C.push(W)}const A=Pi(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:DD(n),requestType:"segment"}),E=hGe({segment:n,finishProcessingFn:T,responseType:A.responseType,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:n});const I=t(A,E);I.addEventListener("progress",yGe({segment:n,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:d,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:g,dataFn:v})),C.push(I);const O={};return C.forEach(N=>{N.addEventListener("loadend",vGe({loadendState:O,abortFn:i}))}),()=>MD(C)},bGe=Wu("CodecUtils"),xGe=function(t){const e=t.attributes||{};if(e.CODECS)return Jc(e.CODECS)},Sie=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},wGe=(t,e)=>{if(!Sie(t,e))return!0;const r=e.attributes||{},n=t.mediaGroups.AUDIO[r.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},lC=function(t){const e={};return t.forEach(({mediaType:r,type:n,details:i})=>{e[r]=e[r]||[],e[r].push(Dte(`${n}${i}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){bGe(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},JV=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},$2=function(t,e){const r=e.attributes||{},n=lC(xGe(e)||[]);if(Sie(t,e)&&!n.audio&&!wGe(t,e)){const i=lC(N7e(t,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},Wx=Wu("PlaylistSelector"),ez=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},uC=function(t,e){if(!t)return"";const r=Ke.getComputedStyle(t);return r?r[e]:""},lv=function(t,e){const r=t.slice();t.sort(function(n,i){const s=e(n,i);return s===0?r.indexOf(n)-r.indexOf(i):s})},x$=function(t,e){let r,n;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||Ke.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||Ke.Number.MAX_VALUE,r-n},SGe=function(t,e){let r,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||Ke.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||Ke.Number.MAX_VALUE,r===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-n};let Tie=function(t,e,r,n,i,s){if(!t)return;const o={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:i};let a=t.playlists;cl.isAudioOnly(t)&&(a=s.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=a.map(E=>{let I;const O=E.attributes&&E.attributes.RESOLUTION&&E.attributes.RESOLUTION.width,N=E.attributes&&E.attributes.RESOLUTION&&E.attributes.RESOLUTION.height;return I=E.attributes&&E.attributes.BANDWIDTH,I=I||Ke.Number.MAX_VALUE,{bandwidth:I,width:O,height:N,playlist:E}});lv(l,(E,I)=>E.bandwidth-I.bandwidth),l=l.filter(E=>!cl.isIncompatible(E.playlist));let u=l.filter(E=>cl.isEnabled(E.playlist));u.length||(u=l.filter(E=>!cl.isDisabled(E.playlist)));const d=u.filter(E=>E.bandwidth*Eo.BANDWIDTH_VARIANCE<e);let f=d[d.length-1];const h=d.filter(E=>E.bandwidth===f.bandwidth)[0];if(i===!1){const E=h||u[0]||l[0];if(E&&E.playlist){let I="sortedPlaylistReps";return h&&(I="bandwidthBestRep"),u[0]&&(I="enabledPlaylistReps"),Wx(`choosing ${ez(E)} using ${I} with options`,o),E.playlist}return Wx("could not choose a playlist with options",o),null}const g=d.filter(E=>E.width&&E.height);lv(g,(E,I)=>E.width-I.width);const v=g.filter(E=>E.width===r&&E.height===n);f=v[v.length-1];const p=v.filter(E=>E.bandwidth===f.bandwidth)[0];let b,S,C;p||(b=g.filter(E=>E.width>r||E.height>n),S=b.filter(E=>E.width===b[0].width&&E.height===b[0].height),f=S[S.length-1],C=S.filter(E=>E.bandwidth===f.bandwidth)[0]);let T;if(s.leastPixelDiffSelector){const E=g.map(I=>(I.pixelDiff=Math.abs(I.width-r)+Math.abs(I.height-n),I));lv(E,(I,O)=>I.pixelDiff===O.pixelDiff?O.bandwidth-I.bandwidth:I.pixelDiff-O.pixelDiff),T=E[0]}const A=T||C||p||h||u[0]||l[0];if(A&&A.playlist){let E="sortedPlaylistReps";return T?E="leastPixelDiffRep":C?E="resolutionPlusOneRep":p?E="resolutionBestRep":h?E="bandwidthBestRep":u[0]&&(E="enabledPlaylistReps"),Wx(`choosing ${ez(A)} using ${E} with options`,o),A.playlist}return Wx("could not choose a playlist with options",o),null};const tz=function(){let t=this.useDevicePixelRatio&&Ke.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),Tie(this.playlists.main,this.systemBandwidth,parseInt(uC(this.tech_.el(),"width"),10)*t,parseInt(uC(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},TGe=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&Ke.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),Tie(this.playlists.main,e,parseInt(uC(this.tech_.el(),"width"),10)*n,parseInt(uC(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},CGe=function(t){const{main:e,currentTime:r,bandwidth:n,duration:i,segmentDuration:s,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=t,u=e.playlists.filter(v=>!cl.isIncompatible(v));let d=u.filter(cl.isEnabled);d.length||(d=u.filter(v=>!cl.isDisabled(v)));const h=d.filter(cl.hasAttribute.bind(null,"BANDWIDTH")).map(v=>{const b=l.getSyncPoint(v,i,a,r)?1:2,C=cl.estimateSegmentRequestTime(s,n,v)*b-o;return{playlist:v,rebufferingImpact:C}}),g=h.filter(v=>v.rebufferingImpact<=0);return lv(g,(v,p)=>x$(p.playlist,v.playlist)),g.length?g[0]:(lv(h,(v,p)=>v.rebufferingImpact-p.rebufferingImpact),h[0]||null)},EGe=function(){const t=this.playlists.main.playlists.filter(cl.isEnabled);return lv(t,(r,n)=>x$(r,n)),t.filter(r=>!!$2(this.playlists.main,r).video)[0]||null},AGe=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(n=>{r.set(n,e),e+=n.byteLength})),r};function Cie(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const PGe=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)t[r]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=r,a=r,l=!1;const u=s[n];u&&(o=u.label,a=u.language,l=u.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:o,language:a},!1).track}}},kGe=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const n=Ke.WebKitDataCue||Ke.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(o=>{const a=new n(i.startTime+r,i.endTime+r,o.text);a.line=o.line,a.align="left",a.position=o.position,a.positionAlign="line-left",t[s].addCue(a)}):t[s].addCue(new n(i.startTime+r,i.endTime+r,i.text))})},IGe=function(t){Object.defineProperties(t.frame,{id:{get(){return It.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return It.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return It.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},DGe=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:n})=>{if(!e)return;const i=Ke.WebKitDataCue||Ke.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(d=>{const f=d.cueTime+r;typeof f!="number"||Ke.isNaN(f)||f<0||!(f<1/0)||!d.frames||!d.frames.length||d.frames.forEach(h=>{const g=new i(f,f,h.value||h.url||h.data||"");g.frame=h,g.value=h,IGe(g),s.addCue(g)})}),!s.cues||!s.cues.length))return;const o=s.cues,a=[];for(let d=0;d<o.length;d++)o[d]&&a.push(o[d]);const l=a.reduce((d,f)=>{const h=d[f.startTime]||[];return h.push(f),d[f.startTime]=h,d},{}),u=Object.keys(l).sort((d,f)=>Number(d)-Number(f));u.forEach((d,f)=>{const h=l[d],g=isFinite(n)?n:d,v=Number(u[f+1])||g;h.forEach(p=>{p.endTime=v})})},RGe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},MGe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),OGe=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const n=Ke.WebKitDataCue||Ke.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(MGe.has(s))continue;const o=new n(i.startTime,i.endTime,"");o.id=i.id,o.type="com.apple.quicktime.HLS",o.value={key:RGe[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(o)}i.processDateRange()})},rz=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,It.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Q_=function(t,e,r){let n,i;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime>=t&&i.endTime<=e&&r.removeCue(i)},$Ge=function(t){const e=t.cues;if(!e)return;const r={};for(let n=e.length-1;n>=0;n--){const i=e[n],s=`${i.startTime}-${i.endTime}-${i.text}`;r[s]?t.removeCue(i):r[s]=i}},LGe=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-r+3)*H0.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>n);i++);return t.slice(i)},FGe=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const n=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=n);i++);return t.slice(0,i).concat(e)},NGe=(t,e,r,n)=>{const i=Math.ceil((e-n)*H0.ONE_SECOND_IN_TS),s=Math.ceil((r-n)*H0.ONE_SECOND_IN_TS),o=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=s););if(a===-1)return o;let l=a+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),o.splice(l,a-l+1),o},BGe=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),n=Object.keys(e).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i];if(s!==n[i]||t[s]!==e[s])return!1}return!0},UGe=function(t,e,r){e=e||[];const n=[];let i=0;for(let s=0;s<e.length;s++){const o=e[s];if(t===o.timeline&&(n.push(s),i+=o.duration,i>r))return s}return n.length===0?0:n[n.length-1]},b_=1,VGe=500,nz=t=>typeof t=="number"&&isFinite(t),qx=1/60,zGe=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,HGe=(t,e,r)=>{let n=e-Eo.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const i=e-r;return Math.min(i,n)},yg=t=>{const{startOfSegment:e,duration:r,segment:n,part:i,playlist:{mediaSequence:s,id:o,segments:a=[]},mediaIndex:l,partIndex:u,timeline:d}=t,f=a.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const g=typeof u=="number",v=t.segment.uri?"segment":"pre-segment",p=g?Gne({preloadSegment:n})-1:0;return`${v} [${s+l}/${s+f}]`+(g?` part [${u}/${p}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(g?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${d}] selected by [${h}] playlist [${o}]`},iz=t=>`${t}TimingInfo`,jGe=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:n,overrideCheck:i})=>!i&&t===e?null:t<e?r:n.length?n.end(n.length-1):r,OD=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:n,audioDisabled:i})=>{if(e===r)return!1;if(n==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==r}if(n==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===r)}return!1},GGe=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),r=t.pendingTimelineChange({type:"main"}),n=e&&r,i=n&&e.to!==r.to;return!!(n&&e.from!==-1&&r.from!==-1&&i)},WGe=t=>{t&&(t.pause(),t.resetEverything(),t.load())},qGe=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),r=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&r&&e.to<r.to},Th=t=>{const e=t.pendingSegment_;if(!e)return;if(OD({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&GGe(t.timelineChangeController_)){if(t.sourceType_==="dash"&&qGe(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}WGe(t)}},XGe=t=>{let e=0;return["video","audio"].forEach(function(r){const n=t[`${r}TimingInfo`];if(!n)return;const{start:i,end:s}=n;let o;typeof i=="bigint"||typeof s=="bigint"?o=Ke.BigInt(s)-Ke.BigInt(i):typeof i=="number"&&typeof s=="number"&&(o=s-i),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},sz=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+fd:!1,YGe=(t,e)=>{if(e!=="hls")return null;const r=XGe({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const n=t.playlist.targetDuration,i=sz({segmentDuration:r,maxDuration:n*2}),s=sz({segmentDuration:r,maxDuration:n}),o=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:o}:null},R0=({type:t,segment:e})=>{if(!e)return;const r=!!(e.key||e.map&&e.map.ke),n=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:r,isMediaInitialization:n}};class $D extends It.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Wu(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Th(this)}),this.sourceUpdater_.on("codecschange",n=>{this.trigger(Ls({type:"codecschange"},n))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Th(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",n=>{this.trigger(Ls({type:"timelinechange"},n)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Th(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Th(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return n4.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Ke.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Ke.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&n4.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ko();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:n,isMuxed:i}=e;if(n&&r&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const n=aC(e);let i=this.initSegments_[n];return r&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,r=!1){if(!e)return null;const n=lie(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&r&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${t4(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${o}]`),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=o,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(Ke.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&n4.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,n=()=>{},i=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const o=()=>{s--,s===0&&n()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,r,o)),(i||this.loaderType_==="main")&&(this.gopBuffer_=NGe(this.gopBuffer_,e,r,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,r,o));for(const a in this.inbandTextTracks_)Q_(e,r,this.inbandTextTracks_[a]);Q_(e,r,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&Ke.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Ke.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Ke.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Ke.setTimeout(this.monitorBufferTick_.bind(this),VGe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const r={segmentInfo:R0({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:r}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,n=this.partIndex){if(!r||!this.mediaSource_)return!1;const i=typeof e=="number"&&r.segments[e],s=e+1===r.segments.length,o=!i||!i.parts||n+1===i.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&s&&o}chooseNextRequest_(){const e=this.buffered_(),r=t4(e)||0,n=g$(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,s=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=UGe(this.currentTimeline_,o,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){const h=o[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=h.end?h.end:r,h.parts&&h.parts[g+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=g+1):a.mediaIndex=this.mediaIndex+1}else{let h,g,v;const p=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${p}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const b=this.getSyncInfoFromMediaSequenceSync_(p);if(!b){const S="No sync info found while using media sequence sync";return this.error({message:S,metadata:{errorType:It.Error.StreamingFailedToSelectNextSegment,error:new Error(S)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${b.start} --> ${b.end})`),h=b.segmentIndex,g=b.partIndex,v=b.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const b=cl.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:p,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=b.segmentIndex,g=b.partIndex,v=b.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${p}`:`currentTime ${p}`,a.mediaIndex=h,a.startOfSegment=v,a.partIndex=g,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}const l=o[a.mediaIndex];let u=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!u)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,u=l.parts[0]);const d=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&u&&!d&&!u.independent)if(a.partIndex===0){const h=o[a.mediaIndex-1],g=h.parts&&h.parts.length&&h.parts[h.parts.length-1];g&&g.independent&&(a.mediaIndex-=1,a.partIndex=h.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const f=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=o.length-1&&f&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:r,playlist:n,mediaIndex:i,startOfSegment:s,isSyncRequest:o,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:u}=e,d=n.segments[i],f=typeof a=="number"&&d.parts[a],h={requestId:"segment-loader-"+Math.random(),uri:f&&f.resolvedUri||d.resolvedUri,mediaIndex:i,partIndex:f?a:null,isSyncRequest:o,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:d.timeline,duration:f&&f.duration||d.duration,segment:d,part:f,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:r},g=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:d.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:g});const v=t4(this.sourceUpdater_.audioBuffered());return typeof v=="number"&&(h.audioAppendStart=v-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=LGe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return jGe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,s=cl.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=hje(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(s<=o)return;const a=CGe({main:this.vhs_.playlists.main,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const u=s-o-a.rebufferingImpact;let d=.5;o<=fd&&(d=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||u<d)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Eo.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${yg(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){const{hasAudio:n,hasVideo:i}=r,s={segmentInfo:R0({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},BGe(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Th(this))))}handleTimingInfo_(e,r,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,o=iz(r);s[o]=s[o]||{},s[o][n]=i,this.logger_(`timinginfo: ${r} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Th(this)}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};r.forEach(o=>{s[o.stream]=s[o.stream]||{startTime:1/0,captions:[],endTime:0};const a=s[o.stream];a.startTime=Math.min(a.startTime,o.startTime+i),a.endTime=Math.max(a.endTime,o.endTime+i),a.captions.push(o)}),Object.keys(s).forEach(o=>{const{startTime:a,endTime:l,captions:u}=s[o],d=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${o}`),PGe(d,this.vhs_.tech_,o),Q_(a,l,d[o]),kGe({captionArray:u,inbandTextTracks:d,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,n));return}this.addMetadataToTextTrack(n,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!OD({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:n,hasVideo:i,isMuxed:s}=r;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||OD({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Th(this),this.callQueue_.push(this.handleData_.bind(this,e,r));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[iz(r.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let o;s&&(o=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:o,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,r.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:n,playlist:i}){if(n){const s=aC(n);if(this.activeInitSegmentId_===s)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n},i){const s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+j0(s).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+j0(o).join(", "));const a=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=o.length?o.start(0):0,d=o.length?o.end(o.length-1):0;if(l-a<=b_&&d-u<=b_){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${j0(s).join(", ")}, video buffer: ${j0(o).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:n}));const h=this.currentTime_()-b_;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${b_}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=Ke.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},b_*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:n},i){if(i){if(i.code===rie){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${r} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:It.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:n,data:i,bytes:s}){if(!s){const a=[i];let l=i.byteLength;n&&(a.unshift(n),l+=n.byteLength),s=AGe({bytes:l,segments:a})}const o={segmentInfo:R0({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:o}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:s}))}handleSegmentTimingInfo_(e,r,n){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[s].transmuxedPresentationStart=n.start.presentation,i[s].transmuxedDecodeStart=n.start.decode,i[s].transmuxedPresentationEnd=n.end.presentation,i[s].transmuxedDecodeEnd=n.end.decode,i[s].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,r){const{type:n,data:i}=r;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:n,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Th(this),this.loadQueue_.push(()=>{const r=Ls({},e,{forceTimestampOffset:!0});Ls(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,o=n||i&&s;this.logger_(`Requesting
${Cie(e.uri)}
${yg(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=_Ge({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:u})=>{this.logger_(`${yg(e)} logged from transmuxer stream ${u} as a ${l}: ${a}`)},triggerSegmentEventFn:({type:a,segment:l,keyInfo:u,trackInfo:d,timingInfo:f})=>{const g={segmentInfo:R0({segment:l})};u&&(g.keyInfo=u),d&&(g.trackInfo=d),f&&(g.timingInfo=f),this.trigger({type:a,metadata:g})}})}trimBackBuffer_(e){const r=HGe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,o={resolvedUri:n?n.resolvedUri:r.resolvedUri,byterange:n?n.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===r.timeline&&(a.videoTimingInfo?o.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(o.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),r.key){const l=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);o.key=this.segmentKey(r.key),o.key.iv=l}return r.map&&(o.map=this.initSegmentForMap(r.map)),o}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<qx){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${qx}`);return}const n={bandwidthInfo:{from:this.bandwidth,to:r.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,n));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===pd.ABORTED)return;if(this.pause(),e.code===pd.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),i.endOfAllRequests=r.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=FGe(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:o,videoTimingInfo:a,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const u=r.segments[n-1];return n===0||!u||typeof u.start>"u"||u.end!==i+s?i:a.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:s}=r,o=this.loaderType_==="main"&&i,a=!this.audioDisabled_&&n&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=zGe(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),i=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:R0({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=YGe(e,this.sourceType_);if(r&&(r.severity==="warn"?It.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${yg(e)}`);return}this.logger_(`Appended ${yg(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,s=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,o=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||o){this.logger_(`bad ${s?"segment":"part"} ${yg(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<qx){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${qx}`);return}const r=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,n=r.start,i=r.end;if(!nz(n)||!nz(i))return;Q_(n,i,this.segmentMetadataTrack_);const s=Ke.WebKitDataCue||Ke.VTTCue,o={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=JSON.stringify(o),l=new s(n,i,a);l.value=o,this.segmentMetadataTrack_.addCue(l)}}function bf(){}const Eie=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},KGe=["video","audio"],LD=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},ZGe=(t,e)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.type==="mediaSource")return null;if(n.type===t)return r}return null},uv=(t,e)=>{if(e.queue.length===0)return;let r=0,n=e.queue[r];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),uv("audio",e),uv("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||LD(t,e))){if(n.type!==t){if(r=ZGe(t,e.queue),r===null)return;n=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,uv(t,e);return}}},Aie=(t,e)=>{const r=e[`${t}Buffer`],n=Eie(t);r&&(r.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),r.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},nd=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Al={appendBuffer:(t,e,r)=>(n,i)=>{const s=i[`${n}Buffer`];if(nd(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{s.appendBuffer(t)}catch(o){i.logger_(`Error with code ${o.code} `+(o.code===rie?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,r(o)}}},remove:(t,e)=>(r,n)=>{const i=n[`${r}Buffer`];if(nd(n.mediaSource,i)){n.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{i.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const n=r[`${e}Buffer`];nd(r.mediaSource,n)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){It.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){It.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(nd(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(n){It.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>r=>{const n=Eie(t),i=Mb(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=r.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",r[`on${n}UpdateEnd_`]),s.addEventListener("error",r[`on${n}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(Aie(t,e),!!nd(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(n){It.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,r)=>{const n=r[`${e}Buffer`],i=Mb(t);if(!nd(r.mediaSource,n))return;const s=t.substring(0,t.indexOf(".")),o=r.codecs[e];if(o.substring(0,o.indexOf("."))===s)return;const l={codecsChangeInfo:{from:o,to:t}};r.trigger({type:"codecschange",metadata:l}),r.logger_(`changing ${e}Buffer codec from ${o} to ${t}`);try{n.changeType(i),r.codecs[e]=t}catch(u){l.errorType=It.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,r.error_=u,r.trigger("error"),It.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},Pl=({type:t,sourceUpdater:e,action:r,doneFn:n,name:i})=>{e.queue.push({type:t,action:r,doneFn:n,name:i}),uv(t,e)},oz=(t,e)=>r=>{const n=e[`${t}Buffered`](),i=cje(n);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}uv(t,e)};class Pie extends It.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>uv("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Wu("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=oz("video",this),this.onAudioUpdateEnd_=oz("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){Pl({type:"mediaSource",sourceUpdater:this,action:Al.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){Pl({type:e,sourceUpdater:this,action:Al.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){It.log.error("removeSourceBuffer is not supported!");return}Pl({type:"mediaSource",sourceUpdater:this,action:Al.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!It.browser.IS_FIREFOX&&Ke.MediaSource&&Ke.MediaSource.prototype&&typeof Ke.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return Ke.SourceBuffer&&Ke.SourceBuffer.prototype&&typeof Ke.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){It.log.error("changeType is not supported!");return}Pl({type:e,sourceUpdater:this,action:Al.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const n=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,n);this.canChangeType()&&this.changeType(r,n)})}appendBuffer(e,r){const{segmentInfo:n,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const o=r;if(Pl({type:i,sourceUpdater:this,action:Al.appendBuffer(s,n||{mediaIndex:-1},o),doneFn:r,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return nd(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ko()}videoBuffered(){return nd(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ko()}buffered(){const e=nd(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=nd(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():fje(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=bf){Pl({type:"mediaSource",sourceUpdater:this,action:Al.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=bf){typeof e!="string"&&(e=void 0),Pl({type:"mediaSource",sourceUpdater:this,action:Al.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,n=bf){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}Pl({type:"audio",sourceUpdater:this,action:Al.remove(e,r),doneFn:n,name:"remove"})}removeVideo(e,r,n=bf){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}Pl({type:"video",sourceUpdater:this,action:Al.remove(e,r),doneFn:n,name:"remove"})}updating(){return!!(LD("audio",this)||LD("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Pl({type:"audio",sourceUpdater:this,action:Al.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Pl({type:"video",sourceUpdater:this,action:Al.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Pl({type:"audio",sourceUpdater:this,action:Al.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Pl({type:"video",sourceUpdater:this,action:Al.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),KGe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>Aie(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const az=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),QGe=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},lz=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class JGe extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class eWe extends $D{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ko();const e=this.subtitlesTrack_.cues,r=e[0].startTime,n=e[e.length-1].startTime;return Ko([[r,n]])}initSegmentForMap(e,r=!1){if(!e)return null;const n=aC(e);let i=this.initSegments_[n];if(r&&!i&&e.bytes){const s=lz.byteLength+e.bytes.byteLength,o=new Uint8Array(s);o.set(e.bytes),o.set(lz,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){Q_(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===pd.TIMEOUT&&this.handleTimeout_(),e.code===pd.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=r.map.bytes),i.bytes=r.bytes,typeof Ke.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(o){this.stopForError({message:o.message,metadata:{errorType:It.Error.StreamingVttParserError,error:o}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new Ke.VTTCue(o.startTime,o.endTime,o.text):o)}),$Ge(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,n=!1;if(typeof Ke.WebVTT!="function")throw new JGe;typeof Ke.TextDecoder=="function"?r=new Ke.TextDecoder("utf8"):(r=Ke.WebVTT.StringDecoder(),n=!0);const i=new Ke.WebVTT.Parser(Ke,Ke.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=o=>{e.timestampmap=o},i.onparsingerror=o=>{It.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;n&&(o=az(o)),i.parse(o)}let s=e.bytes;n&&(s=az(s)),i.parse(s),i.flush()}updateTimeMapping_(e,r,n){const i=e.segment;if(!r)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:o}=e.timestampmap,l=s/H0.ONE_SECOND_IN_TS-o+r.mapping;if(e.cues.forEach(u=>{const d=u.endTime-u.startTime,f=s===0?u.startTime+l:this.handleRollover_(u.startTime+l,r.time);u.startTime=Math.max(f,0),u.endTime=Math.max(f+d,0)}),!n.syncInfo){const u=e.cues[0].startTime,d=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(u,d-i.duration)}}}handleRollover_(e,r){if(r===null)return e;let n=e*H0.ONE_SECOND_IN_TS;const i=r*H0.ONE_SECOND_IN_TS;let s;for(i<n?s=-8589934592:s=8589934592;Math.abs(n-i)>4294967296;)n+=s;return n/H0.ONE_SECOND_IN_TS}}const tWe=function(t,e){const r=t.cues;for(let n=0;n<r.length;n++){const i=r[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},rWe=function(t,e,r=0){if(!t.segments)return;let n=r,i;for(let s=0;s<t.segments.length;s++){const o=t.segments[s];if(i||(i=tWe(e,n+o.duration/2)),i){if("cueIn"in o){i.endTime=n,i.adEndTime=n,n+=o.duration,i=null;continue}if(n<i.endTime){n+=o.duration;continue}i.endTime+=o.duration}else if("cueOut"in o&&(i=new Ke.VTTCue(n,n+o.duration,o.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(o.cueOut),e.addCue(i)),"cueOutCont"in o){const[a,l]=o.cueOutCont.split("/").map(parseFloat);i=new Ke.VTTCue(n,n+o.duration,""),i.adStartTime=n-a,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=o.duration}};class uz{constructor({start:e,end:r,segmentIndex:n,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=r,this.segmentIndex_=n,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class nWe{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class kie{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(r.isInRange(e))return r;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,r,n){const i=new Map;let s=`
`,o=n,a=r;this.start_=o,e.forEach((l,u)=>{const d=this.storage_.get(a),f=o,h=f+l.duration,g=!!(d&&d.segmentSyncInfo&&d.segmentSyncInfo.isAppended),v=new uz({start:f,end:h,appended:g,segmentIndex:u});l.syncInfo=v;let p=o;const b=(l.parts||[]).map((S,C)=>{const T=p,A=p+S.duration,E=!!(d&&d.partsSyncInfo&&d.partsSyncInfo[C]&&d.partsSyncInfo[C].isAppended),I=new uz({start:T,end:A,appended:E,segmentIndex:u,partIndex:C});return p=A,s+=`Media Sequence: ${a}.${C} | Range: ${T} --> ${A} | Appended: ${E}
`,S.syncInfo=I,I});i.set(a,new nWe(v,b)),s+=`${Cie(l.resolvedUri)} | Media Sequence: ${a} | Range: ${f} --> ${h} | Appended: ${g}
`,a++,o=h}),this.end_=o,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}class cz extends kie{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,r){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,r)}}const iWe=86400,i4=[{name:"VOD",run:(t,e,r,n,i)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,n,i,s)=>{const o=t.getMediaSequenceSync(s);if(!o||!o.isReliable)return null;const a=o.getSyncInfoForTime(i);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,n,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,o=null;const a=ED(e);i=i||0;for(let l=0;l<a.length;l++){const u=e.endList||i===0?l:a.length-(l+1),d=a[u],f=d.segment,h=t.timelineToDatetimeMappings[f.timeline];if(!h||!f.dateTimeObject)continue;let v=f.dateTimeObject.getTime()/1e3+h;if(f.parts&&typeof d.partIndex=="number")for(let b=0;b<d.partIndex;b++)v+=f.parts[b].duration;const p=Math.abs(i-v);if(o!==null&&(p===0||o<p))break;o=p,s={time:v,segmentIndex:d.segmentIndex,partIndex:d.partIndex}}return s}},{name:"Segment",run:(t,e,r,n,i)=>{let s=null,o=null;i=i||0;const a=ED(e);for(let l=0;l<a.length;l++){const u=e.endList||i===0?l:a.length-(l+1),d=a[u],f=d.segment,h=d.part&&d.part.start||f&&f.start;if(f.timeline===n&&typeof h<"u"){const g=Math.abs(i-h);if(o!==null&&o<g)break;(!s||o===null||o>=g)&&(o=g,s={time:h,segmentIndex:d.segmentIndex,partIndex:d.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,r,n,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let a=0;a<e.discontinuityStarts.length;a++){const l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,d=t.discontinuities[u];if(d){const f=Math.abs(i-d.time);if(o!==null&&o<f)break;(!s||o===null||o>=f)&&(o=f,s={time:d.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,r,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class sWe extends It.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const r=new kie,n=new cz(r),i=new cz(r);this.mediaSequenceStorage_={main:r,audio:n,vtt:i},this.logger_=Wu("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,n,i,s){if(r!==1/0)return i4.find(({name:l})=>l==="VOD").run(this,e,r);const o=this.runStrategies_(e,r,n,i,s);if(!o.length)return null;for(const a of o){const{syncPoint:l,strategy:u}=a,{segmentIndex:d,time:f}=l;if(d<0)continue;const h=e.segments[d],g=f,v=g+h.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${d}. Time: [${g} -> ${v}]}`),i>=g&&i<v)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(o,{key:"time",value:i})}getExpiredTime(e,r){if(!e||!e.segments)return null;const n=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+M2({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,r,n,i,s){const o=[];for(let a=0;a<i4.length;a++){const l=i4[a],u=l.run(this,e,r,n,i,s);u&&(u.strategy=l.name,o.push({strategy:l.name,syncPoint:u}))}return o}selectSyncPoint_(e,r){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[r.key]-r.value),s=e[0].strategy;for(let o=1;o<e.length;o++){const a=Math.abs(e[o].syncPoint[r.key]-r.value);a<i&&(i=a,n=e[o].syncPoint,s=e[o].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${s}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,r){const n=r.mediaSequence-e.mediaSequence;if(n>iWe){It.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],n=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&r&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,n){const i=e.segment,s=e.part;let o=this.timelines[e.timeline],a,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-r.start},n&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),a=e.startOfSegment,l=r.end+o.mapping;else if(o)a=r.start+o.mapping,l=r.end+o.mapping;else return!1;return s&&(s.start=a,s.end=l),(!i.start||a<i.start)&&(i.start=a),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let i=0;i<r.discontinuityStarts.length;i++){const s=r.discontinuityStarts[i],o=r.discontinuitySequence+i+1,a=s-e.mediaIndex,l=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let u;a<0?u=n.start-M2({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:s}):u=n.end+M2({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class oWe extends It.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:n}){return typeof r=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:n}){if(typeof r=="number"&&typeof n=="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:r,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const aWe=pie(mie(function(){var t=function(){function p(){this.listeners={}}var b=p.prototype;return b.on=function(C,T){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push(T)},b.off=function(C,T){if(!this.listeners[C])return!1;var A=this.listeners[C].indexOf(T);return this.listeners[C]=this.listeners[C].slice(0),this.listeners[C].splice(A,1),A>-1},b.trigger=function(C){var T=this.listeners[C];if(T)if(arguments.length===2)for(var A=T.length,E=0;E<A;++E)T[E].call(this,arguments[1]);else for(var I=Array.prototype.slice.call(arguments,1),O=T.length,N=0;N<O;++N)T[N].apply(this,I)},b.dispose=function(){this.listeners={}},b.pipe=function(C){this.on("data",function(T){C.push(T)})},p}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(p){return p.subarray(0,p.byteLength-p[p.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const p=[[[],[],[],[],[]],[[],[],[],[],[]]],b=p[0],S=p[1],C=b[4],T=S[4];let A,E,I;const O=[],N=[];let G,ie,W,q,J,X;for(A=0;A<256;A++)N[(O[A]=A<<1^(A>>7)*283)^A]=A;for(E=I=0;!C[E];E^=G||1,I=N[I]||1)for(q=I^I<<1^I<<2^I<<3^I<<4,q=q>>8^q&255^99,C[E]=q,T[q]=E,W=O[ie=O[G=O[E]]],X=W*16843009^ie*65537^G*257^E*16843008,J=O[q]*257^q*16843008,A=0;A<4;A++)b[A][E]=J=J<<24^J>>>8,S[A][q]=X=X<<24^X>>>8;for(A=0;A<5;A++)b[A]=b[A].slice(0),S[A]=S[A].slice(0);return p};let n=null;class i{constructor(b){n||(n=r()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let S,C,T;const A=this._tables[0][4],E=this._tables[1],I=b.length;let O=1;if(I!==4&&I!==6&&I!==8)throw new Error("Invalid aes key size");const N=b.slice(0),G=[];for(this._key=[N,G],S=I;S<4*I+28;S++)T=N[S-1],(S%I===0||I===8&&S%I===4)&&(T=A[T>>>24]<<24^A[T>>16&255]<<16^A[T>>8&255]<<8^A[T&255],S%I===0&&(T=T<<8^T>>>24^O<<24,O=O<<1^(O>>7)*283)),N[S]=N[S-I]^T;for(C=0;S;C++,S--)T=N[C&3?S:S-4],S<=4||C<4?G[C]=T:G[C]=E[0][A[T>>>24]]^E[1][A[T>>16&255]]^E[2][A[T>>8&255]]^E[3][A[T&255]]}decrypt(b,S,C,T,A,E){const I=this._key[1];let O=b^I[0],N=T^I[1],G=C^I[2],ie=S^I[3],W,q,J;const X=I.length/4-2;let R,z=4;const re=this._tables[1],oe=re[0],H=re[1],ee=re[2],ae=re[3],be=re[4];for(R=0;R<X;R++)W=oe[O>>>24]^H[N>>16&255]^ee[G>>8&255]^ae[ie&255]^I[z],q=oe[N>>>24]^H[G>>16&255]^ee[ie>>8&255]^ae[O&255]^I[z+1],J=oe[G>>>24]^H[ie>>16&255]^ee[O>>8&255]^ae[N&255]^I[z+2],ie=oe[ie>>>24]^H[O>>16&255]^ee[N>>8&255]^ae[G&255]^I[z+3],z+=4,O=W,N=q,G=J;for(R=0;R<4;R++)A[(3&-R)+E]=be[O>>>24]<<24^be[N>>16&255]<<16^be[G>>8&255]<<8^be[ie&255]^I[z++],W=O,O=N,N=G,G=ie,ie=W}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(b){this.jobs.push(b),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},a=function(p,b,S){const C=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),T=new i(Array.prototype.slice.call(b)),A=new Uint8Array(p.byteLength),E=new Int32Array(A.buffer);let I,O,N,G,ie,W,q,J,X;for(I=S[0],O=S[1],N=S[2],G=S[3],X=0;X<C.length;X+=4)ie=o(C[X]),W=o(C[X+1]),q=o(C[X+2]),J=o(C[X+3]),T.decrypt(ie,W,q,J,E,X),E[X]=o(E[X]^I),E[X+1]=o(E[X+1]^O),E[X+2]=o(E[X+2]^N),E[X+3]=o(E[X+3]^G),I=ie,O=W,N=q,G=J;return A};class l{constructor(b,S,C,T){const A=l.STEP,E=new Int32Array(b.buffer),I=new Uint8Array(b.byteLength);let O=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(E.subarray(O,O+A),S,C,I)),O=A;O<E.length;O+=A)C=new Uint32Array([o(E[O-4]),o(E[O-3]),o(E[O-2]),o(E[O-1])]),this.asyncStream_.push(this.decryptChunk_(E.subarray(O,O+A),S,C,I));this.asyncStream_.push(function(){T(null,e(I))})}static get STEP(){return 32e3}decryptChunk_(b,S,C,T){return function(){const A=a(b,S,C);T.set(A,b.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d;typeof window<"u"?d=window:typeof u<"u"?d=u:typeof self<"u"?d=self:d={};var f=d,h=function(b){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(b):b&&b.buffer instanceof ArrayBuffer},g=f.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),function(){var p=new Uint16Array([65484]),b=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);return b[0]===255?"big":b[0]===204?"little":"unknown"}();const v=function(p){const b={};return Object.keys(p).forEach(S=>{const C=p[S];h(C)?b[S]={bytes:C.buffer,byteOffset:C.byteOffset,byteLength:C.byteLength}:b[S]=C}),b};self.onmessage=function(p){const b=p.data,S=new Uint8Array(b.encrypted.bytes,b.encrypted.byteOffset,b.encrypted.byteLength),C=new Uint32Array(b.key.bytes,b.key.byteOffset,b.key.byteLength/4),T=new Uint32Array(b.iv.bytes,b.iv.byteOffset,b.iv.byteLength/4);new l(S,C,T,function(A,E){self.postMessage(v({source:b.source,decrypted:E}),[E.buffer])})}}));var lWe=hie(aWe);const uWe=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Iie=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},FD=(t,e)=>{e.activePlaylistLoader=t,t.load()},cWe=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),o=i.getActiveGroup(),a=i.activePlaylistLoader,l=i.lastGroup_;if(!(o&&l&&o.id===l.id)&&(i.lastGroup_=o,i.lastTrack_=s,Iie(r,i),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){a&&n.resetEverything();return}r.resyncLoader(),FD(o.playlistLoader,i)}},dWe=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,r.abort(),r.pause()},fWe=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:s}}=e,o=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&o&&u.id===o.id)&&(s.lastGroup_=a,s.lastTrack_=o,Iie(n,s),!!a)){if(a.isMainPlaylist){if(!o||!u||o.id===u.id)return;const d=e.vhs.playlistController_,f=d.selectPlaylist();if(d.media()===f)return;s.logger_(`track change. Switching main audio from ${u.id} to ${o.id}`),r.pause(),i.resetEverything(),d.fastQualityChange_(f);return}if(t==="AUDIO"){if(!a.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===a.playlistLoader){FD(a.playlistLoader,s);return}n.track&&n.track(o),n.resetEverything(),FD(a.playlistLoader,s)}},cC={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:n}=e,i=r.activeTrack(),s=r.activeGroup(),o=(s.filter(l=>l.default)[0]||s[0]).id,a=r.tracks[o];if(i===a){n({error:{message:"Problem encountered loading the default audio track."}});return}It.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===a;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;It.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}},dz={AUDIO:(t,e,r)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[t]:s}}=r;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",cC[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:n,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:o}}=r;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),s.track(o.activeTrack()),(!n.paused()||a.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",cC[t](t,r))}},hWe={AUDIO:(t,e)=>{const{vhs:r,sourceType:n,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[t]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:d}=e,f=j1(d.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},f&&(o[t].main.default.playlists=d.main.playlists));for(const h in o[t]){a[h]||(a[h]=[]);for(const g in o[t][h]){let v=o[t][h][g],p;if(f?(u(`AUDIO group '${h}' label '${g}' is a main playlist`),v.isMainPlaylist=!0,p=null):n==="vhs-json"&&v.playlists?p=new Ug(v.playlists[0],r,s):v.resolvedUri?p=new Ug(v.resolvedUri,r,s):v.playlists&&n==="dash"?p=new RD(v.playlists[0],r,s,d):p=null,v=Pi({id:g,playlistLoader:p},v),dz[t](t,v.playlistLoader,e),a[h].push(v),typeof l[g]>"u"){const b=new It.AudioTrack({id:g,kind:uWe(v),enabled:!1,language:v.language,default:v.default,label:g});l[g]=b}}}i.on("error",cC[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:n,sourceType:i,segmentLoaders:{[t]:s},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:d}=e;for(const f in a[t]){l[f]||(l[f]=[]);for(const h in a[t][f]){if(!n.options_.useForcedSubtitles&&a[t][f][h].forced)continue;let g=a[t][f][h],v;if(i==="hls")v=new Ug(g.resolvedUri,n,o);else if(i==="dash"){if(!g.playlists.filter(b=>b.excludeUntil!==1/0).length)return;v=new RD(g.playlists[0],n,o,d)}else i==="vhs-json"&&(v=new Ug(g.playlists?g.playlists[0]:g.resolvedUri,n,o));if(g=Pi({id:h,playlistLoader:v},g),dz[t](t,g.playlistLoader,e),l[f].push(g),typeof u[h]>"u"){const p=r.addRemoteTextTrack({id:h,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:h},!1).track;u[h]=p}}}s.on("error",cC[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:n},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const o in n[t]){i[o]||(i[o]=[]);for(const a in n[t][o]){const l=n[t][o][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=r.options_.vhs&&r.options_.vhs.captionServices||{};let d={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[d.instreamId]&&(d=Pi(d,u[d.instreamId])),d.default===void 0&&delete d.default,i[o].push(Pi({id:a},l)),typeof s[a]>"u"){const f=r.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;s[a]=f}}}}},Die=(t,e)=>{for(let r=0;r<t.length;r++)if(_$(e,t[r])||t[r].playlists&&Die(t[r].playlists,e))return!0;return!1},pWe=(t,e)=>r=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:i}}}=e,s=n.media();if(!s)return null;let o=null;s.attributes[t]&&(o=i[s.attributes[t]]);const a=Object.keys(i);if(!o)if(t==="AUDIO"&&a.length>1&&j1(e.main))for(let l=0;l<a.length;l++){const u=i[a[l]];if(Die(u,s)){o=u;break}}else i.main?o=i.main:a.length===1&&(o=i[a[0]]);return typeof r>"u"?o:r===null||!o?null:o.filter(l=>l.id===r.id)[0]||null},mWe={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].enabled)return r[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}},gWe=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},vWe=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{hWe[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:s,main:o}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=pWe(u,t),e[u].activeTrack=mWe[u](u,t),e[u].onGroupChanged=cWe(u,t),e[u].onGroupChanging=dWe(u,t),e[u].onTrackChanged=fWe(u,t),e[u].getActiveGroup=gWe(u,t)});const a=e.AUDIO.activeGroup();if(a){const u=(a.filter(f=>f.default)[0]||a[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const u in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[u])},yWe=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:bf,activeTrack:bf,getActiveGroup:bf,onGroupChanged:bf,onTrackChanged:bf,lastTrack_:null,logger_:Wu(`MediaGroups[${e}]`)}}),t};class fz{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=ll(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class _We extends It.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new fz,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Wu("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const n=r.serverUri||r.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=ll(e,n),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const n=e?r:this.getRequestURI(r);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(s,o)=>{if(s){if(o.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(o.status===429){const u=o.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let a;try{a=JSON.parse(this.request_.responseText)}catch(u){const d={errorType:It.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:d})}this.assignSteeringProperties_(a);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new Ke.URL(e),n=new Ke.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const r=JSON.parse(Ke.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new Ke.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const s=`_${this.manifestType_}_pathway`;r.searchParams.set(s,n)}if(i){const s=`_${this.manifestType_}_throughput`;r.searchParams.set(s,i)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!r(i))return i}const n=this.setSteeringParams_(e);return r(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=Ke.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){Ke.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new fz}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(ll(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const bWe=10;let ef;const xWe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],wWe=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},SWe=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:o,bufferBasedABR:a,log:l}){if(!n)return It.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(n.id===t.id)return!1;const d=!!Bg(e,r).length;if(!t.endList)return!d&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const f=g$(e,r),h=a?Eo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Eo.MAX_BUFFER_LOW_WATER_LINE;if(o<h)return l(`${u} as duration < max low water line (${o} < ${h})`),!0;const g=n.attributes.BANDWIDTH,v=t.attributes.BANDWIDTH;if(g<v&&(!a||f<s)){let p=`${u} as next bandwidth < current bandwidth (${g} < ${v})`;return a&&(p+=` and forwardBuffer < bufferHighWaterLine (${f} < ${s})`),l(p),!0}if((!a||g>v)&&f>=i){let p=`${u} as forwardBuffer >= bufferLowWaterLine (${f} >= ${i})`;return a&&(p+=` and next bandwidth > current bandwidth (${g} > ${v})`),l(p),!0}return l(`not ${u} as no switching criteria met`),!1};class TWe extends It.EventTarget{constructor(e){super();const{src:r,withCredentials:n,tech:i,bandwidth:s,externVhs:o,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:d,cacheEncryptionKeys:f,bufferBasedABR:h,leastPixelDiffSelector:g,captionServices:v}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:p}=e;(p===null||typeof p>"u")&&(p=1/0),ef=o,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!g,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=d,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=p,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:p,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=yWe(),this.mediaSource=new Ke.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Ko(),this.hasPlayed_=!1,this.syncController_=new sWe(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new lWe,this.sourceUpdater_=new Pie(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new oWe,this.keyStatusMap_=new Map;const b={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:v,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new RD(r,this.vhs_,Pi(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Ug(r,this.vhs_,Pi(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new $D(Pi(b,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new $D(Pi(b,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new eWe(Pi(b,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((T,A)=>{function E(){i.off("vttjserror",I),T()}function I(){i.off("vttjsloaded",E),A()}i.one("vttjsloaded",E),i.one("vttjserror",I),i.addWebVttScript_()})}),e);const S=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new _We(this.vhs_.xhr,S),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),xWe.forEach(T=>{this[T+"_"]=wWe.bind(this,T)}),this.logger_=Wu("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const C=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(C,()=>{const T=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-T,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,n){const i=this.media(),s=i&&(i.id||i.uri),o=e&&(e.id||e.uri);if(s&&s!==o){this.logger_(`switch media ${s} -> ${o} from ${r}`);const a={renditionInfo:{id:o,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:r};this.trigger({type:"renditionselected",metadata:a}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],n=r?r.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const o=(n.length?n[0].playlists:n.playlists).filter(a=>a.attributes.serviceLocation===i);o.length&&this.mediaTypes_[e].activePlaylistLoader.media(o[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=Ke.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Ke.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const a=n.main||i.length&&n[i[0]];for(const l in a)if(a[l].default){s={label:l};break}}if(!s)return r;const o=[];for(const a in n)if(n[a][s.label]){const l=n[a][s.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const d=e.playlists[u];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===a&&o.push(d)}}return o.length?o:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;AD(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,r.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.mainSegmentLoader_.load()),vWe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),r),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let r=this.mainPlaylistLoader_.media();if(!r){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;r=this.initialMedia_}this.handleUpdatedMediaPlaylist(r)}),this.mainPlaylistLoader_.on("error",()=>{const r=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const r=this.mainPlaylistLoader_.media(),n=r.targetDuration*1.5*1e3;AD(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const r=this.mainPlaylistLoader_.media();if(r.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(r)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(r=>{this.mainPlaylistLoader_.on(r,n=>{this.player_.trigger(Ls({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const n=e.mediaGroups||{};let i=!0;const s=Object.keys(n.AUDIO);for(const o in n.AUDIO)for(const a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),ef.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),o=this.tech_.buffered();return SWe({buffered:o,currentTime:n,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.sourceType_==="dash"&&this.timelineChangeController_.on("audioTimelineBehind",()=>{const n=this.audioSegmentLoader_.pendingSegment_;if(!n||!n.segment||!n.segment.syncInfo)return;const i=n.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:bWe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,i=>{this.player_.trigger(Ls({},i))}),this.audioSegmentLoader_.on(n,i=>{this.player_.trigger(Ls({},i))}),this.subtitleSegmentLoader_.on(n,i=>{this.player_.trigger(Ls({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const n=r.end(0);let i=n;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(n+s,r.start(0)):i=Math.min(n,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=ef.Playlist.playlistEnd(e,n),s=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return i-s<=hd;const a=o.end(o.length-1);return a-s<=hd&&i-a<=hd}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(oA),o=s.length===1&&s[0]===e;if(i.length===1&&n!==1/0)return It.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){if(this.main().contentSteering){const v=this.pathwayAttribute_(e),p=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(v),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(v)},p);return}let g=!1;i.forEach(v=>{if(v===e)return;const p=v.excludeUntil;typeof p<"u"&&p!==1/0&&(g=!0,delete v.excludeUntil)}),g&&(It.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;e.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+n*1e3,e.excludeUntil=a,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=r.internal?this.logger_:It.log.warn,d=r.message?" "+r.message:"";u(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${d} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const f=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=f;return this.switchMedia_(l,"exclude",o||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(o=>{const a=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;a&&n.push(a)}),["main","audio","subtitle"].forEach(o=>{const a=this[`${o}SegmentLoader_`];a&&(e===o||e==="all")&&n.push(a)}),n.forEach(o=>r.forEach(a=>{typeof o[a]=="function"&&o[a]()}))}setCurrentTime(e){const r=Bg(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ef.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let n=this.syncController_.getExpiredTime(r,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,s=ef.Playlist.seekable(r,n,ef.Playlist.liveEdgeDelay(i,r));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(r,this.duration()),n===null||(e=ef.Playlist.seekable(r,n,ef.Playlist.liveEdgeDelay(i,r)),e.length===0)))return;let o,a;if(this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Ko([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a)return;this.logger_(`seekable updated [${Hne(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const r=this.tech_.buffered();let n=ef.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const n in r)r[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=$2(this.main(),r),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||U7e),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||q7}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||q7,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(u,d)=>u?ES(d):VP(d),a={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!o(e[u].isFmp4,i[u])){const d=e[u].isFmp4?"browser":"muxer";a[d]=a[d]||[],a[d].push(i[u]),u==="audio"&&(l=d)}}),s&&l&&r.attributes.AUDIO){const u=r.attributes.AUDIO;this.main().playlists.forEach(d=>{(d.attributes&&d.attributes.AUDIO)===u&&d!==r&&(d.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(a).length){const u=Object.keys(a).reduce((d,f)=>(d&&(d+=", "),d+=`${f} does not support codec(s): "${a[f].join(",")}"`,d),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(d=>{const f=(Jc(this.sourceUpdater_.codecs[d]||"")[0]||{}).type,h=(Jc(i[d]||"")[0]||{}).type;f&&h&&f.toLowerCase()!==h.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[d]}" -> "${i[d]}"`)}),u.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(n=>{const i=e[n];if(r.indexOf(i.id)!==-1)return;r.push(i.id);const s=$2(this.main,i),o=[];s.audio&&!VP(s.audio)&&!ES(s.audio)&&o.push(`audio codec ${s.audio}`),s.video&&!VP(s.video)&&!ES(s.video)&&o.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&o.push(`text codec ${s.text}`),o.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${o.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists,i=lC(Jc(e)),s=JV(i),o=i.video&&Jc(i.video)[0]||null,a=i.audio&&Jc(i.audio)[0]||null;Object.keys(n).forEach(l=>{const u=n[l];if(r.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;r.push(u.id);const d=[],f=$2(this.mainPlaylistLoader_.main,u),h=JV(f);if(!(!f.audio&&!f.video)){if(h!==s&&d.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const g=f.video&&Jc(f.video)[0]||null,v=f.audio&&Jc(f.audio)[0]||null;g&&o&&g.type.toLowerCase()!==o.type.toLowerCase()&&d.push(`video codec "${g.type}" !== "${o.type}"`),v&&a&&v.type.toLowerCase()!==a.type.toLowerCase()&&d.push(`audio codec "${v.type}" !== "${a.type}"`)}d.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${d.join(" && ")}`))}})}updateAdCues_(e){let r=0;const n=this.seekable();n.length&&(r=n.start(0)),rWe(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=Eo.GOAL_BUFFER_LENGTH,n=Eo.GOAL_BUFFER_LENGTH_RATE,i=Math.max(r,Eo.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=Eo.BUFFER_LOW_WATER_LINE,n=Eo.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(r,Eo.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(r,Eo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*n,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return Eo.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){rz(this.inbandTextTracks_,"com.apple.streaming",this.tech_),OGe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();rz(this.inbandTextTracks_,e,this.tech_),DGe({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(r=>{this.contentSteeringController_.on(r,n=>{this.trigger(Ls({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const r=this.main();(this.contentSteeringController_.didDASHTagChange(r.uri,r.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),o=[];for(const a of r.playlists){const l=a.attributes.serviceLocation;if(l&&(o.push(l),!s.has(l)))return!0}return!!(!o.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let s=!1;Object.keys(n).forEach(o=>{const a=n[o],l=this.pathwayAttribute_(a),u=l&&e!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!u&&(delete a.excludeUntil,delete a.lastExcludeReason_,s=!0);const f=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&u&&f&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(o=>{const a=this.mediaTypes_[o];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[o,a]of n.entries())i.get(o)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(o));for(const[o,a]of i.entries()){const l=n.get(o);if(!l){r.filter(d=>d.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(d=>{this.mainPlaylistLoader_.addClonePathway(a,d)}),this.contentSteeringController_.addAvailablePathway(o);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(o))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=r["URI-REPLACEMENT"].PARAMS;for(const s in n)if(n[s]!==i[s])return!1;for(const s in i)if(n[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(s=>{const o="usable",a=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===o,l=n.lastExcludeReason_===r&&n.excludeUntil===1/0;a?a&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${s} is ${o}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==r&&(n.excludeUntil=1/0,n.lastExcludeReason_=r,this.logger_(`excluding playlist ${n.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${o}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,s=n.excludeUntil===1/0&&n.lastExcludeReason_===r;i&&s&&(delete n.excludeUntil,It.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const s=(typeof e=="string"?e:QGe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const CWe=(t,e,r)=>n=>{const i=t.main.playlists[e],s=y$(i),o=oA(i);if(typeof n>"u")return o;n?delete i.disabled:i.disabled=!0;const a={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return n!==o&&!s&&(r(i),n?t.trigger({type:"renditionenabled",metadata:a}):t.trigger({type:"renditiondisabled",metadata:a})),n};class EWe{constructor(e,r,n){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(r.attributes){const o=r.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=$2(i.main(),r),this.playlist=r,this.id=n,this.enabled=CWe(e.playlists,r.id,s)}}const AWe=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=j1(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(n=>!y$(n)).map((n,i)=>new EWe(t,n,n.id)):[]}},hz=["seeking","seeked","pause","playing","error"];class PWe extends It.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Wu("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),o=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(d=>{l[d]={reset:()=>this.resetSegmentDownloads_(d),updateend:()=>this.checkSegmentDownloads_(d)},o[`${d}SegmentLoader_`].on("appendsdone",l[d].updateend),o[`${d}SegmentLoader_`].on("playlistupdate",l[d].reset),this.tech_.on(["seeked","seeking"],l[d].reset)});const u=d=>{["main","audio"].forEach(f=>{o[`${f}SegmentLoader_`][d]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(hz,s),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(hz,s),this.tech_.off("canplay",n),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(d=>{o[`${d}SegmentLoader_`].off("appendsdone",l[d].updateend),o[`${d}SegmentLoader_`].off("playlistupdate",l[d].reset),this.tech_.off(["seeked","seeking"],l[d].reset)}),this.checkCurrentTimeTimeout_&&Ke.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Ke.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Ke.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,n=r[`${e}SegmentLoader_`],i=n.buffered_(),s=pje(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const o={bufferedRanges:i};r.trigger({type:"bufferedrangeschanged",metadata:o}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:j0(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+hd>=r.end(r.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Ko([this.lastRecordedTime,e]));const n={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:n}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(r,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=r.end(r.length-1)),this.beforeSeekableWindow_(r,n)){const v=r.start(0);s=v+(v===r.end(0)?0:hd)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${Hne(r)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const o=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,u=o.videoBuffer?o.videoBuffered():null,d=this.media(),f=d.partTargetDuration?d.partTargetDuration:(d.targetDuration-fd)*2,h=[l,u];for(let v=0;v<h.length;v++){if(!h[v])continue;if(g$(h[v],n)<f)return!1}const g=Gx(a,n);return g.length===0?!1:(s=g.start(0)+hd,this.logger_(`Buffered region starts (${g.start(0)})  just beyond seek point (${n}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),n=Bg(r,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=Gx(i,r);return o.length>0?(this.logger_(`Stopped at ${r} and seeking to ${o.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,n,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+hd;const o=!n.endList,a=typeof n.partTargetDuration=="number";return o&&(a||i)&&(s=e.end(e.length-1)+n.targetDuration*3),r>s}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:n}){if(!e)return;let i;if(e.length&&r.length){const s=Bg(e,n-3),o=Bg(e,n),a=Bg(r,n);a.length&&!o.length&&s.length&&(i={start:s.end(0),end:a.end(0)})}else Gx(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),n=this.tech_.currentTime(),i=Gx(r,n);if(this.resetTimeUpdate_(),i.length===0||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+fd);const s={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,r){const n=dje(e);for(let i=0;i<n.length;i++){const s=n.start(i),o=n.end(i);if(r-s<4&&r-s>2)return{start:s,end:o}}return null}}const kWe={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},Rie=function(t,e){let r=0,n=0;const i=Pi(kWe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){n&&t.currentTime(n)},o=function(d){d!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(d),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},a=function(){if(Date.now()-r<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){It.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),i.getSource.call(t,o)},l=function(){t.off("loadedmetadata",s),t.off("error",a),t.off("dispose",l)},u=function(d){l(),Rie(t,d)};t.on("error",a),t.on("dispose",l),t.reloadSourceOnError=u},IWe=function(t){Rie(this,t)};var Mie="3.13.3",DWe="7.0.3",RWe="1.3.0",MWe="7.1.0",OWe="4.0.1";const Cs={PlaylistLoader:Ug,Playlist:cl,utils:Nje,STANDARD_PLAYLIST_SELECTOR:tz,INITIAL_PLAYLIST_SELECTOR:EGe,lastBandwidthSelector:tz,movingAverageBandwidthSelector:TGe,comparePlaylistBandwidth:x$,comparePlaylistResolution:SGe,xhr:oie()};Object.keys(Eo).forEach(t=>{Object.defineProperty(Cs,t,{get(){return It.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Eo[t]},set(e){if(It.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){It.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Eo[t]=e}})});const Oie="videojs-vhs",$ie=function(t,e){const r=e.media();let n=-1;for(let i=0;i<t.length;i++)if(t[i].id===r.id){n=i;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},$We=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),$ie(t,e.playlists)};Cs.canPlaySource=function(){return It.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const LWe=(t,e,r)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=lC(Jc(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);const i=Mb(n.video),s=Mb(n.audio),o={};for(const a in t)o[a]={},s&&(o[a].audioContentType=s),i&&(o[a].videoContentType=i),e.contentProtection&&e.contentProtection[a]&&e.contentProtection[a].pssh&&(o[a].pssh=e.contentProtection[a].pssh),typeof t[a]=="string"&&(o[a].url=t[a]);return Pi(t,o)},FWe=(t,e)=>t.reduce((r,n)=>{if(!n.contentProtection)return r;const i=e.reduce((s,o)=>{const a=n.contentProtection[o];return a&&a.pssh&&(s[o]={pssh:a.pssh}),s},{});return Object.keys(i).length&&r.push(i),r},[]),NWe=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=r?n.concat([r]):n,s=FWe(i,Object.keys(e)),o=[],a=[];return s.forEach(l=>{a.push(new Promise((u,d)=>{t.tech_.one("keysessioncreated",u)})),o.push(new Promise((u,d)=>{t.eme.initializeMediaKeys({keySystems:l},f=>{if(f){d(f);return}u()})}))}),Promise.race([Promise.all(o),Promise.race(a)])},BWe=({player:t,sourceKeySystems:e,media:r,audioMedia:n})=>{const i=LWe(e,r,n);return i?(t.currentSource().keySystems=i,i&&!t.eme?(It.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},Lie=()=>{if(!Ke.localStorage)return null;const t=Ke.localStorage.getItem(Oie);if(!t)return null;try{return JSON.parse(t)}catch{return null}},UWe=t=>{if(!Ke.localStorage)return!1;let e=Lie();e=e?Pi(e,t):t;try{Ke.localStorage.setItem(Oie,JSON.stringify(e))}catch{return!1}return e},VWe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,Fie=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},Nie=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Bie=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},Uie=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Cs.supportsNativeHls=function(){if(!gr||!gr.createElement)return!1;const t=gr.createElement("video");return It.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}();Cs.supportsNativeDash=function(){return!gr||!gr.createElement||!It.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(gr.createElement("video").canPlayType("application/dash+xml"))}();Cs.supportsTypeNatively=t=>t==="hls"?Cs.supportsNativeHls:t==="dash"?Cs.supportsNativeDash:!1;Cs.isSupported=function(){return It.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Cs.xhr.onRequest=function(t){Fie(Cs.xhr,t)};Cs.xhr.onResponse=function(t){Nie(Cs.xhr,t)};Cs.xhr.offRequest=function(t){Bie(Cs.xhr,t)};Cs.xhr.offResponse=function(t){Uie(Cs.xhr,t)};const zWe=It.getComponent("Component");class Vie extends zWe{constructor(e,r,n){if(super(r,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=Wu("VhsHandler"),r.options_&&r.options_.playerId){const i=It.getPlayer(r.options_.playerId);this.player_=i}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(gr,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=gr.fullscreenElement||gr.webkitFullscreenElement||gr.mozFullScreenElement||gr.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Pi(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=Lie();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Eo.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Eo.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=VWe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Cs,this.options_.sourceType=Mte(r),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new TWe(this.options_);const n=Pi({liveRangeSafeTimeDelta:hd},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new PWe(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=It.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),s.error(o)});const i=this.options_.bufferBasedABR?Cs.movingAverageBandwidthSelector(.55):Cs.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=Cs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const o=Ke.navigator.connection||Ke.navigator.mozConnection||Ke.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=a&&s>=a?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(s+o))},set(){It.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>j0(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>j0(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&UWe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{AWe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Ke.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),NWe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=BWe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=It.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{$We(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{$ie(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":Mie,"mux.js":DWe,"mpd-parser":RWe,"m3u8-parser":MWe,"aes-decrypter":OWe}}version(){return this.constructor.version()}canChangeType(){return Pie.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&Ke.URL.revokeObjectURL&&(Ke.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return Gje({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,n=!0,i=2){return die({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{Fie(this.xhr,e)},this.xhr.onResponse=e=>{Nie(this.xhr,e)},this.xhr.offRequest=e=>{Bie(this.xhr,e)},this.xhr.offResponse=e=>{Uie(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],r=["gapjumped","playedrangeschanged"];e.forEach(n=>{this.playlistController_.on(n,i=>{this.player_.trigger(Ls({},i))})}),r.forEach(n=>{this.playbackWatcher_.on(n,i=>{this.player_.trigger(Ls({},i))})})}}const dC={name:"videojs-http-streaming",VERSION:Mie,canHandleSource(t,e={}){const r=Pi(It.options,e);return dC.canPlayType(t.type,r)},handleSource(t,e,r={}){const n=Pi(It.options,r);return e.vhs=new Vie(t,e,n),e.vhs.xhr=oie(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=Mte(t);if(!r)return"";const n=dC.getOverrideNative(e);return!Cs.supportsTypeNatively(r)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(It.browser.IS_ANY_SAFARI||It.browser.IS_IOS),{overrideNative:n=r}=e;return n}},HWe=()=>ES("avc1.4d400d,mp4a.40.2");HWe()&&It.getTech("Html5").registerSourceHandler(dC,0);It.VhsHandler=Vie;It.VhsSourceHandler=dC;It.Vhs=Cs;It.use||It.registerComponent("Vhs",Cs);It.options.vhs=It.options.vhs||{};(!It.getPlugin||!It.getPlugin("reloadSourceOnError"))&&It.registerPlugin("reloadSourceOnError",IWe);const jWe=rt({__name:"VideoPlayer",setup(t,{expose:e}){zn(()=>{n.value=It(r.value)}),Gf(()=>{n.value&&n.value.dispose()});const r=ve();let n=ve();return e({open:()=>{n.value||(n.value=It(r.value)),n.value&&n.value.load()},pause:()=>{n.value&&n.value.pause()},src:a=>{n.value&&n.value.src(a)}}),(a,l)=>(me(),$e("video",{ref_key:"rVideoPlayer",ref:r,controls:"",class:"video-js vjs-default-skin"},null,512))}}),GWe={class:"dialog-footer"},WWe={class:"dialog-footer"},qWe={class:"dialog-footer"},XWe=rt({__name:"Storage",setup(t,{expose:e}){const r=ve(null),n=ve(),i=ve(!1),s=ve(!1),o=ve(!1),a=ve(!1),l=ve(!1),u=ve(!1),d=ve(!1),f=ve(!1),h=ve(""),g=ve(!0),v=ve(!1),p=ve(!1),b=ve("");let S=()=>({accessKey:"",accessSecret:"",endpoint:"",region:"",platform:"default"}),C=an(S());const E=an({files:[],s3InfoList:[]}),I=ve([]),O={bucket:Ae.bucket,idToken:Ae.id_token,mode:"stream"},N={Authorization:"Bearer "+Ae.access_token},G=Ot=>{let Re=Ot.size/1024;return Re>1024?(Re=Re/1024,Re>1024?(Re=Re/1024,Re.toFixed(1)+"GB"):Re.toFixed(1)+"MB"):Re.toFixed(1)+"kb"},ie=(Ot,Re)=>{Ot&&Dt()},W=async Ot=>{await ri.prompt("keep the below empty if not","need encrypt by yourself?",{inputValue:"",confirmButtonText:"continue",showCancelButton:!1}).then(({value:Re,action:Ie})=>{v.value=!0,b.value=Re})},q=(Ot,Re)=>ri.confirm(`Cancel the transfer of ${Ot.name} ?`).then(()=>!0,()=>!1),J=async(Ot,Re,Ie,nt)=>{let le;if(g.value)le=await T9e(Ae.bucket,Ot);else{const Ee={baseURL:Xt.storageUrl,url:"/storage/object",method:"POST",data:{bucket:Ae.bucket,key:Ot,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform,idToken:Ae.id_token,sha256:Re,partCount:Ie,partNum:nt},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};await or(Ee).then(function(Fe){le=Fe.data})}return le};async function X(Ot,Re){await H();let Ie=Ot.file.name,nt;if(nt=await J(Ie,"","",""),nt){var Ee=Math.ceil(Ot.file.size/Re);v.value&&b.value!=""&&(Ie="encrypt-"+Ot.file.name,nt=await _t(Ie,nt));let Fe=0;for(const{index:He,chunk:Ar}of ae(Ot.file,Re))Ar.arrayBuffer().then(async function(c){let $t;if(p.value){const ur=await FMe(c);if($t=await J(Ie,ur,Ee,He),$t==""||$t==null)Fe++;else if(Ae.platform!=""&&Ae.platform!="default"&&Ae.platform!="cloudflare"&&nt!=$t)return;Fe==Ee&&oe(Ar,Ot.file.name,Ee,He,nt,"")}if(v.value&&b.value!=""){const ur=await ut(c,Ot.file.name);oe(ur,"encrypt-"+Ot.file.name,Ee,He,nt,"")}else oe(Ar,Ot.file.name,Ee,He,nt,"")})}}const R=async()=>{g.value=!1,await ri.confirm("please choose download method",{confirmButtonText:"proxy",cancelButtonText:"direct"}).then(()=>{g.value=!1}).catch(()=>{g.value=!0})},z=async()=>{b.value="",await ri.prompt("enter the secret you used when uploading before ","the file upload with secret?",{inputValue:"",confirmButtonText:"continue",showCancelButton:!1}).then(({value:Ot,action:Re})=>{b.value=Ot})},re=(Ot,Re,Ie="application/octet-stream")=>{const nt=new Blob([Ot],{type:Ie});return new File([nt],Re,{type:Ie})},oe=async(Ot,Re,Ie,nt,le,Ee)=>{if(g.value)try{w9e(Ot,Ae.bucket,Re,le,nt,Ie)}catch{await ri.confirm("something wrong with upload throgh direct, u can choose proxy and try again after login").then(()=>{g.value=!1}).catch(()=>{g.value=!0})}else ee(Ot,Re,Ie,nt,le,Ee)},H=async()=>{p.value=!1,g.value||await ri.confirm("please select upload mode, stream mode can keep upload process(need login)",{confirmButtonText:"stream",cancelButtonText:"direct"}).then(()=>{p.value=!0}).catch(()=>{p.value=!1})},ee=(Ot,Re,Ie,nt,le,Ee)=>{const Fe={baseURL:Xt.storageUrl,url:"/storage/object",method:"POST",data:{data:Ot,bucket:Ae.bucket,key:Re,partCount:Ie,partNum:nt,idToken:Ae.id_token,uploadId:le,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform,offset:Ee},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"multipart/form-data"}};p.value&&(Fe.data.mode="stream"),or(Fe).catch(function(He){or(Fe).catch(function(Ar){or(Fe).catch(function(c){gb({title:"Network Error",message:"please click upload and retry",duration:3e3})})})})};function*ae(Ot,Re){let Ie=0,nt=0;for(;Ie<Ot.size;){const le=Ot.slice(Ie,Ie+Re);yield{index:nt,chunk:le},Ie+=Re,nt++}}const be=async Ot=>{if(Ot.file.size>1024*1024*5)await X(Ot,1024*1024*5);else{let Re;v.value&&b.value!=""?await Ot.file.arrayBuffer().then(async function(Ie){const nt=await ut(Ie,Ot.file.name);Re=re(nt,"encrypt-"+Ot.file.name)}):Re=Ot.file,g.value?P9e(Ae.bucket,Ot.file.name,Re):ct(Re,"")}};let Me,Qe;const ht=async()=>{let Ot;return await or.get(Ae.endpoint).then(function(Re){(Re.headers["access-control-allow-origin"]=="*"||Re.headers["access-control-allow-origin"]==Xt.redirectUrl)&&(Ot=!0)}).catch(()=>{}),Ot},je=async()=>{if(Qe>1)return!1;if(!Me){if(await ht())return!0;Qe++;try{const Ot=await ze(Ae.bucket);if(Ot&&Ot.data&&Ot.data.length>0)for(let Re of Ot.data)Re.allowedOrigins&&Re.allowedOrigins.includes(Xt.redirectUrl)&&(Me=!0)}catch(Ot){console.error(Ot),Me=!1}}if(!Me){Qe++;const Ot={baseURL:Xt.storageUrl,url:"/storage/object/cors",method:"PUT",data:{bucket:Ae.bucket,idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform,corsRules:[{allowedHeaders:["*"],allowedMethods:["GET","PUT","POST","DELETE"],allowedOrigins:[Xt.redirectUrl],exposeHeaders:["ETag"],maxAgeSeconds:3600}]},headers:{Authorization:"Bearer "+Ae.access_token}};await or(Ot).then(function(Re){Re.status==200&&(Me=!0)})}return Me},ze=async Ot=>{const Re={baseURL:Xt.storageUrl,url:"/storage/object/cors",method:"POST",data:{bucket:Ot,idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform},headers:{Authorization:"Bearer "+Ae.access_token}};return await or(Re)},ut=async(Ot,Re)=>{let Ie;return Ie=(await B3(Ot,b.value,"AES-GCM")).cipher,Ie},ct=(Ot,Re)=>{const Ie={baseURL:Xt.storageUrl,url:"/storage/object",method:"POST",data:{data:Ot,key:Re,bucket:Ae.bucket,idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"multipart/form-data"}};or(Ie)},mt=async()=>{if(C.platform=="default"?Ae.platform="":Ae.platform=C.platform,Ae.accessKey=C.accessKey,Ae.accessSecret=C.accessSecret,Ae.endpoint=C.endpoint,C.platform=="cloudflare"?(Ae.region="auto",C.region="auto"):Ae.region=C.region,C.accessSecret!=""){if(Ae.sub!=""){if(Me=!1,!await je()){ri.alert("can not auto config cors, please try to config by maunal");return}}else if(!await ht()){ri.alert("the bucket is not support cors, please try to config by maunal or login for auto config");return}Ae.platform=="cloudflare"&&(Ae.endpoint=C.endpoint+"/"+Ae.sub),vu(!0),await k9e()?(Ae.platform=="cloudflare"&&(Ae.endpoint=C.endpoint,vu(!0)),o.value=!0):ri.alert("check failed, please ensure and try again")}else u.value=!1,a.value=!0,Dt()},jt=async()=>{if(C.platform=="default"){ri.alert("please load first");return}o.value=!1;const Ot=await Ax("s3",1,["s3","aes"]),Re=await B3(C.accessSecret,h.value,"AES-GCM"),Ie=N3(Re.cipher);C.accessSecret=Ie,await L3(Ot,"aes","cipher-"+C.accessKey,Ie,"readwrite",""),await L3(Ot,"s3",C.accessKey,JSON.stringify(C),"readwrite","put"),await et(),f.value=!1,u.value=!1,a.value=!0,Object.assign(C,S())},vt=async Ot=>{h.value&&ot(Ot.accessKey,n),Ae.endpoint=Ot.endpoint,Ae.region=Ot.region,Ae.platform=Ot.platform,Ae.accessKey=Ot.accessKey,Ae.accessSecret||(h.value="",f.value=!0)},se=()=>{f.value=!1,h.value="",Ae.platform="",Dt(),a.value=!0},Pe=async()=>{o.value=!1,u.value=!1,Ae.accessKey=C.accessKey,Ae.endpoint=C.endpoint,Ae.region=C.region,Ae.platform=C.platform,await ot("",n),Object.assign(C,S())},tt=async(Ot,Re)=>{const Ie=await Ax("s3",1,["s3","aes"]);await F3(Ie,"aes","cipher-"+Re.accessKey,"readwrite"),await F3(Ie,"s3",Re.accessKey,"readwrite"),E.s3InfoList.splice(Ot,1)},et=async()=>{const Ot=await Ax("s3",1,["s3","aes"]),Re=await Px(Ot,"s3","","readwrite","all");var Ie=JSON.stringify(Re).replace(/"{/g,"{").replace(/}"/g,"}").replace(/\\/g,"");const nt=JSON.parse(Ie);return E.s3InfoList=nt,Ot},ot=async(Ot,Re)=>{if(E.files=[],Ae.bucket||(Ae.bucket=Ae.sub),Ae.platform=="cloudflare"){if(Ae.sub!=""){if(!await je()){ri.alert("something wrong with bucket, if the bucket not exist, please try again, or check bucket cors by maunal");return}}else if(!await ht()){ri.alert("the bucket is not support cors, please try to config by maunal or login for auto config");return}}if(Re&&Re){const Ie=await et();if(E.s3InfoList.length>0){Ae.platform=="default"&&(Ae.platform=E.s3InfoList[0].platform,Ae.bucket=Ae.sub);let nt;if(Ot?nt=await Px(Ie,"aes","cipher-"+Ot,"readwrite",""):nt=await Px(Ie,"aes","cipher-"+E.s3InfoList[0].accessKey,"readwrite",""),nt)try{if(!h.value){f.value=!0,Ae.accessSecret="";return}const le=await BMe(NMe(nt),h.value,"AES-GCM"),Ee=new TextDecoder().decode(le);if(Ee&&(f.value=!1,Ae.accessSecret=Ee),Ae.accessSecret){if(E.s3InfoList.length>1)if(d.value)f.value=!1,s.value=!1;else{Ae.accessKey=E.s3InfoList[0].accessKey,Ae.platform=E.s3InfoList[0].platform,Ae.endpoint=E.s3InfoList[0].endpoint,Ae.region=E.s3InfoList[0].region,s.value=!0,d.value=!0,vu(!0);return}E.s3InfoList.length==1&&(Ae.accessKey=E.s3InfoList[0].accessKey,Ae.platform=E.s3InfoList[0].platform,Ae.endpoint=E.s3InfoList[0].endpoint,Ae.region=E.s3InfoList[0].region,s.value=!1)}else Ae.platform="",Ae.accessKey="",Ae.endpoint="",Ae.region=""}catch{h.value&&(ri.alert("incorrect secret, will open default s3, please try again later by load button"),h.value="",f.value=!0,Ae.accessSecret="",Ae.platform="",Ae.accessKey="",Ae.endpoint="",Ae.region=""),d.value||(f.value=!1),a.value=!0,Dt();return}d.value=!0,a.value=!0,Dt(),vu(!0)}else Ae.platform=="default"?(u.value=!0,Ae.platform=""):(a.value=!0,Dt(),u.value=!1)}},St=async()=>{d.value?(a.value=!0,Dt()):await ot("",n)},Dt=async()=>{let Ot;if(g.value){const Re=await C9e(Ae.bucket);if(Re&&Re.length>0){const Ie=Re.filter(nt=>!nt.key.startsWith(Ae.bucket));E.files=Ie}Ot=Re}else{const Re={baseURL:Xt.storageUrl,url:"/storage/object/list",method:"POST",data:{bucket:Ae.bucket,idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};await or(Re).then(function(Ie){if(Ie.data){const nt=Ie.data;if(nt&&nt.length>0){const le=nt.filter(Ee=>!Ee.key.startsWith(Ae.bucket));E.files=le}}Ot=Ie.data})}return Ot},_t=async(Ot,Re)=>{let Ie;const nt={baseURL:Xt.storageUrl,url:"/storage/object/abort",method:"POST",data:{bucket:Ae.bucket,key:Ot,idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform,uploadId:Re},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};return await or(nt).then(async function(){Ie=await J(Ot,"","","")}),Ie},Kt=async(Ot,Re)=>{if(g.value)await A9e(Ae.bucket,Re.key)&&E.files.splice(Ot,1);else{const Ie={baseURL:Xt.storageUrl,url:"/storage/object/delete",method:"POST",data:{bucket:Ae.bucket,key:Re.key,idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};or(Ie).then(function(nt){nt.status==200&&E.files.splice(Ot,1)})}},Ut=Ot=>{lt.value=Ot,kt.splice(0,kt.length);for(let Re of lt.value)kt.push(Re.key)},lt=ve([]),kt=[],yt=async()=>{if(g.value){let Ot=[];kt.map(Ie=>{const nt={Key:Ie};Ot.push(nt)}),(await E9e(Ae.bucket,Ot)).length==kt.length&&(kt.forEach(function(Ie,nt){E.files.forEach(function(le,Ee){Ie===le.key&&E.files.splice(Ee,1)})}),E.files.length==0&&Dt())}else{const Ot={baseURL:Xt.storageUrl,url:"/storage/object/delete",method:"POST",data:{bucket:Ae.bucket,key:kt.toString(),idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};or(Ot).then(function(Re){var Ie=Re.data;Ie==kt.length&&(kt.forEach(function(nt,le){E.files.forEach(function(Ee,Fe){nt===Ee.key&&E.files.splice(Fe,1)})}),E.files.length==0&&Dt())})}},Pt=async(Ot,Re)=>{b.value="",Ot.key.startsWith("encrypt-")&&await z(),Ae.sub&&await R();let Ie;if(b.value&&!g.value){const nt={baseURL:Xt.apiUrl,url:"/public/key",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};await or(nt).then(async function(le){Ie=le.data;const Ee=crypto.getRandomValues(new Uint8Array(16)),Fe=await B3(b.value,Ee,"AES-GCM");b.value=encodeURIComponent(N3(Fe.cipher));const He={baseURL:Xt.messageUrl,url:"/message",method:"PUT",data:{key:Ie,value:N3(Ee)}};await or(He).then(async function(Ar){Ar.status==200&&await Er(Ot,Ie,Re)})})}else await Er(Ot,Ie,Re)},Er=async(Ot,Re,Ie)=>{var le,Ee;let nt;if(g.value){if(b.value){const Fe=await Ax("s3",1,["s3","aes"]),He=await p8(b.value,"AES-GCM");await Px(Fe,"aes","key-"+Ot.key,"readwrite","")&&await F3(Fe,"aes","key-"+Ot.key,"readwrite"),await L3(Fe,"aes","key-"+Ot.key,He,"readwrite","")}nt=await S9e(Ae.bucket,Ot.key)}else if(await or({method:"POST",url:Xt.storageUrl+"/storage/object/url",data:{bucket:Ae.bucket,key:Ot.key,idToken:Ae.id_token,accessKey:Ae.accessKey,accessSecret:Ae.accessSecret,endpoint:Ae.endpoint,region:Ae.region,platform:Ae.platform,secret:Re},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}}).then(async function(Fe){Fe.status==200&&(nt=Fe.data)}),nt&&b.value){let Fe=5242880;nt=nt+"&secret="+b.value+"&offset="+Fe}if(nt)if(Ie){(le=r.value)==null||le.src({type:"video/mp4",src:nt}),(Ee=r.value)==null||Ee.open(),i.value=!0;return}else{const Fe=document.createElement("a");Fe.style.display="none",Fe.download=Ot.key,g.value&&b.value?fetch(nt).then(async function(He){Fe.href=URL.createObjectURL(await He.blob()),document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe),URL.revokeObjectURL(nt)}).catch(He=>console.log(He)):(Fe.href=nt,document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe))}},zt=()=>{var Ot;(Ot=r.value)==null||Ot.open()};Yt(i,Ot=>{var Re;Ot||(Re=r.value)==null||Re.pause()});function xr(Ot){return $r(Ot.timestamp*1e3).format("YYYY-MM-DD HH:mm:ss")}return e({initS3:St}),(Ot,Re)=>{const Ie=Bn,nt=Ui,le=Eu,Ee=ca,Fe=UK,He=ic,Ar=by,c=da,$t=ji,ur=Pc;return me(),$e(Sr,null,[F(Ee,{modelValue:_(a),"onUpdate:modelValue":Re[7]||(Re[7]=he=>qr(a)?a.value=he:null),width:_(wt).dialogWidth},{default:te(()=>[F(Ie,{type:"danger",onClick:Re[0]||(Re[0]=he=>yt())},{default:te(()=>Re[33]||(Re[33]=[Et("DeleteSelect")])),_:1}),F(Ie,{type:"",onClick:Re[1]||(Re[1]=he=>l.value=!0)},{default:te(()=>Re[34]||(Re[34]=[Et("upload")])),_:1}),F(Ie,{type:"",onClick:Re[2]||(Re[2]=he=>u.value=!0)},{default:te(()=>Re[35]||(Re[35]=[Et("connect")])),_:1}),F(Ie,{type:"",onClick:Re[3]||(Re[3]=he=>s.value=!0)},{default:te(()=>Re[36]||(Re[36]=[Et("load")])),_:1}),F(Ie,{onClick:Re[4]||(Re[4]=he=>Dt())},{default:te(()=>Re[37]||(Re[37]=[Et("refresh")])),_:1}),_(g)?(me(),Ct(Ie,{key:0,type:"success",onClick:Re[5]||(Re[5]=he=>g.value=!1)},{default:te(()=>Re[38]||(Re[38]=[Et("mode: direct ")])),_:1})):gt("",!0),_(g)?gt("",!0):(me(),Ct(Ie,{key:1,type:"primary",onClick:Re[6]||(Re[6]=he=>g.value=!0)},{default:te(()=>Re[39]||(Re[39]=[Et("mode: proxy ")])),_:1})),F(le,{data:_(E).files,onSelectionChange:Ut},{default:te(()=>[F(nt,{type:"selection"}),F(nt,{property:"key",label:"file",width:"auto"}),F(nt,{property:"timestamp",label:"lastModified",formatter:xr,sortable:""}),F(nt,{property:"size",label:"size",formatter:G}),F(nt,{label:"Operations"},{default:te(he=>[F(Ie,{size:"small",type:"danger",onClick:w=>Kt(he.$index,he.row)},{default:te(()=>Re[40]||(Re[40]=[Et("Delete")])),_:2},1032,["onClick"]),F(Ie,{size:"small",type:"primary",onClick:w=>Pt(he.row,!1)},{default:te(()=>Re[41]||(Re[41]=[Et("Download")])),_:2},1032,["onClick"]),he.row.key.endsWith("mp4")?(me(),Ct(Ie,{key:0,size:"small",type:"primary",onClick:w=>(Pt(he.row,!0),i.value=!0)},{default:te(()=>Re[42]||(Re[42]=[Et("Preview")])),_:2},1032,["onClick"])):gt("",!0)]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),F(Ee,{modelValue:_(l),"onUpdate:modelValue":Re[9]||(Re[9]=he=>qr(l)?l.value=he:null),width:_(wt).dialogWidth},{default:te(()=>[F(Fe,{"file-list":_(I),"onUpdate:fileList":Re[8]||(Re[8]=he=>qr(I)?I.value=he:null),class:"upload-demo",headers:N,name:"data",data:O,"auto-upload":!0,multiple:"","before-upload":W,"before-remove":q,limit:10,"on-success":ie,"http-request":be},{tip:te(()=>Re[44]||(Re[44]=[Ue("div",{class:"el-upload__tip"}," upload anything ",-1)])),default:te(()=>[F(Ie,{type:"primary"},{default:te(()=>Re[43]||(Re[43]=[Et("Click to upload")])),_:1})]),_:1},8,["file-list"])]),_:1},8,["modelValue","width"]),F(Ee,{modelValue:_(s),"onUpdate:modelValue":Re[13]||(Re[13]=he=>qr(s)?s.value=he:null),width:_(wt).dialogWidth},{default:te(()=>[F(Ie,{type:"",onClick:Re[10]||(Re[10]=he=>et())},{default:te(()=>Re[45]||(Re[45]=[Et("refresh")])),_:1}),F(le,{data:_(E).s3InfoList},{default:te(()=>[F(nt,{property:"accessKey",label:"accessKey"}),F(nt,{property:"accessSecret",label:"accessSecret"}),F(nt,{property:"endpoint",label:"endpoint"}),F(nt,{property:"region",label:"region"}),F(nt,{property:"platform",label:"platform"}),F(nt,{label:"Operations"},{default:te(he=>[F(Ie,{size:"small",type:"danger",onClick:w=>tt(he.$index,he.row)},{default:te(()=>Re[46]||(Re[46]=[Et("Delete")])),_:2},1032,["onClick"]),_(Ae).accessKey!=he.row.accessKey?(me(),Ct(Ie,{key:0,size:"small",type:"primary",onClick:w=>vt(he.row)},{default:te(()=>Re[47]||(Re[47]=[Et("select")])),_:2},1032,["onClick"])):gt("",!0),_(Ae).accessKey==he.row.accessKey?(me(),Ct(Ie,{key:1,size:"small",type:"info",onClick:Re[11]||(Re[11]=w=>(Dt(),a.value=!0,s.value=!1))},{default:te(()=>Re[48]||(Re[48]=[Et("open")])),_:1})):gt("",!0),F(Ie,{size:"small",type:"primary",onClick:Re[12]||(Re[12]=w=>(qr(Me)?Me.value=!1:Me=!1,f.value=!0))},{default:te(()=>Re[49]||(Re[49]=[Et("change bucket")])),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),F(Ee,{modelValue:_(u),"onUpdate:modelValue":Re[21]||(Re[21]=he=>qr(u)?u.value=he:null),width:_(wt).dialogWidth,"align-center":""},{footer:te(()=>[Ue("span",GWe,[F(Ie,{onClick:Re[19]||(Re[19]=he=>(a.value=!0,u.value=!1))},{default:te(()=>Re[50]||(Re[50]=[Et("Cancel")])),_:1}),F(Ie,{type:"primary",onClick:Re[20]||(Re[20]=he=>mt())},{default:te(()=>Re[51]||(Re[51]=[Et(" confirm ")])),_:1})])]),default:te(()=>[Re[52]||(Re[52]=Ue("span",null,"need to connect to s3 from other platform?",-1)),F(ur,{model:_(C)},{default:te(()=>[F(c,{label:"platform","label-width":_(wt).labelWidth},{default:te(()=>[F(Ar,{modelValue:_(C).platform,"onUpdate:modelValue":Re[14]||(Re[14]=he=>_(C).platform=he),placeholder:"default","allow-create":!0,filterable:!0},{default:te(()=>[F(He,{label:"cloudflare R2",value:"cloudflare"}),F(He,{label:"synology C2",value:"c2"}),F(He,{label:"oracle",value:"oracle"}),F(He,{label:"minio",value:"minio"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),F(c,{label:"accessKey","label-width":_(wt).labelWidth},{default:te(()=>[F($t,{modelValue:_(C).accessKey,"onUpdate:modelValue":Re[15]||(Re[15]=he=>_(C).accessKey=he)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(c,{label:"accessSecret","label-width":_(wt).labelWidth},{default:te(()=>[F($t,{modelValue:_(C).accessSecret,"onUpdate:modelValue":Re[16]||(Re[16]=he=>_(C).accessSecret=he)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(c,{label:"endpoint","label-width":_(wt).labelWidth},{default:te(()=>[F($t,{modelValue:_(C).endpoint,"onUpdate:modelValue":Re[17]||(Re[17]=he=>_(C).endpoint=he)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(c,{label:"region","label-width":_(wt).labelWidth},{default:te(()=>[F($t,{modelValue:_(C).region,"onUpdate:modelValue":Re[18]||(Re[18]=he=>_(C).region=he)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(Ee,{modelValue:_(o),"onUpdate:modelValue":Re[24]||(Re[24]=he=>qr(o)?o.value=he:null),width:_(wt).dialogWidth,"align-center":""},{footer:te(()=>[Ue("span",WWe,[F(Ie,{onClick:Re[22]||(Re[22]=he=>Pe())},{default:te(()=>Re[53]||(Re[53]=[Et("Cancel")])),_:1}),F(Ie,{type:"primary",onClick:Re[23]||(Re[23]=he=>f.value=!0)},{default:te(()=>Re[54]||(Re[54]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[Re[55]||(Re[55]=Ue("span",null,"need to save your s3 info on local device?",-1))]),_:1},8,["modelValue","width"]),F(Ee,{modelValue:_(f),"onUpdate:modelValue":Re[30]||(Re[30]=he=>qr(f)?f.value=he:null),width:_(wt).dialogWidth,"align-center":""},{footer:te(()=>[Ue("span",qWe,[F(Ie,{onClick:Re[27]||(Re[27]=he=>se())},{default:te(()=>Re[56]||(Re[56]=[Et("Cancel")])),_:1}),F(Ie,{type:"primary",onClick:Re[28]||(Re[28]=he=>ot(_(Ae).accessKey,_(n)))},{default:te(()=>Re[57]||(Re[57]=[Et("load")])),_:1}),F(Ie,{type:"primary",onClick:Re[29]||(Re[29]=he=>jt())},{default:te(()=>Re[58]||(Re[58]=[Et("save")])),_:1})])]),default:te(()=>[Re[59]||(Re[59]=Ue("span",null,"need secret to load exist s3 Info",-1)),F(ur,{model:_(C),ref_key:"secretformRef",ref:n},{default:te(()=>[F(c,{label:"secret","label-width":_(wt).labelWidth,required:!0},{default:te(()=>[F($t,{modelValue:_(h),"onUpdate:modelValue":Re[25]||(Re[25]=he=>qr(h)?h.value=he:null)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(c,{label:"bucket","label-width":_(wt).labelWidth,required:!0},{default:te(()=>[F($t,{modelValue:_(Ae).bucket,"onUpdate:modelValue":Re[26]||(Re[26]=he=>_(Ae).bucket=he)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(Ee,{modelValue:_(i),"onUpdate:modelValue":Re[32]||(Re[32]=he=>qr(i)?i.value=he:null),width:_(wt).dialogWidth,"align-center":""},{default:te(()=>[F(Ie,{type:"info",onClick:Re[31]||(Re[31]=he=>zt())},{default:te(()=>Re[60]||(Re[60]=[Et("reload")])),_:1}),F(jWe,{ref_key:"player",ref:r},null,512)]),_:1},8,["modelValue","width"])],64)}}}),YWe={key:0},KWe={key:1},ZWe={class:"dialog-footer"},QWe={class:"messages",ref:"messageList"},JWe={class:"message-username"},eqe={class:"message-content"},tqe={class:"message-time"},rqe={class:"chat-controls"},nqe=rt({__name:"Chat",setup(t){const e=ve(!1),n=an({peers:[]}),i=ve(""),s=ve(""),o=ve("");function a(f){if(f.lastActive)return $r(f.lastActive).format("YYYY-MM-DD HH:mm:ss")}function l(f){return $r(f).format("YYYY-MM-DD HH:mm")}const u=()=>{const h=l8().getPeer();var g=h==null?void 0:h.connect(Ae.connectId);g&&(g==null||g.on("open",function(){const v=new Date().getTime();let p="anonymous";Ae.sub&&(p=Ae.sub);const b=o.value+"*"+p+"*"+v;g==null||g.send(b),Wo.messages.push({text:b,sender:"me",timestamp:v,user:p}),g==null||g.on("error",function(S){console.error("Connection error:",S)})}))},d=async f=>{const h={baseURL:Xt.peerUrl,url:"/user/"+f,method:"GET",headers:{"content-type":"application/json"}};let g;await or(h).then(async function(v){v.data&&v.data.peerId&&(g=v.data.peerId),n.peers=[],n.peers.push(v.data);const p={baseURL:"https://"+Xt.peerServerUrl,url:"/app/peerjs/peers",method:"GET",headers:{"content-type":"application/json"}};g&&await or(p).then(async function(b){const S=b.data;if(S!=""){n.peers[0].status="offline";for(let C=0;C<b.data.length;C++)if(S[C]==g){n.peers[0]&&(n.peers[0].status="online");break}}})})};return(f,h)=>{const g=Ui,v=ca,p=da,b=Pc,S=cK;return me(),$e(Sr,null,[F(v,{modelValue:_(wt).chatTable,"onUpdate:modelValue":h[3]||(h[3]=C=>_(wt).chatTable=C),width:_(wt).dialogWidth},{default:te(()=>[F(_(Bn),{onClick:h[0]||(h[0]=C=>_(wt).chatDrawer=!0)},{default:te(()=>h[12]||(h[12]=[Et("recent")])),_:1}),F(_(ji),{placeholder:"Search...",modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=C=>i.value=C),onKeyup:h[2]||(h[2]=Li(_n(C=>d(i.value),["prevent"]),["enter"])),"prefix-icon":"el-icon-search"},null,8,["modelValue"]),F(_(Eu),{data:_(n).peers},{default:te(()=>[F(g,{prop:"username",label:"user"}),F(g,{prop:"peerId",label:"peerId"}),F(g,{prop:"status",label:"status"}),F(g,{prop:"lastActive",label:"lastActive",formatter:a,sortable:""}),F(g,{label:"Operations"},{default:te(C=>[F(_(Bn),{onClick:T=>(_(wt).chatDrawer=!0,_(Ae).connectId=C.row.peerId)},{default:te(()=>[C.row.status=="online"?(me(),$e("span",YWe,"chat")):gt("",!0),C.row.status=="offline"?(me(),$e("span",KWe,"message")):gt("",!0)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),F(v,{modelValue:e.value,"onUpdate:modelValue":h[7]||(h[7]=C=>e.value=C),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",ZWe,[F(_(Bn),{onClick:h[5]||(h[5]=()=>{})},{default:te(()=>h[13]||(h[13]=[Et("Cancel")])),_:1}),F(_(Bn),{type:"primary",onClick:h[6]||(h[6]=C=>_(Ae).connectId=s.value)},{default:te(()=>h[14]||(h[14]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(b,null,{default:te(()=>[F(p,{label:"id","label-width":_(wt).labelWidth},{default:te(()=>[F(_(ji),{modelValue:s.value,"onUpdate:modelValue":h[4]||(h[4]=C=>s.value=C)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),F(S,{modelValue:_(wt).chatDrawer,"onUpdate:modelValue":h[11]||(h[11]=C=>_(wt).chatDrawer=C)},{default:te(()=>[Ue("div",QWe,[(me(!0),$e(Sr,null,mi(_(Wo).messages,(C,T)=>(me(),$e("div",{key:T,class:Se(["chatMessage",C.sender==="me"?"sent":"received"])},[Ue("div",JWe,[Ue("strong",null,cr(C.user),1)]),Ue("div",eqe,[Ue("span",null,cr(C.text.split("*")[0]),1)]),Ue("div",tqe,[Ue("small",null,cr(l(C.timestamp)),1)])],2))),128))],512),Ue("div",rqe,[F(_(ji),{modelValue:o.value,"onUpdate:modelValue":h[8]||(h[8]=C=>o.value=C),placeholder:"Type a message...",onKeyup:h[9]||(h[9]=Li(C=>u(),["enter"]))},null,8,["modelValue"]),F(_(Bn),{type:"primary",onClick:h[10]||(h[10]=C=>u())},{default:te(()=>h[15]||(h[15]=[Et("Send")])),_:1})])]),_:1},8,["modelValue"])],64)}}});const L2=/^[a-z0-9]+(-[a-z0-9]+)*$/,aA=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:a};return e&&!IS(u)?null:u}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:n,prefix:o.shift(),name:o.join("-")};return e&&!IS(a)?null:a}if(r&&n===""){const a={provider:n,prefix:"",name:s};return e&&!IS(a,r)?null:a}return null},IS=(t,e)=>t?!!((t.provider===""||t.provider.match(L2))&&(e&&t.prefix===""||t.prefix.match(L2))&&t.name.match(L2)):!1,zie=Object.freeze({left:0,top:0,width:16,height:16}),fC=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),lA=Object.freeze({...zie,...fC}),ND=Object.freeze({...lA,body:"",hidden:!1});function iqe(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function pz(t,e){const r=iqe(t,e);for(const n in ND)n in fC?n in t&&!(n in r)&&(r[n]=fC[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function sqe(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(r[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=n[o]&&n[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function oqe(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let s={};function o(a){s=pz(n[a]||i[a],s)}return o(e),r.forEach(o),pz(t,s)}function Hie(t,e){const r=[];if(typeof t!="object"||typeof t.icons!="object")return r;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),r.push(i)});const n=sqe(t);for(const i in n){const s=n[i];s&&(e(i,oqe(t,i,s)),r.push(i))}return r}const aqe={provider:"",aliases:{},not_found:{},...zie};function s4(t,e){for(const r in e)if(r in t&&typeof t[r]!=typeof e[r])return!1;return!0}function jie(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!s4(t,aqe))return null;const r=e.icons;for(const i in r){const s=r[i];if(!i.match(L2)||typeof s.body!="string"||!s4(s,ND))return null}const n=e.aliases||Object.create(null);for(const i in n){const s=n[i],o=s.parent;if(!i.match(L2)||typeof o!="string"||!r[o]&&!n[o]||!s4(s,ND))return null}return e}const mz=Object.create(null);function lqe(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function km(t,e){const r=mz[t]||(mz[t]=Object.create(null));return r[e]||(r[e]=lqe(t,e))}function w$(t,e){return jie(e)?Hie(e,(r,n)=>{n?t.icons[r]=n:t.missing.add(r)}):[]}function uqe(t,e,r){try{if(typeof r.body=="string")return t.icons[e]={...r},!0}catch{}return!1}let Vb=!1;function Gie(t){return typeof t=="boolean"&&(Vb=t),Vb}function cqe(t){const e=typeof t=="string"?aA(t,!0,Vb):t;if(e){const r=km(e.provider,e.prefix),n=e.name;return r.icons[n]||(r.missing.has(n)?null:void 0)}}function dqe(t,e){const r=aA(t,!0,Vb);if(!r)return!1;const n=km(r.provider,r.prefix);return uqe(n,r.name,e)}function fqe(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Vb&&!e&&!t.prefix){let i=!1;return jie(t)&&(t.prefix="",Hie(t,(s,o)=>{o&&dqe(s,o)&&(i=!0)})),i}const r=t.prefix;if(!IS({provider:e,prefix:r,name:"a"}))return!1;const n=km(e,r);return!!w$(n,t)}const Wie=Object.freeze({width:null,height:null}),qie=Object.freeze({...Wie,...fC}),hqe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,pqe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function gz(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(hqe);if(n===null||!n.length)return t;const i=[];let s=n.shift(),o=pqe.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*e*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");o=!o}}function mqe(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const o=t.indexOf(">",s);if(o===-1)break;r+=t.slice(i+1,s).trim(),t=t.slice(0,n).trim()+t.slice(o+1)}return{defs:r,content:t}}function gqe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function vqe(t,e,r){const n=mqe(t);return gqe(n.defs,e+n.content+r)}const yqe=t=>t==="unset"||t==="undefined"||t==="none";function _qe(t,e){const r={...lA,...t},n={...qie,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(p=>{const b=[],S=p.hFlip,C=p.vFlip;let T=p.rotate;S?C?T+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):C&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let A;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:A=i.height/2+i.top,b.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:A=i.width/2+i.left,b.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}T%2===1&&(i.left!==i.top&&(A=i.left,i.left=i.top,i.top=A),i.width!==i.height&&(A=i.width,i.width=i.height,i.height=A)),b.length&&(s=vqe(s,'<g transform="'+b.join(" ")+'">',"</g>"))});const o=n.width,a=n.height,l=i.width,u=i.height;let d,f;o===null?(f=a===null?"1em":a==="auto"?u:a,d=gz(f,l/u)):(d=o==="auto"?l:o,f=a===null?gz(d,u/l):a==="auto"?u:a);const h={},g=(p,b)=>{yqe(b)||(h[p]=b.toString())};g("width",d),g("height",f);const v=[i.left,i.top,l,u];return h.viewBox=v.join(" "),{attributes:h,viewBox:v,body:s}}const bqe=/\sid="(\S+)"/g,xqe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let wqe=0;function Sqe(t,e=xqe){const r=[];let n;for(;n=bqe.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const o=typeof e=="function"?e(s):e+(wqe++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const BD=Object.create(null);function Tqe(t,e){BD[t]=e}function UD(t){return BD[t]||BD[""]}function S$(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const T$=Object.create(null),x_=["https://api.simplesvg.com","https://api.unisvg.com"],DS=[];for(;x_.length>0;)x_.length===1||Math.random()>.5?DS.push(x_.shift()):DS.push(x_.pop());T$[""]=S$({resources:["https://api.iconify.design"].concat(DS)});function Cqe(t,e){const r=S$(e);return r===null?!1:(T$[t]=r,!0)}function C$(t){return T$[t]}const Eqe=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let vz=Eqe();function Aqe(t,e){const r=C$(t);if(!r)return 0;let n;if(!r.maxURL)n=0;else{let i=0;r.resources.forEach(o=>{i=Math.max(i,o.length)});const s=e+".json?icons=";n=r.maxURL-i-r.path.length-s.length}return n}function Pqe(t){return t===404}const kqe=(t,e,r)=>{const n=[],i=Aqe(t,e),s="icons";let o={type:s,provider:t,prefix:e,icons:[]},a=0;return r.forEach((l,u)=>{a+=l.length+1,a>=i&&u>0&&(n.push(o),o={type:s,provider:t,prefix:e,icons:[]},a=l.length),o.icons.push(l)}),n.push(o),n};function Iqe(t){if(typeof t=="string"){const e=C$(t);if(e)return e.path}return"/"}const Dqe=(t,e,r)=>{if(!vz){r("abort",424);return}let n=Iqe(e.provider);switch(e.type){case"icons":{const s=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});n+=s+".json?"+l.toString();break}case"custom":{const s=e.uri;n+=s.slice(0,1)==="/"?s.slice(1):s;break}default:r("abort",400);return}let i=503;vz(t+n).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{r(Pqe(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?r("abort",s):r("next",i)});return}setTimeout(()=>{r("success",s)})}).catch(()=>{r("next",i)})},Rqe={prepare:kqe,send:Dqe};function Mqe(t){const e={loaded:[],missing:[],pending:[]},r=Object.create(null);t.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let n={provider:"",prefix:"",name:""};return t.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const s=i.provider,o=i.prefix,a=i.name,l=r[s]||(r[s]=Object.create(null)),u=l[o]||(l[o]=km(s,o));let d;a in u.icons?d=e.loaded:o===""||u.missing.has(a)?d=e.missing:d=e.pending;const f={provider:s,prefix:o,name:a};d.push(f)}),e}function Xie(t,e){t.forEach(r=>{const n=r.loaderCallbacks;n&&(r.loaderCallbacks=n.filter(i=>i.id!==e))})}function Oqe(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let r=!1;const n=t.provider,i=t.prefix;e.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(t.icons[u])o.loaded.push({provider:n,prefix:i,name:u});else if(t.missing.has(u))o.missing.push({provider:n,prefix:i,name:u});else return r=!0,!0;return!1}),o.pending.length!==a&&(r||Xie([t],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let $qe=0;function Lqe(t,e,r){const n=$qe++,i=Xie.bind(null,r,n);if(!e.pending.length)return i;const s={id:n,icons:e,callback:t,abort:i};return r.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function Fqe(t,e=!0,r=!1){const n=[];return t.forEach(i=>{const s=typeof i=="string"?aA(i,e,r):i;s&&n.push(s)}),n}var Nqe={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Bqe(t,e,r,n){const i=t.resources.length,s=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let I=t.resources.slice(0);for(o=[];I.length>1;){const O=Math.floor(Math.random()*I.length);o.push(I[O]),I=I.slice(0,O).concat(I.slice(O+1))}o=o.concat(I)}else o=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let l="pending",u=0,d,f=null,h=[],g=[];typeof n=="function"&&g.push(n);function v(){f&&(clearTimeout(f),f=null)}function p(){l==="pending"&&(l="aborted"),v(),h.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),h=[]}function b(I,O){O&&(g=[]),typeof I=="function"&&g.push(I)}function S(){return{startTime:a,payload:e,status:l,queriesSent:u,queriesPending:h.length,subscribe:b,abort:p}}function C(){l="failed",g.forEach(I=>{I(void 0,d)})}function T(){h.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),h=[]}function A(I,O,N){const G=O!=="success";switch(h=h.filter(ie=>ie!==I),l){case"pending":break;case"failed":if(G||!t.dataAfterTimeout)return;break;default:return}if(O==="abort"){d=N,C();return}if(G){d=N,h.length||(o.length?E():C());return}if(v(),T(),!t.random){const ie=t.resources.indexOf(I.resource);ie!==-1&&ie!==t.index&&(t.index=ie)}l="completed",g.forEach(ie=>{ie(N)})}function E(){if(l!=="pending")return;v();const I=o.shift();if(I===void 0){if(h.length){f=setTimeout(()=>{v(),l==="pending"&&(T(),C())},t.timeout);return}C();return}const O={status:"pending",resource:I,callback:(N,G)=>{A(O,N,G)}};h.push(O),u++,f=setTimeout(E,t.rotate),r(I,e,O.callback)}return setTimeout(E),S}function Yie(t){const e={...Nqe,...t};let r=[];function n(){r=r.filter(a=>a().status==="pending")}function i(a,l,u){const d=Bqe(e,a,l,(f,h)=>{n(),u&&u(f,h)});return r.push(d),d}function s(a){return r.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:n}}function yz(){}const o4=Object.create(null);function Uqe(t){if(!o4[t]){const e=C$(t);if(!e)return;const r=Yie(e),n={config:e,redundancy:r};o4[t]=n}return o4[t]}function Vqe(t,e,r){let n,i;if(typeof t=="string"){const s=UD(t);if(!s)return r(void 0,424),yz;i=s.send;const o=Uqe(t);o&&(n=o.redundancy)}else{const s=S$(t);if(s){n=Yie(s);const o=t.resources?t.resources[0]:"",a=UD(o);a&&(i=a.send)}}return!n||!i?(r(void 0,424),yz):n.query(e,i,r)().abort}const _z="iconify2",zb="iconify",Kie=zb+"-count",bz=zb+"-version",Zie=36e5,zqe=168,Hqe=50;function VD(t,e){try{return t.getItem(e)}catch{}}function E$(t,e,r){try{return t.setItem(e,r),!0}catch{}}function xz(t,e){try{t.removeItem(e)}catch{}}function zD(t,e){return E$(t,Kie,e.toString())}function HD(t){return parseInt(VD(t,Kie))||0}const uA={local:!0,session:!0},Qie={local:new Set,session:new Set};let A$=!1;function jqe(t){A$=t}let Xx=typeof window>"u"?{}:window;function Jie(t){const e=t+"Storage";try{if(Xx&&Xx[e]&&typeof Xx[e].length=="number")return Xx[e]}catch{}uA[t]=!1}function ese(t,e){const r=Jie(t);if(!r)return;const n=VD(r,bz);if(n!==_z){if(n){const a=HD(r);for(let l=0;l<a;l++)xz(r,zb+l.toString())}E$(r,bz,_z),zD(r,0);return}const i=Math.floor(Date.now()/Zie)-zqe,s=a=>{const l=zb+a.toString(),u=VD(r,l);if(typeof u=="string"){try{const d=JSON.parse(u);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>i&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&e(d,a))return!0}catch{}xz(r,l)}};let o=HD(r);for(let a=o-1;a>=0;a--)s(a)||(a===o-1?(o--,zD(r,o)):Qie[t].add(a))}function tse(){if(!A$){jqe(!0);for(const t in uA)ese(t,e=>{const r=e.data,n=e.provider,i=r.prefix,s=km(n,i);if(!w$(s,r).length)return!1;const o=r.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function Gqe(t,e){const r=t.lastModifiedCached;if(r&&r>=e)return r===e;if(t.lastModifiedCached=e,r)for(const n in uA)ese(n,i=>{const s=i.data;return i.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function Wqe(t,e){A$||tse();function r(n){let i;if(!uA[n]||!(i=Jie(n)))return;const s=Qie[n];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=HD(i),o>=Hqe||!zD(i,o+1))return;const a={cached:Math.floor(Date.now()/Zie),provider:t.provider,data:e};return E$(i,zb+o.toString(),JSON.stringify(a))}e.lastModified&&!Gqe(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),r("local")||r("session"))}function wz(){}function qqe(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,Oqe(t)}))}function Xqe(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:r,prefix:n}=t,i=t.iconsToLoad;delete t.iconsToLoad;let s;if(!i||!(s=UD(r)))return;s.prepare(r,n,i).forEach(a=>{Vqe(r,a,l=>{if(typeof l!="object")a.icons.forEach(u=>{t.missing.add(u)});else try{const u=w$(t,l);if(!u.length)return;const d=t.pendingIcons;d&&u.forEach(f=>{d.delete(f)}),Wqe(t,l)}catch(u){console.error(u)}qqe(t)})})}))}const Yqe=(t,e)=>{const r=Fqe(t,!0,Gie()),n=Mqe(r);if(!n.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(n.loaded,n.missing,n.pending,wz)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return n.pending.forEach(l=>{const{provider:u,prefix:d}=l;if(d===a&&u===o)return;o=u,a=d,s.push(km(u,d));const f=i[u]||(i[u]=Object.create(null));f[d]||(f[d]=[])}),n.pending.forEach(l=>{const{provider:u,prefix:d,name:f}=l,h=km(u,d),g=h.pendingIcons||(h.pendingIcons=new Set);g.has(f)||(g.add(f),i[u][d].push(f))}),s.forEach(l=>{const{provider:u,prefix:d}=l;i[u][d].length&&Xqe(l,i[u][d])}),e?Lqe(e,n,s):wz};function Kqe(t,e){const r={...t};for(const n in e){const i=e[n],s=typeof i;n in Wie?(i===null||i&&(s==="string"||s==="number"))&&(r[n]=i):s===typeof r[n]&&(r[n]=n==="rotate"?i%4:i)}return r}const Zqe=/[\s,]+/;function Qqe(t,e){e.split(Zqe).forEach(r=>{switch(r.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function Jqe(t,e=0){const r=t.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(r===""){const i=parseInt(t);return isNaN(i)?0:n(i)}else if(r!==t){let i=0;switch(r){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(t.slice(0,t.length-r.length));return isNaN(s)?0:(s=s/i,s%1===0?n(s):0)}}return e}function eXe(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function tXe(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function rXe(t){return"data:image/svg+xml,"+tXe(t)}function nXe(t){return'url("'+rXe(t)+'")'}const Sz={...qie,inline:!1},iXe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},sXe={display:"inline-block"},jD={backgroundColor:"currentColor"},rse={backgroundColor:"transparent"},Tz={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Cz={webkitMask:jD,mask:jD,background:rse};for(const t in Cz){const e=Cz[t];for(const r in Tz)e[t+r]=Tz[r]}const RS={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";RS[t+"-flip"]=e,RS[t.slice(0,1)+"-flip"]=e,RS[t+"Flip"]=e});function Ez(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const Az=(t,e)=>{const r=Kqe(Sz,e),n={...iXe},i=e.mode||"svg",s={},o=e.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let p in e){const b=e[p];if(b!==void 0)switch(p){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":r[p]=b===!0||b==="true"||b===1;break;case"flip":typeof b=="string"&&Qqe(r,b);break;case"color":s.color=b;break;case"rotate":typeof b=="string"?r[p]=Jqe(b):typeof b=="number"&&(r[p]=b);break;case"ariaHidden":case"aria-hidden":b!==!0&&b!=="true"&&delete n["aria-hidden"];break;default:{const S=RS[p];S?(b===!0||b==="true"||b===1)&&(r[S]=!0):Sz[p]===void 0&&(n[p]=b)}}}const l=_qe(t,r),u=l.attributes;if(r.inline&&(s.verticalAlign="-0.125em"),i==="svg"){n.style={...s,...a},Object.assign(n,u);let p=0,b=e.id;return typeof b=="string"&&(b=b.replace(/-/g,"_")),n.innerHTML=Sqe(l.body,b?()=>b+"ID"+p++:"iconifyVue"),br("svg",n)}const{body:d,width:f,height:h}=t,g=i==="mask"||(i==="bg"?!1:d.indexOf("currentColor")!==-1),v=eXe(d,{...u,width:f+"",height:h+""});return n.style={...s,"--svg":nXe(v),width:Ez(u.width),height:Ez(u.height),...sXe,...g?jD:rse,...a},br("span",n)};Gie(!0);Tqe("",Rqe);if(typeof document<"u"&&typeof window<"u"){tse();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!fqe(n))&&console.error(r)}catch{console.error(r)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let r in e){const n="IconifyProviders["+r+"] is invalid.";try{const i=e[r];if(typeof i!="object"||!i||i.resources===void 0)continue;Cqe(r,i)||console.error(n)}catch{console.error(n)}}}}const oXe={...lA,body:""},aXe=rt({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(t,e){if(typeof t=="object"&&t!==null&&typeof t.body=="string")return this._name="",this.abortLoading(),{data:t};let r;if(typeof t!="string"||(r=aA(t,!1,!0))===null)return this.abortLoading(),null;const n=cqe(r);if(!n)return(!this._loadingIcon||this._loadingIcon.name!==t)&&(this.abortLoading(),this._name="",n!==null&&(this._loadingIcon={name:t,abort:Yqe([r],()=>{this.counter++})})),null;this.abortLoading(),this._name!==t&&(this._name=t,e&&e(t));const i=["iconify"];return r.prefix!==""&&i.push("iconify--"+r.prefix),r.provider!==""&&i.push("iconify--"+r.provider),{data:n,classes:i}}},render(){this.counter;const t=this.$attrs,e=this.iconMounted||t.ssr?this.getIcon(t.icon,t.onLoad):null;if(!e)return Az(oXe,t);let r=t;return e.classes&&(r={...t,class:(typeof t.class=="string"?t.class+" ":"")+e.classes.join(" ")}),Az({...lA,...e.data},r)}});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function G1(t){return t+.5|0}const Yh=(t,e,r)=>Math.max(Math.min(t,r),e);function J_(t){return Yh(G1(t*2.55),0,255)}function op(t){return Yh(G1(t*255),0,255)}function gf(t){return Yh(G1(t/2.55)/100,0,1)}function Pz(t){return Yh(G1(t*100),0,100)}const iu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},GD=[..."0123456789ABCDEF"],lXe=t=>GD[t&15],uXe=t=>GD[(t&240)>>4]+GD[t&15],Yx=t=>(t&240)>>4===(t&15),cXe=t=>Yx(t.r)&&Yx(t.g)&&Yx(t.b)&&Yx(t.a);function dXe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&iu[t[1]]*17,g:255&iu[t[2]]*17,b:255&iu[t[3]]*17,a:e===5?iu[t[4]]*17:255}:(e===7||e===9)&&(r={r:iu[t[1]]<<4|iu[t[2]],g:iu[t[3]]<<4|iu[t[4]],b:iu[t[5]]<<4|iu[t[6]],a:e===9?iu[t[7]]<<4|iu[t[8]]:255})),r}const fXe=(t,e)=>t<255?e(t):"";function hXe(t){var e=cXe(t)?lXe:uXe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+fXe(t.a,e):void 0}const pXe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nse(t,e,r){const n=e*Math.min(r,1-r),i=(s,o=(s+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function mXe(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function gXe(t,e,r){const n=nse(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function vXe(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function P$(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),o=Math.min(r,n,i),a=(s+o)/2;let l,u,d;return s!==o&&(d=s-o,u=a>.5?d/(2-s-o):d/(s+o),l=vXe(r,n,i,d,s),l=l*60+.5),[l|0,u||0,a]}function k$(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(op)}function I$(t,e,r){return k$(nse,t,e,r)}function yXe(t,e,r){return k$(gXe,t,e,r)}function _Xe(t,e,r){return k$(mXe,t,e,r)}function ise(t){return(t%360+360)%360}function bXe(t){const e=pXe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?J_(+e[5]):op(+e[5]));const i=ise(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=yXe(i,s,o):e[1]==="hsv"?n=_Xe(i,s,o):n=I$(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}function xXe(t,e){var r=P$(t);r[0]=ise(r[0]+e),r=I$(r),t.r=r[0],t.g=r[1],t.b=r[2]}function wXe(t){if(!t)return;const e=P$(t),r=e[0],n=Pz(e[1]),i=Pz(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${gf(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const kz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Iz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SXe(){const t={},e=Object.keys(Iz),r=Object.keys(kz);let n,i,s,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<r.length;i++)s=r[i],a=a.replace(s,kz[s]);s=parseInt(Iz[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Kx;function TXe(t){Kx||(Kx=SXe(),Kx.transparent=[0,0,0,0]);const e=Kx[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const CXe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function EXe(t){const e=CXe.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?J_(o):Yh(o*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?J_(n):Yh(n,0,255)),i=255&(e[4]?J_(i):Yh(i,0,255)),s=255&(e[6]?J_(s):Yh(s,0,255)),{r:n,g:i,b:s,a:r}}}function AXe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${gf(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const a4=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,_g=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function PXe(t,e,r){const n=_g(gf(t.r)),i=_g(gf(t.g)),s=_g(gf(t.b));return{r:op(a4(n+r*(_g(gf(e.r))-n))),g:op(a4(i+r*(_g(gf(e.g))-i))),b:op(a4(s+r*(_g(gf(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Zx(t,e,r){if(t){let n=P$(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=I$(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function sse(t,e){return t&&Object.assign(e||{},t)}function Dz(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=op(t[3]))):(e=sse(t,{r:0,g:0,b:0,a:1}),e.a=op(e.a)),e}function kXe(t){return t.charAt(0)==="r"?EXe(t):bXe(t)}class Hb{constructor(e){if(e instanceof Hb)return e;const r=typeof e;let n;r==="object"?n=Dz(e):r==="string"&&(n=dXe(e)||TXe(e)||kXe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=sse(this._rgb);return e&&(e.a=gf(e.a)),e}set rgb(e){this._rgb=Dz(e)}rgbString(){return this._valid?AXe(this._rgb):void 0}hexString(){return this._valid?hXe(this._rgb):void 0}hslString(){return this._valid?wXe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const o=r===s?.5:r,a=2*o-1,l=n.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,n.r=255&u*n.r+s*i.r+.5,n.g=255&u*n.g+s*i.g+.5,n.b=255&u*n.b+s*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=PXe(this._rgb,e._rgb,r)),this}clone(){return new Hb(this.rgb)}alpha(e){return this._rgb.a=op(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=G1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zx(this._rgb,2,e),this}darken(e){return Zx(this._rgb,2,-e),this}saturate(e){return Zx(this._rgb,1,e),this}desaturate(e){return Zx(this._rgb,1,-e),this}rotate(e){return xXe(this._rgb,e),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function tf(){}const IXe=(()=>{let t=0;return()=>t++})();function ls(t){return t===null||typeof t>"u"}function ws(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function wi(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function $o(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Il(t,e){return $o(t)?t:e}function ii(t,e){return typeof t>"u"?e:t}const DXe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ose=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Zi(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Ri(t,e,r,n){let i,s,o;if(ws(t))if(s=t.length,n)for(i=s-1;i>=0;i--)e.call(r,t[i],i);else for(i=0;i<s;i++)e.call(r,t[i],i);else if(wi(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(r,t[o[i]],o[i])}function hC(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function pC(t){if(ws(t))return t.map(pC);if(wi(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=pC(t[r[i]]);return e}return t}function ase(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function RXe(t,e,r,n){if(!ase(t))return;const i=e[t],s=r[t];wi(i)&&wi(s)?jb(i,s,n):e[t]=pC(s)}function jb(t,e,r){const n=ws(e)?e:[e],i=n.length;if(!wi(t))return t;r=r||{};const s=r.merger||RXe;let o;for(let a=0;a<i;++a){if(o=n[a],!wi(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)s(l[u],t,o,r)}return t}function F2(t,e){return jb(t,e,{merger:MXe})}function MXe(t,e,r){if(!ase(t))return;const n=e[t],i=r[t];wi(n)&&wi(i)?F2(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pC(i))}const Rz={"":t=>t,x:t=>t.x,y:t=>t.y};function OXe(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function $Xe(t){const e=OXe(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Zv(t,e){return(Rz[e]||(Rz[e]=$Xe(e)))(t)}function D$(t){return t.charAt(0).toUpperCase()+t.slice(1)}const mC=t=>typeof t<"u",wp=t=>typeof t=="function",Mz=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function LXe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const As=Math.PI,Zo=2*As,FXe=Zo+As,gC=Number.POSITIVE_INFINITY,NXe=As/180,Na=As/2,s0=As/4,Oz=As*2/3,Kh=Math.log10,Qv=Math.sign;function N2(t,e,r){return Math.abs(t-e)<r}function $z(t){const e=Math.round(t);t=N2(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Kh(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function BXe(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function Gb(t){return!isNaN(parseFloat(t))&&isFinite(t)}function UXe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function lse(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function lc(t){return t*(As/180)}function R$(t){return t*(180/As)}function Lz(t){if(!$o(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function VXe(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*As&&(s+=Zo),{angle:s,distance:i}}function WD(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zXe(t,e){return(t-e+FXe)%Zo-As}function nc(t){return(t%Zo+Zo)%Zo}function vC(t,e,r,n){const i=nc(t),s=nc(e),o=nc(r),a=nc(s-i),l=nc(o-i),u=nc(i-s),d=nc(i-o);return i===s||i===o||n&&s===o||a>l&&u<d}function yu(t,e,r){return Math.max(e,Math.min(r,t))}function HXe(t){return yu(t,-32768,32767)}function e2(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function M$(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const G0=(t,e,r,n)=>M$(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),jXe=(t,e,r)=>M$(t,r,n=>t[n][e]>=r);function GXe(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const use=["push","pop","shift","splice","unshift"];function WXe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),use.forEach(r=>{const n="_onData"+D$(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function Fz(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(use.forEach(s=>{delete t[s]}),delete t._chartjs)}function qXe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const cse=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function dse(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,cse.call(window,()=>{n=!1,t.apply(e,r)}))}}function XXe(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const O$=t=>t==="start"?"left":t==="end"?"right":"center",aa=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,YXe=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function KXe(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:u,max:d,minDefined:f,maxDefined:h}=o.getUserBounds();f&&(i=yu(Math.min(G0(a,l,u).lo,r?n:G0(e,l,o.getPixelForValue(u)).lo),0,n-1)),h?s=yu(Math.max(G0(a,o.axis,d,!0).hi+1,r?0:G0(e,l,o.getPixelForValue(d),!0).hi+1),i,n)-i:s=n-i}return{start:i,count:s}}function ZXe(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Qx=t=>t===0||t===1,Nz=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Zo/r)),Bz=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Zo/r)+1,B2={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Na)+1,easeOutSine:t=>Math.sin(t*Na),easeInOutSine:t=>-.5*(Math.cos(As*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qx(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qx(t)?t:Nz(t,.075,.3),easeOutElastic:t=>Qx(t)?t:Bz(t,.075,.3),easeInOutElastic(t){return Qx(t)?t:t<.5?.5*Nz(t*2,.1125,.45):.5+.5*Bz(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-B2.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?B2.easeInBounce(t*2)*.5:B2.easeOutBounce(t*2-1)*.5+.5};function $$(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Uz(t){return $$(t)?t:new Hb(t)}function l4(t){return $$(t)?t:new Hb(t).saturate(.5).darken(.1).hexString()}const QXe=["x","y","borderWidth","radius","tension"],JXe=["color","borderColor","backgroundColor"];function eYe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:JXe},numbers:{type:"number",properties:QXe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function tYe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vz=new Map;function rYe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=Vz.get(r);return n||(n=new Intl.NumberFormat(t,e),Vz.set(r,n)),n}function W1(t,e,r){return rYe(e,r).format(t)}const fse={values(t){return ws(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=nYe(t,r)}const o=Kh(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),W1(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(Kh(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?fse.numeric.call(this,t,e,r):""}};function nYe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var cA={formatters:fse};function iYe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Im=Object.create(null),qD=Object.create(null);function U2(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function u4(t,e,r){return typeof e=="string"?jb(U2(t,e),r):jb(U2(t,""),e)}class sYe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>l4(i.backgroundColor),this.hoverBorderColor=(n,i)=>l4(i.borderColor),this.hoverColor=(n,i)=>l4(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return u4(this,e,r)}get(e){return U2(this,e)}describe(e,r){return u4(qD,e,r)}override(e,r){return u4(Im,e,r)}route(e,r,n,i){const s=U2(this,e),o=U2(this,n),a="_"+r;Object.defineProperties(s,{[a]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[a],u=o[i];return wi(l)?Object.assign({},u,l):ii(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(r=>r(this))}}var Fs=new sYe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eYe,tYe,iYe]);function oYe(t){return!t||ls(t.size)||ls(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function yC(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function aYe(t,e,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const a=r.length;let l,u,d,f,h;for(l=0;l<a;l++)if(f=r[l],f!=null&&!ws(f))o=yC(t,i,s,o,f);else if(ws(f))for(u=0,d=f.length;u<d;u++)h=f[u],h!=null&&!ws(h)&&(o=yC(t,i,s,o,h));t.restore();const g=s.length/2;if(g>r.length){for(l=0;l<g;l++)delete i[s[l]];s.splice(0,g)}return o}function o0(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function zz(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function XD(t,e,r,n){hse(t,e,r,n,null)}function hse(t,e,r,n,i){let s,o,a,l,u,d,f,h;const g=e.pointStyle,v=e.rotation,p=e.radius;let b=(v||0)*NXe;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),g){default:i?t.ellipse(r,n,i/2,p,0,0,Zo):t.arc(r,n,p,0,Zo),t.closePath();break;case"triangle":d=i?i/2:p,t.moveTo(r+Math.sin(b)*d,n-Math.cos(b)*p),b+=Oz,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*p),b+=Oz,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,o=Math.cos(b+s0)*l,f=Math.cos(b+s0)*(i?i/2-u:l),a=Math.sin(b+s0)*l,h=Math.sin(b+s0)*(i?i/2-u:l),t.arc(r-f,n-a,u,b-As,b-Na),t.arc(r+h,n-o,u,b-Na,b),t.arc(r+f,n+a,u,b,b+Na),t.arc(r-h,n+o,u,b+Na,b+As),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*p,d=i?i/2:l,t.rect(r-d,n-l,2*d,2*l);break}b+=s0;case"rectRot":f=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(i?i/2:p),t.moveTo(r-f,n-a),t.lineTo(r+h,n-o),t.lineTo(r+f,n+a),t.lineTo(r-h,n+o),t.closePath();break;case"crossRot":b+=s0;case"cross":f=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(i?i/2:p),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"star":f=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(i?i/2:p),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o),b+=s0,f=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(i?i/2:p),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"line":o=i?i/2:Math.cos(b)*p,a=Math.sin(b)*p,t.moveTo(r-o,n-a),t.lineTo(r+o,n+a);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(i?i/2:p),n+Math.sin(b)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Tf(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function L$(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function F$(t){t.restore()}function lYe(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function uYe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function cYe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ls(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function dYe(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function fYe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Dm(t,e,r,n,i,s={}){const o=ws(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,cYe(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&fYe(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ls(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),dYe(t,r,n,u,s),n+=Number(i.lineHeight);t.restore()}function _C(t,e){const{x:r,y:n,w:i,h:s,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*As,As,!0),t.lineTo(r,n+s-o.bottomLeft),t.arc(r+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,As,Na,!0),t.lineTo(r+i-o.bottomRight,n+s),t.arc(r+i-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Na,0,!0),t.lineTo(r+i,n+o.topRight),t.arc(r+i-o.topRight,n+o.topRight,o.topRight,0,-Na,!0),t.lineTo(r+o.topLeft,n)}const hYe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pYe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mYe(t,e){const r=(""+t).match(hYe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const gYe=t=>+t||0;function pse(t,e){const r={},n=wi(e),i=n?Object.keys(e):e,s=wi(t)?n?o=>ii(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)r[o]=gYe(s(o));return r}function vYe(t){return pse(t,{top:"y",right:"x",bottom:"y",left:"x"})}function cv(t){return pse(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ya(t){const e=vYe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function go(t,e){t=t||{},e=e||Fs.font;let r=ii(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=ii(t.style,e.style);n&&!(""+n).match(pYe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ii(t.family,e.family),lineHeight:mYe(ii(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:ii(t.weight,e.weight),string:""};return i.string=oYe(i),i}function Jx(t,e,r,n){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),r!==void 0&&ws(a)&&(a=a[r%a.length],i=!1),a!==void 0))return n&&!i&&(n.cacheable=!1),a}function yYe(t,e,r){const{min:n,max:i}=t,s=ose(e,(i-n)/2),o=(a,l)=>r&&a===0?0:a+l;return{min:o(n,-Math.abs(s)),max:o(i,s)}}function $p(t,e){return Object.assign(Object.create(t),e)}function N$(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=yse("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:a=>N$([a,...t],e,s,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return gse(a,l,()=>EYe(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return jz(a).includes(l)},ownKeys(a){return jz(a)},set(a,l,u){const d=a._storage||(a._storage=i());return a[l]=d[l]=u,delete a._keys,!0}})}function Jv(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:mse(t,n),setContext:s=>Jv(t,s,r,n),override:s=>Jv(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return gse(s,o,()=>bYe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function mse(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:wp(r)?r:()=>r,isIndexable:wp(n)?n:()=>n}}const _Ye=(t,e)=>t?t+D$(e):e,B$=(t,e)=>wi(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function gse(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function bYe(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:o}=t;let a=n[e];return wp(a)&&o.isScriptable(e)&&(a=xYe(e,a,t,r)),ws(a)&&a.length&&(a=wYe(e,a,t,o.isIndexable)),B$(e,a)&&(a=Jv(a,i,s&&s[e],o)),a}function xYe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=r;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||n);return a.delete(t),B$(t,l)&&(l=U$(i._scopes,i,t,l)),l}function wYe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(wi(e[0])){const l=e,u=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=U$(u,i,t,d);e.push(Jv(f,s,o&&o[t],a))}}return e}function vse(t,e,r){return wp(t)?t(e,r):t}const SYe=(t,e)=>t===!0?e:typeof t=="string"?Zv(e,t):void 0;function TYe(t,e,r,n,i){for(const s of e){const o=SYe(r,s);if(o){t.add(o);const a=vse(o._fallback,r,i);if(typeof a<"u"&&a!==r&&a!==n)return a}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function U$(t,e,r,n){const i=e._rootScopes,s=vse(e._fallback,r,n),o=[...t,...i],a=new Set;a.add(n);let l=Hz(a,o,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=Hz(a,o,s,l,n),l===null)?!1:N$(Array.from(a),[""],i,s,()=>CYe(e,r,n))}function Hz(t,e,r,n,i){for(;r;)r=TYe(t,e,r,n,i);return r}function CYe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return ws(i)&&wi(r)?r:i||{}}function EYe(t,e,r,n){let i;for(const s of e)if(i=yse(_Ye(s,t),r),typeof i<"u")return B$(t,i)?U$(r,n,t,i):i}function yse(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function jz(t){let e=t._keys;return e||(e=t._keys=AYe(t._scopes)),e}function AYe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function PYe(t,e,r,n){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(n);let a,l,u,d;for(a=0,l=n;a<l;++a)u=a+r,d=e[u],o[a]={r:i.parse(Zv(d,s),u)};return o}const kYe=Number.EPSILON||1e-14,ey=(t,e)=>e<t.length&&!t[e].skip&&t[e],_se=t=>t==="x"?"y":"x";function IYe(t,e,r,n){const i=t.skip?e:t,s=e,o=r.skip?e:r,a=WD(s,i),l=WD(o,s);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,h=n*d;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function DYe(t,e,r){const n=t.length;let i,s,o,a,l,u=ey(t,0);for(let d=0;d<n-1;++d)if(l=u,u=ey(t,d+1),!(!l||!u)){if(N2(e[d],0,kYe)){r[d]=r[d+1]=0;continue}i=r[d]/e[d],s=r[d+1]/e[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),r[d]=i*o*e[d],r[d+1]=s*o*e[d])}}function RYe(t,e,r="x"){const n=_se(r),i=t.length;let s,o,a,l=ey(t,0);for(let u=0;u<i;++u){if(o=a,a=l,l=ey(t,u+1),!a)continue;const d=a[r],f=a[n];o&&(s=(d-o[r])/3,a[`cp1${r}`]=d-s,a[`cp1${n}`]=f-s*e[u]),l&&(s=(l[r]-d)/3,a[`cp2${r}`]=d+s,a[`cp2${n}`]=f+s*e[u])}}function MYe(t,e="x"){const r=_se(e),n=t.length,i=Array(n).fill(0),s=Array(n);let o,a,l,u=ey(t,0);for(o=0;o<n;++o)if(a=l,l=u,u=ey(t,o+1),!!l){if(u){const d=u[e]-l[e];i[o]=d!==0?(u[r]-l[r])/d:0}s[o]=a?u?Qv(i[o-1])!==Qv(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}DYe(t,i,s),RYe(t,s,e)}function ew(t,e,r){return Math.max(Math.min(t,r),e)}function OYe(t,e){let r,n,i,s,o,a=Tf(t[0],e);for(r=0,n=t.length;r<n;++r)o=s,s=a,a=r<n-1&&Tf(t[r+1],e),s&&(i=t[r],o&&(i.cp1x=ew(i.cp1x,e.left,e.right),i.cp1y=ew(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=ew(i.cp2x,e.left,e.right),i.cp2y=ew(i.cp2y,e.top,e.bottom)))}function $Ye(t,e,r,n,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")MYe(t,i);else{let u=n?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=IYe(u,a,t[Math.min(s+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&OYe(t,r)}function V$(){return typeof window<"u"&&typeof document<"u"}function z$(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bC(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const dA=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function LYe(t,e){return dA(t).getPropertyValue(e)}const FYe=["top","right","bottom","left"];function om(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=FYe[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const NYe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function BYe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let o=!1,a,l;if(NYe(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=n.clientX-u.left,l=n.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function x0(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=dA(r),s=i.boxSizing==="border-box",o=om(i,"padding"),a=om(i,"border","width"),{x:l,y:u,box:d}=BYe(t,r),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:g,height:v}=e;return s&&(g-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-f)/g*r.width/n),y:Math.round((u-h)/v*r.height/n)}}function UYe(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&z$(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const o=s.getBoundingClientRect(),a=dA(s),l=om(a,"border","width"),u=om(a,"padding");e=o.width-u.width-l.width,r=o.height-u.height-l.height,n=bC(a.maxWidth,s,"clientWidth"),i=bC(a.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||gC,maxHeight:i||gC}}const tw=t=>Math.round(t*10)/10;function VYe(t,e,r,n){const i=dA(t),s=om(i,"margin"),o=bC(i.maxWidth,t,"clientWidth")||gC,a=bC(i.maxHeight,t,"clientHeight")||gC,l=UYe(t,e,r);let{width:u,height:d}=l;if(i.boxSizing==="content-box"){const h=om(i,"border","width"),g=om(i,"padding");u-=g.width+h.width,d-=g.height+h.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=tw(Math.min(u,o,l.maxWidth)),d=tw(Math.min(d,a,l.maxHeight)),u&&!d&&(d=tw(u/2)),(e!==void 0||r!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,u=tw(Math.floor(d*n))),{width:u,height:d}}function Gz(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=n,o.height=i,o.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const zYe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};V$()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Wz(t,e){const r=LYe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function w0(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function HYe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function jYe(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=w0(t,i,r),a=w0(i,s,r),l=w0(s,e,r),u=w0(o,a,r),d=w0(a,l,r);return w0(u,d,r)}const GYe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},WYe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function dv(t,e,r){return t?GYe(e,r):WYe()}function bse(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function xse(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function wse(t){return t==="angle"?{between:vC,compare:zXe,normalize:nc}:{between:e2,compare:(e,r)=>e-r,normalize:e=>e}}function qz({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function qYe(t,e,r){const{property:n,start:i,end:s}=r,{between:o,normalize:a}=wse(n),l=e.length;let{start:u,end:d,loop:f}=t,h,g;if(f){for(u+=l,d+=l,h=0,g=l;h<g&&o(a(e[u%l][n]),i,s);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function XYe(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,o=e.length,{compare:a,between:l,normalize:u}=wse(n),{start:d,end:f,loop:h,style:g}=qYe(t,e,r),v=[];let p=!1,b=null,S,C,T;const A=()=>l(i,T,S)&&a(i,T)!==0,E=()=>a(s,S)===0||l(s,T,S),I=()=>p||A(),O=()=>!p||E();for(let N=d,G=d;N<=f;++N)C=e[N%o],!C.skip&&(S=u(C[n]),S!==T&&(p=l(S,i,s),b===null&&I()&&(b=a(S,i)===0?N:G),b!==null&&O()&&(v.push(qz({start:b,end:N,loop:h,count:o,style:g})),b=null),G=N,T=S));return b!==null&&v.push(qz({start:b,end:f,loop:h,count:o,style:g})),v}function YYe(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=XYe(n[i],t.points,e);s.length&&r.push(...s)}return r}function KYe(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function ZYe(t,e,r,n){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%i];u.skip||u.stop?a.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%i,end:o%i,loop:n}),s}function QYe(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=KYe(r,i,s,n);if(n===!0)return Xz(t,[{start:o,end:a,loop:s}],r,e);const l=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return Xz(t,ZYe(r,o,l,u),r,e)}function Xz(t,e,r,n){return!n||!n.setContext||!r?e:JYe(t,e,r,n)}function JYe(t,e,r,n){const i=t._chart.getContext(),s=Yz(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=r.length,u=[];let d=s,f=e[0].start,h=f;function g(v,p,b,S){const C=a?-1:1;if(v!==p){for(v+=l;r[v%l].skip;)v-=C;for(;r[p%l].skip;)p+=C;v%l!==p%l&&(u.push({start:v%l,end:p%l,loop:b,style:S}),d=S,f=p%l)}}for(const v of e){f=a?f:v.start;let p=r[f%l],b;for(h=f+1;h<=v.end;h++){const S=r[h%l];b=Yz(n.setContext($p(i,{type:"segment",p0:p,p1:S,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),eKe(b,d)&&g(f,h-1,v.loop,d),p=S,d=b}f<h-1&&g(f,h-1,v.loop,d)}return u}function Yz(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eKe(t,e){if(!e)return!1;const r=[],n=function(i,s){return $$(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class tKe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],o=r.duration;s.forEach(a=>a({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=cse.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var uf=new tKe;const Kz="transparent",rKe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=Uz(t||Kz),i=n.valid&&Uz(e||Kz);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class nKe{constructor(e,r,n,i){const s=r[n];i=Jx([e.to,i,s,e.from]);const o=Jx([e.from,s,i]);this._active=!0,this._fn=e.fn||rKe[e.type||typeof o],this._easing=B2[e.easing]||B2.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Jx([e.to,r,i,e.from]),this._from=Jx([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||r<n),!this._active){this._target[i]=a,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class Sse{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!wi(e))return;const r=Object.keys(Fs.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!wi(s))return;const o={};for(const a of r)o[a]=s[a];(ws(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,r){const n=r.options,i=sKe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&iKe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(r),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const h=n.get(u);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}s[u]=f=new nKe(h,e,u,d),i.push(f)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return uf.add(this._chart,n),!0}}function iKe(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function sKe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Zz(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function oKe(t,e,r){if(r===!1)return!1;const n=Zz(t,r),i=Zz(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function aKe(t){let e,r,n,i;return wi(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function Tse(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function Qz(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let o,a,l,u;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===r){if(n.all)continue;break}u=t.values[l],$o(u)&&(s||e===0||Qv(e)===Qv(u))&&(e+=u)}return e}}function lKe(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[i]:d,[s]:t[d]};return a}function Jz(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function uKe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function cKe(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function dKe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function eH(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function tH(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,u=o.axis,d=uKe(s,o,n),f=e.length;let h;for(let g=0;g<f;++g){const v=e[g],{[l]:p,[u]:b}=v,S=v._stacks||(v._stacks={});h=S[u]=dKe(i,d,p),h[a]=b,h._top=eH(h,o,!0,n.type),h._bottom=eH(h,o,!1,n.type);const C=h._visualValues||(h._visualValues={});C[a]=b}}function c4(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function fKe(t,e){return $p(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hKe(t,e,r){return $p(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function w_(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const d4=t=>t==="reset"||t==="none",rH=(t,e)=>e?t:Object.assign({},t),pKe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Tse(r,!0),values:null};class am{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Jz(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&w_(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(f,h,g,v)=>f==="x"?h:f==="r"?v:g,s=r.xAxisID=ii(n.xAxisID,c4(e,"x")),o=r.yAxisID=ii(n.yAxisID,c4(e,"y")),a=r.rAxisID=ii(n.rAxisID,c4(e,"r")),l=r.indexAxis,u=r.iAxisID=i(l,s,o,a),d=r.vAxisID=i(l,o,s,a);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Fz(this._data,this),e._stacked&&w_(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(wi(r)){const i=this._cachedMeta;this._data=lKe(r,i)}else if(n!==r){if(n){Fz(n,this);const i=this._cachedMeta;w_(i),i._parsed=[]}r&&Object.isExtensible(r)&&WXe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Jz(r.vScale,r),r.stack!==n.stack&&(i=!0,w_(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&tH(this,r._parsed)}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:o}=n,a=s.axis;let l=e===0&&r===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{ws(i[e])?h=this.parseArrayData(n,i,e,r):wi(i[e])?h=this.parseObjectData(n,i,e,r):h=this.parsePrimitiveData(n,i,e,r);const g=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<r;++d)n._parsed[d+e]=f=h[d],l&&(g()&&(l=!1),u=f);n._sorted=l}o&&tH(this,h)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),d=s===o,f=new Array(i);let h,g,v;for(h=0,g=i;h<g;++h)v=h+n,f[h]={[a]:d||s.parse(u[v],v),[l]:o.parse(r[v],v)};return f}parseArrayData(e,r,n,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,d,f;for(l=0,u=i;l<u;++l)d=l+n,f=r[d],a[l]={x:s.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,r,n,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let d,f,h,g;for(d=0,f=i;d<f;++d)h=d+n,g=r[h],u[d]={x:s.parse(Zv(g,a),h),y:o.parse(Zv(g,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,o=r[e.axis],a={keys:Tse(i,!0),values:r._stacks[e.axis]._visualValues};return Qz(a,o,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let o=s===null?NaN:s;const a=i&&n._stacks[r.axis];i&&a&&(i.values=a,o=Qz(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),l=pKe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=cKe(a);let h,g;function v(){g=i[h];const p=g[a.axis];return!$o(g[e.axis])||d>p||f<p}for(h=0;h<o&&!(!v()&&(this.updateRangeFromParsed(u,e,g,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!v()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,o;for(i=0,s=r.length;i<s;++i)o=r[i][e.axis],$o(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=aKe(ii(this.options.clip,oKe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,a,l),d=a;d<a+l;++d){const f=i[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=hKe(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=fKe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,o=e+"-"+r,a=s[o],l=this.enableOptionSharing&&mC(n);if(a)return rH(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Fs.elements[e]),v=()=>this.getContext(n,i,r),p=u.resolveNamedOptions(h,g,v,f);return p.$shared&&(p.$shared=l,s[o]=Object.freeze(rH(p,l))),p}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,o=`animation-${r}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,n,r))}const u=new Sse(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||d4(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:o}}updateElement(e,r,n,i){d4(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!d4(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=n.length,s=r.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,o=e+r;let a;const l=u=>{for(u.length+=r,a=u.length-1;a>=o;a--)u[a]=u[a-r]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&w_(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}hn(am,"defaults",{}),hn(am,"datasetElementType",null),hn(am,"dataElementType",null);function mKe(t,e,r){let n=1,i=1,s=0,o=0;if(e<Zo){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),g=(T,A,E)=>vC(T,a,l,!0)?1:Math.max(A,A*r,E,E*r),v=(T,A,E)=>vC(T,a,l,!0)?-1:Math.min(A,A*r,E,E*r),p=g(0,u,f),b=g(Na,d,h),S=v(As,u,f),C=v(As+Na,d,h);n=(p-S)/2,i=(b-C)/2,s=-(p+S)/2,o=-(b+C)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:o}}class t2 extends am{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(wi(n[e])){const{key:l="value"}=this._parsing;s=u=>+Zv(n[u],l)}let o,a;for(o=e,a=e+r;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return lc(this.options.rotation-90)}_getCircumference(){return lc(this.options.circumference)}_getRotationExtents(){let e=Zo,r=-Zo;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(DXe(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:v,offsetY:p}=mKe(f,d,l),b=(n.width-o)/h,S=(n.height-o)/g,C=Math.max(Math.min(b,S)/2,0),T=ose(this.options.radius,C),A=Math.max(T*l,0),E=(T-A)/this._getVisibleDatasetWeightTotal();this.offsetX=v*T,this.offsetY=p*T,i.total=this.calculateTotal(),this.outerRadius=T-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Zo)}updateElements(e,r,n,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=s&&u.animateScale,g=h?0:this.innerRadius,v=h?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(r,i);let S=this._getRotation(),C;for(C=0;C<r;++C)S+=this._circumference(C,s);for(C=r;C<r+n;++C){const T=this._circumference(C,s),A=e[C],E={x:d+this.offsetX,y:f+this.offsetY,startAngle:S,endAngle:S+T,circumference:T,outerRadius:v,innerRadius:g};b&&(E.options=p||this.resolveDataElementOptions(C,A.active?"active":i)),S+=T,this.updateElement(A,C,E,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Zo*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=W1(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(ii(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}hn(t2,"id","doughnut"),hn(t2,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),hn(t2,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),hn(t2,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class MS extends am{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,o=this.chart._animationsDisabled;let{start:a,count:l}=KXe(r,i,o);this._drawStart=a,this._drawCount=l,ZXe(r)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},e),this.updateElements(i,a,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,i),h=o.axis,g=a.axis,{spanGaps:v,segment:p}=this.options,b=Gb(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||i==="none",C=r+n,T=e.length;let A=r>0&&this.getParsed(r-1);for(let E=0;E<T;++E){const I=e[E],O=S?I:{};if(E<r||E>=C){O.skip=!0;continue}const N=this.getParsed(E),G=ls(N[g]),ie=O[h]=o.getPixelForValue(N[h],E),W=O[g]=s||G?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,N,l):N[g],E);O.skip=isNaN(ie)||isNaN(W)||G,O.stop=E>0&&Math.abs(N[h]-A[h])>b,p&&(O.parsed=N,O.raw=u.data[E]),f&&(O.options=d||this.resolveDataElementOptions(E,I.active?"active":i)),S||this.updateElement(I,E,O,i),A=N}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}hn(MS,"id","line"),hn(MS,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),hn(MS,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class OS extends am{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=W1(r._parsed[e].r,n.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,r,n,i){return PYe.bind(this)(e,r,n,i)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,r,n,i){const s=i==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*As;let g=h,v;const p=360/this.countVisibleElements();for(v=0;v<r;++v)g+=this._computeAngle(v,i,p);for(v=r;v<r+n;v++){const b=e[v];let S=g,C=g+this._computeAngle(v,i,p),T=o.getDataVisibility(v)?u.getDistanceFromCenterForValue(this.getParsed(v).r):0;g=C,s&&(l.animateScale&&(T=0),l.animateRotate&&(S=C=h));const A={x:d,y:f,innerRadius:0,outerRadius:T,startAngle:S,endAngle:C,options:this.resolveDataElementOptions(v,b.active?"active":i)};this.updateElement(b,v,A,i)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?lc(this.resolveDataElementOptions(e,r).angle||n):0}}hn(OS,"id","polarArea"),hn(OS,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),hn(OS,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});function a0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class H${constructor(e){hn(this,"options");this.options=e||{}}static override(e){Object.assign(H$.prototype,e)}init(){}formats(){return a0()}parse(){return a0()}format(){return a0()}add(){return a0()}diff(){return a0()}startOf(){return a0()}endOf(){return a0()}}var gKe={_date:H$};function vKe(t,e,r,n){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?jXe:G0;if(n){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=l(s,e,r-d),h=l(s,e,r+d);return{lo:f.lo,hi:h.hi}}}}else return l(s,e,r)}return{lo:0,hi:s.length-1}}function q1(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),o=r[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:d}=s[a],{lo:f,hi:h}=vKe(s[a],e,o,i);for(let g=f;g<=h;++g){const v=d[g];v.skip||n(v,u,g)}}}function yKe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,o=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function f4(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||q1(t,r,e,function(a,l,u){!i&&!Tf(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function _Ke(t,e,r,n){let i=[];function s(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:f}=VXe(o,{x:e.x,y:e.y});vC(f,u,d)&&i.push({element:o,datasetIndex:a,index:l})}return q1(t,r,e,s),i}function bKe(t,e,r,n,i,s){let o=[];const a=yKe(r);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const g=d.inRange(e.x,e.y,i);if(n&&!g)return;const v=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(v))&&!g)return;const b=a(e,v);b<l?(o=[{element:d,datasetIndex:f,index:h}],l=b):b===l&&o.push({element:d,datasetIndex:f,index:h})}return q1(t,r,e,u),o}function h4(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?_Ke(t,e,r,i):bKe(t,e,r,n,i,s)}function nH(t,e,r,n,i){const s=[],o=r==="x"?"inXRange":"inYRange";let a=!1;return q1(t,r,e,(l,u,d)=>{l[o]&&l[o](e[r],i)&&(s.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:s}var xKe={evaluateInteractionItems:q1,modes:{index(t,e,r,n){const i=x0(e,t),s=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?f4(t,i,s,n,o):h4(t,i,s,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,r,n){const i=x0(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;let a=r.intersect?f4(t,i,s,n,o):h4(t,i,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,r,n){const i=x0(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return f4(t,i,s,n,o)},nearest(t,e,r,n){const i=x0(e,t),s=r.axis||"xy",o=r.includeInvisible||!1;return h4(t,i,s,r.intersect,n,o)},x(t,e,r,n){const i=x0(e,t);return nH(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=x0(e,t);return nH(t,i,"y",r.intersect,n)}}};const Cse=["left","top","right","bottom"];function S_(t,e){return t.filter(r=>r.pos===e)}function iH(t,e){return t.filter(r=>Cse.indexOf(r.pos)===-1&&r.box.axis===e)}function T_(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function wKe(t){const e=[];let r,n,i,s,o,a;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function SKe(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!Cse.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function TKe(t,e){const r=SKe(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=r[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=d?d*i:l&&e.availableHeight)}return r}function CKe(t){const e=wKe(t),r=T_(e.filter(u=>u.box.fullSize),!0),n=T_(S_(e,"left"),!0),i=T_(S_(e,"right")),s=T_(S_(e,"top"),!0),o=T_(S_(e,"bottom")),a=iH(e,"x"),l=iH(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:S_(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function sH(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function Ese(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function EKe(t,e,r,n){const{pos:i,box:s}=r,o=t.maxPadding;if(!wi(i)){r.size&&(t[i]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[i]+=r.size}s.getPadding&&Ese(o,s.getPadding());const a=Math.max(0,e.outerWidth-sH(o,t,"left","right")),l=Math.max(0,e.outerHeight-sH(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,r.horizontal?{same:u,other:d}:{same:d,other:u}}function AKe(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function PKe(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],r[o])}),s}return n(t?["left","right"]:["top","bottom"])}function r2(t,e,r,n){const i=[];let s,o,a,l,u,d;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,PKe(a.horizontal,e));const{same:f,other:h}=EKe(e,r,a,n);u|=f&&i.length,d=d||h,l.fullSize||i.push(a)}return u&&r2(i,e,r,n)||d}function rw(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function oH(t,e,r,n){const i=r.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,h=u.size||l.height;mC(u.start)&&(o=u.start),l.fullSize?rw(l,i.left,o,r.outerWidth-i.right-i.left,h):rw(l,e.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*d,h=u.size||l.width;mC(u.start)&&(s=u.start),l.fullSize?rw(l,s,i.top,h,r.outerHeight-i.bottom-i.top):rw(l,s,e.top+u.placed,h,f),u.start=s,u.placed+=f,s=l.right}}e.x=s,e.y=o}var _u={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=ya(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(r-i.height,0),a=CKe(t.boxes),l=a.vertical,u=a.horizontal;Ri(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=l.reduce((p,b)=>b.box.options&&b.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},i);Ese(h,ya(n));const g=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),v=TKe(l.concat(u),f);r2(a.fullSize,g,f,v),r2(l,g,f,v),r2(u,g,f,v)&&r2(l,g,f,v),AKe(g),oH(a.leftAndTop,g,f,v),g.x+=g.w,g.y+=g.h,oH(a.rightAndBottom,g,f,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Ri(a.chartArea,p=>{const b=p.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Ase{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class kKe extends Ase{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $S="$chartjs",IKe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aH=t=>t===null||t==="";function DKe(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[$S]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",aH(i)){const s=Wz(t,"width");s!==void 0&&(t.width=s)}if(aH(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Wz(t,"height");s!==void 0&&(t.height=s)}return t}const Pse=zYe?{passive:!0}:!1;function RKe(t,e,r){t&&t.addEventListener(e,r,Pse)}function MKe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,Pse)}function OKe(t,e){const r=IKe[t.type]||t.type,{x:n,y:i}=x0(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function xC(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function $Ke(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||xC(a.addedNodes,n),o=o&&!xC(a.removedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function LKe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||xC(a.removedNodes,n),o=o&&!xC(a.addedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const Wb=new Map;let lH=0;function kse(){const t=window.devicePixelRatio;t!==lH&&(lH=t,Wb.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function FKe(t,e){Wb.size||window.addEventListener("resize",kse),Wb.set(t,e)}function NKe(t){Wb.delete(t),Wb.size||window.removeEventListener("resize",kse)}function BKe(t,e,r){const n=t.canvas,i=n&&z$(n);if(!i)return;const s=dse((a,l)=>{const u=i.clientWidth;r(a,l),u<i.clientWidth&&r()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||s(u,d)});return o.observe(i),FKe(t,s),o}function p4(t,e,r){r&&r.disconnect(),e==="resize"&&NKe(t)}function UKe(t,e,r){const n=t.canvas,i=dse(s=>{t.ctx!==null&&r(OKe(s,t))},t);return RKe(n,e,i),i}class VKe extends Ase{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(DKe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[$S])return!1;const n=r[$S].initial;["height","width"].forEach(s=>{const o=n[s];ls(o)?r.removeAttribute(s):r.setAttribute(s,o)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[$S],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),o={attach:$Ke,detach:LKe,resize:BKe}[r]||UKe;i[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:p4,detach:p4,resize:p4}[r]||MKe)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return VYe(e,r,n,i)}isAttached(e){const r=e&&z$(e);return!!(r&&r.isConnected)}}function zKe(t){return!V$()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?kKe:VKe}var Uw;let Wm=(Uw=class{constructor(){hn(this,"x");hn(this,"y");hn(this,"active",!1);hn(this,"options");hn(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Gb(this.x)&&Gb(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},hn(Uw,"defaults",{}),hn(Uw,"defaultRoutes"),Uw);function HKe(t,e){const r=t.options.ticks,n=jKe(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?WKe(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return qKe(e,u,s,o/i),u;const d=GKe(s,e,i);if(o>0){let f,h;const g=o>1?Math.round((l-a)/(o-1)):null;for(nw(e,u,d,ls(g)?0:a-g,a),f=0,h=o-1;f<h;f++)nw(e,u,d,s[f],s[f+1]);return nw(e,u,d,l,ls(g)?e.length:l+g),u}return nw(e,u,d),u}function jKe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function GKe(t,e,r){const n=XKe(t),i=e.length/r;if(!n)return Math.max(i,1);const s=BXe(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function WKe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function qKe(t,e,r,n){let i=0,s=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=r[i*n])}function nw(t,e,r,n,i){const s=ii(n,0),o=Math.min(ii(i,t.length),t.length);let a=0,l,u,d;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),d=s;d<0;)a++,d=Math.round(s+a*r);for(u=Math.max(s,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(s+a*r))}function XKe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const YKe=t=>t==="left"?"right":t==="right"?"left":t,uH=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,cH=(t,e)=>Math.min(e||t,t);function dH(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function KKe(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(r&&(n===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function ZKe(t,e){Ri(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function C_(t){return t.drawTicks?t.tickLength:0}function fH(t,e){if(!t.display)return 0;const r=go(t.font,e),n=ya(t.padding);return(ws(t.text)?t.text.length:1)*r.lineHeight+n.height}function QKe(t,e){return $p(t,{scale:e,type:"scale"})}function JKe(t,e,r){return $p(t,{tick:r,index:e,type:"tick"})}function eZe(t,e,r){let n=O$(t);return(r&&e!=="right"||!r&&e==="right")&&(n=YKe(n)),n}function tZe(t,e,r,n){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,h,g,v;const p=o-i,b=a-s;if(t.isHorizontal()){if(g=aa(n,s,a),wi(r)){const S=Object.keys(r)[0],C=r[S];v=d[S].getPixelForValue(C)+p-e}else r==="center"?v=(u.bottom+u.top)/2+p-e:v=uH(t,r,e);h=a-s}else{if(wi(r)){const S=Object.keys(r)[0],C=r[S];g=d[S].getPixelForValue(C)-b+e}else r==="center"?g=(u.left+u.right)/2-b+e:g=uH(t,r,e);v=aa(n,o,i),f=r==="left"?-Na:Na}return{titleX:g,titleY:v,maxWidth:h,rotation:f}}class qm extends Wm{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=Il(e,Number.POSITIVE_INFINITY),r=Il(r,Number.NEGATIVE_INFINITY),n=Il(n,Number.POSITIVE_INFINITY),i=Il(i,Number.NEGATIVE_INFINITY),{min:Il(e,n),max:Il(r,i),minDefined:$o(e),maxDefined:$o(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:r,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(r=Math.min(r,o.min)),s||(n=Math.max(n,o.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:Il(r,Il(n,r)),max:Il(n,Il(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zi(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yYe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?dH(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=HKe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zi(this.options.afterUpdate,[this])}beforeSetDimensions(){Zi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Zi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=Zi(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Zi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=cH(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,g=yu(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/n:g/(n-1),f+6>a&&(a=g/(n-(e.offset?.5:1)),l=this.maxHeight-C_(e.grid)-r.padding-fH(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=R$(Math.min(Math.asin(yu((d.highest.height+6)/a,-1,1)),Math.asin(yu(l/u,-1,1))-Math.asin(yu(h/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Zi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=fH(i,r.options.font);if(a?(e.width=this.maxWidth,e.height=C_(s)+l):(e.height=this.maxHeight,e.width=C_(s)+l),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),g=n.padding*2,v=lc(this.labelRotation),p=Math.cos(v),b=Math.sin(v);if(a){const S=n.mirror?0:b*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+S+g)}else{const S=n.mirror?0:p*f.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+S+g)}this._calculatePadding(u,d,b,p)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;l?u?(h=i*e.width,g=n*r.height):(h=n*e.height,g=i*r.width):s==="start"?g=r.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,g=r.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)ls(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=dH(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(r/cH(r,n));let u=0,d=0,f,h,g,v,p,b,S,C,T,A,E;for(f=0;f<r;f+=l){if(v=e[f].label,p=this._resolveTickFontOptions(f),i.font=b=p.string,S=s[b]=s[b]||{data:{},gc:[]},C=p.lineHeight,T=A=0,!ls(v)&&!ws(v))T=yC(i,S.data,S.gc,T,v),A=C;else if(ws(v))for(h=0,g=v.length;h<g;++h)E=v[h],!ls(E)&&!ws(E)&&(T=yC(i,S.data,S.gc,T,E),A+=C);o.push(T),a.push(A),u=Math.max(T,u),d=Math.max(A,d)}ZKe(s,r);const I=o.indexOf(u),O=a.indexOf(d),N=G=>({width:o[G]||0,height:a[G]||0});return{first:N(0),last:N(r-1),widest:N(I),highest:N(O),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return HXe(this._alignToPixels?o0(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=JKe(this.getContext(),e,n))}return this.$context||(this.$context=QKe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=lc(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=C_(s),g=[],v=a.setContext(this.getContext()),p=v.display?v.width:0,b=p/2,S=function(z){return o0(n,z,p)};let C,T,A,E,I,O,N,G,ie,W,q,J;if(o==="top")C=S(this.bottom),O=this.bottom-h,G=C-b,W=S(e.top)+b,J=e.bottom;else if(o==="bottom")C=S(this.top),W=e.top,J=S(e.bottom)-b,O=C+b,G=this.top+h;else if(o==="left")C=S(this.right),I=this.right-h,N=C-b,ie=S(e.left)+b,q=e.right;else if(o==="right")C=S(this.left),ie=e.left,q=S(e.right)-b,I=C+b,N=this.left+h;else if(r==="x"){if(o==="center")C=S((e.top+e.bottom)/2+.5);else if(wi(o)){const z=Object.keys(o)[0],re=o[z];C=S(this.chart.scales[z].getPixelForValue(re))}W=e.top,J=e.bottom,O=C+b,G=O+h}else if(r==="y"){if(o==="center")C=S((e.left+e.right)/2);else if(wi(o)){const z=Object.keys(o)[0],re=o[z];C=S(this.chart.scales[z].getPixelForValue(re))}I=C-b,N=I-h,ie=e.left,q=e.right}const X=ii(i.ticks.maxTicksLimit,f),R=Math.max(1,Math.ceil(f/X));for(T=0;T<f;T+=R){const z=this.getContext(T),re=s.setContext(z),oe=a.setContext(z),H=re.lineWidth,ee=re.color,ae=oe.dash||[],be=oe.dashOffset,Me=re.tickWidth,Qe=re.tickColor,ht=re.tickBorderDash||[],je=re.tickBorderDashOffset;A=KKe(this,T,l),A!==void 0&&(E=o0(n,A,H),u?I=N=ie=q=E:O=G=W=J=E,g.push({tx1:I,ty1:O,tx2:N,ty2:G,x1:ie,y1:W,x2:q,y2:J,width:H,color:ee,borderDash:ae,borderDashOffset:be,tickWidth:Me,tickColor:Qe,tickBorderDash:ht,tickBorderDashOffset:je}))}return this._ticksLength=f,this._borderValue=C,g}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=s,h=C_(n.grid),g=h+d,v=f?-d:g,p=-lc(this.labelRotation),b=[];let S,C,T,A,E,I,O,N,G,ie,W,q,J="middle";if(i==="top")I=this.bottom-v,O=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+v,O=this._getXAxisLabelAlignment();else if(i==="left"){const R=this._getYAxisLabelAlignment(h);O=R.textAlign,E=R.x}else if(i==="right"){const R=this._getYAxisLabelAlignment(h);O=R.textAlign,E=R.x}else if(r==="x"){if(i==="center")I=(e.top+e.bottom)/2+g;else if(wi(i)){const R=Object.keys(i)[0],z=i[R];I=this.chart.scales[R].getPixelForValue(z)+g}O=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")E=(e.left+e.right)/2-g;else if(wi(i)){const R=Object.keys(i)[0],z=i[R];E=this.chart.scales[R].getPixelForValue(z)}O=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const X=this._getLabelSizes();for(S=0,C=a.length;S<C;++S){T=a[S],A=T.label;const R=s.setContext(this.getContext(S));N=this.getPixelForTick(S)+s.labelOffset,G=this._resolveTickFontOptions(S),ie=G.lineHeight,W=ws(A)?A.length:1;const z=W/2,re=R.color,oe=R.textStrokeColor,H=R.textStrokeWidth;let ee=O;o?(E=N,O==="inner"&&(S===C-1?ee=this.options.reverse?"left":"right":S===0?ee=this.options.reverse?"right":"left":ee="center"),i==="top"?u==="near"||p!==0?q=-W*ie+ie/2:u==="center"?q=-X.highest.height/2-z*ie+ie:q=-X.highest.height+ie/2:u==="near"||p!==0?q=ie/2:u==="center"?q=X.highest.height/2-z*ie:q=X.highest.height-W*ie,f&&(q*=-1),p!==0&&!R.showLabelBackdrop&&(E+=ie/2*Math.sin(p))):(I=N,q=(1-W)*ie/2);let ae;if(R.showLabelBackdrop){const be=ya(R.backdropPadding),Me=X.heights[S],Qe=X.widths[S];let ht=q-be.top,je=0-be.left;switch(J){case"middle":ht-=Me/2;break;case"bottom":ht-=Me;break}switch(O){case"center":je-=Qe/2;break;case"right":je-=Qe;break;case"inner":S===C-1?je-=Qe:S>0&&(je-=Qe/2);break}ae={left:je,top:ht,width:Qe+be.width,height:Me+be.height,color:R.backdropColor}}b.push({label:A,font:G,textOffset:q,options:{rotation:p,color:re,strokeColor:oe,strokeWidth:H,textAlign:ee,textBaseline:J,translation:[E,I],backdrop:ae}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-lc(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,d;return r==="left"?i?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,n==="near"?u="right":n==="center"?(u="center",d-=l/2):(u="left",d=this.left)):r==="right"?i?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,n==="near"?u="left":n==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,o=i.length;s<o;++s){const l=i[s];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=o0(e,this.left,o)-o/2,d=o0(e,this.right,a)+a/2,f=h=l):(f=o0(e,this.top,o)-o/2,h=o0(e,this.bottom,a)+a/2,u=d=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&L$(n,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,d=o.textOffset;Dm(n,u,0,d,l,a)}i&&F$(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=go(n.font),o=ya(n.padding),a=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||wi(r)?(l+=o.bottom,ws(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=tZe(this,l,r,a);Dm(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:eZe(a,r,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=ii(e.grid&&e.grid.z,-1),i=ii(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==qm.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return go(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class iw{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;iZe(r)&&(n=this.register(r));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,rZe(e,o,n),this.override&&Fs.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in Fs[i]&&(delete Fs[i][n],this.override&&delete Im[n])}}function rZe(t,e,r){const n=jb(Object.create(null),[r?Fs.get(r):{},Fs.get(e),t.defaults]);Fs.set(e,n),t.defaultRoutes&&nZe(e,t.defaultRoutes),t.descriptors&&Fs.describe(e,t.descriptors)}function nZe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),o=e[r].split("."),a=o.pop(),l=o.join(".");Fs.route(s,i,l,a)})}function iZe(t){return"id"in t&&"defaults"in t}class sZe{constructor(){this.controllers=new iw(am,"datasets",!0),this.elements=new iw(Wm,"elements"),this.plugins=new iw(Object,"plugins"),this.scales=new iw(qm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ri(i,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,r,n){const i=D$(e);Zi(n["before"+i],[],n),r[e](n),Zi(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Zc=new sZe;class oZe{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,i){i=i||{};for(const s of e){const o=s.plugin,a=o[n],l=[r,i,s.options];if(Zi(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ls(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=ii(n.options&&n.options.plugins,{}),s=aZe(n);return i===!1&&!r?[]:uZe(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function aZe(t){const e={},r=[],n=Object.keys(Zc.plugins.items);for(let s=0;s<n.length;s++)r.push(Zc.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function lZe(t,e){return!e&&t===!1?null:t===!0?{}:t}function uZe(t,{plugins:e,localIds:r},n,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=lZe(n[l],i);u!==null&&s.push({plugin:a,options:cZe(t.config,{plugin:a,local:r[l]},u,o)})}return s}function cZe(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(n,s);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function YD(t,e){const r=Fs.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function dZe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function fZe(t,e){return t===e?"_index_":"_value_"}function hH(t){if(t==="x"||t==="y"||t==="r")return t}function hZe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function KD(t,...e){if(hH(t))return t;for(const r of e){const n=r.axis||hZe(r.position)||t.length>1&&hH(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function pH(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function pZe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return pH(t,"x",r[0])||pH(t,"y",r[0])}return{}}function mZe(t,e){const r=Im[t.type]||{scales:{}},n=e.scales||{},i=YD(t.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!wi(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=KD(o,a,pZe(o,t),Fs.scales[a.type]),u=fZe(l,i),d=r.scales||{};s[o]=F2(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||YD(a,e),d=(Im[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=dZe(f,l),g=o[h+"AxisID"]||h;s[g]=s[g]||Object.create(null),F2(s[g],[{axis:h},n[g],d[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];F2(a,[Fs.scales[a.type],Fs.scale])}),s}function Ise(t){const e=t.options||(t.options={});e.plugins=ii(e.plugins,{}),e.scales=mZe(t,e)}function Dse(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gZe(t){return t=t||{},t.data=Dse(t.data),Ise(t),t}const mH=new Map,Rse=new Set;function sw(t,e){let r=mH.get(t);return r||(r=e(),mH.set(t,r),Rse.add(r)),r}const E_=(t,e,r)=>{const n=Zv(e,r);n!==void 0&&t.add(n)};class vZe{constructor(e){this._config=gZe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Dse(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ise(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return sw(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return sw(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return sw(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return sw(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,o=this._cachedScopes(e,n),a=o.get(r);if(a)return a;const l=new Set;r.forEach(d=>{e&&(l.add(e),d.forEach(f=>E_(l,e,f))),d.forEach(f=>E_(l,i,f)),d.forEach(f=>E_(l,Im[s]||{},f)),d.forEach(f=>E_(l,Fs,f)),d.forEach(f=>E_(l,qD,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),Rse.has(r)&&o.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Im[r]||{},Fs.datasets[r]||{},{type:r},Fs,qD]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=gH(this._resolverCache,e,i);let l=o;if(_Ze(o,r)){s.$shared=!1,n=wp(n)?n():n;const u=this.createResolver(e,n,a);l=Jv(o,n,u)}for(const u of r)s[u]=l[u];return s}createResolver(e,r,n=[""],i){const{resolver:s}=gH(this._resolverCache,e,n);return wi(r)?Jv(s,r,void 0,i):s}}function gH(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:N$(e,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,s)),s}const yZe=t=>wi(t)&&Object.getOwnPropertyNames(t).some(e=>wp(t[e]));function _Ze(t,e){const{isScriptable:r,isIndexable:n}=mse(t);for(const i of e){const s=r(i),o=n(i),a=(o||s)&&t[i];if(s&&(wp(a)||yZe(a))||o&&ws(a))return!0}return!1}var bZe="4.4.4";const xZe=["top","bottom","left","right","chartArea"];function vH(t,e){return t==="top"||t==="bottom"||xZe.indexOf(t)===-1&&e==="x"}function yH(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function _H(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Zi(r&&r.onComplete,[t],e)}function wZe(t){const e=t.chart,r=e.options.animation;Zi(r&&r.onProgress,[t],e)}function Mse(t){return V$()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const LS={},bH=t=>{const e=Mse(t);return Object.values(LS).filter(r=>r.canvas===e).pop()};function SZe(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const o=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=o)}}}function TZe(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function ow(t,e,r){return t.options.clip?t[r]:e[r]}function CZe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:ow(r,e,"left"),right:ow(r,e,"right"),top:ow(n,e,"top"),bottom:ow(n,e,"bottom")}:e}var Ph;let fA=(Ph=class{static register(...e){Zc.add(...e),xH()}static unregister(...e){Zc.remove(...e),xH()}constructor(e,r){const n=this.config=new vZe(r),i=Mse(e),s=bH(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||zKe(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=IXe(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oZe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=XXe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],LS[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}uf.listen(this,"complete",_H),uf.listen(this,"progress",wZe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return ls(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gz(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zz(this.canvas,this.ctx),this}stop(){return uf.stop(this),this}resize(e,r){uf.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,r,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Gz(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Zi(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Ri(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];r&&(s=s.concat(Object.keys(r).map(o=>{const a=r[o],l=KD(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Ri(s,o=>{const a=o.options,l=a.id,u=KD(l,a),d=ii(a.type,o.dtype);(a.position===void 0||vH(a.position,u)!==vH(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in n&&n[l].type===d)f=n[l];else{const h=Zc.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(a,e)}),Ri(i,(o,a)=>{o||delete n[a]}),Ri(n,o=>{_u.configure(this,o,o.options),_u.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(yH("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||YD(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Zc.getController(a),{datasetElementType:u,dataElementType:d}=Fs.datasets[a];Object.assign(l,{dataElementType:Zc.getElement(d),datasetElementType:u&&Zc.getElement(u)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ri(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Ri(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yH("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ri(this.scales,e=>{_u.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Mz(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const o=n==="_removeElements"?-s:s;SZe(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!Mz(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_u.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Ri(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,wp(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(uf.has(this)?this.attached&&!uf.running(this)&&uf.start(this):(this.draw(),_H({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const o=r[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,i=!n.disabled,s=CZe(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&L$(r,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),i&&F$(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Tf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=xKe.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=$p(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);mC(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),uf.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),zz(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete LS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,o)=>{r.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ri(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){Ri(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Ri(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,o,a,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!hC(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=s(r,e),a=n?e:s(e,r);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,o=r,a=this._getActiveElements(e,i,n,o),l=LXe(e),u=TZe(e,this._lastEvent,n,l);n&&(this._lastEvent=null,Zi(s.onHover,[e,a,this],this),l&&Zi(s.onClick,[e,a,this],this));const d=!hC(a,i);return(d||r)&&(this._active=a,this._updateHoverStyles(a,i,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},hn(Ph,"defaults",Fs),hn(Ph,"instances",LS),hn(Ph,"overrides",Im),hn(Ph,"registry",Zc),hn(Ph,"version",bZe),hn(Ph,"getChart",bH),Ph);function xH(){return Ri(fA.instances,t=>t._plugins.invalidate())}function Ose(t,e,r=e){t.lineCap=ii(r.borderCapStyle,e.borderCapStyle),t.setLineDash(ii(r.borderDash,e.borderDash)),t.lineDashOffset=ii(r.borderDashOffset,e.borderDashOffset),t.lineJoin=ii(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ii(r.borderWidth,e.borderWidth),t.strokeStyle=ii(r.borderColor,e.borderColor)}function EZe(t,e,r){t.lineTo(r.x,r.y)}function AZe(t){return t.stepped?lYe:t.tension||t.cubicInterpolationMode==="monotone"?uYe:EZe}function $se(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:o,end:a}=e,l=Math.max(i,o),u=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:n,start:l,loop:e.loop,ilen:u<l&&!d?n+u-l:u-l}}function PZe(t,e,r,n){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:u}=$se(i,r,n),d=AZe(s);let{move:f=!0,reverse:h}=n||{},g,v,p;for(g=0;g<=u;++g)v=i[(a+(h?u-g:g))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):d(t,p,v,h,s.stepped),p=v);return l&&(v=i[(a+(h?u:0))%o],d(t,p,v,h,s.stepped)),!!l}function kZe(t,e,r,n){const i=e.points,{count:s,start:o,ilen:a}=$se(i,r,n),{move:l=!0,reverse:u}=n||{};let d=0,f=0,h,g,v,p,b,S;const C=A=>(o+(u?a-A:A))%s,T=()=>{p!==b&&(t.lineTo(d,b),t.lineTo(d,p),t.lineTo(d,S))};for(l&&(g=i[C(0)],t.moveTo(g.x,g.y)),h=0;h<=a;++h){if(g=i[C(h)],g.skip)continue;const A=g.x,E=g.y,I=A|0;I===v?(E<p?p=E:E>b&&(b=E),d=(f*d+A)/++f):(T(),t.lineTo(A,E),v=I,f=0,p=b=E),S=E}T()}function ZD(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?kZe:PZe}function IZe(t){return t.stepped?HYe:t.tension||t.cubicInterpolationMode==="monotone"?jYe:w0}function DZe(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),Ose(t,e.options),t.stroke(i)}function RZe(t,e,r,n){const{segments:i,options:s}=e,o=ZD(e);for(const a of i)Ose(t,s,a.style),t.beginPath(),o(t,e,a,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const MZe=typeof Path2D=="function";function OZe(t,e,r,n){MZe&&!e.options.segment?DZe(t,e,r,n):RZe(t,e,r,n)}class n2 extends Wm{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;$Ye(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QYe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,o=YYe(this,{property:r,start:i,end:i});if(!o.length)return;const a=[],l=IZe(n);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],g=s[f],v=s[h];if(g===v){a.push(g);continue}const p=Math.abs((i-g[r])/(v[r]-g[r])),b=l(g,v,p,n.stepped);b[r]=e[r],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,r,n){return ZD(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=ZD(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const a of i)o&=s(e,this,a,{start:r,end:r+n-1});return!!o}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),OZe(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}hn(n2,"id","line"),hn(n2,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),hn(n2,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),hn(n2,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function wH(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class NS extends Wm{constructor(r){super();hn(this,"parsed");hn(this,"skip");hn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(r-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return wH(this,r,"x",n)}inYRange(r,n){return wH(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!Tf(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,XD(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}hn(NS,"id","point"),hn(NS,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),hn(NS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const QD=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],SH=QD.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Lse(t){return QD[t%QD.length]}function Fse(t){return SH[t%SH.length]}function $Ze(t,e){return t.borderColor=Lse(e),t.backgroundColor=Fse(e),++e}function LZe(t,e){return t.backgroundColor=t.data.map(()=>Lse(e++)),e}function FZe(t,e){return t.backgroundColor=t.data.map(()=>Fse(e++)),e}function NZe(t){let e=0;return(r,n)=>{const i=t.getDatasetMeta(n).controller;i instanceof t2?e=LZe(r,e):i instanceof OS?e=FZe(r,e):i&&(e=$Ze(r,e))}}function TH(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function BZe(t){return t&&(t.borderColor||t.backgroundColor)}var UZe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:i}=t.config,{elements:s}=i;if(!r.forceOverride&&(TH(n)||BZe(i)||s&&TH(s)))return;const o=NZe(t);n.forEach(o)}};const CH=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},VZe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class EH extends Wm{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Zi(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=go(n.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=CH(n,s);let u,d;r.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,g=-d;return this.legendItems.forEach((v,p)=>{const b=n+r/2+s.measureText(v.text).width;(p===0||u[u.length-1]+b+2*a>o)&&(f+=d,u[u.length-(p>0?0:1)]=0,g+=d,h++),l[p]={left:0,top:g,row:h,width:b,height:i},u[u.length-1]+=b+a}),f}_fitCols(e,r,n,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,h=0,g=0,v=0,p=0;return this.legendItems.forEach((b,S)=>{const{itemWidth:C,itemHeight:T}=zZe(n,r,s,b,i);S>0&&g+T+2*a>d&&(f+=h+a,u.push({width:h,height:g}),v+=h+a,p++,h=g=0),l[S]={left:v,top:g,col:p,width:C,height:T},h=Math.max(h,C),g+=T+a}),f+=h,u.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,o=dv(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=aa(n,this.left+i,this.right-this.lineWidths[a]);for(const u of r)a!==u.row&&(a=u.row,l=aa(n,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=aa(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of r)u.col!==a&&(a=u.col,l=aa(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;L$(e,this),this._draw(),F$(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:o}=e,a=Fs.color,l=dv(e.rtl,this.left,this.width),u=go(o.font),{padding:d}=o,f=u.size,h=f/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:p,itemHeight:b}=CH(o,f),S=function(I,O,N){if(isNaN(v)||v<=0||isNaN(p)||p<0)return;i.save();const G=ii(N.lineWidth,1);if(i.fillStyle=ii(N.fillStyle,a),i.lineCap=ii(N.lineCap,"butt"),i.lineDashOffset=ii(N.lineDashOffset,0),i.lineJoin=ii(N.lineJoin,"miter"),i.lineWidth=G,i.strokeStyle=ii(N.strokeStyle,a),i.setLineDash(ii(N.lineDash,[])),o.usePointStyle){const ie={radius:p*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:G},W=l.xPlus(I,v/2),q=O+h;hse(i,ie,W,q,o.pointStyleWidth&&v)}else{const ie=O+Math.max((f-p)/2,0),W=l.leftForLtr(I,v),q=cv(N.borderRadius);i.beginPath(),Object.values(q).some(J=>J!==0)?_C(i,{x:W,y:ie,w:v,h:p,radius:q}):i.rect(W,ie,v,p),i.fill(),G!==0&&i.stroke()}i.restore()},C=function(I,O,N){Dm(i,N.text,I,O+b/2,u,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},T=this.isHorizontal(),A=this._computeTitleHeight();T?g={x:aa(s,this.left+d,this.right-n[0]),y:this.top+d+A,line:0}:g={x:this.left+d,y:aa(s,this.top+A+d,this.bottom-r[0].height),line:0},bse(this.ctx,e.textDirection);const E=b+d;this.legendItems.forEach((I,O)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const N=i.measureText(I.text).width,G=l.textAlign(I.textAlign||(I.textAlign=o.textAlign)),ie=v+h+N;let W=g.x,q=g.y;l.setWidth(this.width),T?O>0&&W+ie+d>this.right&&(q=g.y+=E,g.line++,W=g.x=aa(s,this.left+d,this.right-n[g.line])):O>0&&q+E>this.bottom&&(W=g.x=W+r[g.line].width+d,g.line++,q=g.y=aa(s,this.top+A+d,this.bottom-r[g.line].height));const J=l.x(W);if(S(J,q,I),W=YXe(G,W+v+h,T?W+ie:this.right,e.rtl),C(l.x(W),q,I),T)g.x+=ie+d;else if(typeof I.text!="string"){const X=u.lineHeight;g.y+=Nse(I,X)+d}else g.y+=E}),xse(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=go(r.font),i=ya(r.padding);if(!r.display)return;const s=dv(e.rtl,this.left,this.width),o=this.ctx,a=r.position,l=n.size/2,u=i.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=aa(e.align,f,this.right-h);else{const v=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);d=u+aa(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=aa(a,f,f+h);o.textAlign=s.textAlign(O$(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Dm(o,r.text,g,d,n)}_computeTitleHeight(){const e=this.options.title,r=go(e.font),n=ya(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(e2(e,this.left,this.right)&&e2(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],e2(e,i.left,i.left+i.width)&&e2(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!GZe(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=VZe(i,n);i&&!s&&Zi(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&Zi(r.onHover,[e,n,this],this)}else n&&Zi(r.onClick,[e,n,this],this)}}function zZe(t,e,r,n,i){const s=HZe(n,t,e,r),o=jZe(i,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function HZe(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+r.size/2+n.measureText(i).width}function jZe(t,e,r){let n=t;return typeof e.text!="string"&&(n=Nse(e,r)),n}function Nse(t,e){const r=t.text?t.text.length:0;return e*r}function GZe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var WZe={id:"legend",_element:EH,start(t,e,r){const n=t.legend=new EH({ctx:t.ctx,options:r,chart:t});_u.configure(t,n,r),_u.addBox(t,n)},stop(t){_u.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;_u.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(r?0:void 0),d=ya(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Bse extends Wm{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=ws(n.text)?n.text.length:1;this._padding=ya(n.padding);const s=i*go(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=aa(a,n,s),f=r+e,u=s-n):(o.position==="left"?(d=n+e,f=aa(a,i,r),l=As*-.5):(d=s-e,f=aa(a,r,i),l=As*.5),u=i-r),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=go(r.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Dm(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:u,textAlign:O$(r.align),textBaseline:"middle",translation:[o,a]})}}function qZe(t,e){const r=new Bse({ctx:t.ctx,options:e,chart:t});_u.configure(t,r,e),_u.addBox(t,r),t.titleBlock=r}var XZe={id:"title",_element:Bse,start(t,e,r){qZe(t,r)},stop(t){const e=t.titleBlock;_u.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;_u.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const i2={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=WD(e,u);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Xc(t,e){return e&&(ws(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function cf(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function YZe(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function AH(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=go(e.bodyFont),u=go(e.titleFont),d=go(e.footerFont),f=s.length,h=i.length,g=n.length,v=ya(e.padding);let p=v.height,b=0,S=n.reduce((A,E)=>A+E.before.length+E.lines.length+E.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),S){const A=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=g*A+(S-g)*l.lineHeight+(S-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let C=0;const T=function(A){b=Math.max(b,r.measureText(A).width+C)};return r.save(),r.font=u.string,Ri(t.title,T),r.font=l.string,Ri(t.beforeBody.concat(t.afterBody),T),C=e.displayColors?o+2+e.boxPadding:0,Ri(n,A=>{Ri(A.before,T),Ri(A.lines,T),Ri(A.after,T)}),C=0,r.font=d.string,Ri(t.footer,T),r.restore(),b+=v.width,{width:b,height:p}}function KZe(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function ZZe(t,e,r,n){const{x:i,width:s}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function QZe(t,e,r,n){const{x:i,width:s}=r,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return n==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),ZZe(u,t,e,r)&&(u="center"),u}function PH(t,e,r){const n=r.yAlign||e.yAlign||KZe(t,r);return{xAlign:r.xAlign||e.xAlign||QZe(t,e,r,n),yAlign:n}}function JZe(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function eQe(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function kH(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=r,u=i+s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:g}=cv(o);let v=JZe(e,a);const p=eQe(e,l,u);return l==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(d,h)+i:a==="right"&&(v+=Math.max(f,g)+i),{x:yu(v,0,n.width-e.width),y:yu(p,0,n.height-e.height)}}function aw(t,e,r){const n=ya(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function IH(t){return Xc([],cf(t))}function tQe(t,e,r){return $p(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function DH(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Use={beforeTitle:tf,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:tf,beforeBody:tf,beforeLabel:tf,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ls(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:tf,afterBody:tf,beforeFooter:tf,footer:tf,afterFooter:tf};function Ja(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?Use[e].call(r,n):i}class JD extends Wm{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new Sse(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=tQe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=Ja(n,"beforeTitle",this,e),s=Ja(n,"title",this,e),o=Ja(n,"afterTitle",this,e);let a=[];return a=Xc(a,cf(i)),a=Xc(a,cf(s)),a=Xc(a,cf(o)),a}getBeforeBody(e,r){return IH(Ja(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return Ri(e,s=>{const o={before:[],lines:[],after:[]},a=DH(n,s);Xc(o.before,cf(Ja(a,"beforeLabel",this,s))),Xc(o.lines,Ja(a,"label",this,s)),Xc(o.after,cf(Ja(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,r){return IH(Ja(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=Ja(n,"beforeFooter",this,e),s=Ja(n,"footer",this,e),o=Ja(n,"afterFooter",this,e);let a=[];return a=Xc(a,cf(i)),a=Xc(a,cf(s)),a=Xc(a,cf(o)),a}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=r.length;l<u;++l)a.push(YZe(this.chart,r[l]));return e.filter&&(a=a.filter((d,f,h)=>e.filter(d,f,h,n))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,n))),Ri(a,d=>{const f=DH(e.callbacks,d);i.push(Ja(f,"labelColor",this,d)),s.push(Ja(f,"labelPointStyle",this,d)),o.push(Ja(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=i2[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=AH(this,n),u=Object.assign({},a,l),d=PH(this.chart,n,u),f=kH(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=cv(a),{x:h,y:g}=e,{width:v,height:p}=r;let b,S,C,T,A,E;return s==="center"?(A=g+p/2,i==="left"?(b=h,S=b-o,T=A+o,E=A-o):(b=h+v,S=b+o,T=A-o,E=A+o),C=b):(i==="left"?S=h+Math.max(l,d)+o:i==="right"?S=h+v-Math.max(u,f)-o:S=this.caretX,s==="top"?(T=g,A=T-o,b=S-o,C=S+o):(T=g+p,A=T+o,b=S+o,C=S-o),E=T),{x1:b,x2:S,x3:C,y1:T,y2:A,y3:E}}drawTitle(e,r,n){const i=this.title,s=i.length;let o,a,l;if(s){const u=dv(n.rtl,this.x,this.width);for(e.x=aw(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",o=go(n.titleFont),a=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,l=0;l<s;++l)r.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,r,n,i,s){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:u}=s,d=go(s.bodyFont),f=aw(this,"left",s),h=i.x(f),g=l<d.lineHeight?(d.lineHeight-l)/2:0,v=r.y+g;if(s.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(h,u)+u/2,S=v+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,XD(e,p,b,S),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,XD(e,p,b,S)}else{e.lineWidth=wi(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(h,u),b=i.leftForLtr(i.xPlus(h,1),u-2),S=cv(o.borderRadius);Object.values(S).some(C=>C!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,_C(e,{x:p,y:v,w:u,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),_C(e,{x:b,y:v+1,w:u-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,v,u,l),e.strokeRect(p,v,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,v+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=n,f=go(n.bodyFont);let h=f.lineHeight,g=0;const v=dv(n.rtl,this.x,this.width),p=function(N){r.fillText(N,v.x(e.x+g),e.y+h/2),e.y+=h+s},b=v.textAlign(o);let S,C,T,A,E,I,O;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,e.x=aw(this,b,n),r.fillStyle=n.bodyColor,Ri(this.beforeBody,p),g=a&&b!=="right"?o==="center"?u/2+d:u+2+d:0,A=0,I=i.length;A<I;++A){for(S=i[A],C=this.labelTextColors[A],r.fillStyle=C,Ri(S.before,p),T=S.lines,a&&T.length&&(this._drawColorBox(r,e,A,v,n),h=Math.max(f.lineHeight,l)),E=0,O=T.length;E<O;++E)p(T[E]),h=f.lineHeight;Ri(S.after,p)}g=0,h=f.lineHeight,Ri(this.afterBody,p),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let o,a;if(s){const l=dv(n.rtl,this.x,this.width);for(e.x=aw(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",o=go(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,a=0;a<s;++a)r.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=n,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:v}=cv(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(a+f,l),o==="top"&&this.drawCaret(e,r,n,i),r.lineTo(a+u-h,l),r.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(a+u,l+d-v),r.quadraticCurveTo(a+u,l+d,a+u-v,l+d),o==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(a+g,l+d),r.quadraticCurveTo(a,l+d,a,l+d-g),o==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(a,l+f),r.quadraticCurveTo(a,l,a+f,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const o=i2[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=AH(this,e),l=Object.assign({},o,this._size),u=PH(r,e,l),d=kH(e,l,u,r);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ya(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),bse(e,r.textDirection),s.y+=o.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),xse(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!hC(n,i),o=this._positionChanged(i,r);(s||o)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,r,n),a=this._positionChanged(o,e),l=r||!hC(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,o=i2[s.position].call(this,e,r);return o!==!1&&(n!==o.x||i!==o.y)}}hn(JD,"positioners",i2);var rQe={id:"tooltip",_element:JD,positioners:i2,afterInit(t,e,r){r&&(t.tooltip=new JD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Use},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const nQe=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function iQe(t,e,r,n){const i=t.indexOf(e);if(i===-1)return nQe(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const sQe=(t,e)=>t===null?null:yu(Math.round(t),0,e);function RH(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class eR extends qm{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ls(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:iQe(n,e,ii(r,e),this._addedLabels),sQe(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)i.push({value:o});return i}getLabelForValue(e){return RH.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}hn(eR,"id","category"),hn(eR,"defaults",{ticks:{callback:RH}});function oQe(t,e){const r=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,g=s||1,v=d-1,{min:p,max:b}=e,S=!ls(o),C=!ls(a),T=!ls(u),A=(b-p)/(f+1);let E=$z((b-p)/v/g)*g,I,O,N,G;if(E<1e-14&&!S&&!C)return[{value:p},{value:b}];G=Math.ceil(b/E)-Math.floor(p/E),G>v&&(E=$z(G*E/v/g)*g),ls(l)||(I=Math.pow(10,l),E=Math.ceil(E*I)/I),i==="ticks"?(O=Math.floor(p/E)*E,N=Math.ceil(b/E)*E):(O=p,N=b),S&&C&&s&&UXe((a-o)/s,E/1e3)?(G=Math.round(Math.min((a-o)/E,d)),E=(a-o)/G,O=o,N=a):T?(O=S?o:O,N=C?a:N,G=u-1,E=(N-O)/G):(G=(N-O)/E,N2(G,Math.round(G),E/1e3)?G=Math.round(G):G=Math.ceil(G));const ie=Math.max(Lz(E),Lz(O));I=Math.pow(10,ls(l)?ie:l),O=Math.round(O*I)/I,N=Math.round(N*I)/I;let W=0;for(S&&(h&&O!==o?(r.push({value:o}),O<o&&W++,N2(Math.round((O+W*E)*I)/I,o,MH(o,A,t))&&W++):O<o&&W++);W<G;++W){const q=Math.round((O+W*E)*I)/I;if(C&&q>a)break;r.push({value:q})}return C&&h&&N!==a?r.length&&N2(r[r.length-1].value,a,MH(a,A,t))?r[r.length-1].value=a:r.push({value:a}):(!C||N===a)&&r.push({value:N}),r}function MH(t,e,{horizontal:r,minRotation:n}){const i=lc(n),s=(r?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class wC extends qm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ls(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=r?i:l,a=l=>s=n?s:l;if(e){const l=Qv(i),u=Qv(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,o=oQe(i,s);return e.bounds==="ticks"&&lse(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return W1(e,this.chart.options.locale,this.options.ticks.format)}}class tR extends wC{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=$o(e)?e:0,this.max=$o(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=lc(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}hn(tR,"id","linear"),hn(tR,"defaults",{ticks:{callback:cA.formatters.numeric}});const qb=t=>Math.floor(Kh(t)),l0=(t,e)=>Math.pow(10,qb(t)+e);function OH(t){return t/Math.pow(10,qb(t))===1}function $H(t,e,r){const n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function aQe(t,e){const r=e-t;let n=qb(r);for(;$H(t,e,n)>10;)n++;for(;$H(t,e,n)<10;)n--;return Math.min(n,qb(t))}function lQe(t,{min:e,max:r}){e=Il(t.min,e);const n=[],i=qb(e);let s=aQe(e,r),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,d=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((u-d)/Math.pow(10,s)),h=Il(t.min,Math.round((l+d+f*Math.pow(10,s))*o)/o);for(;h<r;)n.push({value:h,major:OH(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,o=s>=0?1:o),h=Math.round((l+d+f*Math.pow(10,s))*o)/o;const g=Il(t.max,h);return n.push({value:g,major:OH(g),significand:f}),n}class LH extends qm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=wC.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return $o(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=$o(e)?Math.max(0,e):null,this.max=$o(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$o(this._userMin)&&(this.min=e===l0(this.min,0)?l0(this.min,-1):l0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,i=this.max;const s=a=>n=e?n:a,o=a=>i=r?i:a;n===i&&(n<=0?(s(1),o(10)):(s(l0(n,-1)),o(l0(i,1)))),n<=0&&s(l0(i,-1)),i<=0&&o(l0(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=lQe(r,this);return e.bounds==="ticks"&&lse(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":W1(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Kh(e),this._valueRange=Kh(this.max)-Kh(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Kh(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}hn(LH,"id","logarithmic"),hn(LH,"defaults",{ticks:{callback:cA.formatters.logarithmic,major:{enabled:!0}}});function rR(t){const e=t.ticks;if(e.display&&t.display){const r=ya(e.backdropPadding);return ii(e.font&&e.font.size,Fs.font.size)+r.height}return 0}function uQe(t,e,r){return r=ws(r)?r:[r],{w:aYe(t,e.string,r),h:r.length*e.lineHeight}}function FH(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function cQe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?As/s:0;for(let l=0;l<s;l++){const u=o.setContext(t.getPointLabelContext(l));i[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],a),f=go(u.font),h=uQe(t.ctx,f,t._pointLabels[l]);n[l]=h;const g=nc(t.getIndexAngle(l)+a),v=Math.round(R$(g)),p=FH(v,d.x,h.w,0,180),b=FH(v,d.y,h.h,90,270);dQe(r,e,g,p,b)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=pQe(t,n,i)}function dQe(t,e,r,n,i){const s=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function fQe(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=r,l=t.getPointPosition(e,n+i+o,s),u=Math.round(R$(nc(l.angle+Na))),d=vQe(l.y,a.h,u),f=mQe(u),h=gQe(l.x,a.w,f);return{visible:!0,x:l.x,y:d,textAlign:f,left:h,top:d,right:h+a.w,bottom:d+a.h}}function hQe(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:s}=t;return!(Tf({x:r,y:n},e)||Tf({x:r,y:s},e)||Tf({x:i,y:n},e)||Tf({x:i,y:s},e))}function pQe(t,e,r){const n=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:rR(s)/2,additionalAngle:o?As/i:0};let u;for(let d=0;d<i;d++){l.padding=r[d],l.size=e[d];const f=fQe(t,d,l);n.push(f),a==="auto"&&(f.visible=hQe(f,u),f.visible&&(u=f))}return n}function mQe(t){return t===0||t===180?"center":t<180?"left":"right"}function gQe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function vQe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function yQe(t,e,r){const{left:n,top:i,right:s,bottom:o}=r,{backdropColor:a}=e;if(!ls(a)){const l=cv(e.borderRadius),u=ya(e.backdropPadding);t.fillStyle=a;const d=n-u.left,f=i-u.top,h=s-n+u.width,g=o-i+u.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),_C(t,{x:d,y:f,w:h,h:g,radius:l}),t.fill()):t.fillRect(d,f,h,g)}}function _Qe(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=n.setContext(t.getPointLabelContext(i));yQe(r,o,s);const a=go(o.font),{x:l,y:u,textAlign:d}=s;Dm(r,t._pointLabels[i],l,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Vse(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,Zo);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function bQe(t,e,r,n,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!n||!a||!l||r<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),Vse(t,r,o,n),s.closePath(),s.stroke(),s.restore())}function xQe(t,e,r){return $p(t,{label:r,index:e,type:"pointLabel"})}class lw extends wC{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ya(rR(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=$o(e)&&!isNaN(e)?e:0,this.max=$o(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/rR(this.options))}generateTickLabels(e){wC.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=Zi(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?cQe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=Zo/(this._pointLabels.length||1),n=this.options.startAngle||0;return nc(e*r+lc(n))}getDistanceFromCenterForValue(e){if(ls(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(ls(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return xQe(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-Na+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Vse(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,o=this._pointLabels.length;let a,l,u;if(r.pointLabels.display&&_Qe(this,o),i.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),g=i.setContext(h),v=s.setContext(h);bQe(this,g,l,o,v)}}),n.display){for(e.save(),a=o-1;a>=0;a--){const d=n.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=d;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(l)),d=go(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const f=ya(u.backdropPadding);e.fillRect(-o/2-f.left,-s-d.size/2-f.top,o+f.width,d.size+f.height)}Dm(e,a.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}hn(lw,"id","radialLinear"),hn(lw,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:cA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),hn(lw,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),hn(lw,"descriptors",{angleLines:{_fallback:"grid"}});const hA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dl=Object.keys(hA);function NH(t,e){return t-e}function BH(t,e){if(ls(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),$o(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(i&&(o=i==="week"&&(Gb(s)||s===!0)?r.startOf(o,"isoWeek",s):r.startOf(o,i)),+o)}function UH(t,e,r,n){const i=dl.length;for(let s=dl.indexOf(t);s<i-1;++s){const o=hA[dl[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(a*o.size))<=n)return dl[s]}return dl[i-1]}function wQe(t,e,r,n,i){for(let s=dl.length-1;s>=dl.indexOf(r);s--){const o=dl[s];if(hA[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return dl[r?dl.indexOf(r):0]}function SQe(t){for(let e=dl.indexOf(t)+1,r=dl.length;e<r;++e)if(hA[dl[e]].common)return dl[e]}function VH(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=M$(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function TQe(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,n))l=r[a],l>=0&&(e[l].major=!0);return e}function zH(t,e,r){const n=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return s===0||!r?n:TQe(t,n,i,r)}class SC extends qm{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new gKe._date(e.adapters.date);i.init(r),F2(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:BH(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=$o(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=$o(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=GXe(i,s,o);return this._unit=r.unit||(n.autoSkip?UH(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):wQe(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:SQe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),zH(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=yu(r,0,o),n=yu(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,o=s.unit||UH(s.minUnit,r,n,this._getLabelCapacity(r)),a=ii(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Gb(l)||l===!0,d={};let f=r,h,g;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(n,r,o)>1e5*a)throw new Error(r+" and "+n+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<n;h=+e.add(h,a,o),g++)VH(d,h,v);return(h===n||i.bounds==="ticks"||g===1)&&VH(d,h,v),Object.keys(d).sort(NH).map(p=>+p)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,o=r||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,i){const s=this.options,o=s.ticks.callback;if(o)return Zi(o,[e,r,n],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],h=n[r],g=u&&f&&h&&h.major;return this._adapter.format(e,i||(g?f:d))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=lc(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*o,h:n*o+a*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,zH(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(BH(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qXe(e.sort(NH))}}hn(SC,"id","time"),hn(SC,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function uw(t,e,r){let n=0,i=t.length-1,s,o,a,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=G0(t,"pos",e)),{pos:s,time:a}=t[n],{pos:o,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=G0(t,"time",e)),{time:s,pos:a}=t[n],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class HH extends SC{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=uw(r,this.min),this._tableRange=uw(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=r&&u<=n&&i.push(u);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],u=i[o],Math.round((d+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(uw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return uw(this._table,n*this._tableRange+this._minPos,!0)}}hn(HH,"id","timeseries"),hn(HH,"defaults",SC.defaults);const zse={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},CQe={ariaLabel:{type:String},ariaDescribedby:{type:String}},EQe={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...zse,...CQe},AQe=rq[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function bg(t){return v1(t)?Gn(t):t}function PQe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return v1(e)?new Proxy(t,{}):t}function kQe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Hse(t,e){t.labels=e}function jse(t,e,r){const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function IQe(t,e){const r={labels:[],datasets:[]};return Hse(r,t.labels),jse(r,t.datasets,e),r}const DQe=rt({props:EQe,setup(t,e){let{expose:r,slots:n}=e;const i=ve(null),s=Ba(null);r({chart:s});const o=()=>{if(!i.value)return;const{type:u,data:d,options:f,plugins:h,datasetIdKey:g}=t,v=IQe(d,g),p=PQe(v,d);s.value=new fA(i.value,{type:u,data:p,options:{...f},plugins:h})},a=()=>{const u=Gn(s.value);u&&(t.destroyDelay>0?setTimeout(()=>{u.destroy(),s.value=null},t.destroyDelay):(u.destroy(),s.value=null))},l=u=>{u.update(t.updateMode)};return zn(o),Gf(a),Yt([()=>t.options,()=>t.data],(u,d)=>{let[f,h]=u,[g,v]=d;const p=Gn(s.value);if(!p)return;let b=!1;if(f){const S=bg(f),C=bg(g);S&&S!==C&&(kQe(p,S),b=!0)}if(h){const S=bg(h.labels),C=bg(v.labels),T=bg(h.datasets),A=bg(v.datasets);S!==C&&(Hse(p.config.data,S),b=!0),T&&T!==A&&(jse(p.config.data,T,t.datasetIdKey),b=!0)}b&&Wr(()=>{l(p)})},{deep:!0}),()=>br("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:i},[br("p",{},[n.default?n.default():""])])}});function RQe(t,e){return fA.register(e),rt({props:zse,setup(r,n){let{expose:i}=n;const s=Ba(null),o=a=>{s.value=a==null?void 0:a.chart};return i({chart:s}),()=>br(DQe,AQe({ref:o},{type:t,...r}))}})}const MQe=RQe("line",MS),OQe={class:"dialog-footer"},$Qe=["src"],LQe={class:"dialog-footer"},FQe={class:"dialog-footer"},NQe={class:"dialog-footer"},BQe={class:"dialog-footer"},UQe={class:"dialog-footer"},VQe=`
        <path class="path" d="
          M 30 15
          L 28 17
          M 25.61 25.61
          A 15 15, 0, 0, 1, 15 30
          A 15 15, 0, 1, 1, 27.99 7.5
          L 15 15
        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
      `,zQe=rt({__name:"White",setup(t){const e=ve(null);fA.register(eR,tR,NS,n2,XZe,rQe,WZe,UZe);function r(){wt.isDotMessage?(wt.chatDrawer=!0,wt.isDotMessage=!1):wt.chatTable=!0,l8().initPeer()}const n=()=>{const X={baseURL:Xt.apiUrl,url:"/public/ip",method:"GET",headers:{}};or(X).then(function(R){if(R.status==200)o.value=!0;else{o.value=!1;const z=$r().format("YYYY-MM-DD HH:mm:ss Z");let re={};R.status==null?re[z]="500":re[z]=R.status;const oe={baseURL:Xt.statusUrl,url:"/status",method:"PUT",headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"},params:re};or(oe).then(function(H){})}}).catch(function(R){o.value=!1})};window.onload=function(){n(),setInterval(()=>{n()},Xt.healthCheckDuration*1e3)};const i=()=>{window.open(Xt.githubUrl,"_blank")},s=ve(null),o=ve(!1),a=ve(""),l=ve(""),u=ve(!1),d=ve(!1),f=ve(!1),h=ve(!1),g={responsive:!0,plugins:{title:{display:!0,text:"downtime"},legend:{display:!1}}};let v=()=>({datasets:[{data:[{}]}]}),p=an(v());const b=async()=>{h.value=!1,Object.assign(p,v());const X={baseURL:Xt.statusUrl,url:"/status",method:"GET",params:{limit:30},headers:{Authorization:"Bearer "+Ae.access_token}};await or(X).then(async function(R){var z,re;p.datasets[0].data=R.data,(re=(z=e.value)==null?void 0:z.chart)==null||re.update()}),h.value=!0};let C=an((()=>({key:"",value:""}))());const T=()=>{var X;(X=s.value)==null||X.initS3()},A=async X=>{const R={baseURL:Xt.storageUrl,url:"/storage/object",method:"POST",data:{data:X.file,bucket:Ae.sub,mode:"stream",idToken:Ae.id_token},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"multipart/form-data"}};or(R)},E=async(X,R)=>{const z=await qI(Ae.sub);z.picture=R.name,z.username=Ae.sub,ie(z),a.value=URL.createObjectURL(R.raw),nS.info("Avatar will update after next login")},I=X=>{if(X.type=="image/jpeg"||X.type=="image/gif"||X.type=="image/png"){if(X.size/1024/1024>10)return nS.error("Avatar picture size can not exceed 10MB!"),!1}else return nS.error("not support "+X.type),!1;return!0},O=async()=>{const X=VK.service({fullscreen:!0}),R=await RMe();if(Wr(()=>{X.close()}),R==""||R==null){ri.alert("load user error, please try again later");return}bs.email=R.email,bs.nickName=R.nickName,bs.password=R.password,l.value=R.username,u.value=!0},N=()=>{const X={baseURL:Xt.authUrl,url:"/email/verify",method:"POST",data:{username:Ae.sub},headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+Ae.access_token}};or(X)},G=()=>{const X={baseURL:Xt.authUrl,url:"authenticator/add",method:"POST",data:{username:Ae.sub},headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+Ae.access_token}};or(X).then(async function(R){const z=await cJ(R.data),re={baseURL:Xt.authUrl,url:"/finishAuth",method:"POST",data:{credname:Ae.sub,username:Ae.sub,credential:JSON.stringify(z)},headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0};or(re).then(function(oe){oe.data==200&&gb({title:"add authenticator success",message:"please logout and login again",duration:5e3})})})},ie=X=>{const R=new Map;for(let re in fo.value)Object.keys(el).indexOf(re)>=0&&re!="claim"&&re!="username"?el[re]=fo.value[re]:re!="claims"&&fo.value.hasOwnProperty(re)&&R.set(re,fo.value[re]);el.claims=JSON.stringify(Object.fromEntries(R));const z={baseURL:Xt.authUrl,url:"auth/user/info",method:"POST",data:el,headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};X!=""&&(z.data=X),or(z).then(function(re){re.status==200&&(wt.userInfoForm=!1)})},W=()=>{fo.value[C.key]=C.value,d.value=!1},q=X=>{const R=new Map;if(Object.keys(el).indexOf(X)>=0)ri.alert("unable to delete default claim");else{for(var z in fo.value)z==X&&delete fo.value[X],Object.keys(el).indexOf(z)>=0&&z!="claim"?el[z]=fo.value[z]:z!="claims"&&fo.value.hasOwnProperty(z)&&R.set(z,fo.value[z]);el.claims=JSON.stringify(Object.fromEntries(R));const re={baseURL:Xt.authUrl,url:"auth/user/info",method:"POST",data:el,headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};or(re).then(function(oe){oe.status==200&&ri.alert("delete success")})}},J=X=>{fo.value=Xg(),Object.assign(fo,Xg()),Object.assign(el,Xg()),el.username=X};return(X,R)=>{const z=Bn,re=ca,oe=Rr,H=aY,ee=Sxe,ae=ji,be=da,Me=Pc,Qe=UK,ht=fI;return me(),$e(Sr,null,[F(re,{modelValue:_(f),"onUpdate:modelValue":R[1]||(R[1]=je=>qr(f)?f.value=je:null),width:"75%"},{default:te(()=>[F(z,{type:"primary",onClick:R[0]||(R[0]=je=>b())},{default:te(()=>R[44]||(R[44]=[Et("refresh")])),_:1}),_(h)?(me(),Ct(_(MQe),{key:0,ref_key:"lineChart",ref:e,data:_(p),options:g},null,8,["data"])):gt("",!0)]),_:1},8,["modelValue"]),_(o)?(me(),Ct(H,{key:0,class:"status","is-dot":!0,type:"success",onClick:R[2]||(R[2]=je=>(f.value=!0,b()))},{default:te(()=>[F(oe,null,{default:te(()=>[F(_(rN))]),_:1})]),_:1})):gt("",!0),_(o)?gt("",!0):(me(),Ct(H,{key:1,class:"status","is-dot":!0,type:"warning",onClick:R[3]||(R[3]=je=>(f.value=!0,b()))},{default:te(()=>[F(oe,null,{default:te(()=>[F(_(rN))]),_:1})]),_:1})),F(oe,{class:"github",onClick:R[4]||(R[4]=je=>i())},{default:te(()=>[F(_(aXe),{icon:"grommet-icons:github"})]),_:1}),F(oe,{class:"storage",onClick:R[5]||(R[5]=je=>T())},{default:te(()=>[F(_(c_e))]),_:1}),F(H,{class:"chat","is-dot":_(wt).isDotMessage},{default:te(()=>[F(oe,{onClick:R[6]||(R[6]=je=>r())},{default:te(()=>[F(_(cye))]),_:1})]),_:1},8,["is-dot"]),F(oe,{class:"phoneMode",onClick:_(mMe)},{default:te(()=>[F(_($ye))]),_:1},8,["onClick"]),_(Ae).sub?gt("",!0):(me(),Ct(ee,{key:2,class:"whiteMode",icon:_(f_e),size:"small",onClick:R[7]||(R[7]=je=>_(wt).webauthnFormVisible=!0)},null,8,["icon"])),_(Ae).sub?(me(),Ct(ee,{key:3,class:"whiteMode",size:"small",src:_(Ae).avatarUrl,fit:"fill",onClick:R[8]||(R[8]=je=>O())},null,8,["src"])):gt("",!0),_(Ae).sub?gt("",!0):(me(),Ct(H,{key:4,class:"message","is-dot":_(wt).isDot},{default:te(()=>[F(oe,{onClick:R[9]||(R[9]=je=>(_(wt).noticeDrawer=!0,_(_U)("",!1)))},{default:te(()=>[F(_(nN))]),_:1})]),_:1},8,["is-dot"])),_(Ae).sub?(me(),Ct(H,{key:5,class:"message","is-dot":_(wt).isDot},{default:te(()=>[F(oe,{onClick:R[10]||(R[10]=je=>(_(wt).noticeDrawer=!0,_(_U)(_(Ae).sub,!1)))},{default:te(()=>[F(_(nN))]),_:1})]),_:1},8,["is-dot"])):gt("",!0),F(re,{modelValue:_(wt).webauthnFormVisible,"onUpdate:modelValue":R[16]||(R[16]=je=>_(wt).webauthnFormVisible=je),width:"65%"},{footer:te(()=>[Ue("span",OQe,[F(z,{onClick:R[13]||(R[13]=je=>_(wt).loading=!1)},{default:te(()=>R[45]||(R[45]=[Et("cancel")])),_:1}),F(z,{onClick:R[14]||(R[14]=je=>(_(HI)(),_(wt).loadingText="logining..."))},{default:te(()=>R[46]||(R[46]=[Et("login")])),_:1}),F(z,{type:"primary",onClick:R[15]||(R[15]=je=>(_(yMe)(),_(wt).loadingText="registering..."))},{default:te(()=>R[47]||(R[47]=[Et(" register ")])),_:1})])]),default:te(()=>[wn((me(),Ct(Me,{"element-loading-text":_(wt).loadingText,"element-loading-spinner":VQe,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)",onKeyup:R[12]||(R[12]=Li(_n(je=>_(HI)(),["prevent"]),["enter"])),"label-position":"left","label-width":"auto","fit-input-width":!0},{default:te(()=>[F(be,{label:"name","label-width":"auto"},{default:te(()=>[F(ae,{modelValue:_(Ae).username,"onUpdate:modelValue":R[11]||(R[11]=je=>_(Ae).username=je)},null,8,["modelValue"])]),_:1})]),_:1},8,["element-loading-text"])),[[ht,_(wt).loading]])]),_:1},8,["modelValue"]),F(re,{modelValue:_(u),"onUpdate:modelValue":R[26]||(R[26]=je=>qr(u)?u.value=je:null),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",LQe,[F(z,{onClick:R[23]||(R[23]=je=>u.value=!1)},{default:te(()=>R[51]||(R[51]=[Et("Cancel")])),_:1}),F(z,{type:"primary",onClick:R[24]||(R[24]=je=>_(xJ)(_(bs),_(Ae).sub))},{default:te(()=>R[52]||(R[52]=[Et(" Confirm ")])),_:1}),F(z,{type:"danger",onClick:R[25]||(R[25]=je=>_(pJ)())},{default:te(()=>R[53]||(R[53]=[Et(" logout ")])),_:1})])]),default:te(()=>[F(z,{type:"primary",onClick:R[17]||(R[17]=je=>G())},{default:te(()=>R[48]||(R[48]=[Et("add authenticator")])),_:1}),F(z,{type:"primary",onClick:R[18]||(R[18]=je=>(_(qI)(_(l)),_(wt).userInfoForm=!0))},{default:te(()=>R[49]||(R[49]=[Et("userInfo")])),_:1}),F(Me,{model:_(bs)},{default:te(()=>[F(be,{label:"email","label-width":_(wt).labelWidth,inline:!0},{default:te(()=>[F(ae,{modelValue:_(bs).email,"onUpdate:modelValue":R[19]||(R[19]=je=>_(bs).email=je)},null,8,["modelValue"]),!_(Ae).email_verified&&_(bs).email!="null"?(me(),Ct(z,{key:0,type:"primary",onClick:R[20]||(R[20]=je=>N())},{default:te(()=>R[50]||(R[50]=[Et("validate")])),_:1})):gt("",!0)]),_:1},8,["label-width"]),F(be,{label:"nickName","label-width":_(wt).labelWidth},{default:te(()=>[F(ae,{modelValue:_(bs).nickName,"onUpdate:modelValue":R[21]||(R[21]=je=>_(bs).nickName=je)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(be,{label:"password","label-width":_(wt).labelWidth},{default:te(()=>[F(ae,{modelValue:_(bs).password,"onUpdate:modelValue":R[22]||(R[22]=je=>_(bs).password=je)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(be,{label:"avatar","label-width":_(wt).labelWidth},{default:te(()=>[F(Qe,{class:"avatar-uploader","show-file-list":!1,"on-success":E,"before-upload":I,"http-request":A},{default:te(()=>[_(a)?(me(),$e("img",{key:0,src:_(a),class:"avatar"},null,8,$Qe)):(me(),Ct(oe,{key:1,class:"avatar-uploader-icon"},{default:te(()=>[F(_(pX))]),_:1}))]),_:1})]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(re,{modelValue:_(wt).userInfoForm,"onUpdate:modelValue":R[31]||(R[31]=je=>_(wt).userInfoForm=je),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",FQe,[F(z,{onClick:R[28]||(R[28]=je=>_(wt).userInfoForm=!1)},{default:te(()=>R[56]||(R[56]=[Et("Cancel")])),_:1}),F(z,{type:"primary",onClick:R[29]||(R[29]=je=>ie(""))},{default:te(()=>R[57]||(R[57]=[Et("Confirm")])),_:1}),F(z,{type:"primary",onClick:R[30]||(R[30]=je=>J(_(el).username))},{default:te(()=>R[58]||(R[58]=[Et("Reset")])),_:1})])]),default:te(()=>[F(z,{type:"",onClick:R[27]||(R[27]=je=>d.value=!0)},{default:te(()=>R[54]||(R[54]=[Et("Add")])),_:1}),F(Me,{model:_(fo)},{default:te(()=>[(me(!0),$e(Sr,null,mi(_(fo),(je,ze)=>(me(),Ct(be,{key:ze,label:ze,"label-width":_(wt).labelWidth},{default:te(()=>[F(ae,{modelValue:_(fo)[ze],"onUpdate:modelValue":ut=>_(fo)[ze]=ut},null,8,["modelValue","onUpdate:modelValue"]),Object.keys(_(el)).indexOf(ze)>=0?gt("",!0):(me(),Ct(z,{key:0,size:"small",type:"danger",onClick:ut=>q(ze)},{default:te(()=>R[55]||(R[55]=[Et(" delete ")])),_:2},1032,["onClick"]))]),_:2},1032,["label","label-width"]))),128))]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(re,{modelValue:_(d),"onUpdate:modelValue":R[36]||(R[36]=je=>qr(d)?d.value=je:null),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",NQe,[F(z,{onClick:R[34]||(R[34]=je=>d.value=!1)},{default:te(()=>R[59]||(R[59]=[Et("Cancel")])),_:1}),F(z,{type:"primary",onClick:R[35]||(R[35]=je=>W())},{default:te(()=>R[60]||(R[60]=[Et("Confirm")])),_:1})])]),default:te(()=>[F(Me,null,{default:te(()=>[F(be,{label:"claimName","label-width":_(wt).labelWidth},{default:te(()=>[F(ae,{modelValue:_(C).key,"onUpdate:modelValue":R[32]||(R[32]=je=>_(C).key=je)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(be,{label:"value","label-width":_(wt).labelWidth},{default:te(()=>[F(ae,{modelValue:_(C).value,"onUpdate:modelValue":R[33]||(R[33]=je=>_(C).value=je)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1})]),_:1},8,["modelValue","width"]),F(re,{modelValue:_(wt).tmpLogin,"onUpdate:modelValue":R[39]||(R[39]=je=>_(wt).tmpLogin=je),width:_(wt).dialogWidth,"align-center":""},{footer:te(()=>[Ue("span",BQe,[F(z,{onClick:R[37]||(R[37]=je=>_(wt).tmpLogin=!1)},{default:te(()=>R[61]||(R[61]=[Et("Cancel")])),_:1}),F(z,{type:"primary",onClick:R[38]||(R[38]=je=>_(bMe)())},{default:te(()=>R[62]||(R[62]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[R[63]||(R[63]=Ue("span",null,"send email to add authenticator for new Device?",-1))]),_:1},8,["modelValue","width"]),F(re,{modelValue:_(wt).refreshlogin,"onUpdate:modelValue":R[42]||(R[42]=je=>_(wt).refreshlogin=je),width:_(wt).dialogWidth,"align-center":""},{footer:te(()=>[Ue("span",UQe,[F(z,{onClick:R[40]||(R[40]=je=>_(wt).refreshlogin=!1)},{default:te(()=>R[64]||(R[64]=[Et("later")])),_:1}),F(z,{type:"primary",onClick:R[41]||(R[41]=je=>_(pS)(_(Ae).sub))},{default:te(()=>R[65]||(R[65]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[R[66]||(R[66]=Ue("span",null,"redirect to refresh access?",-1))]),_:1},8,["modelValue","width"]),F(re,{modelValue:_(wt).qrcode,"onUpdate:modelValue":R[43]||(R[43]=je=>_(wt).qrcode=je),width:_(wt).dialogWidth},{default:te(()=>[F(AMe,{value:_(Ae).qrcodeUrl,size:200,level:"H"},null,8,["value"])]),_:1},8,["modelValue","width"]),F(nqe),F($Me),F(XWe,{ref_key:"storage",ref:s},null,512)],64)}}});const X1=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},HQe=X1(zQe,[["__scopeId","data-v-664b1719"]]),jQe={class:"dialog-footer"},GQe=rt({__name:"Dark",setup(t){const e=()=>{const l={baseURL:"https://github.com/login/",url:"oauth/access_token",method:"POST",data:{code:Mv,client_id:Ae.client_id,client_secret:Ae.client_secret,redirect_uri:Xt.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"}};or(l).then(function(u){u.data.access_token!=""&&Wh()})},r=()=>{const l={baseURL:Xt.authUrl,url:"/oauth2/token",method:"POST",data:{response_type:"token",client_id:Ae.client_id,redirect_uri:Xt.redirectUrl},headers:{"Content-Type":"application/x-www-form-urlencoded"}};or(l).then(function(u){u.data.access_token!=""&&(Ae.refresh_token=u.data.refresh_token,Ae.grant_type="authorization_code",Ae.update(u.data.access_token,u.data.expires_in),Wh(),z_())})},n=()=>{const l={baseURL:Xt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"authorization_code",code:Mv,redirect_uri:window.location.href.split("?")[0]},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:Ae.client_id,password:Ae.client_secret}};or(l).then(function(u){u.data.access_token!=""&&(Ae.refresh_token=u.data.refresh_token,Ae.grant_type="authorization_code",Ae.update(u.data.access_token,u.data.expires_in),Wh(),z_())})},i=()=>{const l={baseURL:Xt.authUrl,url:"/userinfo",method:"POST",headers:{Authorization:"Bearer "+Ae.access_token},withCredentials:!0};or(l)},s=()=>{const l={baseURL:Xt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"password",username:"",password:""},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:Ae.client_id,password:Ae.client_secret}};or(l).then(function(u){u.data.access_token!=""&&(Ae.refresh_token=u.data.refresh_token,Ae.grant_type="authorization_code",Ae.update(u.data.access_token,u.data.expires_in),Wh(),z_())})},o=()=>{const l={baseURL:Xt.authUrl,url:"/oauth2/token",method:"POST",data:{grant_type:"client_credentials"},headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:Ae.client_id,password:Ae.client_secret}};or(l).then(function(u){u.data.access_token!=""&&(Ae.grant_type="client_credentials",Ae.update(u.data.access_token,u.data.expires_in),Wh(),z_())})},a=()=>{wt.authFormVisible=!1,Ae.grant_type=="client_credentials"?o():Ae.grant_type=="password"?s():Ae.grant_type=="code"?n():Ae.grant_type=="token"?r():Ae.grant_type=="github"?e():Ae.grant_type=="pkce"?iJ():Ae.grant_type=="info"&&i()};return(l,u)=>(me(),$e(Sr,null,[(me(),Ct(_(Bn),{key:0,id:"darkMode",size:"small",onClick:u[0]||(u[0]=d=>_(wt).authFormVisible=!0)})),F(_(ca),{modelValue:_(wt).authFormVisible,"onUpdate:modelValue":u[6]||(u[6]=d=>_(wt).authFormVisible=d),width:"65%"},{footer:te(()=>[Ue("span",jQe,[F(_(Bn),{onClick:u[4]||(u[4]=d=>_(wt).authFormVisible=!1)},{default:te(()=>u[7]||(u[7]=[Et("Cancel")])),_:1}),F(_(Bn),{type:"primary",onClick:u[5]||(u[5]=d=>a())},{default:te(()=>u[8]||(u[8]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(_(Pc),{"label-position":"left","label-width":"auto","fit-input-width":!0},{default:te(()=>[F(_(da),{label:"type"},{default:te(()=>[F(_(by),{modelValue:_(Ae).grant_type,"onUpdate:modelValue":u[1]||(u[1]=d=>_(Ae).grant_type=d),placeholder:"grant type"},{default:te(()=>[F(_(ic),{label:"Authorization Code",value:"code"}),F(_(ic),{label:"Implicit",value:"token"}),F(_(ic),{label:"Resource Owner Password Credentials",value:"password"}),F(_(ic),{label:"Client Credentials",value:"client_credentials"}),F(_(ic),{label:"github",value:"github"}),F(_(ic),{label:"info",value:"info"})]),_:1},8,["modelValue"])]),_:1}),_(Ae).grant_type!="authorization_code"?(me(),Ct(_(da),{key:0,label:"client","label-width":"auto"},{default:te(()=>[F(_(ji),{modelValue:_(Ae).client_id,"onUpdate:modelValue":u[2]||(u[2]=d=>_(Ae).client_id=d),autocomplete:"off"},null,8,["modelValue"])]),_:1})):gt("",!0),_(Ae).grant_type!="authorization_code"?(me(),Ct(_(da),{key:1,label:"secret","label-width":"auto"},{default:te(()=>[F(_(ji),{modelValue:_(Ae).client_secret,"onUpdate:modelValue":u[3]||(u[3]=d=>_(Ae).client_secret=d),type:"password","show-password":!0,autocomplete:"off",onKeyup:Li(a,["enter"])},null,8,["modelValue"])]),_:1})):gt("",!0)]),_:1})]),_:1},8,["modelValue"])],64))}});const WQe=X1(GQe,[["__scopeId","data-v-95d156fe"]]);const qQe={key:0},XQe={key:1},YQe={class:"dialog-footer"},Gse=rt({__name:"IP",setup(t,{expose:e}){const r=ve(!1),n=ve(!1),i=ve(""),o=an({ips:[{}]}),a={pageNumber:1,pageSize:20,order:0},l=an({address:"",black:""});function u(){r.value=!0}function d(){r.value=!1;const v={baseURL:Xt.apiUrl,url:"/ip",method:"PUT",params:{black:l.black,address:l.address},headers:{Authorization:"Bearer "+Ae.access_token}};or(v).then(function(p){g("")})}const f=v=>{(v==""||v==null)&&(v=l.address);const p={baseURL:Xt.apiUrl,url:"/ip",method:"PATCH",params:{black:"",address:v,id:""},headers:{Authorization:"Bearer "+Ae.access_token}};or(p).then(function(b){b.status==200&&(r.value=!1,g(""))})},h=(v,p,b,S)=>{var C="false";b=="false"&&(C="true");const T={baseURL:Xt.apiUrl,url:"/ip",method:"PATCH",params:{address:p,black:C,id:S},headers:{Authorization:"Bearer "+Ae.access_token}};or(T).then(function(A){A.data=="UPDATED"&&g("")})},g=v=>{n.value=!0;const p={baseURL:Xt.apiUrl,url:"/ip",method:"GET",params:{black:"",pageNumber:a.pageNumber-1,pageSize:a.pageSize,order:a.order,id:v},headers:{Authorization:"Bearer "+Ae.access_token}};or(p).then(function(b){b.status==200&&(o.ips=b.data.hits,i.value=b.data.scrollId)})};return e({ipList:g,ipBlock:h}),(v,p)=>{const b=ic;return me(),$e(Sr,null,[F(_(ca),{modelValue:_(n),"onUpdate:modelValue":p[2]||(p[2]=S=>qr(n)?n.value=S:null),width:_(wt).dialogWidth},{default:te(()=>[F(_(Bn),{type:"",onClick:u},{default:te(()=>p[8]||(p[8]=[Et("Update")])),_:1}),F(_(Bn),{type:"",onClick:p[0]||(p[0]=S=>g(""))},{default:te(()=>p[9]||(p[9]=[Et("refresh")])),_:1}),F(_(Bn),{type:"",onClick:p[1]||(p[1]=S=>g(_(i)))},{default:te(()=>p[10]||(p[10]=[Et("Next")])),_:1}),F(_(Eu),{data:_(o).ips},{default:te(()=>[F(_(Ui),{property:"address",label:"address",width:"auto"}),F(_(Ui),{property:"black",label:"black",width:"100px"}),F(_(Ui),{property:"timestamp",label:"date",sortable:"",width:"auto"}),F(_(Ui),{label:"Operations"},{default:te(S=>[F(_(Bn),{size:"small",type:"danger",onClick:C=>h(S.$index,S.row.address,S.row.black,S.row.id)},{default:te(()=>[S.row.black=="false"?(me(),$e("span",qQe,"block")):gt("",!0),S.row.black=="true"?(me(),$e("span",XQe,"unblock")):gt("",!0)]),_:2},1032,["onClick"]),F(_(Bn),{size:"small",type:"danger",onClick:C=>f(S.row.address)},{default:te(()=>p[11]||(p[11]=[Et("delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),F(_(ca),{modelValue:_(r),"onUpdate:modelValue":p[7]||(p[7]=S=>qr(r)?r.value=S:null),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",YQe,[F(_(Bn),{onClick:p[5]||(p[5]=S=>r.value=!1)},{default:te(()=>p[12]||(p[12]=[Et("Cancel")])),_:1}),F(_(Bn),{type:"danger",onClick:p[6]||(p[6]=S=>f(""))},{default:te(()=>p[13]||(p[13]=[Et("delete")])),_:1}),F(_(Bn),{type:"primary",onClick:d},{default:te(()=>p[14]||(p[14]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(_(Pc),{model:_(l)},{default:te(()=>[F(_(da),{label:"type","label-width":_(wt).labelWidth},{default:te(()=>[F(_(by),{modelValue:_(l).black,"onUpdate:modelValue":p[3]||(p[3]=S=>_(l).black=S),placeholder:""},{default:te(()=>[F(b,{label:"white",value:"false"}),F(b,{label:"black",value:"true"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),F(_(da),{label:"address","label-width":_(wt).labelWidth},{default:te(()=>[F(_(ji),{modelValue:_(l).address,"onUpdate:modelValue":p[4]||(p[4]=S=>_(l).address=S),autocomplete:"off",onKeyup:Li(d,["enter"])},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"])],64)}}}),KQe={class:"dialog-footer"},ZQe=rt({__name:"Record",setup(t,{expose:e}){const r=ve(!1),n=ve(!1),i=ve(""),s=ve(null),o=ve(""),a=[],l=ve(!1),u=an({records:a}),d=an({timestamp:"",id:"",accessPath:"",sourceIP:"",userAgent:"",requestHeader:{}}),f={pageNumber:1,pageSize:10,order:"0"},h=ie=>{v.value=ie,p.splice(0,p.length);for(let W of v.value)p.push(W.id)},g=(ie,W,q,J)=>{var X;(X=s.value)==null||X.ipBlock(ie,W,q,J)},v=ve([]),p=[],b=()=>{const ie={baseURL:Xt.apiUrl,url:"/record/"+p.toString(),method:"DELETE",headers:{Authorization:"Bearer "+Ae.access_token}};or(ie).then(function(W){W.status==200&&(p.forEach(function(q,J){u.records.forEach(function(X,R){q===X.id&&u.records.splice(R,1)})}),u.records.length==0&&(N.value!=""?G():I(f.order)))})},S=()=>{const ie={baseURL:Xt.apiUrl,url:"/record/"+d.sourceIP,method:"DELETE",headers:{Authorization:"Bearer "+Ae.access_token}};or(ie).then(function(W){W.status==200&&(ri.alert("delete amount:"+W.data),I(f.order))})},C=ie=>{n.value=!0,i.value=JSON.stringify(ie.requestHeader,null,2)},T=(ie,W)=>{const q={baseURL:Xt.apiUrl,url:"/record/"+W.id,method:"DELETE",headers:{Authorization:"Bearer "+Ae.access_token}};or(q).then(function(J){J.status==200&&u.records.splice(ie,1)})};function A(ie){return $r(ie.timestamp).format("YYYY-MM-DD HH:mm:ss")}const E=async(ie,W)=>{f.order=ie,O(W)},I=async ie=>{f.order=ie,O("")},O=async ie=>{l.value=!0;const W={baseURL:Xt.apiUrl,url:"/record",method:"GET",params:{pageNumber:f.pageNumber-1,pageSize:f.pageSize,order:f.order,id:ie},headers:{Authorization:"Bearer "+Ae.access_token}};await or(W).then(function(q){q.status==200&&(u.records=q.data.hits,o.value=q.data.scrollId)})},N=ve("");function G(){if(N.value!=""){const ie={baseURL:Xt.apiUrl,url:"/record",method:"POST",data:{params:N.value,pageNumber:f.pageNumber-1,pageSize:f.pageSize,order:f.order},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};or(ie).then(function(W){W.status==200&&(u.records=W.data.hits,o.value=W.data.scrollId)})}else I(f.order)}return e({recordList:I}),(ie,W)=>{const q=Bn,J=Ui,X=ji,R=Eu,z=ca,re=da,oe=Pc;return me(),$e(Sr,null,[F(z,{modelValue:_(l),"onUpdate:modelValue":W[5]||(W[5]=H=>qr(l)?l.value=H:null),width:_(wt).dialogWidth},{default:te(()=>[F(q,{type:"danger",onClick:W[0]||(W[0]=H=>b())},{default:te(()=>W[10]||(W[10]=[Et("DeleteSelect")])),_:1}),F(q,{type:"",onClick:W[1]||(W[1]=H=>r.value=!0)},{default:te(()=>W[11]||(W[11]=[Et("batch")])),_:1}),F(q,{type:"",onClick:W[2]||(W[2]=H=>I(f.order))},{default:te(()=>W[12]||(W[12]=[Et("refresh")])),_:1}),F(q,{type:"",onClick:W[3]||(W[3]=H=>E(f.order,_(o)))},{default:te(()=>W[13]||(W[13]=[Et("next")])),_:1}),F(R,{data:_(u).records,onSelectionChange:h},{default:te(()=>[F(J,{type:"selection"}),F(J,{property:"accessPath",label:"path",width:"170px"}),F(J,{property:"userAgent",label:"userAgent",width:"300px"}),F(J,{property:"timestamp",label:"date",formatter:A,sortable:""}),F(J,{property:"sourceIP",label:"address",width:"130px"}),F(J,{align:"right"},{header:te(()=>[F(X,{modelValue:_(N),"onUpdate:modelValue":W[4]||(W[4]=H=>qr(N)?N.value=H:null),size:"small",placeholder:"Type to search",onKeyup:Li(G,["enter"])},null,8,["modelValue"])]),default:te(H=>[F(q,{size:"small",type:"",onClick:ee=>C(H.row)},{default:te(()=>W[14]||(W[14]=[Et("headers")])),_:2},1032,["onClick"]),F(q,{size:"small",type:"danger",onClick:ee=>T(H.$index,H.row)},{default:te(()=>W[15]||(W[15]=[Et("Delete")])),_:2},1032,["onClick"]),F(q,{size:"small",type:"danger",onClick:ee=>g(H.$index,H.row.sourceIP,"false","")},{default:te(()=>W[16]||(W[16]=[Et("lock")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","width"]),F(z,{modelValue:_(r),"onUpdate:modelValue":W[8]||(W[8]=H=>qr(r)?r.value=H:null),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",KQe,[F(q,{onClick:W[7]||(W[7]=H=>r.value=!1)},{default:te(()=>W[17]||(W[17]=[Et("Cancel")])),_:1}),F(q,{type:"danger",onClick:S},{default:te(()=>W[18]||(W[18]=[Et("delete")])),_:1})])]),default:te(()=>[F(oe,{model:_(d)},{default:te(()=>[F(re,{label:"address","label-width":_(wt).labelWidth},{default:te(()=>[F(X,{modelValue:_(d).sourceIP,"onUpdate:modelValue":W[6]||(W[6]=H=>_(d).sourceIP=H),autocomplete:"off",onKeyup:Li(S,["enter"])},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(z,{modelValue:_(n),"onUpdate:modelValue":W[9]||(W[9]=H=>qr(n)?n.value=H:null),width:_(wt).dialogWidth},{default:te(()=>[Ue("pre",null,cr(_(i)),1)]),_:1},8,["modelValue","width"]),F(Gse,{ref_key:"ip",ref:s},null,512)],64)}}});const QQe={class:"dialog-footer"},JQe={class:"dialog-footer"},eJe=rt({__name:"AuthClient",setup(t,{expose:e}){const r=ve(),n=ve(),i=ve(!1),s=ve(!1),o=ve(!1),a=ve(!1),d=an({authclient:[{}],authclientRegister:[{}]}),f={pageNumber:1,pageSize:10},h={multiple:!0,expandTrigger:"hover"};let g=()=>({id:"",clientId:"",clientSecret:"",clientSecretExpiresAt:"",scopes:"",redirectUris:"",postLogoutRedirectUris:"",clientName:"",clientSettings:"",tokenSettings:"",authorizationGrantTypes:"",clientAuthenticationMethods:""}),v=()=>({registrationId:"",clientId:"",clientSecret:"",clientAuthenticationMethod:"",authorizationGrantType:"",scopes:"",redirectUri:"",clientName:"",authorizationUri:"",tokenUri:"",jwkSetUri:"",issuerUri:"",userInfoUri:"",authenticationMethod:"",userNameAttributeName:""}),p=an(v()),b=an(g());const S=[{value:"@class",label:"@class",children:[{value:"java.util.Collections$UnmodifiableMap",label:"java.util.Collections$UnmodifiableMap"}]},{value:"settings.token.authorization-code-time-to-live",label:"authorizationCodeTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:1800,label:"30min"},{value:7200,label:"2h"},{value:43200,label:"12h"}]}]},{value:"settings.token.access-token-time-to-live",label:"accessTokenTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:30,label:"30s"},{value:300,label:"5min"},{value:1200,label:"20min"},{value:86400,label:"24h"}]}]},{value:"settings.token.refresh-token-time-to-live",label:"refreshTokenTimeToLive",children:[{value:"java.time.Duration",label:"Duration",children:[{value:60,label:"1min"},{value:3600,label:"1h"},{value:18e3,label:"5h"},{value:36e3,label:"10h"}]}]},{value:"settings.token.access-token-format",label:"accessTokenFormat",children:[{value:"@class",label:"@class",children:[{value:"org.springframework.security.oauth2.server.authorization.settings.OAuth2TokenFormat",label:"OAuth2TokenFormat"}]},{value:"value",label:"value",children:[{value:"reference",label:"reference"},{value:"self-contained",label:"self-contained"}]}]},{value:"settings.token.reuse-refresh-tokens",label:"reuseRefreshTokens",children:[{value:"reuse-refresh-tokens-false",label:"false"},{value:"reuse-refresh-tokens-true",label:"true"}]},{value:"settings.token.id-token-signature-algorithm",label:"idTokenSignatureAlgorithm",children:[{value:"org.springframework.security.oauth2.jose.jws.SignatureAlgorithm",label:"SignatureAlgorithm",children:[{value:"RS256",label:"RS256"}]}]}],C=[{value:"@class",label:"@class",children:[{value:"java.util.Collections$UnmodifiableMap",label:"java.util.Collections$UnmodifiableMap"}]},{value:"settings.client.require-proof-key",label:"requireProofKey",children:[{value:"require-proof-key-true",label:"true"},{value:"require-proof-key-false",label:"false"}]},{value:"settings.client.token-endpoint-authentication-signing-algorithm",label:"signingAlgorithm",children:[{value:"RS256",label:"RS256"},{value:"RS384",label:"RS384"},{value:"RS512",label:"RS512"},{value:"ES256",label:"ES256"},{value:"ES384",label:"ES384"},{value:"ES512",label:"ES512"},{value:"PS256",label:"PS256"},{value:"PS384",label:"PS384"},{value:"PS512",label:"PS512"}]},{value:"settings.client.jwk-set-url",label:"jwkSetUrl",children:[{value:"https://auth-pre.elpsykongroo.com",label:"https://auth-pre.elpsykongroo.com"},{value:"https://auth.elpsykongroo.com",label:"https://auth.elpsykongroo.com"}]},{value:"settings.client.require-authorization-consent",label:"Consent",children:[{value:"require-authorization-consent-false",label:"false"},{value:"require-authorization-consent-true",label:"true"}]}];let T=ve([""]),A=ve("");const E=ve(new Array),I=ve(new Array),O=vt=>typeof vt=="object"&&!Array.isArray(vt)&&vt!==null,N=vt=>Array.isArray(vt)&&vt!==null,G=(vt,se,Pe)=>{O(se)?Object.entries(se).map(tt=>{Pe.push(tt[0]),G(vt,tt[1],Pe)}):N(se)?(Pe.push(se[0]),Pe.push(se[1])):Pe.push(W(vt,se))},ie=(vt,se)=>{Object.entries(vt).map(Pe=>(se.push(Pe[0]),G(Pe[0],Pe[1],se),se))},W=(vt,se)=>{if(vt.includes(".")){const Pe=vt.split("."),tt=Pe.length;se==!0&&(se=Pe[tt-1]+"-true"),se==!1&&(se=Pe[tt-1]+"-false")}return se},q=vt=>{const Pe=vt.split("-").length,tt=vt.split("-")[Pe-1];return tt=="true"&&(vt=!0),tt=="false"&&(vt=!1),vt},J=vt=>{const se=new Map;vt.map(et=>{if(et[0]=="settings.token.access-token-format"&&et.length>2)if(se.has(et[0])){const ot=se.get(et[0]),St=new Map;St.set(et[1],et[2]);const Dt=Object.fromEntries(St),_t=Object.assign(ot,Dt);se.set(et[0],_t)}else{const ot=new Map;ot.set(et[1],et[2]);const St=Object.fromEntries(ot);se.set(et[0],St)}else if(et.length>2){const ot=new Array;ot.push(et[1]),ot.push(et[2]),se.set(et[0],ot)}else(et.length=2)&&se.set(et[0],q(et[1]))});const Pe=Object.fromEntries(se);var tt=JSON.stringify(Pe);b.tokenSettings=tt},X=vt=>{const se=new Map;vt.map(et=>{if(et.length>2){const ot=new Map;ot.set(et[1],et[2]);const St=Object.fromEntries(ot);se.set(et[0],St)}else se.set(et[0],q(et[1]))});const Pe=Object.fromEntries(se);var tt=JSON.stringify(Pe);b.clientSettings=tt},R=(vt,se)=>{const Pe={baseURL:Xt.authUrl,url:"/auth/client/"+se.clientId,method:"DELETE",headers:{Authorization:"Bearer "+Ae.access_token}};or(Pe).then(function(tt){tt.data>0&&d.authclient.splice(vt,1)})},z=(vt,se)=>{const Pe={baseURL:Xt.authUrl,url:"/auth/client/register/"+se.registrationId,method:"DELETE",headers:{Authorization:"Bearer "+Ae.access_token}};or(Pe).then(function(tt){tt.data>0&&d.authclientRegister.splice(vt,1)})},re=vt=>{vt&&vt.validate(se=>{if(se){const Pe={baseURL:Xt.authUrl,url:"/auth/client",method:"PUT",data:b,headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};b.authorizationGrantTypes=T.value.toString(),b.clientSecret.startsWith("{bcrypt}")?or(Pe).then(function(tt){tt.status==200&&(i.value=!1,ee())}):jI.hash(b.clientSecret,10).then(function(tt){b.clientSecret="{bcrypt}"+tt,or(Pe).then(function(et){et.status==200&&(i.value=!1,ee())})})}else return!1})},oe=vt=>{const se={uri:p.userInfoUri,authenticationMethod:p.authenticationMethod,userNameAttributeName:p.userNameAttributeName},Pe={authorizationUri:p.authorizationUri,tokenUri:p.tokenUri,jwkSetUri:p.jwkSetUri,issuerUri:p.issuerUri,configurationMetadata:new Map,userInfoEndpoint:se};let tt;p.scopes!=""&&(tt=p.scopes.split(","));const et={registrationId:p.registrationId,clientId:p.clientId,clientSecret:p.clientSecret,clientAuthenticationMethod:p.clientAuthenticationMethod,authorizationGrantType:p.authorizationGrantType,scopes:tt,redirectUri:p.redirectUri,clientName:p.clientName,providerDetails:Pe};vt&&vt.validate(ot=>{if(ot){const St={baseURL:Xt.authUrl,url:"/auth/client/register",method:"PUT",data:et,headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/json"}};p.clientSecret.startsWith("{bcrypt}")?or(St).then(function(Dt){Dt.status==200&&(s.value=!1,H())}):jI.hash(p.clientSecret,10).then(function(Dt){et.clientSecret="{bcrypt}"+Dt,or(St).then(function(_t){_t.status==200&&(s.value=!1,H())})})}else return!1})},H=()=>{o.value=!0;const vt={baseURL:Xt.authUrl,url:"/auth/client/register",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(vt).then(function(se){d.authclientRegister=se.data})},ee=()=>{a.value=!0;const vt={baseURL:Xt.authUrl,url:"/auth/client",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(vt).then(function(se){d.authclient=se.data})},ae=vt=>{if(vt==null||vt.resetFields(),ct.length>1)ri.alert("dont support batch update");else if(ct.length==1){const se=ht.value[0],Pe=new Array,tt=new Array;if(se.clientSettings!=""){const et=JSON.parse(se.clientSettings);ie(et,Pe)}if(se.tokenSettings!=""){const et=JSON.parse(se.tokenSettings);ie(et,tt)}E.value=Pe,I.value=tt,A.value=$r.unix(parseInt(se.clientSecretExpiresAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]"),T.value=se.authorizationGrantTypes.split(","),Object.assign(b,ht.value[0]),i.value=!0}else Object.assign(b,g()),T.value=[],E.value=[],A.value="",I.value=[],i.value=!0},be=vt=>{if(vt==null||vt.resetFields(),ct.length>1)ri.alert("dont support batch update");else if(ct.length==1){const se=Me.value[0];p.authorizationUri=se.providerDetails.authorizationUri,p.tokenUri=se.providerDetails.tokenUri,p.issuerUri=se.providerDetails.issuerUri,p.jwkSetUri=se.providerDetails.jwkSetUri,p.userNameAttributeName=se.providerDetails.userInfoEndpoint.userNameAttributeName,p.userInfoUri=se.providerDetails.userInfoEndpoint.uri,p.authenticationMethod=se.providerDetails.userInfoEndpoint.authenticationMethod,Object.assign(p,Me.value[0]),s.value=!0}else Object.assign(p,v()),s.value=!0},Me=ve([]),Qe=vt=>{Me.value=vt,ct.splice(0,ct.length);for(let se of Me.value)ct.push(se.clientId)},ht=ve([]),je=vt=>{ht.value=vt,ct.splice(0,ct.length);for(let se of ht.value)ct.push(se.clientId)},ze=vt=>{f.pageNumber=vt,ee()},ut=vt=>{ee()},ct=[];function mt(vt){return $r.unix(parseInt(vt.clientIdIssuedAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]")}function jt(vt){return $r.unix(parseInt(vt.clientSecretExpiresAt,10)).format("YYYY-MM-DDTHH:mm:ss[Z]")}return e({authClientList:ee,authClientRegisterList:H}),(vt,se)=>{const Pe=$u,tt=OY,et=da,ot=ic,St=by,Dt=ji,_t=ASe,Kt=iK,Ut=jY,lt=Pc,kt=Bn,yt=ca,Pt=Ui,Er=Eu,zt=Wg,xr=AO,Ot=VY;return me(),$e(Sr,null,[F(yt,{modelValue:i.value,"onUpdate:modelValue":se[14]||(se[14]=Re=>i.value=Re),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",QQe,[F(kt,{onClick:se[12]||(se[12]=Re=>i.value=!1)},{default:te(()=>se[38]||(se[38]=[Et("Cancel")])),_:1}),F(kt,{type:"primary",onClick:se[13]||(se[13]=Re=>re(r.value))},{default:te(()=>se[39]||(se[39]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(lt,{ref_key:"clientformRef",ref:r,model:_(b),"inline-message":!0},{default:te(()=>[F(et,{label:"GrantTypes","label-width":_(wt).labelWidth},{default:te(()=>[F(tt,{modelValue:_(T),"onUpdate:modelValue":se[0]||(se[0]=Re=>qr(T)?T.value=Re:T=Re)},{default:te(()=>[F(Pe,{label:"client_credentials"}),F(Pe,{label:"authorization_code"}),F(Pe,{label:"refresh_token"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"Methods","label-width":_(wt).labelWidth},{default:te(()=>[F(St,{modelValue:_(b).clientAuthenticationMethods,"onUpdate:modelValue":se[1]||(se[1]=Re=>_(b).clientAuthenticationMethods=Re),placeholder:""},{default:te(()=>[F(ot,{label:"client_secret_basic",value:"client_secret_basic"}),F(ot,{label:"client_secret_post",value:"client_secret_post"}),F(ot,{label:"private_key_jwt",value:"private_key_jwt"}),F(ot,{label:"client_secret_jwt",value:"client_secret_jwt"}),F(ot,{label:"none",value:"none"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"redirectUris","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(b).redirectUris,"onUpdate:modelValue":se[2]||(se[2]=Re=>_(b).redirectUris=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"logoutRedirectUris","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(b).postLogoutRedirectUris,"onUpdate:modelValue":se[3]||(se[3]=Re=>_(b).postLogoutRedirectUris=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"clientName","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(b).clientName,"onUpdate:modelValue":se[4]||(se[4]=Re=>_(b).clientName=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"scopes","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(b).scopes,"onUpdate:modelValue":se[5]||(se[5]=Re=>_(b).scopes=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{"label-width":_(wt).labelWidth,label:"clientId",prop:"clientId",rules:[{required:!0,message:"clientId is required"}]},{default:te(()=>[F(Dt,{modelValue:_(b).clientId,"onUpdate:modelValue":se[6]||(se[6]=Re=>_(b).clientId=Re),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"clientSecret","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(b).clientSecret,"onUpdate:modelValue":se[7]||(se[7]=Re=>_(b).clientSecret=Re),type:"password","show-password":!0,autocomplete:"off",onKeyup:se[8]||(se[8]=Li(()=>{},["enter"]))},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"clientSettings","label-width":_(wt).labelWidth},{default:te(()=>[F(_t,{ref:"clientSet",modelValue:E.value,"onUpdate:modelValue":se[9]||(se[9]=Re=>E.value=Re),options:C,props:h,onChange:X,clearable:""},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"tokenSettings","label-width":_(wt).labelWidth},{default:te(()=>[F(_t,{ref:"tokenSet",modelValue:I.value,"onUpdate:modelValue":se[10]||(se[10]=Re=>I.value=Re),options:S,props:h,onChange:J,clearable:""},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"SecretExpires"},{default:te(()=>[F(Ut,{span:9},{default:te(()=>[F(Kt,{ref:"datePicker",modelValue:_(b).clientSecretExpiresAt,"onUpdate:modelValue":se[11]||(se[11]=Re=>_(b).clientSecretExpiresAt=Re),type:"datetime",placeholder:_(A),"value-format":"YYYY-MM-DDTHH:mm:ss[Z]",format:"YYYY-MM-DDTHH:mm:ss[Z]"},null,8,["modelValue","placeholder"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(yt,{modelValue:a.value,"onUpdate:modelValue":se[16]||(se[16]=Re=>a.value=Re),width:_(wt).dialogWidth},{default:te(()=>[F(kt,{type:"",onClick:se[15]||(se[15]=Re=>ae(r.value))},{default:te(()=>se[40]||(se[40]=[Et("Add")])),_:1}),F(Er,{data:d.authclient,onSelectionChange:je},{default:te(()=>[F(Pt,{type:"selection"}),F(Pt,{property:"clientId",label:"Id",width:"60px"}),F(Pt,{property:"clientSecret",label:"Secret"}),F(Pt,{property:"clientName",label:"name"}),F(Pt,{property:"redirectUris",label:"redirectUris",width:"100px"}),F(Pt,{property:"postLogoutRedirectUris",label:"postLogoutRedirectUris",width:"100px"}),F(Pt,{property:"scopes",label:"scopes",width:"70px"}),F(Pt,{property:"clientAuthenticationMethods",label:"Methods",width:"60px"}),F(Pt,{property:"authorizationGrantTypes",label:"type",width:"70px"}),F(Pt,{property:"clientIdIssuedAt",label:"issused",formatter:mt,sortable:""}),F(Pt,{property:"clientSecretExpiresAt",label:"expire",formatter:jt,sortable:""}),F(Pt,{property:"clientSettings",label:"clientSettings",width:"150px"}),F(Pt,{property:"tokenSettings",label:"tokenSettings",width:"300px"}),F(Pt,null,{default:te(Re=>[F(kt,{size:"small",type:"danger",onClick:Ie=>R(Re.$index,Re.row)},{default:te(()=>se[41]||(se[41]=[Et("Delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),F(zt,{layout:"prev, pager, next, sizes",total:50,"current-page":f.pageNumber,"page-size":f.pageSize,"onUpdate:currentPage":ze,"onUpdate:pageSize":ut},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),F(yt,{modelValue:s.value,"onUpdate:modelValue":se[35]||(se[35]=Re=>s.value=Re),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",JQe,[F(kt,{onClick:se[33]||(se[33]=Re=>s.value=!1)},{default:te(()=>se[45]||(se[45]=[Et("Cancel")])),_:1}),F(kt,{type:"primary",onClick:se[34]||(se[34]=Re=>oe(n.value))},{default:te(()=>se[46]||(se[46]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(lt,{ref_key:"registerformRef",ref:n,model:_(p),"inline-message":!0},{default:te(()=>[F(et,{label:"Types","label-width":_(wt).labelWidth},{default:te(()=>[F(Ot,{modelValue:_(p).authorizationGrantType,"onUpdate:modelValue":se[17]||(se[17]=Re=>_(p).authorizationGrantType=Re)},{default:te(()=>[F(xr,{label:"client_credentials"},{default:te(()=>se[42]||(se[42]=[Et("client_credentials")])),_:1}),F(xr,{label:"authorization_code"},{default:te(()=>se[43]||(se[43]=[Et("authorization_code")])),_:1}),F(xr,{label:"refresh_token"},{default:te(()=>se[44]||(se[44]=[Et("refresh_token")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"Methods","label-width":_(wt).labelWidth},{default:te(()=>[F(St,{modelValue:_(p).clientAuthenticationMethod,"onUpdate:modelValue":se[18]||(se[18]=Re=>_(p).clientAuthenticationMethod=Re),placeholder:""},{default:te(()=>[F(ot,{label:"client_secret_basic",value:"client_secret_basic"}),F(ot,{label:"client_secret_post",value:"client_secret_post"}),F(ot,{label:"private_key_jwt",value:"private_key_jwt"}),F(ot,{label:"client_secret_jwt",value:"client_secret_jwt"}),F(ot,{label:"none",value:"none"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"redirectUri","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).redirectUri,"onUpdate:modelValue":se[19]||(se[19]=Re=>_(p).redirectUri=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"clientName","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).clientName,"onUpdate:modelValue":se[20]||(se[20]=Re=>_(p).clientName=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"scopes","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).scopes,"onUpdate:modelValue":se[21]||(se[21]=Re=>_(p).scopes=Re),placeholder:"openid"},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{"label-width":_(wt).labelWidth,label:"registerId",prop:"registrationId",rules:[{required:!0,message:"registerId is required"}]},{default:te(()=>[F(Dt,{modelValue:_(p).registrationId,"onUpdate:modelValue":se[22]||(se[22]=Re=>_(p).registrationId=Re),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{"label-width":_(wt).labelWidth,label:"clientId",prop:"clientId",rules:[{required:!0,message:"clientId is required"}]},{default:te(()=>[F(Dt,{modelValue:_(p).clientId,"onUpdate:modelValue":se[23]||(se[23]=Re=>_(p).clientId=Re),style:{width:"auto"}},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"clientSecret","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).clientSecret,"onUpdate:modelValue":se[24]||(se[24]=Re=>_(p).clientSecret=Re),type:"password","show-password":!0,autocomplete:"off",onKeyup:se[25]||(se[25]=Li(()=>{},["enter"]))},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"authorizationUri","label-width":_(wt).labelWidth,required:!0},{default:te(()=>[F(Dt,{modelValue:_(p).authorizationUri,"onUpdate:modelValue":se[26]||(se[26]=Re=>_(p).authorizationUri=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"tokenUri","label-width":_(wt).labelWidth,required:!0},{default:te(()=>[F(Dt,{modelValue:_(p).tokenUri,"onUpdate:modelValue":se[27]||(se[27]=Re=>_(p).tokenUri=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"jwkSetUri","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).jwkSetUri,"onUpdate:modelValue":se[28]||(se[28]=Re=>_(p).jwkSetUri=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"issuerUri","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).issuerUri,"onUpdate:modelValue":se[29]||(se[29]=Re=>_(p).issuerUri=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"userInfoUri","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).userInfoUri,"onUpdate:modelValue":se[30]||(se[30]=Re=>_(p).userInfoUri=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"authenticationMethod","label-width":_(wt).labelWidth,required:!0},{default:te(()=>[F(Dt,{modelValue:_(p).authenticationMethod,"onUpdate:modelValue":se[31]||(se[31]=Re=>_(p).authenticationMethod=Re)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(et,{label:"userNameAttributeName","label-width":_(wt).labelWidth},{default:te(()=>[F(Dt,{modelValue:_(p).userNameAttributeName,"onUpdate:modelValue":se[32]||(se[32]=Re=>_(p).userNameAttributeName=Re)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(yt,{modelValue:o.value,"onUpdate:modelValue":se[37]||(se[37]=Re=>o.value=Re),width:_(wt).dialogWidth},{default:te(()=>[F(kt,{type:"",onClick:se[36]||(se[36]=Re=>be(n.value))},{default:te(()=>se[47]||(se[47]=[Et("Add")])),_:1}),F(Er,{data:d.authclientRegister,onSelectionChange:Qe},{default:te(()=>[F(Pt,{type:"selection"}),F(Pt,{property:"registrationId",label:"registrationId",width:"auto"}),F(Pt,{property:"clientId",label:"clientId",width:"auto"}),F(Pt,{property:"clientSecret",label:"clientSecret"}),F(Pt,{property:"clientName",label:"clientName"}),F(Pt,{property:"redirectUri",label:"redirectUri",width:"auto"}),F(Pt,{property:"scopes",label:"scopes",width:"auto"}),F(Pt,{property:"clientAuthenticationMethod",label:"Methods",width:"auto"}),F(Pt,{property:"authorizationGrantType",label:"type",width:"auto"}),F(Pt,null,{default:te(Re=>[F(kt,{size:"small",type:"danger",onClick:Ie=>z(Re.$index,Re.row)},{default:te(()=>se[48]||(se[48]=[Et("Delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),F(zt,{layout:"prev, pager, next, sizes",total:50,"current-page":f.pageNumber,"page-size":f.pageSize,"onUpdate:currentPage":ze,"onUpdate:pageSize":ut},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"])],64)}}});const tJe={class:"dialog-footer"},Wse=rt({__name:"Group",setup(t,{expose:e}){const r=ve([""]);let n=ve(""),i=ve(""),s=ve("");const o=()=>[{key:"",label:"",disabled:!1,checked:!1}],a=an(o()),l=ve([{}]),u=ve([""]),d=an({array:r,groups:l,transfer:a,left:u}),f=ve(!1),h=ve(!1),g=ve(!1),v=ve(!1),p=an({name:""}),b={pageNumber:1,pageSize:20},S=X=>{s.value=X.username,d.transfer=o(),d.transfer.splice(0,1),d.array=[],g.value=!0,i.value=X.id,v.value=!0;const R={baseURL:Xt.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(R).then(function(z){let re;z.data.length>0&&(re=z.data);const oe={baseURL:Xt.authUrl,url:"auth/group/user/"+X.id,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(oe).then(function(H){const ee=H.data;if(ee.length>0)for(let ae of re){let be;for(let Me of ee)Me.groupName==ae.groupName&&(be=!0);be?d.transfer.push({key:ae.groupName,label:ae.groupName,disabled:!0,checked:!0}):d.transfer.push({key:ae.groupName,label:ae.groupName,disabled:!1,checked:!0})}else for(let ae of re)d.transfer.push({key:ae.groupName,label:ae.groupName,disabled:!1,checked:!0})})})},C=X=>{d.transfer=o(),d.transfer.splice(0,1),d.left=[],d.array=[],n.value=X.id,i.value="",v.value=!1,E(X)},T=()=>{const X={baseURL:Xt.authUrl,url:"auth/group",method:"PUT",params:{name:p.name},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};or(X).then(function(R){R.status==200&&(I(),f.value=!1)})},A=(X,R)=>{const z={baseURL:Xt.authUrl,url:"auth/group/"+R.groupName,method:"DELETE",headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};or(z).then(function(re){re.status==200&&d.groups.splice(X,1)})},E=X=>{const R={baseURL:Xt.authUrl,url:"auth/authority/group/"+X.groupName,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};let z=[],re;or(R).then(function(oe){re=oe.data}).then(function(oe){const H={baseURL:Xt.authUrl,url:"/auth/authority",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(H).then(function(ee){if(ee.data.length>0){const ae=ee.data;for(let be=0;be<ae.length;be++)for(let Me=0;Me<re.length;Me++)re[Me].authority==ae[be].authority&&(z.push(be),d.transfer.push({key:ae[be].authority,label:ae[be].authority,disabled:!0,checked:!0}),d.left.push(ae[be].authority));for(let be=0;be<ae.length;be++)z.indexOf(be)==-1&&d.transfer.push({key:ae[be].authority,label:ae[be].authority,disabled:!1,checked:!1})}g.value=!0})})},I=()=>{h.value=!0;const X={baseURL:Xt.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(X).then(function(R){d.groups=R.data})},O=()=>{if((n.value.length==0||i.value.length==0)&&s.value==""){ri.alert("please select some");return}N(n.value,i.value,v.value)},N=(X,R,z)=>{X.endsWith(",")&&(X=X.slice(0,-1)),R.endsWith(",")&&(R=R.slice(0,-1));const re={baseURL:Xt.authUrl,url:"auth/group/user",method:"POST",params:{groups:X,ids:R},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};z?or(re).then(function(oe){oe.status==200&&(g.value=!1)}):G()},G=()=>{const X={baseURL:Xt.authUrl,url:"auth/authority/group",method:"POST",params:{authorities:i.value.slice(0,-1),ids:n.value},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};or(X).then(function(R){R.status==200&&(g.value=!1)})},ie=(X,R,z)=>{i.value.length==36?n.value+=X+",":i.value+=X+","},W=X=>{b.pageNumber=X,I()},q=X=>{b.pageSize=X,I()},J=()=>{const X=d.transfer;for(let R in X)X[R].disabled&&(X[R].disabled=!1)};return e({groupList:I,updateGroup:N,userGroupList:S}),(X,R)=>{const z=Bn,re=Ui,oe=Eu,H=Wg,ee=ca,ae=ji,be=da,Me=Pc,Qe=$u,ht=$K;return me(),$e(Sr,null,[F(ee,{modelValue:_(h),"onUpdate:modelValue":R[1]||(R[1]=je=>qr(h)?h.value=je:null),width:_(wt).dialogWidth},{default:te(()=>[F(z,{type:"",onClick:R[0]||(R[0]=je=>f.value=!0)},{default:te(()=>R[10]||(R[10]=[Et("add")])),_:1}),F(oe,{data:_(d).groups},{default:te(()=>[F(re,{property:"groupName",label:"groupName",width:"auto"}),F(re,{label:"Operations"},{default:te(je=>[F(z,{size:"small",type:"primary",onClick:ze=>C(je.row)},{default:te(()=>R[11]||(R[11]=[Et("alloacte authority")])),_:2},1032,["onClick"]),F(z,{size:"small",type:"danger",onClick:ze=>A(je.$index,je.row)},{default:te(()=>R[12]||(R[12]=[Et("delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),F(H,{layout:"prev, pager, next, sizes",total:50,"current-page":b.pageNumber,"page-size":b.pageSize,"onUpdate:currentPage":W,"onUpdate:pageSize":q},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),F(ee,{modelValue:_(f),"onUpdate:modelValue":R[5]||(R[5]=je=>qr(f)?f.value=je:null),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",tJe,[F(z,{onClick:R[3]||(R[3]=je=>f.value=!1)},{default:te(()=>R[13]||(R[13]=[Et("Cancel")])),_:1}),F(z,{type:"primary",onClick:R[4]||(R[4]=je=>T())},{default:te(()=>R[14]||(R[14]=[Et("Confirm")])),_:1})])]),default:te(()=>[F(Me,{model:_(p)},{default:te(()=>[F(be,{label:"name","label-width":_(wt).labelWidth},{default:te(()=>[F(ae,{modelValue:_(p).name,"onUpdate:modelValue":R[2]||(R[2]=je=>_(p).name=je)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(ee,{modelValue:_(g),"onUpdate:modelValue":R[9]||(R[9]=je=>qr(g)?g.value=je:null),width:_(wt).dialogWidth},{default:te(()=>[F(ht,{modelValue:_(d).array,"onUpdate:modelValue":R[8]||(R[8]=je=>_(d).array=je),style:{"text-align":"left",display:"inline-block"},filterable:!0,"button-texts":["remove","add"],"left-default-checked":_(d).left,data:_(d).transfer,onChange:ie},{"scoped-slot":te(({option:je})=>[F(Qe,{modelValue:je.checked,"onUpdate:modelValue":ze=>je.checked=ze},{default:te(()=>[Et(cr(je.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),"left-footer":te(()=>[F(z,{class:"transfer-footer",size:"small",onClick:R[6]||(R[6]=je=>J())},{default:te(()=>R[15]||(R[15]=[Et("reset")])),_:1})]),"right-footer":te(()=>[F(z,{class:"transfer-footer",size:"small",onClick:R[7]||(R[7]=je=>O())},{default:te(()=>R[16]||(R[16]=[Et("update")])),_:1})]),_:1},8,["modelValue","left-default-checked","data"])]),_:1},8,["modelValue","width"])],64)}}}),rJe={class:"dialog-footer"},qse=rt({__name:"Authority",setup(t,{expose:e}){let r=ve(""),n=ve(""),i=ve("");const s=()=>[{key:"",label:"",disabled:!1,checked:!1}],o=an(s()),a=ve([]),l=ve([{}]),u=ve([""]),d=an({left:u,array:a,authorities:l,transfer:o}),f=ve(!1),h=ve(!1),g=ve(!1),v=ve(!1),p=an({name:""}),b={pageNumber:1,pageSize:20},S=X=>{d.transfer=s(),d.transfer.splice(0,1),d.left=[],d.array=[],r.value=X.authority,n.value="",v.value=!1,G(X)},C=()=>{h.value=!0;const X={baseURL:Xt.authUrl,url:"/auth/authority",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(X).then(function(R){d.authorities=R.data})},T=X=>{r.value="",i.value=X.username,d.transfer=s(),d.transfer.splice(0,1),d.array=[],g.value=!0,n.value=X.id,v.value=!0;const R={baseURL:Xt.authUrl,url:"auth/authority",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(R).then(function(z){let re;z.data.length>0&&(re=z.data);const oe={baseURL:Xt.authUrl,url:"auth/authority/user/"+X.id,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(oe).then(function(H){const ee=H.data;if(ee.length>0)for(let ae of re){let be;for(let Me of ee)Me.name==ae.name&&(be=!0);be?d.transfer.push({key:ae.authority,label:ae.authority,disabled:!0,checked:!0}):d.transfer.push({key:ae.authority,label:ae.authority,disabled:!1,checked:!0})}else for(let ae of re)d.transfer.push({key:ae.authority,label:ae.authority,disabled:!1,checked:!0})})})},A=()=>{const X={baseURL:Xt.authUrl,url:"auth/authority",method:"PUT",params:{name:p.name},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};or(X).then(function(R){(R.status=200)&&(C(),f.value=!1)})},E=(X,R)=>{const z={baseURL:Xt.authUrl,url:"auth/authority/"+R.authority,method:"DELETE",headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};or(z).then(function(re){re.status==200&&d.authorities.splice(X,1)})},I=()=>{O(r.value,n.value,v.value)},O=(X,R,z)=>{X.endsWith(",")&&(X=X.slice(0,-1)),R.endsWith(",")&&(R=R.slice(0,-1));const re={baseURL:Xt.authUrl,url:"auth/authority/user",method:"POST",params:{authorities:X,ids:R},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};z?or(re).then(function(oe){oe.status==200&&(g.value=!1)}):N(X,R)},N=(X,R)=>{const z={baseURL:Xt.authUrl,url:"auth/authority/group",method:"POST",params:{authorities:X,ids:R},headers:{Authorization:"Bearer "+Ae.access_token,"Content-Type":"application/x-www-form-urlencoded"}};or(z).then(function(re){re.status==200&&(g.value=!1)})},G=X=>{const R={baseURL:Xt.authUrl,url:"auth/group/authority/"+X.authority,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};let z;or(R).then(function(re){z=re.data}).then(function(re){const oe={baseURL:Xt.authUrl,url:"auth/group",method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(oe).then(function(H){const ee=H.data;let ae=[];for(let be=0;be<ee.length;be++)for(let Me=0;Me<z.length;Me++)z[Me].groupName==ee[be].groupName&&(ae.push(be),d.transfer.push({key:ee[be].id,label:ee[be].groupName,disabled:!0,checked:!0}));for(let be=0;be<ee.length;be++)ae.indexOf(be)==-1&&d.transfer.push({key:ee[be].id,label:ee[be].groupName,disabled:!1,checked:!1});g.value=!0})})},ie=()=>{const X=d.transfer;for(let R in X)X[R].disabled&&(X[R].disabled=!1)},W=(X,R,z)=>{n.value.length==36?r.value+=X+",":n.value+=X+","},q=X=>{b.pageNumber=X,C()},J=X=>{b.pageSize=X,C()};return e({authorityList:C,updateAuthority:O,userAuthorityList:T}),(X,R)=>{const z=Bn,re=Ui,oe=Eu,H=Wg,ee=ca,ae=ji,be=da,Me=Pc,Qe=$u,ht=$K;return me(),$e(Sr,null,[F(ee,{modelValue:_(h),"onUpdate:modelValue":R[1]||(R[1]=je=>qr(h)?h.value=je:null),width:_(wt).dialogWidth},{default:te(()=>[F(z,{type:"",onClick:R[0]||(R[0]=je=>f.value=!0)},{default:te(()=>R[10]||(R[10]=[Et("add")])),_:1}),F(oe,{data:_(d).authorities},{default:te(()=>[F(re,{property:"authority",label:"authority",width:"auto"}),F(re,{label:"Operations"},{default:te(je=>[F(z,{size:"small",type:"primary",onClick:ze=>S(je.row)},{default:te(()=>R[11]||(R[11]=[Et("alloacte group")])),_:2},1032,["onClick"]),F(z,{size:"small",type:"danger",onClick:ze=>E(je.$index,je.row)},{default:te(()=>R[12]||(R[12]=[Et("delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),F(H,{layout:"prev, pager, next, sizes",total:50,"current-page":b.pageNumber,"page-size":b.pageSize,"onUpdate:currentPage":q,"onUpdate:pageSize":J},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),F(ee,{modelValue:_(f),"onUpdate:modelValue":R[5]||(R[5]=je=>qr(f)?f.value=je:null),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",rJe,[F(z,{onClick:R[3]||(R[3]=je=>f.value=!1)},{default:te(()=>R[13]||(R[13]=[Et("Cancel")])),_:1}),F(z,{type:"primary",onClick:R[4]||(R[4]=je=>A())},{default:te(()=>R[14]||(R[14]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(Me,{model:_(p)},{default:te(()=>[F(be,{label:"name","label-width":_(wt).labelWidth},{default:te(()=>[F(ae,{modelValue:_(p).name,"onUpdate:modelValue":R[2]||(R[2]=je=>_(p).name=je)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(ee,{modelValue:_(g),"onUpdate:modelValue":R[9]||(R[9]=je=>qr(g)?g.value=je:null),width:_(wt).dialogWidth},{default:te(()=>[F(ht,{style:{"text-align":"left",display:"inline-block"},modelValue:_(d).array,"onUpdate:modelValue":R[8]||(R[8]=je=>_(d).array=je),filterable:"","left-default-checked":_(d).left,"button-texts":["remove","add"],data:_(d).transfer,onChange:W},{"scoped-slot":te(({option:je})=>[F(Qe,{modelValue:je.checked,"onUpdate:modelValue":ze=>je.checked=ze},{default:te(()=>[Et(cr(je.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),"left-footer":te(()=>[F(z,{class:"transfer-footer",size:"small",onClick:R[6]||(R[6]=je=>ie())},{default:te(()=>R[15]||(R[15]=[Et("reset")])),_:1})]),"right-footer":te(()=>[F(z,{class:"transfer-footer",size:"small",onClick:R[7]||(R[7]=je=>I())},{default:te(()=>R[16]||(R[16]=[Et("update")])),_:1})]),_:1},8,["modelValue","left-default-checked","data"])]),_:1},8,["modelValue","width"])],64)}}}),nJe={key:0},iJe={key:1},sJe={class:"dialog-footer"},oJe=rt({__name:"User",setup(t){const e=ve(null),r=ve(null),n={pageNumber:1,pageSize:20,order:0},i={pageNumber:1,pageSize:20},s={pageNumber:1,pageSize:20},o=ve(!1),a=ve(!1),l=ve(!1),u=ve([]),d=ve([{}]);let f=ve("");const h=ve([{}]),g=ve([{}]),v=an({groups:h,authorities:g,transfer:d,array:u}),p=re=>{var oe;(oe=e.value)==null||oe.userGroupList(re)},b=re=>{var oe;(oe=r.value)==null||oe.userAuthorityList(re)},S=(re,oe)=>{var H;(H=e.value)==null||H.updateGroup(oe.groupName,f.value,!0),v.groups.splice(re,1)},C=(re,oe)=>{var H;(H=r.value)==null||H.updateAuthority(oe.authority,f.value,!0),v.authorities.splice(re,1)},T=re=>{l.value=!0,f.value=re.id;const oe={baseURL:Xt.authUrl,url:"auth/group/user/"+re.id,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(oe).then(function(H){v.groups=H.data})},A=re=>{a.value=!0,f.value=re.id;const oe={baseURL:Xt.authUrl,url:"auth/user/authority/"+re.username,method:"GET",headers:{Authorization:"Bearer "+Ae.access_token}};or(oe).then(function(H){v.authorities=H.data})},E=re=>{re.locked=="true"?re.locked="false":re.locked="true";const oe={baseURL:Xt.authUrl,url:"auth/user",method:"POST",data:re,headers:{Authorization:"Bearer "+Ae.access_token}};or(oe).then(function(H){H.status==200&&O()})},I=()=>{X.length<1?ri.alert("please select someone to update"):X.length>1?ri.alert("dont support batch update"):(bs.email=X[0].email,bs.nickName=X[0].nickName,bs.password=X[0].password,o.value=!0)},O=async()=>{wt.userTable=!0,Wo.users=await h8(n.pageNumber-1,n.pageSize,n.order)},N=re=>{n.pageNumber=re,O()},G=re=>{n.pageSize=re,O()},ie=re=>{i.pageNumber=re},W=re=>{i.pageSize=re},q=re=>{s.pageNumber=re},J=re=>{s.pageSize=re},X=[],R=ve([]),z=re=>{R.value=re,X.splice(0,X.length);for(let oe of R.value)X.push(oe)};return(re,oe)=>(me(),$e(Sr,null,[F(_(ca),{modelValue:_(wt).userTable,"onUpdate:modelValue":oe[1]||(oe[1]=H=>_(wt).userTable=H),width:_(wt).dialogWidth},{default:te(()=>[F(_(Bn),{type:"",onClick:oe[0]||(oe[0]=H=>I())},{default:te(()=>oe[10]||(oe[10]=[Et("update")])),_:1}),F(_(Eu),{data:_(Wo).users,onSelectionChange:z},{default:te(()=>[F(_(Ui),{type:"selection"}),F(_(Ui),{property:"username",label:"username"}),F(_(Ui),{property:"nickName",label:"nick"}),F(_(Ui),{property:"email",label:"email",width:"auto"}),F(_(Ui),{property:"password",label:"password"}),F(_(Ui),{property:"createTime",label:"createTime"}),F(_(Ui),{property:"updateTime",label:"updateTime"}),F(_(Ui),{label:"userInfo"},{default:te(H=>[F(_(Bn),{size:"small",type:"info",onClick:ee=>(_(qI)(H.row.username),_(wt).userInfoForm=!0)},{default:te(()=>oe[11]||(oe[11]=[Et("detail")])),_:2},1032,["onClick"])]),_:1}),F(_(Ui),{label:"permissions"},{default:te(H=>[F(_(Bn),{size:"small",type:"info",onClick:ee=>A(H.row)},{default:te(()=>oe[12]||(oe[12]=[Et("authorities")])),_:2},1032,["onClick"])]),_:1}),F(_(Ui),{label:"groups"},{default:te(H=>[F(_(Bn),{size:"small",type:"info",onClick:ee=>T(H.row)},{default:te(()=>oe[13]||(oe[13]=[Et("groups")])),_:2},1032,["onClick"])]),_:1}),F(_(Ui),{label:"Operations"},{default:te(H=>[F(_(Bn),{size:"small",type:"danger",onClick:ee=>E(H.row)},{default:te(()=>[H.row.locked=="false"?(me(),$e("span",nJe,"lock")):gt("",!0),H.row.locked=="true"?(me(),$e("span",iJe,"unlock")):gt("",!0)]),_:2},1032,["onClick"]),F(_(Bn),{size:"small",type:"",onClick:ee=>b(H.row)},{default:te(()=>oe[14]||(oe[14]=[Et("alloacte authority")])),_:2},1032,["onClick"]),F(_(Bn),{size:"small",type:"",onClick:ee=>p(H.row)},{default:te(()=>oe[15]||(oe[15]=[Et("alloacte group")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),F(_(Wg),{layout:"prev, pager, next, sizes",total:50,"current-page":n.pageNumber,"page-size":n.pageSize,"onUpdate:currentPage":N,"onUpdate:pageSize":G},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),F(_(ca),{modelValue:_(o),"onUpdate:modelValue":oe[7]||(oe[7]=H=>qr(o)?o.value=H:null),width:_(wt).dialogWidth},{footer:te(()=>[Ue("span",sJe,[F(_(Bn),{onClick:oe[5]||(oe[5]=H=>o.value=!1)},{default:te(()=>oe[16]||(oe[16]=[Et("Cancel")])),_:1}),F(_(Bn),{type:"primary",onClick:oe[6]||(oe[6]=H=>_(xJ)(_(bs),X[0].username))},{default:te(()=>oe[17]||(oe[17]=[Et(" Confirm ")])),_:1})])]),default:te(()=>[F(_(Pc),{model:_(bs)},{default:te(()=>[F(_(da),{label:"email","label-width":_(wt).labelWidth},{default:te(()=>[F(_(ji),{modelValue:_(bs).email,"onUpdate:modelValue":oe[2]||(oe[2]=H=>_(bs).email=H)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(_(da),{label:"nickName","label-width":_(wt).labelWidth},{default:te(()=>[F(_(ji),{modelValue:_(bs).nickName,"onUpdate:modelValue":oe[3]||(oe[3]=H=>_(bs).nickName=H)},null,8,["modelValue"])]),_:1},8,["label-width"]),F(_(da),{label:"password","label-width":_(wt).labelWidth},{default:te(()=>[F(_(ji),{modelValue:_(bs).password,"onUpdate:modelValue":oe[4]||(oe[4]=H=>_(bs).password=H)},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue","width"]),F(Wse,{ref_key:"group",ref:e},null,512),F(qse,{ref_key:"authority",ref:r},null,512),F(_(ca),{modelValue:_(a),"onUpdate:modelValue":oe[8]||(oe[8]=H=>qr(a)?a.value=H:null),width:_(wt).dialogWidth},{default:te(()=>[F(_(Eu),{data:_(v).authorities},{default:te(()=>[F(_(Ui),{property:"authority",label:"authority",width:"auto"}),F(_(Ui),{label:"Operations"},{default:te(H=>[F(_(Bn),{size:"small",type:"danger",onClick:ee=>C(H.index,H.row)},{default:te(()=>oe[18]||(oe[18]=[Et("delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),F(_(Wg),{layout:"prev, pager, next, sizes",total:50,"current-page":s.pageNumber,"page-size":s.pageSize,"onUpdate:currentPage":q,"onUpdate:pageSize":J},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"]),F(_(ca),{modelValue:_(l),"onUpdate:modelValue":oe[9]||(oe[9]=H=>qr(l)?l.value=H:null),width:_(wt).dialogWidth},{default:te(()=>[F(_(Eu),{data:_(v).groups},{default:te(()=>[F(_(Ui),{property:"groupName",label:"groupName",width:"auto"}),F(_(Ui),{label:"Operations"},{default:te(H=>[F(_(Bn),{size:"small",type:"danger",onClick:ee=>S(H.index,H.row)},{default:te(()=>oe[19]||(oe[19]=[Et("delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),F(_(Wg),{layout:"prev, pager, next, sizes",total:50,"current-page":i.pageNumber,"page-size":i.pageSize,"onUpdate:currentPage":ie,"onUpdate:pageSize":W},null,8,["current-page","page-size"])]),_:1},8,["modelValue","width"])],64))}}),aJe=rt({__name:"Dashboard",setup(t){const e=ve(null),r=ve(null),n=ve(null),i=ve(null),s=ve(null),o=ve(null),a=ve(!0),l=ve(!1),u=[],d=()=>{const A=[];A.push(Xt.apiUrl),A.push(Xt.authUrl),A.push(Xt.storageUrl),A.push(Xt.messageUrl),f.statuses=[];for(let E of A)or({baseURL:E,url:"/actuator/health",method:"GET",headers:{}}).then(function(O){if(O.data.status=="UP"){const N={service:E,status:"online"};f.statuses.push(N)}else{const N={service:E,status:"offline"};f.statuses.push(N)}}).catch(function(O){const N={service:E,status:"offline"};f.statuses.push(N)})},f=an({statuses:u}),h=()=>{var A;(A=e.value)==null||A.ipList()},g=()=>{var A;(A=r.value)==null||A.recordList("1")},v=()=>{var A;(A=r.value)==null||A.recordList("0")},p=()=>{var A;(A=n.value)==null||A.authClientList()},b=()=>{var A;(A=n.value)==null||A.authClientRegisterList()},S=()=>{var A;(A=i.value)==null||A.groupList()},C=()=>{var A;(A=s.value)==null||A.authorityList()},T=A=>{window.open("https://"+A+".elpsykongroo.com")};return(A,E)=>{const I=Rr,O=VCe,N=UCe,G=HCe,ie=zCe,W=Bm,q=Yn("router-view"),J=tTe,X=eTe,R=Bn,z=Ui,re=Eu,oe=ca;return me(),$e(Sr,null,[F(X,{class:"layout-container-demo",style:{height:"100%"}},{default:te(()=>[F(W,null,{default:te(()=>[F(N,{class:"el-menu-vertical-demo",collapse:a.value,router:!1},{default:te(()=>[F(O,{index:"0"},{default:te(()=>[a.value?(me(),Ct(I,{key:0,onClick:E[0]||(E[0]=H=>a.value=!1)},{default:te(()=>[F(_(Eye))]),_:1})):gt("",!0),a.value?gt("",!0):(me(),Ct(I,{key:1,onClick:E[1]||(E[1]=H=>a.value=!0)},{default:te(()=>[F(_(Pye))]),_:1}))]),_:1})]),_:1},8,["collapse"]),F(N,{class:"el-menu-vertical-demo",collapse:a.value,router:!0},{default:te(()=>[F(G,{index:"1"},{title:te(()=>[F(I,null,{default:te(()=>[F(_(Nye))]),_:1}),E[20]||(E[20]=Ue("span",null,"Dashboard",-1))]),default:te(()=>[F(G,{index:"1-1"},{title:te(()=>E[21]||(E[21]=[Ue("span",null,"inside",-1)])),default:te(()=>[F(O,{index:"1-1-1",route:"kubernetes"},{default:te(()=>E[22]||(E[22]=[Et("Dash")])),_:1}),F(O,{index:"1-1-2",route:"harbor"},{default:te(()=>E[23]||(E[23]=[Et("Harbor")])),_:1}),F(O,{index:"1-1-3",route:"kafka"},{default:te(()=>E[24]||(E[24]=[Et("Kafka")])),_:1}),F(O,{index:"1-1-4",route:"kibana"},{default:te(()=>E[25]||(E[25]=[Et("Kibana")])),_:1})]),_:1}),F(G,{index:"1-2"},{title:te(()=>E[26]||(E[26]=[Ue("span",null,"outside",-1)])),default:te(()=>[F(O,{index:"1-2-1",onClick:E[2]||(E[2]=H=>T("linkerd"))},{default:te(()=>E[27]||(E[27]=[Et("Linkerd")])),_:1}),F(O,{index:"1-2-2",onClick:E[3]||(E[3]=H=>T("minio"))},{default:te(()=>E[28]||(E[28]=[Et("Minio")])),_:1}),F(O,{index:"1-2-3",onClick:E[4]||(E[4]=H=>T("argocd"))},{default:te(()=>E[29]||(E[29]=[Et("Argocd")])),_:1}),F(O,{index:"1-2-4",onClick:E[5]||(E[5]=H=>T("vault"))},{default:te(()=>E[30]||(E[30]=[Et("Vault")])),_:1})]),_:1})]),_:1})]),_:1},8,["collapse"]),F(N,{class:"el-menu-vertical-demo",collapse:a.value},{default:te(()=>[F(G,{index:"2"},{title:te(()=>[F(I,null,{default:te(()=>[F(_(Wye))]),_:1}),E[31]||(E[31]=Ue("span",null,"Gateway",-1))]),default:te(()=>[F(ie,null,{default:te(()=>[F(O,{index:"2-1",onClick:E[6]||(E[6]=H=>h())},{default:te(()=>E[32]||(E[32]=[Et("ip")])),_:1})]),_:1}),F(G,{index:"2-2"},{title:te(()=>E[33]||(E[33]=[Ue("span",null,"record",-1)])),default:te(()=>[F(O,{index:"2-2-1",onClick:E[7]||(E[7]=H=>g())},{default:te(()=>E[34]||(E[34]=[Et("Asc")])),_:1}),F(O,{index:"2-2-2",onClick:E[8]||(E[8]=H=>v())},{default:te(()=>E[35]||(E[35]=[Et("Desc")])),_:1})]),_:1}),F(G,{index:"2-3"},{title:te(()=>E[36]||(E[36]=[Ue("span",null,"oauth2",-1)])),default:te(()=>[F(O,{index:"2-3-1",onClick:E[9]||(E[9]=H=>p())},{default:te(()=>E[37]||(E[37]=[Et("client")])),_:1}),F(O,{index:"2-3-2",onClick:E[10]||(E[10]=H=>b())},{default:te(()=>E[38]||(E[38]=[Et("register")])),_:1})]),_:1}),F(G,{index:"2-4"},{title:te(()=>E[39]||(E[39]=[Ue("span",null,"permission",-1)])),default:te(()=>[F(O,{index:"2-4-1",onClick:E[11]||(E[11]=H=>(_(wt).userTable=!0,_(h8)(0,10,0)))},{default:te(()=>E[40]||(E[40]=[Et("user")])),_:1}),F(O,{index:"2-4-2",onClick:E[12]||(E[12]=H=>S())},{default:te(()=>E[41]||(E[41]=[Et("group")])),_:1}),F(O,{index:"2-4-3",onClick:E[13]||(E[13]=H=>C())},{default:te(()=>E[42]||(E[42]=[Et("authority")])),_:1})]),_:1})]),_:1}),F(G,{index:"3"},{title:te(()=>[F(I,null,{default:te(()=>[F(_(Uye))]),_:1}),E[43]||(E[43]=Ue("span",null,"Message",-1))]),default:te(()=>[F(ie,null,{default:te(()=>[F(O,{index:"3-1",onClick:E[14]||(E[14]=H=>(_(wt).noticeTable=!0,_(GI)([],"")))},{default:te(()=>E[44]||(E[44]=[Et("notification")])),_:1}),F(O,{index:"3-2",onClick:E[15]||(E[15]=H=>(_(wt).topicTable=!0,_(WI)()))},{default:te(()=>E[45]||(E[45]=[Et("topic")])),_:1})]),_:1})]),_:1}),F(O,{index:"4"},{title:te(()=>E[46]||(E[46]=[Ue("span",null,"status",-1)])),default:te(()=>[F(I,{onClick:E[16]||(E[16]=H=>(l.value=!0,d()))},{default:te(()=>[F(_(Xye))]),_:1})]),_:1}),_(Ae).expires_in>0?(me(),Ct(O,{key:0,index:"5"},{title:te(()=>[Et(cr(_(Ae).expires_in)+"s",1)]),default:te(()=>[F(I,null,{default:te(()=>[F(_(l_e))]),_:1})]),_:1})):gt("",!0),F(O,{index:"5-1"},{default:te(()=>[F(I,{onClick:E[17]||(E[17]=H=>_(pJ)())},{default:te(()=>[F(_(o_e))]),_:1})]),_:1})]),_:1},8,["collapse"])]),_:1}),F(oJe,{ref_key:"user",ref:o},null,512),F(Gse,{ref_key:"ip",ref:e},null,512),F(ZQe,{ref_key:"record",ref:r},null,512),F(eJe,{ref_key:"authClient",ref:n},null,512),F(Wse,{ref_key:"group",ref:i},null,512),F(qse,{ref_key:"authority",ref:s},null,512),F(X,null,{default:te(()=>[F(J,null,{default:te(()=>[F(q,{ref:"iframeView"},null,512)]),_:1})]),_:1})]),_:1}),F(oe,{modelValue:l.value,"onUpdate:modelValue":E[19]||(E[19]=H=>l.value=H),width:_(wt).dialogWidth},{default:te(()=>[F(R,{type:"",onClick:E[18]||(E[18]=H=>d())},{default:te(()=>E[47]||(E[47]=[Et("refresh")])),_:1}),F(re,{data:_(f).statuses},{default:te(()=>[F(z,{property:"service",label:"service"}),F(z,{property:"status",label:"status"})]),_:1},8,["data"])]),_:1},8,["modelValue","width"])],64)}}});const Xse=X1(aJe,[["__scopeId","data-v-83783d20"]]);const lJe=["href"],uJe=rt({__name:"ClockIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0}},setup(t){const e=t,r=pe(()=>`#${e.prefix}-${e.name}`);return(n,i)=>(me(),$e("svg",null,[Ue("use",{href:r.value,class:"nixie-number-part"},null,8,lJe)]))}}),cJe={class:"hidden-md-and-down"},dJe={id:"nixietube-template",style:{display:"none"}},fJe={id:"nixie-tube-[order]",class:"nixie-container"},hJe=rt({__name:"Clock",setup(t){function e(){var A;for(var n=new Date,i=n.getHours(),s=n.getMinutes(),o=n.getSeconds(),a=Math.floor(i/10),l=i-10*a,u=Math.floor(s/10),d=s-10*u,f=Math.floor(o/10),h=o-10*f,g=[a,l,u,d,f,h],v=0;v<6;v++){var p=g[v],b="#nixie-tube-"+v,S=document.querySelectorAll(b+" .nixie-number"),C=b+" .nixie-number-"+p,T=document.querySelector(b+" .nixie-background");S.forEach(function(E){E.classList.contains("active")&&E.classList.remove("active")}),T!=null&&T.classList.contains("active")&&(T==null||T.classList.remove("active")),(A=document.querySelector(C))==null||A.classList.add("active"),T==null||T.classList.add("active")}}document.addEventListener("DOMContentLoaded",function(){r(6,2),e(),setInterval(e,1e3)});function r(n,i){var u,d,f;for(var s=(u=document.getElementById("nixietube-template"))==null?void 0:u.innerHTML,o,a="<div class='white-space'></div>",l=0;l<n;)i>0&&l%i==0&&l>0&&((d=document.getElementById("clock-surface"))==null||d.insertAdjacentHTML("beforeend",a)),o=s==null?void 0:s.replace("[order]",l+""),(f=document.getElementById("clock-surface"))==null||f.insertAdjacentHTML("beforeend",o),l++}return(n,i)=>{const s=uJe;return me(),$e("div",cJe,[i[1]||(i[1]=Ue("div",{id:"top-blank"},null,-1)),Ue("div",dJe,[Ue("div",fJe,[i[0]||(i[0]=Ue("div",{class:"nixie-background"},null,-1)),F(s,{class:"nixie-number nixie-number-0",name:"clock-0"}),F(s,{class:"nixie-number nixie-number-1",name:"clock-1"}),F(s,{class:"nixie-number nixie-number-2",name:"clock-2"}),F(s,{class:"nixie-number nixie-number-3",name:"clock-3"}),F(s,{class:"nixie-number nixie-number-4",name:"clock-4"}),F(s,{class:"nixie-number nixie-number-5",name:"clock-5"}),F(s,{class:"nixie-number nixie-number-6",name:"clock-6"}),F(s,{class:"nixie-number nixie-number-7",name:"clock-7"}),F(s,{class:"nixie-number nixie-number-8",name:"clock-8"}),F(s,{class:"nixie-number nixie-number-9",name:"clock-9"})])]),i[2]||(i[2]=Ue("div",{id:"clock-surface"},null,-1))])}}});const pJe={class:"hidden-md-and-up"},mJe=rt({__name:"Home",setup(t){return(e,r)=>{const n=hJe,i=Xse;return me(),$e(Sr,null,[F(n),Ue("div",pJe,[_(Ae).permission!=null&&_(Ae).permission.includes("admin")?(me(),Ct(i,{key:0})):gt("",!0)])],64)}}});(function(){var he=!0;function t(){he||(this._$MT=null,this._$5S=null,this._$NP=0,t._$42++,this._$5S=new be(this))}t._$0s=1,t._$4s=2,t._$42=0,t._$62=function(w,k){try{if(k instanceof ArrayBuffer&&(k=new DataView(k)),!(k instanceof DataView))throw new yt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var U=new He(k),de=U._$ST(),ye=U._$ST(),ue=U._$ST(),ke;if(de==109&&ye==111&&ue==99)ke=U._$ST();else throw new yt("_$gi _$C _$li , _$Q0 _$P0.");if(U._$gr(ke),ke>ae._$T7){w._$NP|=t._$4s;var De=ae._$T7,we="_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+De+" < _$f0 : "+ke+` )@_$SS#loadModel()
`;throw new yt(we)}var Be=U._$nP();if(ke>=ae._$s7){var it=U._$9T(),at=U._$9T();if(it!=-30584||at!=-30584)throw w._$NP|=t._$0s,new yt("_$gi _$C _$li , _$0 _$6 _$Ui.")}w._$KS(Be);var ft=w.getModelContext();ft.setDrawParam(w.getDrawParam()),ft.init()}catch(Nt){o._$Rb(Nt)}},t.prototype._$KS=function(w){this._$MT=w},t.prototype.getModelImpl=function(){return this._$MT==null&&(this._$MT=new h,this._$MT._$zP()),this._$MT},t.prototype.getCanvasWidth=function(){return this._$MT==null?0:this._$MT.getCanvasWidth()},t.prototype.getCanvasHeight=function(){return this._$MT==null?0:this._$MT.getCanvasHeight()},t.prototype.getParamFloat=function(w){return typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),this._$5S.getParamFloat(w)},t.prototype.setParamFloat=function(w,k,U){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(U=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)*(1-U)+k*U)},t.prototype.addToParamFloat=function(w,k,U){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(U=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)+k*U)},t.prototype.multParamFloat=function(w,k,U){typeof w!="number"&&(w=this._$5S.getParamIndex(f.getID(w))),arguments.length<3&&(U=1),this._$5S.setParamFloat(w,this._$5S.getParamFloat(w)*(1+(k-1)*U))},t.prototype.getParamIndex=function(w){return this._$5S.getParamIndex(f.getID(w))},t.prototype.loadParam=function(){this._$5S.loadParam()},t.prototype.saveParam=function(){this._$5S.saveParam()},t.prototype.init=function(){this._$5S.init()},t.prototype.update=function(){this._$5S.update()},t.prototype._$Rs=function(){return o._$li("_$60 _$PT _$Rs()"),-1},t.prototype._$Ds=function(w){o._$li(`_$60 _$PT _$SS#_$Ds() 
`)},t.prototype._$K2=function(){},t.prototype.draw=function(){},t.prototype.getModelContext=function(){return this._$5S},t.prototype._$s2=function(){return this._$NP},t.prototype._$P7=function(w,k,U,de){var ye=-1,ue=0,ke=this,De=.5,we=.15;if(U==0){for(var Be=0;Be<w.length;Be++){var it=w[Be],at=k[Be],ft=ke.getParamFloat(it)!=0;ke.setPartsOpacity(at,ft?1:0)}return}else if(w.length==1){var it=w[0],Nt=ke.getParamFloat(it)!=0,at=k[0],Xe=ke.getPartsOpacity(at),qe=U/de;Nt?(Xe+=qe,Xe>1&&(Xe=1)):(Xe-=qe,Xe<0&&(Xe=0)),ke.setPartsOpacity(at,Xe)}else{for(var Be=0;Be<w.length;Be++){var it=w[Be],ft=ke.getParamFloat(it)!=0;if(ft){if(ye>=0)break;ye=Be;var at=k[Be];ue=ke.getPartsOpacity(at),ue+=U/de,ue>1&&(ue=1)}}ye<0&&(console.log("No _$wi _$q0/ _$U default[%s]",w[0]),ye=0,ue=1,ke.loadParam(),ke.setParamFloat(w[ye],ue),ke.saveParam());for(var Be=0;Be<w.length;Be++){var at=k[Be];if(ye==Be)ke.setPartsOpacity(at,ue);else{var Mt=ke.getPartsOpacity(at),Lt;ue<De?Lt=ue*(De-1)/De+1:Lt=(1-ue)*De/(1-De);{var Gt=(1-Lt)*(1-ue);Gt>we&&(Lt=1-we/(1-ue))}Mt>Lt&&(Mt=Lt),ke.setPartsOpacity(at,Mt)}}}},t.prototype.setPartsOpacity=function(w,k){typeof w!="number"&&(w=this._$5S.getPartsDataIndex(u.getID(w))),this._$5S.setPartsOpacity(w,k)},t.prototype.getPartsDataIndex=function(w){return w instanceof u||(w=u.getID(w)),this._$5S.getPartsDataIndex(w)},t.prototype.getPartsOpacity=function(w){return typeof w!="number"&&(w=this._$5S.getPartsDataIndex(u.getID(w))),w<0?0:this._$5S.getPartsOpacity(w)},t.prototype.getDrawParam=function(){},t.prototype.getDrawDataIndex=function(w){return this._$5S.getDrawDataIndex(re.getID(w))},t.prototype.getDrawData=function(w){return this._$5S.getDrawData(w)},t.prototype.getTransformedPoints=function(w){var k=this._$5S._$C2(w);return k instanceof Er?k.getTransformedPoints():null},t.prototype.getIndexArray=function(w){if(w<0||w>=this._$5S._$aS.length)return null;var k=this._$5S._$aS[w];return k!=null&&k.getType()==ze._$wb&&k instanceof Pt?k.getIndexArray():null};function e(w){if(!he){this.clipContextList=new Array,this.glcontext=w.gl,this.dp_webgl=w,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new E,lt.glContext.length>lt.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new z,this.tmpMatrix2=new z,this.tmpMatrixForMask=new z,this.tmpMatrixForDraw=new z,this.CHANNEL_COLORS=new Array;var k=new ie;k=new ie,k.r=0,k.g=0,k.b=0,k.a=1,this.CHANNEL_COLORS.push(k),k=new ie,k.r=1,k.g=0,k.b=0,k.a=0,this.CHANNEL_COLORS.push(k),k=new ie,k.r=0,k.g=1,k.b=0,k.a=0,this.CHANNEL_COLORS.push(k),k=new ie,k.r=0,k.g=0,k.b=1,k.a=0,this.CHANNEL_COLORS.push(k);for(var U=0;U<this.CHANNEL_COLORS.length;U++)this.dp_webgl.setChannelFlagAsColor(U,this.CHANNEL_COLORS[U])}}e.CHANNEL_COUNT=4,e.RENDER_TEXTURE_USE_MIPMAP=!1,e.NOT_USED_FRAME=-100,e.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var w=this.CHANNEL_COLORS.length-1;w>=0;--w)this.CHANNEL_COLORS.splice(w,1);this.CHANNEL_COLORS=[]}this.releaseShader()},e.prototype.releaseShader=function(){for(var w=lt.frameBuffers.length,k=0;k<w;k++)this.gl.deleteFramebuffer(lt.frameBuffers[k].framebuffer);lt.frameBuffers=[],lt.glContext=[]},e.prototype.init=function(w,k,U){for(var de=0;de<k.length;de++){var ye=k[de].getClipIDList();if(ye!=null){var ue=this.findSameClip(ye);ue==null&&(ue=new r(this,w,ye),this.clipContextList.push(ue));var ke=k[de].getDrawDataID(),De=w.getDrawDataIndex(ke);ue.addClippedDrawData(ke,De);var we=U[de];we.clipBufPre_clipContext=ue}}},e.prototype.getMaskRenderTexture=function(){var w=null;return w=this.dp_webgl.createFramebuffer(),lt.frameBuffers[this.dp_webgl.glno]=w,this.dp_webgl.glno},e.prototype.setupClip=function(w,k){for(var U=0,de=0;de<this.clipContextList.length;de++){var ye=this.clipContextList[de];this.calcClippedDrawTotalBounds(w,ye),ye.isUsing&&U++}if(U>0){var ue=k.gl.getParameter(k.gl.FRAMEBUFFER_BINDING),ke=new Array(4);ke[0]=0,ke[1]=0,ke[2]=k.gl.canvas.width,ke[3]=k.gl.canvas.height,k.gl.viewport(0,0,lt.clippingMaskBufferSize,lt.clippingMaskBufferSize),this.setupLayoutBounds(U),k.gl.bindFramebuffer(k.gl.FRAMEBUFFER,lt.frameBuffers[this.curFrameNo].framebuffer),k.gl.clearColor(0,0,0,0),k.gl.clear(k.gl.COLOR_BUFFER_BIT);for(var de=0;de<this.clipContextList.length;de++){var ye=this.clipContextList[de],De=ye.allClippedDrawRect;ye.layoutChannelNo;var we=ye.layoutBounds,Be=.05;this.tmpBoundsOnModel._$jL(De),this.tmpBoundsOnModel.expand(De.width*Be,De.height*Be);var it=we.width/this.tmpBoundsOnModel.width,at=we.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(we.x,we.y,0),this.tmpMatrix2.scale(it,at,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(we.x,we.y,0),this.tmpMatrix2.scale(it,at,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var ft=this.tmpMatrixForMask.getArray(),Nt=0;Nt<16;Nt++)ye.matrixForMask[Nt]=ft[Nt];for(var Xe=this.tmpMatrixForDraw.getArray(),Nt=0;Nt<16;Nt++)ye.matrixForDraw[Nt]=Xe[Nt];for(var qe=ye.clippingMaskDrawIndexList.length,Mt=0;Mt<qe;Mt++){var Lt=ye.clippingMaskDrawIndexList[Mt],Gt=w.getDrawData(Lt),Zt=w._$C2(Lt);k.setClipBufPre_clipContextForMask(ye),Gt.draw(k,w,Zt)}}k.gl.bindFramebuffer(k.gl.FRAMEBUFFER,ue),k.setClipBufPre_clipContextForMask(null),k.gl.viewport(ke[0],ke[1],ke[2],ke[3])}},e.prototype.getColorBuffer=function(){return this.colorBuffer},e.prototype.findSameClip=function(w){for(var k=0;k<this.clipContextList.length;k++){var U=this.clipContextList[k],de=U.clipIDList.length;if(de==w.length){for(var ye=0,ue=0;ue<de;ue++)for(var ke=U.clipIDList[ue],De=0;De<de;De++)if(w[De]==ke){ye++;break}if(ye==de)return U}}return null},e.prototype.calcClippedDrawTotalBounds=function(w,k){for(var U=w._$Ri.getModelImpl().getCanvasWidth(),de=w._$Ri.getModelImpl().getCanvasHeight(),ye=U>de?U:de,ue=ye,ke=ye,De=0,we=0,Be=k.clippedDrawContextList.length,it=0;it<Be;it++){var at=k.clippedDrawContextList[it],ft=at.drawDataIndex,Nt=w._$C2(ft);if(Nt._$yo()){for(var Xe=Nt.getTransformedPoints(),qe=Xe.length,Mt=[],Lt=[],Gt=0,Zt=ee._$i2;Zt<qe;Zt+=ee._$No)Mt[Gt]=Xe[Zt],Lt[Gt]=Xe[Zt+1],Gt++;var Or=Math.min.apply(null,Mt),fr=Math.min.apply(null,Lt),_e=Math.max.apply(null,Mt),ar=Math.max.apply(null,Lt);Or<ue&&(ue=Or),fr<ke&&(ke=fr),_e>De&&(De=_e),ar>we&&(we=ar)}}if(ue==ye)k.allClippedDrawRect.x=0,k.allClippedDrawRect.y=0,k.allClippedDrawRect.width=0,k.allClippedDrawRect.height=0,k.isUsing=!1;else{var Jt=De-ue,Hn=we-ke;k.allClippedDrawRect.x=ue,k.allClippedDrawRect.y=ke,k.allClippedDrawRect.width=Jt,k.allClippedDrawRect.height=Hn,k.isUsing=!0}},e.prototype.setupLayoutBounds=function(w){var k=w/e.CHANNEL_COUNT,U=w%e.CHANNEL_COUNT;k=~~k,U=~~U;for(var de=0,ye=0;ye<e.CHANNEL_COUNT;ye++){var ue=k+(ye<U?1:0);if(ue!=0)if(ue==1){var ke=this.clipContextList[de++];ke.layoutChannelNo=ye,ke.layoutBounds.x=0,ke.layoutBounds.y=0,ke.layoutBounds.width=1,ke.layoutBounds.height=1}else if(ue==2)for(var De=0;De<ue;De++){var we=De%2,Be=0;we=~~we;var ke=this.clipContextList[de++];ke.layoutChannelNo=ye,ke.layoutBounds.x=we*.5,ke.layoutBounds.y=0,ke.layoutBounds.width=.5,ke.layoutBounds.height=1}else if(ue<=4)for(var De=0;De<ue;De++){var we=De%2,Be=De/2;we=~~we,Be=~~Be;var ke=this.clipContextList[de++];ke.layoutChannelNo=ye,ke.layoutBounds.x=we*.5,ke.layoutBounds.y=Be*.5,ke.layoutBounds.width=.5,ke.layoutBounds.height=.5}else if(ue<=9)for(var De=0;De<ue;De++){var we=De%3,Be=De/3;we=~~we,Be=~~Be;var ke=this.clipContextList[de++];ke.layoutChannelNo=ye,ke.layoutBounds.x=we/3,ke.layoutBounds.y=Be/3,ke.layoutBounds.width=1/3,ke.layoutBounds.height=1/3}else o._$li("_$6 _$0P mask count : %d",ue)}};function r(w,k,U){this.clipIDList=new Array,this.clipIDList=U,this.clippingMaskDrawIndexList=new Array;for(var de=0;de<U.length;de++)this.clippingMaskDrawIndexList.push(k.getDrawDataIndex(U[de]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new E,this.allClippedDrawRect=new E,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=w}r.prototype.addClippedDrawData=function(w,k){var U=new n(w,k);this.clippedDrawContextList.push(U)};function n(w,k){this._$gP=w,this.drawDataIndex=k}function i(){he||(this.color=null)}function s(){he||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}s._$JT=function(w,k,U){var de=w/k,ye=U/k,ue=ye,ke=1/3,De=2/3,we=1-(1-ye)*(1-ye),Be=1-(1-ue)*(1-ue),it=0,at=(1-ye)*ke*we+(ue*De+(1-ue)*ke)*(1-we),ft=(ue+(1-ue)*De)*Be+(ye*ke+(1-ye)*De)*(1-Be),Nt=1,Xe=Nt-3*ft+3*at-it,qe=3*ft-6*at+3*it,Mt=3*at-3*it,Lt=it;if(de<=0)return 0;if(de>=1)return 1;var Gt=de,Zt=Gt*Gt,Or=Gt*Zt,fr=Xe*Or+qe*Zt+Mt*Gt+Lt;return fr},s.prototype._$a0=function(){},s.prototype.setFadeIn=function(w){this._$dP=w},s.prototype.setFadeOut=function(w){this._$eo=w},s.prototype._$pT=function(w){this._$V0=w},s.prototype.getFadeOut=function(){return this._$eo},s.prototype._$4T=function(){return this._$eo},s.prototype._$mT=function(){return this._$V0},s.prototype.getDurationMSec=function(){return-1},s.prototype.getLoopDurationMSec=function(){return-1},s.prototype.updateParam=function(w,k){if(!(!k._$AT||k._$9L)){var U=q.getUserTimeMSec();if(k._$z2<0){k._$z2=U,k._$bs=U;var de=this.getDurationMSec();k._$Do<0&&(k._$Do=de<=0?-1:k._$z2+de)}var ye=this._$V0,ue=this._$dP==0?1:kt._$r2((U-k._$bs)/this._$dP),ke=this._$eo==0||k._$Do<0?1:kt._$r2((k._$Do-U)/this._$eo);ye=ye*ue*ke,0<=ye&&ye<=1||console.log("### assert!! ### "),this.updateParamExe(w,U,ye,k),k._$Do>0&&k._$Do<U&&(k._$9L=!0)}},s.prototype.updateParamExe=function(w,k,U,de){};function o(){}o._$8s=0,o._$fT=new Object,o.start=function(w){var k=o._$fT[w];k==null&&(k=new a,k._$r=w,o._$fT[w]=k),k._$0S=q.getSystemTimeMSec()},o.dump=function(w){var k=o._$fT[w];if(k!=null){var U=q.getSystemTimeMSec(),de=U-k._$0S;return console.log(w+" : "+de+"ms"),de}else return-1},o.end=function(w){var k=o._$fT[w];if(k!=null){var U=q.getSystemTimeMSec();return U-k._$0S}else return-1},o._$li=function(w,k){console.log("_$li : "+w+`
`,k)},o._$Ji=function(w,k){console.log(w,k)},o._$dL=function(w,k){console.log(w,k),console.log(`
`)},o._$KL=function(w,k){for(var U=0;U<k;U++)U%16==0&&U>0?console.log(`
`):U%8==0&&U>0&&console.log("  "),console.log("%02X ",w[U]&255);console.log(`
`)},o._$nr=function(w,k,U){console.log(`%s
`,w);for(var de=k.length,ye=0;ye<de;++ye)console.log("%5d",k[ye]),console.log(`%s
`,U),console.log(",");console.log(`
`)},o._$Rb=function(w){console.log("dump exception : "+w),console.log("stack :: "+w.stack)};function a(){this._$r=null,this._$0S=null}function l(){he||(this.x=null,this.y=null,this.width=null,this.height=null)}l.prototype._$8P=function(){return .5*(this.x+this.x+this.width)},l.prototype._$6P=function(){return .5*(this.y+this.y+this.height)},l.prototype._$EL=function(){return this.x+this.width},l.prototype._$5T=function(){return this.y+this.height},l.prototype._$jL=function(w,k,U,de){this.x=w,this.y=k,this.width=U,this.height=de},l.prototype._$jL=function(w){this.x=w.x,this.y=w.y,this.width=w.width,this.height=w.height};function u(w){he||St.prototype.constructor.call(this,w)}u.prototype=new St,u._$tP=new Object,u._$27=function(){u._$tP.clear()},u.getID=function(w){var k=u._$tP[w];return k==null&&(k=new u(w),u._$tP[w]=k),k},u.prototype._$3s=function(){return new u};function d(){}function f(w){he||St.prototype.constructor.call(this,w)}f.prototype=new St,f._$tP=new Object,f._$27=function(){f._$tP.clear()},f.getID=function(w){var k=f._$tP[w];return k==null&&(k=new f(w),f._$tP[w]=k),k},f.prototype._$3s=function(){return new f};function h(){he||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,h._$42++)}h._$42=0,h.prototype._$zP=function(){this._$vo==null&&(this._$vo=new Dt),this._$F2==null&&(this._$F2=new Array)},h.prototype.getCanvasWidth=function(){return this._$ao},h.prototype.getCanvasHeight=function(){return this._$1S},h.prototype._$F0=function(w){this._$vo=w._$nP(),this._$F2=w._$nP(),this._$ao=w._$6L(),this._$1S=w._$6L()},h.prototype._$6S=function(w){this._$F2.push(w)},h.prototype._$Xr=function(){return this._$F2},h.prototype._$E2=function(){return this._$vo};function g(){he||(this.p1=new v,this.p2=new v,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}g.prototype.setup=function(w,k,U){this._$ks=this._$Yb(),this.p2._$xT(),arguments.length==3&&(this._$Fo=w,this._$L2=k,this.p1._$p=U,this.p2._$p=U,this.p2.y=w,this.setup())},g.prototype.getPhysicsPoint1=function(){return this.p1},g.prototype.getPhysicsPoint2=function(){return this.p2},g.prototype._$qr=function(){return this._$Db},g.prototype._$pr=function(w){this._$Db=w},g.prototype._$5r=function(){return this._$M2},g.prototype._$Cs=function(){return this._$9b},g.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},g.prototype.addSrcParam=function(w,k,U,de){var ye=new b(w,k,U,de);this._$lL.push(ye)},g.prototype.addTargetParam=function(w,k,U,de){var ye=new C(w,k,U,de);this._$qP.push(ye)},g.prototype.update=function(w,k){if(this._$iP==0){this._$iP=this._$iT=k,this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));return}var U=(k-this._$iT)/1e3;if(U!=0){for(var de=this._$lL.length-1;de>=0;--de){var ye=this._$lL[de];ye._$oP(w,this)}this._$oo(w,U),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/U,this._$ks=this._$M2}for(var de=this._$qP.length-1;de>=0;--de){var ue=this._$qP[de];ue._$YS(w,this)}this._$iT=k},g.prototype._$oo=function(w,k){k<.033&&(k=.033);var U=1/k;this.p1.vx=(this.p1.x-this.p1._$s0)*U,this.p1.vy=(this.p1.y-this.p1._$70)*U,this.p1.ax=(this.p1.vx-this.p1._$7L)*U,this.p1.ay=(this.p1.vy-this.p1._$HL)*U,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var de=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),ye,ue,ke=Math.cos(de),De=Math.sin(de),we=9.8*this.p2._$p,Be=this._$Db*c._$bS,it=we*Math.cos(de-Be);ye=it*De,ue=it*ke;var at=-this.p1.fx*De*De,ft=-this.p1.fy*De*ke,Nt=-this.p2.vx*this._$L2,Xe=-this.p2.vy*this._$L2;this.p2.fx=ye+at+Nt,this.p2.fy=ue+ft+Xe,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*k,this.p2.vy+=this.p2.ay*k,this.p2.x+=this.p2.vx*k,this.p2.y+=this.p2.vy*k;var qe=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/qe,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/qe,this.p2.vx=(this.p2.x-this.p2._$s0)*U,this.p2.vy=(this.p2.y-this.p2._$70)*U,this.p2._$xT()};function v(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}v.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy};function p(w,k,U){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=w,this.scale=k,this._$V0=U}p.prototype._$oP=function(w,k){};function b(w,k,U,de){p.prototype.constructor.call(this,k,U,de),this._$tL=null,this._$tL=w}b.prototype=new p,b.prototype._$oP=function(w,k){var U=this.scale*w.getParamFloat(this._$wL),de=k.getPhysicsPoint1();switch(this._$tL){default:case g.Src.SRC_TO_X:de.x=de.x+(U-de.x)*this._$V0;break;case g.Src.SRC_TO_Y:de.y=de.y+(U-de.y)*this._$V0;break;case g.Src.SRC_TO_G_ANGLE:var ye=k._$qr();ye=ye+(U-ye)*this._$V0,k._$pr(ye);break}};function S(w,k,U){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=w,this.scale=k,this._$V0=U}S.prototype._$YS=function(w,k){};function C(w,k,U,de){S.prototype.constructor.call(this,k,U,de),this._$YP=null,this._$YP=w}C.prototype=new S,C.prototype._$YS=function(w,k){switch(this._$YP){default:case g.Target.TARGET_FROM_ANGLE:w.setParamFloat(this._$wL,this.scale*k._$5r(),this._$V0);break;case g.Target.TARGET_FROM_ANGLE_V:w.setParamFloat(this._$wL,this.scale*k._$Cs(),this._$V0);break}},g.Src=function(){},g.Src.SRC_TO_X="SRC_TO_X",g.Src.SRC_TO_Y="SRC_TO_Y",g.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",g.Target=function(){},g.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",g.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V";function T(){he||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}T.prototype.init=function(w){this._$fL=w._$fL,this._$gL=w._$gL,this._$B0=w._$B0,this._$z0=w._$z0,this._$qT=w._$qT,this.reflectX=w.reflectX,this.reflectY=w.reflectY},T.prototype._$F0=function(w){this._$fL=w._$_T(),this._$gL=w._$_T(),this._$B0=w._$_T(),this._$z0=w._$_T(),this._$qT=w._$_T(),w.getFormatVersion()>=ae.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=w._$po(),this.reflectY=w._$po())},T.prototype._$e=function(){};var A=function(){};A._$ni=function(w,k,U,de,ye,ue,ke,De,we){var Be=ke*ue-De*ye;if(Be==0)return null;var it=((w-U)*ue-(k-de)*ye)/Be,at;return ye!=0?at=(w-U-it*ke)/ye:at=(k-de-it*De)/ue,isNaN(at)&&(at=(w-U-it*ke)/ye,isNaN(at)&&(at=(k-de-it*De)/ue),isNaN(at)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+ye),console.log("v1x != 0 ? "+(ye!=0)))),we==null?new Array(at,it):(we[0]=at,we[1]=it,we)};function E(){he||(this.x=null,this.y=null,this.width=null,this.height=null)}E.prototype._$8P=function(){return this.x+.5*this.width},E.prototype._$6P=function(){return this.y+.5*this.height},E.prototype._$EL=function(){return this.x+this.width},E.prototype._$5T=function(){return this.y+this.height},E.prototype._$jL=function(w,k,U,de){this.x=w,this.y=k,this.width=U,this.height=de},E.prototype._$jL=function(w){this.x=w.x,this.y=w.y,this.width=w.width,this.height=w.height},E.prototype.contains=function(w,k){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},E.prototype.expand=function(w,k){this.x-=w,this.y-=k,this.width+=w*2,this.height+=k*2};function I(){}I._$Z2=function(w,k,U,de){var ye=k._$Q2(w,U),ue=w._$vs(),ke=w._$Tr();if(k._$zr(ue,ke,ye),ye<=0)return de[ue[0]];if(ye==1){var De=de[ue[0]],we=de[ue[1]],Be=ke[0];return De+(we-De)*Be|0}else if(ye==2){var De=de[ue[0]],we=de[ue[1]],it=de[ue[2]],at=de[ue[3]],Be=ke[0],ft=ke[1],Nt=De+(we-De)*Be|0,Xe=it+(at-it)*Be|0;return Nt+(Xe-Nt)*ft|0}else if(ye==3){var qe=de[ue[0]],Mt=de[ue[1]],Lt=de[ue[2]],Gt=de[ue[3]],Zt=de[ue[4]],Or=de[ue[5]],fr=de[ue[6]],_e=de[ue[7]],Be=ke[0],ft=ke[1],ar=ke[2],De=qe+(Mt-qe)*Be|0,we=Lt+(Gt-Lt)*Be|0,it=Zt+(Or-Zt)*Be|0,at=fr+(_e-fr)*Be|0,Nt=De+(we-De)*ft|0,Xe=it+(at-it)*ft|0;return Nt+(Xe-Nt)*ar|0}else if(ye==4){var Jt=de[ue[0]],Hn=de[ue[1]],oi=de[ue[2]],_r=de[ue[3]],Ei=de[ue[4]],Jr=de[ue[5]],zr=de[ue[6]],en=de[ue[7]],sn=de[ue[8]],tn=de[ue[9]],xn=de[ue[10]],Nr=de[ue[11]],Xr=de[ue[12]],dr=de[ue[13]],Br=de[ue[14]],fn=de[ue[15]],Be=ke[0],ft=ke[1],ar=ke[2],xi=ke[3],qe=Jt+(Hn-Jt)*Be|0,Mt=oi+(_r-oi)*Be|0,Lt=Ei+(Jr-Ei)*Be|0,Gt=zr+(en-zr)*Be|0,Zt=sn+(tn-sn)*Be|0,Or=xn+(Nr-xn)*Be|0,fr=Xr+(dr-Xr)*Be|0,_e=Br+(fn-Br)*Be|0,De=qe+(Mt-qe)*ft|0,we=Lt+(Gt-Lt)*ft|0,it=Zt+(Or-Zt)*ft|0,at=fr+(_e-fr)*ft|0,Nt=De+(we-De)*ar|0,Xe=it+(at-it)*ar|0;return Nt+(Xe-Nt)*xi|0}else{for(var Fn=1<<ye,ln=new Float32Array(Fn),Kn=0;Kn<Fn;Kn++){for(var At=Kn,us=1,vi=0;vi<ye;vi++)us*=At%2==0?1-ke[vi]:ke[vi],At/=2;ln[Kn]=us}for(var Ti=new Float32Array(Fn),Ci=0;Ci<Fn;Ci++)Ti[Ci]=de[ue[Ci]];for(var Bo=0,Ci=0;Ci<Fn;Ci++)Bo+=ln[Ci]*Ti[Ci];return Bo+.5|0}},I._$br=function(w,k,U,de){var ye=k._$Q2(w,U),ue=w._$vs(),ke=w._$Tr();if(k._$zr(ue,ke,ye),ye<=0)return de[ue[0]];if(ye==1){var De=de[ue[0]],we=de[ue[1]],Be=ke[0];return De+(we-De)*Be}else if(ye==2){var De=de[ue[0]],we=de[ue[1]],it=de[ue[2]],at=de[ue[3]],Be=ke[0],ft=ke[1];return(1-ft)*(De+(we-De)*Be)+ft*(it+(at-it)*Be)}else if(ye==3){var Nt=de[ue[0]],Xe=de[ue[1]],qe=de[ue[2]],Mt=de[ue[3]],Lt=de[ue[4]],Gt=de[ue[5]],Zt=de[ue[6]],Or=de[ue[7]],Be=ke[0],ft=ke[1],fr=ke[2];return(1-fr)*((1-ft)*(Nt+(Xe-Nt)*Be)+ft*(qe+(Mt-qe)*Be))+fr*((1-ft)*(Lt+(Gt-Lt)*Be)+ft*(Zt+(Or-Zt)*Be))}else if(ye==4){var _e=de[ue[0]],ar=de[ue[1]],Jt=de[ue[2]],Hn=de[ue[3]],oi=de[ue[4]],_r=de[ue[5]],Ei=de[ue[6]],Jr=de[ue[7]],zr=de[ue[8]],en=de[ue[9]],sn=de[ue[10]],tn=de[ue[11]],xn=de[ue[12]],Nr=de[ue[13]],Xr=de[ue[14]],dr=de[ue[15]],Be=ke[0],ft=ke[1],fr=ke[2],Br=ke[3];return(1-Br)*((1-fr)*((1-ft)*(_e+(ar-_e)*Be)+ft*(Jt+(Hn-Jt)*Be))+fr*((1-ft)*(oi+(_r-oi)*Be)+ft*(Ei+(Jr-Ei)*Be)))+Br*((1-fr)*((1-ft)*(zr+(en-zr)*Be)+ft*(sn+(tn-sn)*Be))+fr*((1-ft)*(xn+(Nr-xn)*Be)+ft*(Xr+(dr-Xr)*Be)))}else{for(var fn=1<<ye,xi=new Float32Array(fn),Fn=0;Fn<fn;Fn++){for(var ln=Fn,Kn=1,At=0;At<ye;At++)Kn*=ln%2==0?1-ke[At]:ke[At],ln/=2;xi[Fn]=Kn}for(var us=new Float32Array(fn),vi=0;vi<fn;vi++)us[vi]=de[ue[vi]];for(var Ti=0,vi=0;vi<fn;vi++)Ti+=xi[vi]*us[vi];return Ti}},I._$Vr=function(w,k,U,de,ye,ue,ke,De){var we=k._$Q2(w,U),Be=w._$vs(),it=w._$Tr();k._$zr(Be,it,we);var at=de*2,ft=ke;if(we<=0){var Nt=Be[0],Xe=ye[Nt];if(De==2&&ke==0)q._$jT(Xe,0,ue,0,at);else for(var qe=0;qe<at;)ue[ft]=Xe[qe++],ue[ft+1]=Xe[qe++],ft+=De}else if(we==1)for(var Xe=ye[Be[0]],Mt=ye[Be[1]],Lt=it[0],Gt=1-Lt,qe=0;qe<at;)ue[ft]=Xe[qe]*Gt+Mt[qe]*Lt,++qe,ue[ft+1]=Xe[qe]*Gt+Mt[qe]*Lt,++qe,ft+=De;else if(we==2)for(var Xe=ye[Be[0]],Mt=ye[Be[1]],Zt=ye[Be[2]],Or=ye[Be[3]],Lt=it[0],fr=it[1],Gt=1-Lt,_e=1-fr,ar=_e*Gt,Jt=_e*Lt,Hn=fr*Gt,oi=fr*Lt,qe=0;qe<at;)ue[ft]=ar*Xe[qe]+Jt*Mt[qe]+Hn*Zt[qe]+oi*Or[qe],++qe,ue[ft+1]=ar*Xe[qe]+Jt*Mt[qe]+Hn*Zt[qe]+oi*Or[qe],++qe,ft+=De;else if(we==3)for(var _r=ye[Be[0]],Ei=ye[Be[1]],Jr=ye[Be[2]],zr=ye[Be[3]],en=ye[Be[4]],sn=ye[Be[5]],tn=ye[Be[6]],xn=ye[Be[7]],Lt=it[0],fr=it[1],Nr=it[2],Gt=1-Lt,_e=1-fr,Xr=1-Nr,dr=Xr*_e*Gt,Br=Xr*_e*Lt,fn=Xr*fr*Gt,xi=Xr*fr*Lt,Fn=Nr*_e*Gt,ln=Nr*_e*Lt,Kn=Nr*fr*Gt,At=Nr*fr*Lt,qe=0;qe<at;)ue[ft]=dr*_r[qe]+Br*Ei[qe]+fn*Jr[qe]+xi*zr[qe]+Fn*en[qe]+ln*sn[qe]+Kn*tn[qe]+At*xn[qe],++qe,ue[ft+1]=dr*_r[qe]+Br*Ei[qe]+fn*Jr[qe]+xi*zr[qe]+Fn*en[qe]+ln*sn[qe]+Kn*tn[qe]+At*xn[qe],++qe,ft+=De;else if(we==4)for(var us=ye[Be[0]],vi=ye[Be[1]],Ti=ye[Be[2]],Ci=ye[Be[3]],Bo=ye[Be[4]],Jo=ye[Be[5]],lo=ye[Be[6]],Wi=ye[Be[7]],Fi=ye[Be[8]],xa=ye[Be[9]],ea=ye[Be[10]],bo=ye[Be[11]],Uo=ye[Be[12]],xo=ye[Be[13]],un=ye[Be[14]],Kl=ye[Be[15]],Lt=it[0],fr=it[1],Nr=it[2],Xa=it[3],Gt=1-Lt,_e=1-fr,Xr=1-Nr,Tl=1-Xa,Km=Tl*Xr*_e*Gt,Ya=Tl*Xr*_e*Lt,cs=Tl*Xr*fr*Gt,Np=Tl*Xr*fr*Lt,Bp=Tl*Nr*_e*Gt,Zm=Tl*Nr*_e*Lt,uh=Tl*Nr*fr*Gt,Up=Tl*Nr*fr*Lt,Nc=Xa*Xr*_e*Gt,Zl=Xa*Xr*_e*Lt,Bc=Xa*Xr*fr*Gt,Gd=Xa*Xr*fr*Lt,Wd=Xa*Nr*_e*Gt,ch=Xa*Nr*_e*Lt,dh=Xa*Nr*fr*Gt,Vp=Xa*Nr*fr*Lt,qe=0;qe<at;)ue[ft]=Km*us[qe]+Ya*vi[qe]+cs*Ti[qe]+Np*Ci[qe]+Bp*Bo[qe]+Zm*Jo[qe]+uh*lo[qe]+Up*Wi[qe]+Nc*Fi[qe]+Zl*xa[qe]+Bc*ea[qe]+Gd*bo[qe]+Wd*Uo[qe]+ch*xo[qe]+dh*un[qe]+Vp*Kl[qe],++qe,ue[ft+1]=Km*us[qe]+Ya*vi[qe]+cs*Ti[qe]+Np*Ci[qe]+Bp*Bo[qe]+Zm*Jo[qe]+uh*lo[qe]+Up*Wi[qe]+Nc*Fi[qe]+Zl*xa[qe]+Bc*ea[qe]+Gd*bo[qe]+Wd*Uo[qe]+ch*xo[qe]+dh*un[qe]+Vp*Kl[qe],++qe,ft+=De;else{for(var Ql=1<<we,qd=new Float32Array(Ql),Xd=0;Xd<Ql;Xd++){for(var zp=Xd,Jl=1,Uc=0;Uc<we;Uc++)Jl*=zp%2==0?1-it[Uc]:it[Uc],zp/=2;qd[Xd]=Jl}for(var qu=new Float32Array(Ql),Zs=0;Zs<Ql;Zs++)qu[Zs]=ye[Be[Zs]];for(var qe=0;qe<at;){for(var Hp=0,jp=0,Vc=qe+1,Zs=0;Zs<Ql;Zs++)Hp+=qd[Zs]*qu[Zs][qe],jp+=qd[Zs]*qu[Zs][Vc];qe+=2,ue[ft]=Hp,ue[ft+1]=jp,ft+=De}}};function O(){he||(this.x=null,this.y=null)}O.prototype._$HT=function(w,k){this.x=w,this.y=k},O.prototype._$HT=function(w){this.x=w.x,this.y=w.y};function N(){he||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}N._$ur=-2,N._$ES=500,N._$wb=2,N._$8S=3,N._$52=N._$ES,N._$R2=N._$ES,N._$or=function(){return N._$52},N._$Pr=function(){return N._$R2},N.prototype.convertClipIDForV2_11=function(w){var k=[];return w==null||w.length==0?null:/,/.test(w)?(k=w.id.split(","),k):(k.push(w.id),k)},N.prototype._$F0=function(w){this._$gP=w._$nP(),this._$dr=w._$nP(),this._$GS=w._$nP(),this._$qb=w._$6L(),this._$Lb=w._$cS(),this._$mS=w._$Tb(),w.getFormatVersion()>=ae._$T7?(this.clipID=w._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},N.prototype.getClipIDList=function(){return this.clipIDList},N.prototype.init=function(w){},N.prototype._$Nr=function(w,k){if(k._$IS[0]=!1,k._$Us=I._$Z2(w,this._$GS,k._$IS,this._$Lb),!lt._$Zs){if(k._$IS[0])return}k._$7s=I._$br(w,this._$GS,k._$IS,this._$mS)},N.prototype._$2b=function(w,k){},N.prototype.getDrawDataID=function(){return this._$gP},N.prototype._$j2=function(w){this._$gP=w},N.prototype.getOpacity=function(w,k){return k._$7s},N.prototype._$zS=function(w,k){return k._$Us},N.prototype._$MS=function(w){for(var k=w.length-1;k>=0;--k){var U=w[k];U<N._$52?N._$52=U:U>N._$R2&&(N._$R2=U)}},N.prototype.getTargetBaseDataID=function(){return this._$dr},N.prototype._$gs=function(w){this._$dr=w},N.prototype._$32=function(){return this._$dr!=null&&this._$dr!=nt._$2o()},N.prototype.preDraw=function(w,k,U){},N.prototype.draw=function(w,k,U){},N.prototype.getType=function(){},N.prototype._$B2=function(w,k,U){};function G(){he||(this._$Eb=G._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=G.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}G._$ps=32,G.CLIPPING_PROCESS_NONE=0,G.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,G.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,G.CLIPPING_PROCESS_DRAW=3,G.CLIPPING_PROCESS_CLEAR_ALPHA=4,G.prototype.setChannelFlagAsColor=function(w,k){this.CHANNEL_COLORS[w]=k},G.prototype.getChannelFlagAsColor=function(w){return this.CHANNEL_COLORS[w]},G.prototype._$ZT=function(){},G.prototype._$Uo=function(w,k,U,de,ye,ue,ke){},G.prototype._$Rs=function(){return-1},G.prototype._$Ds=function(w){},G.prototype.setBaseColor=function(w,k,U,de){w<0?w=0:w>1&&(w=1),k<0?k=0:k>1&&(k=1),U<0?U=0:U>1&&(U=1),de<0?de=0:de>1&&(de=1),this._$lT=w,this._$C0=k,this._$tT=U,this._$WL=de},G.prototype._$WP=function(w){this.culling=w},G.prototype.setMatrix=function(w){for(var k=0;k<16;k++)this.matrix4x4[k]=w[k]},G.prototype._$IT=function(){return this.matrix4x4},G.prototype.setPremultipliedAlpha=function(w){this.premultipliedAlpha=w},G.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},G.prototype.setAnisotropy=function(w){this.anisotropy=w},G.prototype.getAnisotropy=function(){return this.anisotropy},G.prototype.getClippingProcess=function(){return this.clippingProcess},G.prototype.setClippingProcess=function(w){this.clippingProcess=w},G.prototype.setClipBufPre_clipContextForMask=function(w){this.clipBufPre_clipContextMask=w},G.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},G.prototype.setClipBufPre_clipContextForDraw=function(w){this.clipBufPre_clipContextDraw=w},G.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw};function ie(){he||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=lt.L2D_COLOR_BLEND_MODE_MULT)}function W(){he||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}W._$ur=-2,W._$c2=1,W._$_b=2,W.prototype._$F0=function(w){this._$kP=w._$nP(),this._$dr=w._$nP()},W.prototype.readV2_opacity=function(w){w.getFormatVersion()>=ae.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=w._$Tb())},W.prototype.init=function(w){},W.prototype._$Nr=function(w,k){},W.prototype.interpolateOpacity=function(w,k,U,de){this._$mS==null?U.setInterpolatedOpacity(1):U.setInterpolatedOpacity(I._$br(w,k,de,this._$mS))},W.prototype._$2b=function(w,k){},W.prototype._$nb=function(w,k,U,de,ye,ue,ke){},W.prototype.getType=function(){},W.prototype._$gs=function(w){this._$dr=w},W.prototype._$a2=function(w){this._$kP=w},W.prototype.getTargetBaseDataID=function(){return this._$dr},W.prototype.getBaseDataID=function(){return this._$kP},W.prototype._$32=function(){return this._$dr!=null&&this._$dr!=nt._$2o()};function q(){}q._$W2=0,q._$CS=q._$W2,q._$Mo=function(){return!0},q._$XP=function(w){try{for(var k=getTimeMSec();getTimeMSec()-k<w;);}catch(U){U._$Rb()}},q.getUserTimeMSec=function(){return q._$CS==q._$W2?q.getSystemTimeMSec():q._$CS},q.setUserTimeMSec=function(w){q._$CS=w},q.updateUserTimeMSec=function(){return q._$CS=q.getSystemTimeMSec()},q.getTimeMSec=function(){return new Date().getTime()},q.getSystemTimeMSec=function(){return new Date().getTime()},q._$Q=function(w){},q._$jT=function(w,k,U,de,ye){for(var ue=0;ue<ye;ue++)U[de+ue]=w[k+ue]};function J(){he||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=J._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}J._$ds=-2,J.prototype._$F0=function(w){this._$wL=w._$nP(),this._$VP=w._$6L(),this._$GP=w._$nP()},J.prototype.getParamIndex=function(w){return this._$2r!=w&&(this._$8o=J._$ds),this._$8o},J.prototype._$Pb=function(w,k){this._$8o=w,this._$2r=k},J.prototype.getParamID=function(){return this._$wL},J.prototype._$yP=function(w){this._$wL=w},J.prototype._$N2=function(){return this._$VP},J.prototype._$d2=function(){return this._$GP},J.prototype._$t2=function(w,k){this._$VP=w,this._$GP=k},J.prototype._$Lr=function(){return this._$O2},J.prototype._$wr=function(w){this._$O2=w},J.prototype._$SL=function(){return this._$ri},J.prototype._$AL=function(w){this._$ri=w};function X(){}X.startsWith=function(w,k,U){var de=k+U.length;if(de>=w.length)return!1;for(var ye=k;ye<de;ye++)if(X.getChar(w,ye)!=U.charAt(ye-k))return!1;return!0},X.getChar=function(w,k){return String.fromCharCode(w.getUint8(k))},X.createString=function(w,k,U){for(var de=new ArrayBuffer(U*2),ye=new Uint16Array(de),ue=0;ue<U;ue++)ye[ue]=w.getUint8(k+ue);return String.fromCharCode.apply(null,ye)},X._$LS=function(w,k,U,de){w instanceof ArrayBuffer&&(w=new DataView(w));var ye=U,ue=!1,ke=!1,De=0,we=X.getChar(w,ye);we=="-"&&(ue=!0,ye++);for(var Be=!1;ye<k;ye++){switch(we=X.getChar(w,ye),we){case"0":De=De*10;break;case"1":De=De*10+1;break;case"2":De=De*10+2;break;case"3":De=De*10+3;break;case"4":De=De*10+4;break;case"5":De=De*10+5;break;case"6":De=De*10+6;break;case"7":De=De*10+7;break;case"8":De=De*10+8;break;case"9":De=De*10+9;break;case".":ke=!0,ye++,Be=!0;break;default:Be=!0;break}if(Be)break}if(ke)for(var it=.1,at=!1;ye<k;ye++){switch(we=X.getChar(w,ye),we){case"0":break;case"1":De+=it*1;break;case"2":De+=it*2;break;case"3":De+=it*3;break;case"4":De+=it*4;break;case"5":De+=it*5;break;case"6":De+=it*6;break;case"7":De+=it*7;break;case"8":De+=it*8;break;case"9":De+=it*9;break;default:at=!0;break}if(it*=.1,at)break}return ue&&(De=-De),de[0]=ye,De};function R(){he||(this._$Ob=null)}R.prototype._$zP=function(){this._$Ob=new Array},R.prototype._$F0=function(w){this._$Ob=w._$nP()},R.prototype._$Ur=function(w){if(w._$WS())return!0;for(var k=w._$v2(),U=this._$Ob.length-1;U>=0;--U){var de=this._$Ob[U].getParamIndex(k);if(de==J._$ds&&(de=w.getParamIndex(this._$Ob[U].getParamID())),w._$Xb(de))return!0}return!1},R.prototype._$Q2=function(w,k){for(var U=this._$Ob.length,de=w._$v2(),ye=0,ue,ke,De=0;De<U;De++){var we=this._$Ob[De];if(ue=we.getParamIndex(de),ue==J._$ds&&(ue=w.getParamIndex(we.getParamID()),we._$Pb(ue,de)),ue<0)throw new Exception("err 23242 : "+we.getParamID());var Be=ue<0?0:w.getParamFloat(ue);ke=we._$N2();var it=we._$d2(),at=-1,ft=0,Nt,Xe;if(!(ke<1))if(ke==1)Nt=it[0],Nt-ee._$J<Be&&Be<Nt+ee._$J?(at=0,ft=0):(at=0,k[0]=!0);else if(Nt=it[0],Be<Nt-ee._$J)at=0,k[0]=!0;else if(Be<Nt+ee._$J)at=0;else{for(var qe=!1,Mt=1;Mt<ke;++Mt){if(Xe=it[Mt],Be<Xe+ee._$J){Xe-ee._$J<Be?at=Mt:(at=Mt-1,ft=(Be-Nt)/(Xe-Nt),ye++),qe=!0;break}Nt=Xe}qe||(at=ke-1,ft=0,k[0]=!0)}we._$wr(at),we._$AL(ft)}return ye},R.prototype._$zr=function(w,k,U){var de=1<<U;de+1>ee._$Qb&&console.log(`err 23245
`);for(var ye=this._$Ob.length,ue=1,ke=1,De=0,we=0;we<de;++we)w[we]=0;for(var Be=0;Be<ye;++Be){var it=this._$Ob[Be];if(it._$SL()==0){var at=it._$Lr()*ue;if(at<0&&lt._$3T)throw new Exception("err 23246");for(var we=0;we<de;++we)w[we]+=at}else{for(var at=ue*it._$Lr(),ft=ue*(it._$Lr()+1),we=0;we<de;++we)w[we]+=(we/ke|0)%2==0?at:ft;k[De++]=it._$SL(),ke*=2}ue*=it._$N2()}w[de]=65535,k[De]=-1},R.prototype._$h2=function(w,k,U){for(var de=new Float32Array(k),ye=0;ye<k;++ye)de[ye]=U[ye];var ue=new J;ue._$yP(w),ue._$t2(k,de),this._$Ob.push(ue)},R.prototype._$J2=function(w){for(var k=w,U=this._$Ob.length,de=0;de<U;++de){var ye=this._$Ob[de],ue=ye._$N2(),ke=k%ye._$N2(),De=ye._$d2()[ke];console.log("%s[%d]=%7.2f / ",ye.getParamID(),ke,De),k/=ue}console.log(`
`)},R.prototype.getParamCount=function(){return this._$Ob.length},R.prototype._$zs=function(){return this._$Ob};function z(){this.m=new Float32Array(16),this.identity()}z.prototype.identity=function(){for(var w=0;w<16;w++)this.m[w]=w%5==0?1:0},z.prototype.getArray=function(){return this.m},z.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},z.prototype.setMatrix=function(w){if(!(w==null||w.length!=16))for(var k=0;k<16;k++)this.m[k]=w[k]},z.prototype.mult=function(w,k,U){return k==null?null:(this==k?this.mult_safe(this.m,w.m,k.m,U):this.mult_fast(this.m,w.m,k.m,U),k)},z.prototype.mult_safe=function(w,k,U,de){if(w==U){var ye=new Array(16);this.mult_fast(w,k,ye,de);for(var ue=15;ue>=0;--ue)U[ue]=ye[ue]}else this.mult_fast(w,k,U,de)},z.prototype.mult_fast=function(w,k,U,de){de?(U[0]=w[0]*k[0]+w[4]*k[1]+w[8]*k[2],U[4]=w[0]*k[4]+w[4]*k[5]+w[8]*k[6],U[8]=w[0]*k[8]+w[4]*k[9]+w[8]*k[10],U[12]=w[0]*k[12]+w[4]*k[13]+w[8]*k[14]+w[12],U[1]=w[1]*k[0]+w[5]*k[1]+w[9]*k[2],U[5]=w[1]*k[4]+w[5]*k[5]+w[9]*k[6],U[9]=w[1]*k[8]+w[5]*k[9]+w[9]*k[10],U[13]=w[1]*k[12]+w[5]*k[13]+w[9]*k[14]+w[13],U[2]=w[2]*k[0]+w[6]*k[1]+w[10]*k[2],U[6]=w[2]*k[4]+w[6]*k[5]+w[10]*k[6],U[10]=w[2]*k[8]+w[6]*k[9]+w[10]*k[10],U[14]=w[2]*k[12]+w[6]*k[13]+w[10]*k[14]+w[14],U[3]=U[7]=U[11]=0,U[15]=1):(U[0]=w[0]*k[0]+w[4]*k[1]+w[8]*k[2]+w[12]*k[3],U[4]=w[0]*k[4]+w[4]*k[5]+w[8]*k[6]+w[12]*k[7],U[8]=w[0]*k[8]+w[4]*k[9]+w[8]*k[10]+w[12]*k[11],U[12]=w[0]*k[12]+w[4]*k[13]+w[8]*k[14]+w[12]*k[15],U[1]=w[1]*k[0]+w[5]*k[1]+w[9]*k[2]+w[13]*k[3],U[5]=w[1]*k[4]+w[5]*k[5]+w[9]*k[6]+w[13]*k[7],U[9]=w[1]*k[8]+w[5]*k[9]+w[9]*k[10]+w[13]*k[11],U[13]=w[1]*k[12]+w[5]*k[13]+w[9]*k[14]+w[13]*k[15],U[2]=w[2]*k[0]+w[6]*k[1]+w[10]*k[2]+w[14]*k[3],U[6]=w[2]*k[4]+w[6]*k[5]+w[10]*k[6]+w[14]*k[7],U[10]=w[2]*k[8]+w[6]*k[9]+w[10]*k[10]+w[14]*k[11],U[14]=w[2]*k[12]+w[6]*k[13]+w[10]*k[14]+w[14]*k[15],U[3]=w[3]*k[0]+w[7]*k[1]+w[11]*k[2]+w[15]*k[3],U[7]=w[3]*k[4]+w[7]*k[5]+w[11]*k[6]+w[15]*k[7],U[11]=w[3]*k[8]+w[7]*k[9]+w[11]*k[10]+w[15]*k[11],U[15]=w[3]*k[12]+w[7]*k[13]+w[11]*k[14]+w[15]*k[15])},z.prototype.translate=function(w,k,U){this.m[12]=this.m[0]*w+this.m[4]*k+this.m[8]*U+this.m[12],this.m[13]=this.m[1]*w+this.m[5]*k+this.m[9]*U+this.m[13],this.m[14]=this.m[2]*w+this.m[6]*k+this.m[10]*U+this.m[14],this.m[15]=this.m[3]*w+this.m[7]*k+this.m[11]*U+this.m[15]},z.prototype.scale=function(w,k,U){this.m[0]*=w,this.m[4]*=k,this.m[8]*=U,this.m[1]*=w,this.m[5]*=k,this.m[9]*=U,this.m[2]*=w,this.m[6]*=k,this.m[10]*=U,this.m[3]*=w,this.m[7]*=k,this.m[11]*=U},z.prototype.rotateX=function(w){var k=c.fcos(w),U=c._$9(w),de=this.m[4];this.m[4]=de*k+this.m[8]*U,this.m[8]=de*-U+this.m[8]*k,de=this.m[5],this.m[5]=de*k+this.m[9]*U,this.m[9]=de*-U+this.m[9]*k,de=this.m[6],this.m[6]=de*k+this.m[10]*U,this.m[10]=de*-U+this.m[10]*k,de=this.m[7],this.m[7]=de*k+this.m[11]*U,this.m[11]=de*-U+this.m[11]*k},z.prototype.rotateY=function(w){var k=c.fcos(w),U=c._$9(w),de=this.m[0];this.m[0]=de*k+this.m[8]*-U,this.m[8]=de*U+this.m[8]*k,de=this.m[1],this.m[1]=de*k+this.m[9]*-U,this.m[9]=de*U+this.m[9]*k,de=m[2],this.m[2]=de*k+this.m[10]*-U,this.m[10]=de*U+this.m[10]*k,de=m[3],this.m[3]=de*k+this.m[11]*-U,this.m[11]=de*U+this.m[11]*k},z.prototype.rotateZ=function(w){var k=c.fcos(w),U=c._$9(w),de=this.m[0];this.m[0]=de*k+this.m[4]*U,this.m[4]=de*-U+this.m[4]*k,de=this.m[1],this.m[1]=de*k+this.m[5]*U,this.m[5]=de*-U+this.m[5]*k,de=this.m[2],this.m[2]=de*k+this.m[6]*U,this.m[6]=de*-U+this.m[6]*k,de=this.m[3],this.m[3]=de*k+this.m[7]*U,this.m[7]=de*-U+this.m[7]*k};function re(w){he||St.prototype.constructor.call(this,w)}re.prototype=new St,re._$tP=new Object,re._$27=function(){re._$tP.clear()},re.getID=function(w){var k=re._$tP[w];return k==null&&(k=new re(w),re._$tP[w]=k),k},re.prototype._$3s=function(){return new re};function oe(){he||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}oe._$kS=-1,oe._$pS=0,oe._$hb=1,oe.STATE_IDENTITY=0,oe._$gb=1,oe._$fo=2,oe._$go=4,oe.prototype.transform=function(w,k,U){var de,ye,ue,ke,De,we,Be=0,it=0;switch(this._$hi){default:return;case oe._$go|oe._$fo|oe._$gb:for(de=this._$7,ye=this._$H,ue=this._$k,ke=this._$f,De=this._$g,we=this._$w;--U>=0;){var at=w[Be++],ft=w[Be++];k[it++]=de*at+ye*ft+ue,k[it++]=ke*at+De*ft+we}return;case oe._$go|oe._$fo:for(de=this._$7,ye=this._$H,ke=this._$f,De=this._$g;--U>=0;){var at=w[Be++],ft=w[Be++];k[it++]=de*at+ye*ft,k[it++]=ke*at+De*ft}return;case oe._$go|oe._$gb:for(ye=this._$H,ue=this._$k,ke=this._$f,we=this._$w;--U>=0;){var at=w[Be++];k[it++]=ye*w[Be++]+ue,k[it++]=ke*at+we}return;case oe._$go:for(ye=this._$H,ke=this._$f;--U>=0;){var at=w[Be++];k[it++]=ye*w[Be++],k[it++]=ke*at}return;case oe._$fo|oe._$gb:for(de=this._$7,ue=this._$k,De=this._$g,we=this._$w;--U>=0;)k[it++]=de*w[Be++]+ue,k[it++]=De*w[Be++]+we;return;case oe._$fo:for(de=this._$7,De=this._$g;--U>=0;)k[it++]=de*w[Be++],k[it++]=De*w[Be++];return;case oe._$gb:for(ue=this._$k,we=this._$w;--U>=0;)k[it++]=w[Be++]+ue,k[it++]=w[Be++]+we;return;case oe.STATE_IDENTITY:(w!=k||Be!=it)&&q._$jT(w,Be,k,it,U*2);return}},oe.prototype.update=function(){this._$H==0&&this._$f==0?this._$7==1&&this._$g==1?this._$k==0&&this._$w==0?(this._$hi=oe.STATE_IDENTITY,this._$Z=oe._$pS):(this._$hi=oe._$gb,this._$Z=oe._$hb):this._$k==0&&this._$w==0?(this._$hi=oe._$fo,this._$Z=oe._$kS):(this._$hi=oe._$fo|oe._$gb,this._$Z=oe._$kS):this._$7==0&&this._$g==0?this._$k==0&&this._$w==0?(this._$hi=oe._$go,this._$Z=oe._$kS):(this._$hi=oe._$go|oe._$gb,this._$Z=oe._$kS):this._$k==0&&this._$w==0?(this._$hi=oe._$go|oe._$fo,this._$Z=oe._$kS):(this._$hi=oe._$go|oe._$fo|oe._$gb,this._$Z=oe._$kS)},oe.prototype._$RT=function(w){this._$IT(w);var k=w[0],U=w[2],de=w[1],ye=w[3],ue=Math.sqrt(k*k+de*de),ke=k*ye-U*de;ue==0?lt._$so&&console.log("affine._$RT() / rt==0"):(w[0]=ue,w[1]=ke/ue,w[2]=(de*ye+k*U)/ke,w[3]=Math.atan2(de,k))},oe.prototype._$ho=function(w,k,U,de){var ye=new Float32Array(6),ue=new Float32Array(6);w._$RT(ye),k._$RT(ue);var ke=new Float32Array(6);ke[0]=ye[0]+(ue[0]-ye[0])*U,ke[1]=ye[1]+(ue[1]-ye[1])*U,ke[2]=ye[2]+(ue[2]-ye[2])*U,ke[3]=ye[3]+(ue[3]-ye[3])*U,ke[4]=ye[4]+(ue[4]-ye[4])*U,ke[5]=ye[5]+(ue[5]-ye[5])*U,de._$CT(ke)},oe.prototype._$CT=function(w){var k=Math.cos(w[3]),U=Math.sin(w[3]);this._$7=w[0]*k,this._$f=w[0]*U,this._$H=w[1]*(w[2]*k-U),this._$g=w[1]*(w[2]*U+k),this._$k=w[4],this._$w=w[5],this.update()},oe.prototype._$IT=function(w){w[0]=this._$7,w[1]=this._$f,w[2]=this._$H,w[3]=this._$g,w[4]=this._$k,w[5]=this._$w};function H(){he||(s.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=H._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}H.prototype=new s,H._$cs="VISIBLE:",H._$ar="LAYOUT:",H._$Co=0,H._$D2=[],H._$1T=1,H.loadMotion=function(w){var k=new H,U=[0],de=w.length;k._$yT=0;for(var ye=0;ye<de;++ye){var ue=w[ye]&255;if(!(ue==`
`||ue=="\r")){if(ue=="#"){for(;ye<de&&!(w[ye]==`
`||w[ye]=="\r");++ye);continue}if(ue=="$"){for(var ke=ye,De=-1;ye<de&&(ue=w[ye]&255,!(ue=="\r"||ue==`
`));++ye)if(ue=="="){De=ye;break}if(De>=0)for(De==ke+4&&w[ke+1]=="f"&&w[ke+2]=="p"&&w[ke+3]=="s",ye=De+1;ye<de&&(ue=w[ye]&255,!(ue=="\r"||ue==`
`));++ye)ue==","||ue==" "||ue=="	"||(X._$LS(w,de,ye,U),ye=U[0]);for(;ye<de&&!(w[ye]==`
`||w[ye]=="\r");++ye);continue}if("a"<=ue&&ue<="z"||"A"<=ue&&ue<="Z"||ue=="_"){for(var ke=ye,De=-1;ye<de&&(ue=w[ye]&255,!(ue=="\r"||ue==`
`));++ye)if(ue=="="){De=ye;break}if(De>=0){var we=new se;X.startsWith(w,ke,H._$cs)?(we._$RP=se._$hs,we._$4P=new String(w,ke,De-ke)):X.startsWith(w,ke,H._$ar)?(we._$4P=new String(w,ke+7,De-ke-7),X.startsWith(w,ke+7,"ANCHOR_X")?we._$RP=se._$xs:X.startsWith(w,ke+7,"ANCHOR_Y")?we._$RP=se._$us:X.startsWith(w,ke+7,"SCALE_X")?we._$RP=se._$qs:X.startsWith(w,ke+7,"SCALE_Y")?we._$RP=se._$Ys:X.startsWith(w,ke+7,"X")?we._$RP=se._$ws:X.startsWith(w,ke+7,"Y")&&(we._$RP=se._$Ns)):(we._$RP=se._$Fr,we._$4P=new String(w,ke,De-ke)),k.motions.push(we);var Be=0;for(H._$D2.clear(),ye=De+1;ye<de&&(ue=w[ye]&255,!(ue=="\r"||ue==`
`));++ye)ue==","||ue==" "||ue=="	"||X._$LS(w,de,ye,U);we._$I0=H._$D2._$BL(),Be>k._$yT&&(k._$yT=Be)}}}}return k._$AS=1e3*k._$yT/k._$D0|0,k},H.prototype.getDurationMSec=function(){return this._$AS},H.prototype.dump=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];console.log("_$wL[%s] [%d]. ",k._$4P,k._$I0.length);for(var U=0;U<k._$I0.length&&U<10;U++)console.log("%5.2f ,",k._$I0[U]);console.log(`
`)}},H.prototype.updateParamExe=function(w,k,U,de){for(var ye=k-de._$z2,ue=ye*this._$D0/1e3,ke=ue|0,De=ue-ke,we=0;we<this.motions.length;we++){var Be=this.motions[we],it=Be._$I0.length,at=Be._$4P;if(Be._$RP==se._$hs){var ft=Be._$I0[ke>=it?it-1:ke];w.setParamFloat(at,ft)}else if(!(se._$ws<=Be._$RP&&Be._$RP<=se._$Ys)){var Nt=w.getParamFloat(at),Xe=Be._$I0[ke>=it?it-1:ke],qe=Be._$I0[ke+1>=it?it-1:ke+1],Mt=Xe+(qe-Xe)*De,Lt=Nt+(Mt-Nt)*U;w.setParamFloat(at,Lt)}}ke>=this._$yT&&(this._$E?(de._$z2=k,this.loopFadeIn&&(de._$bs=k)):de._$9L=!0)},H.prototype._$r0=function(){return this._$E},H.prototype._$aL=function(w){this._$E=w},H.prototype.isLoopFadeIn=function(){return this.loopFadeIn},H.prototype.setLoopFadeIn=function(w){this.loopFadeIn=w},vt.prototype.clear=function(){this.size=0},vt.prototype.add=function(w){if(this._$P.length<=this.size){var k=new Float32Array(this.size*2);q._$jT(this._$P,0,k,0,this.size),this._$P=k}this._$P[this.size++]=w},vt.prototype._$BL=function(){var w=new Float32Array(this.size);return q._$jT(this._$P,0,w,0,this.size),w},se._$Fr=0,se._$hs=1,se._$ws=100,se._$Ns=101,se._$xs=102,se._$us=103,se._$qs=104,se._$Ys=105;function ee(){}ee._$Ms=1,ee._$Qs=2,ee._$i2=0,ee._$No=2,ee._$do=ee._$Ms,ee._$Ls=!0,ee._$1r=5,ee._$Qb=65,ee._$J=1e-4,ee._$FT=.001,ee._$Ss=3;function ae(){}ae._$o7=6,ae._$S7=7,ae._$s7=8,ae._$77=9,ae.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,ae.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,ae._$T7=ae.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,ae._$Is=-2004318072,ae._$h0=0,ae._$4L=23,ae._$7P=33,ae._$uT=function(w){console.log(`_$bo :: _$6 _$mo _$E0 : %d
`,w)},ae._$9o=function(w){if(w<40)return ae._$uT(w),null;if(w<50)return ae._$uT(w),null;if(w<60)return ae._$uT(w),null;if(w<100)switch(w){case 65:return new Pe;case 66:return new R;case 67:return new J;case 68:return new ht;case 69:return new T;case 70:return new Pt;default:return ae._$uT(w),null}else if(w<150)switch(w){case 131:return new Kt;case 133:return new et;case 136:return new h;case 137:return new Dt;case 142:return new ut}return ae._$uT(w),null};function be(w){he||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(be._$is),this._$_2=new Float32Array(be._$is),this._$vr=new Float32Array(be._$is),this._$Rr=new Float32Array(be._$is),this._$Or=new Float32Array(be._$is),this._$fs=new Float32Array(be._$is),this._$Js=new Array(be._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(ee._$Qb),this._$ZP=new Float32Array(ee._$1r*2),this._$Ri=w,this._$b0=be._$HP++,this.clipManager=null,this.dp_webgl=null)}be._$HP=0,be._$_0=!0,be._$V2=-1,be._$W0=-1,be._$jr=!1,be._$ZS=!0,be._$tr=-1e6,be._$lr=1e6,be._$is=32,be._$e=!1,be.prototype.getDrawDataIndex=function(w){for(var k=this._$aS.length-1;k>=0;--k)if(this._$aS[k]!=null&&this._$aS[k].getDrawDataID()==w)return k;return-1},be.prototype.getDrawData=function(w){if(w instanceof re){if(this._$Bo==null){this._$Bo=new Object;for(var k=this._$aS.length,U=0;U<k;U++){var de=this._$aS[U],ye=de.getDrawDataID();ye!=null&&(this._$Bo[ye]=de)}}return this._$Bo[id]}else return w<this._$aS.length?this._$aS[w]:null},be.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),this._$Bo!=null&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},be.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var w=this._$Ri.getModelImpl(),k=w._$Xr(),U=k.length,de=new Array,ye=new Array,ue=0;ue<U;++ue){var ke=k[ue];this._$F2.push(ke),this._$Hr.push(ke.init(this));for(var De=ke.getBaseData(),we=De.length,Be=0;Be<we;++Be)de.push(De[Be]);for(var Be=0;Be<we;++Be){var it=De[Be].init(this);it._$l2(ue),ye.push(it)}for(var at=ke.getDrawData(),ft=at.length,Be=0;Be<ft;++Be){var Nt=at[Be],Xe=Nt.init(this);Xe._$IP=ue,this._$aS.push(Nt),this._$8b.push(Xe)}}for(var qe=de.length,Mt=nt._$2o();;){for(var Lt=!1,ue=0;ue<qe;++ue){var Gt=de[ue];if(Gt!=null){var Zt=Gt.getTargetBaseDataID();(Zt==null||Zt==Mt||this.getBaseDataIndex(Zt)>=0)&&(this._$3S.push(Gt),this._$db.push(ye[ue]),de[ue]=null,Lt=!0)}}if(!Lt)break}var Or=w._$E2();if(Or!=null){var fr=Or._$1s();if(fr!=null)for(var _e=fr.length,ue=0;ue<_e;++ue){var ar=fr[ue];ar!=null&&this._$02(ar.getParamID(),ar.getDefaultValue(),ar.getMinValue(),ar.getMaxValue())}}this.clipManager=new e(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},be.prototype.update=function(){be._$e&&o.start("_$zL");for(var w=this._$_2.length,k=0;k<w;k++)this._$_2[k]!=this._$vr[k]&&(this._$Js[k]=be._$ZS,this._$vr[k]=this._$_2[k]);var U=!1,de=this._$3S.length,ye=this._$aS.length,ue=ze._$or(),ke=ze._$Pr(),De=ke-ue+1;(this._$Ws==null||this._$Ws.length<De)&&(this._$Ws=new Int16Array(De),this._$Vs=new Int16Array(De));for(var k=0;k<De;k++)this._$Ws[k]=be._$V2,this._$Vs[k]=be._$V2;(this._$Er==null||this._$Er.length<ye)&&(this._$Er=new Int16Array(ye));for(var k=0;k<ye;k++)this._$Er[k]=be._$W0;be._$e&&o.dump("_$zL"),be._$e&&o.start("_$UL");for(var we=null,Be=0;Be<de;++Be){var it=this._$3S[Be],at=this._$db[Be];try{it._$Nr(this,at),it._$2b(this,at)}catch(Gt){we==null&&(we=Gt)}}we!=null&&be._$_0&&o._$Rb(we),be._$e&&o.dump("_$UL"),be._$e&&o.start("_$DL");for(var ft=null,Nt=0;Nt<ye;++Nt){var Xe=this._$aS[Nt],qe=this._$8b[Nt];try{if(Xe._$Nr(this,qe),qe._$u2())continue;Xe._$2b(this,qe);var Mt=Math.floor(Xe._$zS(this,qe)-ue),Lt;try{Lt=this._$Vs[Mt]}catch(Gt){console.log(`_$li :: %s / %s 				@@_$fS
`,Gt.toString(),Xe.getDrawDataID().toString()),Mt=Math.floor(Xe._$zS(this,qe)-ue);continue}Lt==be._$V2?this._$Ws[Mt]=Nt:this._$Er[Lt]=Nt,this._$Vs[Mt]=Nt}catch(Gt){ft==null&&(ft=Gt,lt._$sT(lt._$H7))}}ft!=null&&be._$_0&&o._$Rb(ft),be._$e&&o.dump("_$DL"),be._$e&&o.start("_$eL");for(var k=this._$Js.length-1;k>=0;k--)this._$Js[k]=be._$jr;return this._$QT=!1,be._$e&&o.dump("_$eL"),U},be.prototype.preDraw=function(w){this.clipManager!=null&&(w._$ZT(),this.clipManager.setupClip(this,w))},be.prototype.draw=function(w){if(this._$Ws==null){o._$li("call _$Ri.update() before _$Ri.draw() ");return}var k=this._$Ws.length;w._$ZT();for(var U=0;U<k;++U){var de=this._$Ws[U];if(de!=be._$V2)do{var ye=this._$aS[de],ue=this._$8b[de];if(ue._$yo()){var ke=ue._$IP,De=this._$Hr[ke];ue._$VS=De.getPartsOpacity(),ye.draw(w,this,ue)}var we=this._$Er[de];if(we<=de||we==be._$W0)break;de=we}while(!0)}},be.prototype.getParamIndex=function(w){for(var k=this._$pb.length-1;k>=0;--k)if(this._$pb[k]==w)return k;return this._$02(w,0,be._$tr,be._$lr)},be.prototype._$BS=function(w){return this.getBaseDataIndex(w)},be.prototype.getBaseDataIndex=function(w){for(var k=this._$3S.length-1;k>=0;--k)if(this._$3S[k]!=null&&this._$3S[k].getBaseDataID()==w)return k;return-1},be.prototype._$UT=function(w,k){var U=new Float32Array(k);return q._$jT(w,0,U,0,w.length),U},be.prototype._$02=function(w,k,U,de){if(this._$qo>=this._$pb.length){var ye=this._$pb.length,ue=new Array(ye*2);q._$jT(this._$pb,0,ue,0,ye),this._$pb=ue,this._$_2=this._$UT(this._$_2,ye*2),this._$vr=this._$UT(this._$vr,ye*2),this._$Rr=this._$UT(this._$Rr,ye*2),this._$Or=this._$UT(this._$Or,ye*2);var ke=new Array;q._$jT(this._$Js,0,ke,0,ye),this._$Js=ke}return this._$pb[this._$qo]=w,this._$_2[this._$qo]=k,this._$vr[this._$qo]=k,this._$Rr[this._$qo]=U,this._$Or[this._$qo]=de,this._$Js[this._$qo]=be._$ZS,this._$qo++},be.prototype._$Zo=function(w,k){this._$3S[w]=k},be.prototype.setParamFloat=function(w,k){k<this._$Rr[w]&&(k=this._$Rr[w]),k>this._$Or[w]&&(k=this._$Or[w]),this._$_2[w]=k},be.prototype.loadParam=function(){var w=this._$_2.length;w>this._$fs.length&&(w=this._$fs.length),q._$jT(this._$fs,0,this._$_2,0,w)},be.prototype.saveParam=function(){var w=this._$_2.length;w>this._$fs.length&&(this._$fs=new Float32Array(w)),q._$jT(this._$_2,0,this._$fs,0,w)},be.prototype._$v2=function(){return this._$co},be.prototype._$WS=function(){return this._$QT},be.prototype._$Xb=function(w){return this._$Js[w]==be._$ZS},be.prototype._$vs=function(){return this._$Es},be.prototype._$Tr=function(){return this._$ZP},be.prototype.getBaseData=function(w){return this._$3S[w]},be.prototype.getParamFloat=function(w){return this._$_2[w]},be.prototype.getParamMax=function(w){return this._$Or[w]},be.prototype.getParamMin=function(w){return this._$Rr[w]},be.prototype.setPartsOpacity=function(w,k){var U=this._$Hr[w];U.setPartsOpacity(k)},be.prototype.getPartsOpacity=function(w){var k=this._$Hr[w];return k.getPartsOpacity()},be.prototype.getPartsDataIndex=function(w){for(var k=this._$F2.length-1;k>=0;--k)if(this._$F2[k]!=null&&this._$F2[k]._$p2()==w)return k;return-1},be.prototype._$q2=function(w){return this._$db[w]},be.prototype._$C2=function(w){return this._$8b[w]},be.prototype._$Bb=function(w){return this._$Hr[w]},be.prototype._$5s=function(w,k){for(var U=this._$Ws.length,de=w,ye=0;ye<U;++ye){var ue=this._$Ws[ye];if(ue!=be._$V2)do{var ke=this._$8b[ue];ke._$yo()&&(ke._$GT()._$B2(this,ke,de),de+=k);var De=this._$Er[ue];if(De<=ue||De==be._$W0)break;ue=De}while(!0)}},be.prototype.setDrawParam=function(w){this.dp_webgl=w},be.prototype.getDrawParam=function(){return this.dp_webgl};function Me(){}Me._$0T=function(w){return Me._$0T(new _$5(w))},Me._$0T=function(w){if(!w.exists())throw new _$ls(w._$3b());for(var k=w.length(),U=new Int8Array(k),de=new _$Xs(new _$kb(w),8192),ye,ue=0;(ye=de.read(U,ue,k-ue))>0;)ue+=ye;return U},Me._$C=function(w){var k=null,U=null;try{k=w instanceof Array?w:new _$Xs(w,8192),U=new _$js;for(var de=1e3,ye,ue=new Int8Array(de);(ye=k.read(ue))>0;)U.write(ue,0,ye);return U._$TS()}finally{w!=null&&w.close(),U!=null&&(U.flush(),U.close())}};function Qe(){he||(G.prototype.constructor.call(this),this._$sb=new Int32Array(Qe._$As),this._$U2=new Array,this.transform=null,this.gl=null,Qe._$NT==null&&(Qe._$NT=Qe._$9r(256),Qe._$vS=Qe._$9r(256),Qe._$no=Qe._$vb(256)))}Qe.prototype=new G,Qe._$As=32,Qe._$Gr=!1,Qe._$NT=null,Qe._$vS=null,Qe._$no=null,Qe._$9r=function(w){var k=new Float32Array(w);return k},Qe._$vb=function(w){var k=new Int16Array(w);return k},Qe._$cr=function(w,k){return w==null||w._$yL()<k.length?(w=Qe._$9r(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},Qe._$mb=function(w,k){return w==null||w._$yL()<k.length?(w=Qe._$vb(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},Qe._$Hs=function(){return Qe._$Gr},Qe._$as=function(w){Qe._$Gr=w},Qe.prototype.setGL=function(w){this.gl=w},Qe.prototype.setTransform=function(w){this.transform=w},Qe.prototype._$ZT=function(){},Qe.prototype._$Uo=function(w,k,U,de,ye,ue,ke,De){if(!(ue<.01)){var we=this._$U2[w],Be=ue>.9?lt.EXPAND_W:0;this.gl.drawElements(we,U,de,ye,ue,Be,this.transform,De)}},Qe.prototype._$Rs=function(){throw new Error("_$Rs")},Qe.prototype._$Ds=function(w){throw new Error("_$Ds")},Qe.prototype._$K2=function(){for(var w=0;w<this._$sb.length;w++){var k=this._$sb[w];k!=0&&(this.gl._$Sr(1,this._$sb,w),this._$sb[w]=0)}},Qe.prototype.setTexture=function(w,k){this._$sb.length<w+1&&this._$nS(w),this._$sb[w]=k},Qe.prototype.setTexture=function(w,k){this._$sb.length<w+1&&this._$nS(w),this._$U2[w]=k},Qe.prototype._$nS=function(w){var k=Math.max(this._$sb.length*2,w+1+10),U=new Int32Array(k);q._$jT(this._$sb,0,U,0,this._$sb.length),this._$sb=U;var de=new Array;q._$jT(this._$U2,0,de,0,this._$U2.length),this._$U2=de};function ht(){he||(W.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}ht.prototype=new W,ht._$Xo=new Float32Array(2),ht._$io=new Float32Array(2),ht._$0o=new Float32Array(2),ht._$Lo=new Float32Array(2),ht._$To=new Float32Array(2),ht._$Po=new Float32Array(2),ht._$gT=new Array,ht.prototype._$zP=function(){this._$GS=new R,this._$GS._$zP(),this._$Y0=new Array},ht.prototype.getType=function(){return W._$c2},ht.prototype._$F0=function(w){W.prototype._$F0.call(this,w),this._$GS=w._$nP(),this._$Y0=w._$nP(),W.prototype.readV2_opacity.call(this,w)},ht.prototype.init=function(w){var k=new je(this);return k._$Yr=new T,this._$32()&&(k._$Wr=new T),k},ht.prototype._$Nr=function(w,k){this!=k._$GT()&&console.log("### assert!! ### ");var U=k;if(this._$GS._$Ur(w)){var de=ht._$gT;de[0]=!1;var ye=this._$GS._$Q2(w,de);k._$Ib(de[0]),this.interpolateOpacity(w,this._$GS,k,de);var ue=w._$vs(),ke=w._$Tr();if(this._$GS._$zr(ue,ke,ye),ye<=0){var un=this._$Y0[ue[0]];U._$Yr.init(un)}else if(ye==1){var un=this._$Y0[ue[0]],De=this._$Y0[ue[1]],we=ke[0];U._$Yr._$fL=un._$fL+(De._$fL-un._$fL)*we,U._$Yr._$gL=un._$gL+(De._$gL-un._$gL)*we,U._$Yr._$B0=un._$B0+(De._$B0-un._$B0)*we,U._$Yr._$z0=un._$z0+(De._$z0-un._$z0)*we,U._$Yr._$qT=un._$qT+(De._$qT-un._$qT)*we}else if(ye==2){var un=this._$Y0[ue[0]],De=this._$Y0[ue[1]],Be=this._$Y0[ue[2]],it=this._$Y0[ue[3]],we=ke[0],at=ke[1],ft=un._$fL+(De._$fL-un._$fL)*we,Nt=Be._$fL+(it._$fL-Be._$fL)*we;U._$Yr._$fL=ft+(Nt-ft)*at,ft=un._$gL+(De._$gL-un._$gL)*we,Nt=Be._$gL+(it._$gL-Be._$gL)*we,U._$Yr._$gL=ft+(Nt-ft)*at,ft=un._$B0+(De._$B0-un._$B0)*we,Nt=Be._$B0+(it._$B0-Be._$B0)*we,U._$Yr._$B0=ft+(Nt-ft)*at,ft=un._$z0+(De._$z0-un._$z0)*we,Nt=Be._$z0+(it._$z0-Be._$z0)*we,U._$Yr._$z0=ft+(Nt-ft)*at,ft=un._$qT+(De._$qT-un._$qT)*we,Nt=Be._$qT+(it._$qT-Be._$qT)*we,U._$Yr._$qT=ft+(Nt-ft)*at}else if(ye==3){var Xe=this._$Y0[ue[0]],qe=this._$Y0[ue[1]],Mt=this._$Y0[ue[2]],Lt=this._$Y0[ue[3]],Gt=this._$Y0[ue[4]],Zt=this._$Y0[ue[5]],Or=this._$Y0[ue[6]],fr=this._$Y0[ue[7]],we=ke[0],at=ke[1],_e=ke[2],ft=Xe._$fL+(qe._$fL-Xe._$fL)*we,Nt=Mt._$fL+(Lt._$fL-Mt._$fL)*we,ar=Gt._$fL+(Zt._$fL-Gt._$fL)*we,Jt=Or._$fL+(fr._$fL-Or._$fL)*we;U._$Yr._$fL=(1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at),ft=Xe._$gL+(qe._$gL-Xe._$gL)*we,Nt=Mt._$gL+(Lt._$gL-Mt._$gL)*we,ar=Gt._$gL+(Zt._$gL-Gt._$gL)*we,Jt=Or._$gL+(fr._$gL-Or._$gL)*we,U._$Yr._$gL=(1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at),ft=Xe._$B0+(qe._$B0-Xe._$B0)*we,Nt=Mt._$B0+(Lt._$B0-Mt._$B0)*we,ar=Gt._$B0+(Zt._$B0-Gt._$B0)*we,Jt=Or._$B0+(fr._$B0-Or._$B0)*we,U._$Yr._$B0=(1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at),ft=Xe._$z0+(qe._$z0-Xe._$z0)*we,Nt=Mt._$z0+(Lt._$z0-Mt._$z0)*we,ar=Gt._$z0+(Zt._$z0-Gt._$z0)*we,Jt=Or._$z0+(fr._$z0-Or._$z0)*we,U._$Yr._$z0=(1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at),ft=Xe._$qT+(qe._$qT-Xe._$qT)*we,Nt=Mt._$qT+(Lt._$qT-Mt._$qT)*we,ar=Gt._$qT+(Zt._$qT-Gt._$qT)*we,Jt=Or._$qT+(fr._$qT-Or._$qT)*we,U._$Yr._$qT=(1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at)}else if(ye==4){var Hn=this._$Y0[ue[0]],oi=this._$Y0[ue[1]],_r=this._$Y0[ue[2]],Ei=this._$Y0[ue[3]],Jr=this._$Y0[ue[4]],zr=this._$Y0[ue[5]],en=this._$Y0[ue[6]],sn=this._$Y0[ue[7]],tn=this._$Y0[ue[8]],xn=this._$Y0[ue[9]],Nr=this._$Y0[ue[10]],Xr=this._$Y0[ue[11]],dr=this._$Y0[ue[12]],Br=this._$Y0[ue[13]],fn=this._$Y0[ue[14]],xi=this._$Y0[ue[15]],we=ke[0],at=ke[1],_e=ke[2],Fn=ke[3],ft=Hn._$fL+(oi._$fL-Hn._$fL)*we,Nt=_r._$fL+(Ei._$fL-_r._$fL)*we,ar=Jr._$fL+(zr._$fL-Jr._$fL)*we,Jt=en._$fL+(sn._$fL-en._$fL)*we,ln=tn._$fL+(xn._$fL-tn._$fL)*we,Kn=Nr._$fL+(Xr._$fL-Nr._$fL)*we,At=dr._$fL+(Br._$fL-dr._$fL)*we,us=fn._$fL+(xi._$fL-fn._$fL)*we;U._$Yr._$fL=(1-Fn)*((1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at))+Fn*((1-_e)*(ln+(Kn-ln)*at)+_e*(At+(us-At)*at)),ft=Hn._$gL+(oi._$gL-Hn._$gL)*we,Nt=_r._$gL+(Ei._$gL-_r._$gL)*we,ar=Jr._$gL+(zr._$gL-Jr._$gL)*we,Jt=en._$gL+(sn._$gL-en._$gL)*we,ln=tn._$gL+(xn._$gL-tn._$gL)*we,Kn=Nr._$gL+(Xr._$gL-Nr._$gL)*we,At=dr._$gL+(Br._$gL-dr._$gL)*we,us=fn._$gL+(xi._$gL-fn._$gL)*we,U._$Yr._$gL=(1-Fn)*((1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at))+Fn*((1-_e)*(ln+(Kn-ln)*at)+_e*(At+(us-At)*at)),ft=Hn._$B0+(oi._$B0-Hn._$B0)*we,Nt=_r._$B0+(Ei._$B0-_r._$B0)*we,ar=Jr._$B0+(zr._$B0-Jr._$B0)*we,Jt=en._$B0+(sn._$B0-en._$B0)*we,ln=tn._$B0+(xn._$B0-tn._$B0)*we,Kn=Nr._$B0+(Xr._$B0-Nr._$B0)*we,At=dr._$B0+(Br._$B0-dr._$B0)*we,us=fn._$B0+(xi._$B0-fn._$B0)*we,U._$Yr._$B0=(1-Fn)*((1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at))+Fn*((1-_e)*(ln+(Kn-ln)*at)+_e*(At+(us-At)*at)),ft=Hn._$z0+(oi._$z0-Hn._$z0)*we,Nt=_r._$z0+(Ei._$z0-_r._$z0)*we,ar=Jr._$z0+(zr._$z0-Jr._$z0)*we,Jt=en._$z0+(sn._$z0-en._$z0)*we,ln=tn._$z0+(xn._$z0-tn._$z0)*we,Kn=Nr._$z0+(Xr._$z0-Nr._$z0)*we,At=dr._$z0+(Br._$z0-dr._$z0)*we,us=fn._$z0+(xi._$z0-fn._$z0)*we,U._$Yr._$z0=(1-Fn)*((1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at))+Fn*((1-_e)*(ln+(Kn-ln)*at)+_e*(At+(us-At)*at)),ft=Hn._$qT+(oi._$qT-Hn._$qT)*we,Nt=_r._$qT+(Ei._$qT-_r._$qT)*we,ar=Jr._$qT+(zr._$qT-Jr._$qT)*we,Jt=en._$qT+(sn._$qT-en._$qT)*we,ln=tn._$qT+(xn._$qT-tn._$qT)*we,Kn=Nr._$qT+(Xr._$qT-Nr._$qT)*we,At=dr._$qT+(Br._$qT-dr._$qT)*we,us=fn._$qT+(xi._$qT-fn._$qT)*we,U._$Yr._$qT=(1-Fn)*((1-_e)*(ft+(Nt-ft)*at)+_e*(ar+(Jt-ar)*at))+Fn*((1-_e)*(ln+(Kn-ln)*at)+_e*(At+(us-At)*at))}else{for(var vi=Math.pow(2,ye)|0,Ti=new Float32Array(vi),Ci=0;Ci<vi;Ci++){for(var Bo=Ci,Jo=1,lo=0;lo<ye;lo++)Jo*=Bo%2==0?1-ke[lo]:ke[lo],Bo/=2;Ti[Ci]=Jo}for(var Wi=new Array,Fi=0;Fi<vi;Fi++)Wi[Fi]=this._$Y0[ue[Fi]];for(var xa=0,ea=0,bo=0,Uo=0,xo=0,Fi=0;Fi<vi;Fi++)xa+=Ti[Fi]*Wi[Fi]._$fL,ea+=Ti[Fi]*Wi[Fi]._$gL,bo+=Ti[Fi]*Wi[Fi]._$B0,Uo+=Ti[Fi]*Wi[Fi]._$z0,xo+=Ti[Fi]*Wi[Fi]._$qT;U._$Yr._$fL=xa,U._$Yr._$gL=ea,U._$Yr._$B0=bo,U._$Yr._$z0=Uo,U._$Yr._$qT=xo}var un=this._$Y0[ue[0]];U._$Yr.reflectX=un.reflectX,U._$Yr.reflectY=un.reflectY}},ht.prototype._$2b=function(w,k){this!=k._$GT()&&console.log("### assert!! ### ");var U=k;if(U._$hS(!0),!this._$32())U.setTotalScale_notForClient(U._$Yr._$B0),U.setTotalOpacity(U.getInterpolatedOpacity());else{var de=this.getTargetBaseDataID();if(U._$8r==W._$ur&&(U._$8r=w.getBaseDataIndex(de)),U._$8r<0)lt._$so&&o._$li("_$L _$0P _$G :: %s",de),U._$hS(!1);else{var ye=w.getBaseData(U._$8r);if(ye!=null){var ue=w._$q2(U._$8r),ke=ht._$Xo;ke[0]=U._$Yr._$fL,ke[1]=U._$Yr._$gL;var De=ht._$io;De[0]=0,De[1]=-.1;var we=ue._$GT().getType();we==W._$c2?De[1]=-10:De[1]=-.1;var Be=ht._$0o;this._$Jr(w,ye,ue,ke,De,Be);var it=c._$92(De,Be);ye._$nb(w,ue,ke,ke,1,0,2),U._$Wr._$fL=ke[0],U._$Wr._$gL=ke[1],U._$Wr._$B0=U._$Yr._$B0,U._$Wr._$z0=U._$Yr._$z0,U._$Wr._$qT=U._$Yr._$qT-it*c._$NS;var at=ue.getTotalScale();U.setTotalScale_notForClient(at*U._$Wr._$B0);var ft=ue.getTotalOpacity();U.setTotalOpacity(ft*U.getInterpolatedOpacity()),U._$Wr.reflectX=U._$Yr.reflectX,U._$Wr.reflectY=U._$Yr.reflectY,U._$hS(ue._$yo())}else U._$hS(!1)}}},ht.prototype._$nb=function(w,k,U,de,ye,ue,ke){this!=k._$GT()&&console.log("### assert!! ### ");for(var De=k,we=De._$Wr!=null?De._$Wr:De._$Yr,Be=Math.sin(c._$bS*we._$qT),it=Math.cos(c._$bS*we._$qT),at=De.getTotalScale(),ft=we.reflectX?-1:1,Nt=we.reflectY?-1:1,Xe=it*at*ft,qe=-Be*at*Nt,Mt=Be*at*ft,Lt=it*at*Nt,Gt=we._$fL,Zt=we._$gL,Or,fr,_e=ye*ke,ar=ue;ar<_e;ar+=ke)Or=U[ar],fr=U[ar+1],de[ar]=Xe*Or+qe*fr+Gt,de[ar+1]=Mt*Or+Lt*fr+Zt},ht.prototype._$Jr=function(w,k,U,de,ye,ue){k!=U._$GT()&&console.log("### assert!! ### ");var ke=ht._$Lo;ht._$Lo[0]=de[0],ht._$Lo[1]=de[1],k._$nb(w,U,ke,ke,1,0,2);for(var De=ht._$To,we=ht._$Po,Be=10,it=1,at=0;at<Be;at++){if(we[0]=de[0]+it*ye[0],we[1]=de[1]+it*ye[1],k._$nb(w,U,we,De,1,0,2),De[0]-=ke[0],De[1]-=ke[1],De[0]!=0||De[1]!=0){ue[0]=De[0],ue[1]=De[1];return}if(we[0]=de[0]-it*ye[0],we[1]=de[1]-it*ye[1],k._$nb(w,U,we,De,1,0,2),De[0]-=ke[0],De[1]-=ke[1],De[0]!=0||De[1]!=0){De[0]=-De[0],De[0]=-De[0],ue[0]=De[0],ue[1]=De[1];return}it*=.1}lt._$so&&console.log(`_$L0 to transform _$SP
`)};function je(w){Ut.prototype.constructor.call(this,w),this._$8r=W._$ur,this._$Yr=null,this._$Wr=null}je.prototype=new Ut;function ze(){he||(N.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}ze.prototype=new N,ze._$ur=-2,ze._$ES=500,ze._$wb=2,ze._$8S=3,ze._$os=4,ze._$52=ze._$ES,ze._$R2=ze._$ES,ze._$Sb=function(w){for(var k=w.length-1;k>=0;--k){var U=w[k];U<ze._$52?ze._$52=U:U>ze._$R2&&(ze._$R2=U)}},ze._$or=function(){return ze._$52},ze._$Pr=function(){return ze._$R2},ze.prototype._$F0=function(w){this._$gP=w._$nP(),this._$dr=w._$nP(),this._$GS=w._$nP(),this._$qb=w._$6L(),this._$Lb=w._$cS(),this._$mS=w._$Tb(),w.getFormatVersion()>=ae._$T7?(this.clipID=w._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,ze._$Sb(this._$Lb)},ze.prototype.getClipIDList=function(){return this.clipIDList},ze.prototype._$Nr=function(w,k){if(k._$IS[0]=!1,k._$Us=I._$Z2(w,this._$GS,k._$IS,this._$Lb),!lt._$Zs){if(k._$IS[0])return}k._$7s=I._$br(w,this._$GS,k._$IS,this._$mS)},ze.prototype._$2b=function(w){},ze.prototype.getDrawDataID=function(){return this._$gP},ze.prototype._$j2=function(w){this._$gP=w},ze.prototype.getOpacity=function(w,k){return k._$7s},ze.prototype._$zS=function(w,k){return k._$Us},ze.prototype.getTargetBaseDataID=function(){return this._$dr},ze.prototype._$gs=function(w){this._$dr=w},ze.prototype._$32=function(){return this._$dr!=null&&this._$dr!=nt._$2o()},ze.prototype.getType=function(){};function ut(){he||(this._$NL=null,this._$3S=null,this._$aS=null,ut._$42++)}ut._$42=0,ut.prototype._$1b=function(){return this._$3S},ut.prototype.getDrawDataList=function(){return this._$aS},ut.prototype._$F0=function(w){this._$NL=w._$nP(),this._$aS=w._$nP(),this._$3S=w._$nP()},ut.prototype._$kr=function(w){w._$Zo(this._$3S),w._$xo(this._$aS),this._$3S=null,this._$aS=null};function ct(){he||(t.prototype.constructor.call(this),this._$zo=new Qe)}ct.prototype=new t,ct.loadModel=function(w){var k=new ct;return t._$62(k,w),k},ct.loadModel=function(w){var k=new ct;return t._$62(k,w),k},ct._$to=function(){var w=new ct;return w},ct._$er=function(w){var k=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(k.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+k._$PL());for(var U=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],de=ct.loadModel(k._$3b()),ye=0;ye<U.length;ye++){var ue=new _$5(U[ye]);if(ue.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+ue._$PL());de.setTexture(ye,_$nL._$_o(w,ue._$3b()))}return de},ct.prototype.setGL=function(w){this._$zo.setGL(w)},ct.prototype.setTransform=function(w){this._$zo.setTransform(w)},ct.prototype.draw=function(){this._$5S.draw(this._$zo)},ct.prototype._$K2=function(){this._$zo._$K2()},ct.prototype.setTexture=function(w,k){this._$zo==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(w,k)},ct.prototype.setTexture=function(w,k){this._$zo==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(w,k)},ct.prototype._$Rs=function(){return this._$zo._$Rs()},ct.prototype._$Ds=function(w){this._$zo._$Ds(w)},ct.prototype.getDrawParam=function(){return this._$zo};function mt(){he||(s.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=mt._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}mt.prototype=new s,mt._$cs="VISIBLE:",mt._$ar="LAYOUT:",mt.MTN_PREFIX_FADEIN="FADEIN:",mt.MTN_PREFIX_FADEOUT="FADEOUT:",mt._$Co=0,mt._$1T=1,mt.loadMotion=function(w){var k=Me._$C(w),U=mt.loadMotion(k);return U};function jt(w,k){return String.fromCharCode(w.getUint8(k))}mt.loadMotion=function(w){w instanceof ArrayBuffer&&(w=new DataView(w));var k=new mt,U=[0],de=w.byteLength;k._$yT=0;for(var ye=0;ye<de;++ye){var ue=jt(w,ye),ke=ue.charCodeAt(0);if(!(ue==`
`||ue=="\r")){if(ue=="#"){for(;ye<de&&!(jt(w,ye)==`
`||jt(w,ye)=="\r");++ye);continue}if(ue=="$"){for(var De=ye,we=-1;ye<de&&(ue=jt(w,ye),!(ue=="\r"||ue==`
`));++ye)if(ue=="="){we=ye;break}if(we>=0)for(we==De+4&&jt(w,De+1)=="f"&&jt(w,De+2)=="p"&&jt(w,De+3)=="s",ye=we+1;ye<de&&(ue=jt(w,ye),!(ue=="\r"||ue==`
`));++ye)ue==","||ue==" "||ue=="	"||(X._$LS(w,de,ye,U),ye=U[0]);for(;ye<de&&!(jt(w,ye)==`
`||jt(w,ye)=="\r");++ye);continue}if(97<=ke&&ke<=122||65<=ke&&ke<=90||ue=="_"){for(var De=ye,we=-1;ye<de&&(ue=jt(w,ye),!(ue=="\r"||ue==`
`));++ye)if(ue=="="){we=ye;break}if(we>=0){var Be=new se;X.startsWith(w,De,mt._$cs)?(Be._$RP=se._$hs,Be._$4P=X.createString(w,De,we-De)):X.startsWith(w,De,mt._$ar)?(Be._$4P=X.createString(w,De+7,we-De-7),X.startsWith(w,De+7,"ANCHOR_X")?Be._$RP=se._$xs:X.startsWith(w,De+7,"ANCHOR_Y")?Be._$RP=se._$us:X.startsWith(w,De+7,"SCALE_X")?Be._$RP=se._$qs:X.startsWith(w,De+7,"SCALE_Y")?Be._$RP=se._$Ys:X.startsWith(w,De+7,"X")?Be._$RP=se._$ws:X.startsWith(w,De+7,"Y")&&(Be._$RP=se._$Ns)):(Be._$RP=se._$Fr,Be._$4P=X.createString(w,De,we-De)),k.motions.push(Be);var it=0,at=[];for(ye=we+1;ye<de&&(ue=jt(w,ye),!(ue=="\r"||ue==`
`));++ye)ue==","||ue==" "||ue=="	"||X._$LS(w,de,ye,U);Be._$I0=new Float32Array(at),it>k._$yT&&(k._$yT=it)}}}}return k._$rr=1e3*k._$yT/k._$D0|0,k},mt.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},mt.prototype.getLoopDurationMSec=function(){return this._$rr},mt.prototype.dump=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];console.log("_$wL[%s] [%d]. ",k._$4P,k._$I0.length);for(var U=0;U<k._$I0.length&&U<10;U++)console.log("%5.2f ,",k._$I0[U]);console.log(`
`)}},mt.prototype.updateParamExe=function(w,k,U,de){for(var ye=k-de._$z2,ue=ye*this._$D0/1e3,ke=ue|0,De=ue-ke,we=0;we<this.motions.length;we++){var Be=this.motions[we],it=Be._$I0.length,at=Be._$4P;if(Be._$RP==se._$hs){var ft=Be._$I0[ke>=it?it-1:ke];w.setParamFloat(at,ft)}else if(!(se._$ws<=Be._$RP&&Be._$RP<=se._$Ys)){var Nt=w.getParamIndex(at),Xe=w.getModelContext(),qe=Xe.getParamMax(Nt),Mt=Xe.getParamMin(Nt),Lt=.4,Gt=Lt*(qe-Mt),Zt=Xe.getParamFloat(Nt),Or=Be._$I0[ke>=it?it-1:ke],fr=Be._$I0[ke+1>=it?it-1:ke+1],_e;Or<fr&&fr-Or>Gt||Or>fr&&Or-fr>Gt?_e=Or:_e=Or+(fr-Or)*De;var ar=Zt+(_e-Zt)*U;w.setParamFloat(at,ar)}}ke>=this._$yT&&(this._$E?(de._$z2=k,this.loopFadeIn&&(de._$bs=k)):de._$9L=!0),this._$eP=U},mt.prototype._$r0=function(){return this._$E},mt.prototype._$aL=function(w){this._$E=w},mt.prototype._$S0=function(){return this._$D0},mt.prototype._$U0=function(w){this._$D0=w},mt.prototype.isLoopFadeIn=function(){return this.loopFadeIn},mt.prototype.setLoopFadeIn=function(w){this.loopFadeIn=w};function vt(){this._$P=new Float32Array(100),this.size=0}vt.prototype.clear=function(){this.size=0},vt.prototype.add=function(w){if(this._$P.length<=this.size){var k=new Float32Array(this.size*2);q._$jT(this._$P,0,k,0,this.size),this._$P=k}this._$P[this.size++]=w},vt.prototype._$BL=function(){var w=new Float32Array(this.size);return q._$jT(this._$P,0,w,0,this.size),w};function se(){this._$4P=null,this._$I0=null,this._$RP=null}se._$Fr=0,se._$hs=1,se._$ws=100,se._$Ns=101,se._$xs=102,se._$us=103,se._$qs=104,se._$Ys=105;function Pe(){he||(W.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}Pe.prototype=new W,Pe._$gT=new Array,Pe.prototype._$zP=function(){this._$GS=new R,this._$GS._$zP()},Pe.prototype._$F0=function(w){W.prototype._$F0.call(this,w),this._$A=w._$6L(),this._$o=w._$6L(),this._$GS=w._$nP(),this._$Eo=w._$nP(),W.prototype.readV2_opacity.call(this,w)},Pe.prototype.init=function(w){var k=new tt(this),U=(this._$o+1)*(this._$A+1);return k._$Cr!=null&&(k._$Cr=null),k._$Cr=new Float32Array(U*2),k._$hr!=null&&(k._$hr=null),this._$32()?k._$hr=new Float32Array(U*2):k._$hr=null,k},Pe.prototype._$Nr=function(w,k){var U=k;if(this._$GS._$Ur(w)){var de=this._$VT(),ye=Pe._$gT;ye[0]=!1,I._$Vr(w,this._$GS,ye,de,this._$Eo,U._$Cr,0,2),k._$Ib(ye[0]),this.interpolateOpacity(w,this._$GS,k,ye)}},Pe.prototype._$2b=function(w,k){var U=k;if(U._$hS(!0),!this._$32())U.setTotalOpacity(U.getInterpolatedOpacity());else{var de=this.getTargetBaseDataID();if(U._$8r==W._$ur&&(U._$8r=w.getBaseDataIndex(de)),U._$8r<0)lt._$so&&o._$li("_$L _$0P _$G :: %s",de),U._$hS(!1);else{var ye=w.getBaseData(U._$8r),ue=w._$q2(U._$8r);if(ye!=null&&ue._$yo()){var ke=ue.getTotalScale();U.setTotalScale_notForClient(ke);var De=ue.getTotalOpacity();U.setTotalOpacity(De*U.getInterpolatedOpacity()),ye._$nb(w,ue,U._$Cr,U._$hr,this._$VT(),0,2),U._$hS(!0)}else U._$hS(!1)}}},Pe.prototype._$nb=function(w,k,U,de,ye,ue,ke){{var De=k,we=De._$hr!=null?De._$hr:De._$Cr;Pe.transformPoints_sdk2(U,de,ye,ue,ke,we,this._$o,this._$A)}},Pe.transformPoints_sdk2=function(w,k,U,de,ye,ue,ke,De){for(var we=U*ye,Be,it,at,ft=0,Nt=0,Xe=0,qe=0,Mt=0,Lt=0,Gt=!1,Zt=de;Zt<we;Zt+=ye){var Or,fr,_e,ar;if(_e=w[Zt],ar=w[Zt+1],Or=_e*ke,fr=ar*De,Or<0||fr<0||ke<=Or||De<=fr){var Jt=ke+1;if(!Gt){Gt=!0,ft=.25*(ue[(0+0*Jt)*2]+ue[(ke+0*Jt)*2]+ue[(0+De*Jt)*2]+ue[(ke+De*Jt)*2]),Nt=.25*(ue[(0+0*Jt)*2+1]+ue[(ke+0*Jt)*2+1]+ue[(0+De*Jt)*2+1]+ue[(ke+De*Jt)*2+1]);var Hn=ue[(ke+De*Jt)*2]-ue[(0+0*Jt)*2],oi=ue[(ke+De*Jt)*2+1]-ue[(0+0*Jt)*2+1],_r=ue[(ke+0*Jt)*2]-ue[(0+De*Jt)*2],Ei=ue[(ke+0*Jt)*2+1]-ue[(0+De*Jt)*2+1];Xe=(Hn+_r)*.5,qe=(oi+Ei)*.5,Mt=(Hn-_r)*.5,Lt=(oi-Ei)*.5,ft-=.5*(Xe+Mt),Nt-=.5*(qe+Lt)}if(-2<_e&&_e<3&&-2<ar&&ar<3)if(_e<=0)if(ar<=0){var Jr=ue[(0+0*Jt)*2],zr=ue[(0+0*Jt)*2+1],en=ft-2*Xe,sn=Nt-2*qe,tn=ft-2*Mt,xn=Nt-2*Lt,Nr=ft-2*Xe-2*Mt,Xr=Nt-2*qe-2*Lt,dr=.5*(_e- -2),Br=.5*(ar- -2);dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else if(ar>=1){var tn=ue[(0+De*Jt)*2],xn=ue[(0+De*Jt)*2+1],Nr=ft-2*Xe+1*Mt,Xr=Nt-2*qe+1*Lt,Jr=ft+3*Mt,zr=Nt+3*Lt,en=ft-2*Xe+3*Mt,sn=Nt-2*qe+3*Lt,dr=.5*(_e- -2),Br=.5*(ar-1);dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else{var fn=fr|0;fn==De&&(fn=De-1);var dr=.5*(_e- -2),Br=fr-fn,xi=fn/De,Fn=(fn+1)/De,tn=ue[(0+fn*Jt)*2],xn=ue[(0+fn*Jt)*2+1],Jr=ue[(0+(fn+1)*Jt)*2],zr=ue[(0+(fn+1)*Jt)*2+1],Nr=ft-2*Xe+xi*Mt,Xr=Nt-2*qe+xi*Lt,en=ft-2*Xe+Fn*Mt,sn=Nt-2*qe+Fn*Lt;dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else if(1<=_e)if(ar<=0){var en=ue[(ke+0*Jt)*2],sn=ue[(ke+0*Jt)*2+1],Jr=ft+3*Xe,zr=Nt+3*qe,Nr=ft+1*Xe-2*Mt,Xr=Nt+1*qe-2*Lt,tn=ft+3*Xe-2*Mt,xn=Nt+3*qe-2*Lt,dr=.5*(_e-1),Br=.5*(ar- -2);dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else if(ar>=1){var Nr=ue[(ke+De*Jt)*2],Xr=ue[(ke+De*Jt)*2+1],tn=ft+3*Xe+1*Mt,xn=Nt+3*qe+1*Lt,en=ft+1*Xe+3*Mt,sn=Nt+1*qe+3*Lt,Jr=ft+3*Xe+3*Mt,zr=Nt+3*qe+3*Lt,dr=.5*(_e-1),Br=.5*(ar-1);dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else{var fn=fr|0;fn==De&&(fn=De-1);var dr=.5*(_e-1),Br=fr-fn,xi=fn/De,Fn=(fn+1)/De,Nr=ue[(ke+fn*Jt)*2],Xr=ue[(ke+fn*Jt)*2+1],en=ue[(ke+(fn+1)*Jt)*2],sn=ue[(ke+(fn+1)*Jt)*2+1],tn=ft+3*Xe+xi*Mt,xn=Nt+3*qe+xi*Lt,Jr=ft+3*Xe+Fn*Mt,zr=Nt+3*qe+Fn*Lt;dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else if(ar<=0){var ln=Or|0;ln==ke&&(ln=ke-1);var dr=Or-ln,Br=.5*(ar- -2),Kn=ln/ke,At=(ln+1)/ke,en=ue[(ln+0*Jt)*2],sn=ue[(ln+0*Jt)*2+1],Jr=ue[(ln+1+0*Jt)*2],zr=ue[(ln+1+0*Jt)*2+1],Nr=ft+Kn*Xe-2*Mt,Xr=Nt+Kn*qe-2*Lt,tn=ft+At*Xe-2*Mt,xn=Nt+At*qe-2*Lt;dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else if(ar>=1){var ln=Or|0;ln==ke&&(ln=ke-1);var dr=Or-ln,Br=.5*(ar-1),Kn=ln/ke,At=(ln+1)/ke,Nr=ue[(ln+De*Jt)*2],Xr=ue[(ln+De*Jt)*2+1],tn=ue[(ln+1+De*Jt)*2],xn=ue[(ln+1+De*Jt)*2+1],en=ft+Kn*Xe+3*Mt,sn=Nt+Kn*qe+3*Lt,Jr=ft+At*Xe+3*Mt,zr=Nt+At*qe+3*Lt;dr+Br<=1?(k[Zt]=Nr+(tn-Nr)*dr+(en-Nr)*Br,k[Zt+1]=Xr+(xn-Xr)*dr+(sn-Xr)*Br):(k[Zt]=Jr+(en-Jr)*(1-dr)+(tn-Jr)*(1-Br),k[Zt+1]=zr+(sn-zr)*(1-dr)+(xn-zr)*(1-Br))}else System.err.printf(`_$li calc : %.4f , %.4f					@@BDBoxGrid
`,_e,ar);else k[Zt]=ft+_e*Xe+ar*Mt,k[Zt+1]=Nt+_e*qe+ar*Lt}else it=Or-(Or|0),at=fr-(fr|0),Be=2*((Or|0)+(fr|0)*(ke+1)),it+at<1?(k[Zt]=ue[Be]*(1-it-at)+ue[Be+2]*it+ue[Be+2*(ke+1)]*at,k[Zt+1]=ue[Be+1]*(1-it-at)+ue[Be+3]*it+ue[Be+2*(ke+1)+1]*at):(k[Zt]=ue[Be+2*(ke+1)+2]*(it-1+at)+ue[Be+2*(ke+1)]*(1-it)+ue[Be+2]*(1-at),k[Zt+1]=ue[Be+2*(ke+1)+3]*(it-1+at)+ue[Be+2*(ke+1)+1]*(1-it)+ue[Be+3]*(1-at))}},Pe.prototype.transformPoints_sdk1=function(w,k,U,de,ye,ue,ke){for(var De=k,we,Be,it=this._$o,at=this._$A,ft=ye*ke,Nt,Xe,qe,Mt,Lt,Gt=De._$hr!=null?De._$hr:De._$Cr,Zt=ue;Zt<ft;Zt+=ke)lt._$ts?(we=U[Zt],Be=U[Zt+1],we<0?we=0:we>1&&(we=1),Be<0?Be=0:Be>1&&(Be=1),we*=it,Be*=at,Nt=we|0,Xe=Be|0,Nt>it-1&&(Nt=it-1),Xe>at-1&&(Xe=at-1),Mt=we-Nt,Lt=Be-Xe,qe=2*(Nt+Xe*(it+1))):(we=U[Zt]*it,Be=U[Zt+1]*at,Mt=we-(we|0),Lt=Be-(Be|0),qe=2*((we|0)+(Be|0)*(it+1))),Mt+Lt<1?(de[Zt]=Gt[qe]*(1-Mt-Lt)+Gt[qe+2]*Mt+Gt[qe+2*(it+1)]*Lt,de[Zt+1]=Gt[qe+1]*(1-Mt-Lt)+Gt[qe+3]*Mt+Gt[qe+2*(it+1)+1]*Lt):(de[Zt]=Gt[qe+2*(it+1)+2]*(Mt-1+Lt)+Gt[qe+2*(it+1)]*(1-Mt)+Gt[qe+2]*(1-Lt),de[Zt+1]=Gt[qe+2*(it+1)+3]*(Mt-1+Lt)+Gt[qe+2*(it+1)+1]*(1-Mt)+Gt[qe+3]*(1-Lt))},Pe.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Pe.prototype.getType=function(){return W._$_b};function tt(w){Ut.prototype.constructor.call(this,w),this._$8r=W._$ur,this._$Cr=null,this._$hr=null}tt.prototype=new Ut;function et(){he||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,et._$42++)}et._$42=0,et.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},et.prototype._$F0=function(w){this._$g0=w._$8L(),this.visible=w._$8L(),this._$NL=w._$nP(),this._$3S=w._$nP(),this._$aS=w._$nP()},et.prototype.init=function(w){var k=new ot(this);return k.setPartsOpacity(this.isVisible()?1:0),k},et.prototype._$6o=function(w){if(this._$3S==null)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(w)},et.prototype._$3o=function(w){if(this._$aS==null)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(w)},et.prototype._$Zo=function(w){this._$3S=w},et.prototype._$xo=function(w){this._$aS=w},et.prototype.isVisible=function(){return this.visible},et.prototype._$uL=function(){return this._$g0},et.prototype._$KP=function(w){this.visible=w},et.prototype._$ET=function(w){this._$g0=w},et.prototype.getBaseData=function(){return this._$3S},et.prototype.getDrawData=function(){return this._$aS},et.prototype._$p2=function(){return this._$NL},et.prototype._$ob=function(w){this._$NL=w},et.prototype.getPartsID=function(){return this._$NL},et.prototype._$MP=function(w){this._$NL=w};function ot(w){this._$VS=null,this._$e0=null,this._$e0=w}ot.prototype=new d,ot.prototype.getPartsOpacity=function(){return this._$VS},ot.prototype.setPartsOpacity=function(w){this._$VS=w};function St(w){he||(this.id=w)}St._$L7=function(){f._$27(),nt._$27(),re._$27(),u._$27()},St.prototype.toString=function(){return this.id};function Dt(){he||(this._$4S=null)}Dt.prototype._$1s=function(){return this._$4S},Dt.prototype._$zP=function(){this._$4S=new Array},Dt.prototype._$F0=function(w){this._$4S=w._$nP()},Dt.prototype._$Ks=function(w){this._$4S.push(w)};function _t(w,k){this.canvas=w,this.context=k,this.viewport=new Array(0,0,w.width,w.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}_t.tr=new Ie,_t._$50=new Ie,_t._$Ti=new Array(0,0),_t._$Pi=new Array(0,0),_t._$B=new Array(0,0),_t.prototype._$lP=function(w,k,U,de){this.viewport=new Array(w,k,U,de)},_t.prototype._$bL=function(){this.context.save();var w=this.viewport;w!=null&&(this.context.beginPath(),this.context._$Li(w[0],w[1],w[2],w[3]),this.context.clip())},_t.prototype._$ei=function(){this.context.restore()},_t.prototype.drawElements=function(w,k,U,de,ye,ue,ke,De){try{ye!=this._$Qo&&(this._$Qo=ye,this.context.globalAlpha=ye);for(var we=k.length,Be=w.width,it=w.height,at=this.context,ft=this._$xP,Nt=this._$uP,Xe=this._$6r,qe=this._$3r,Mt=_t.tr,Lt=_t._$Ti,Gt=_t._$Pi,Zt=_t._$B,Or=0;Or<we;Or+=3){at.save();var fr=k[Or],_e=k[Or+1],ar=k[Or+2],Jt=ft+Xe*U[fr*2],Hn=Nt+qe*U[fr*2+1],oi=ft+Xe*U[_e*2],_r=Nt+qe*U[_e*2+1],Ei=ft+Xe*U[ar*2],Jr=Nt+qe*U[ar*2+1];ke&&(ke._$PS(Jt,Hn,Zt),Jt=Zt[0],Hn=Zt[1],ke._$PS(oi,_r,Zt),oi=Zt[0],_r=Zt[1],ke._$PS(Ei,Jr,Zt),Ei=Zt[0],Jr=Zt[1]);var zr=Be*de[fr*2],en=it-it*de[fr*2+1],sn=Be*de[_e*2],tn=it-it*de[_e*2+1],xn=Be*de[ar*2],Nr=it-it*de[ar*2+1],Xr=Math.atan2(tn-en,sn-zr),dr=Math.atan2(_r-Hn,oi-Jt),Br=oi-Jt,fn=_r-Hn,xi=Math.sqrt(Br*Br+fn*fn),Fn=sn-zr,ln=tn-en,Kn=Math.sqrt(Fn*Fn+ln*ln),At=xi/Kn;A._$ni(xn,Nr,zr,en,sn-zr,tn-en,-(tn-en),sn-zr,Lt),A._$ni(Ei,Jr,Jt,Hn,oi-Jt,_r-Hn,-(_r-Hn),oi-Jt,Gt);var us=(Gt[0]-Lt[0])/Lt[1],vi=Math.min(zr,sn,xn),Ti=Math.max(zr,sn,xn),Ci=Math.min(en,tn,Nr),Bo=Math.max(en,tn,Nr),Jo=Math.floor(vi),lo=Math.floor(Ci),Wi=Math.ceil(Ti),Fi=Math.ceil(Bo);Mt.identity(),Mt.translate(Jt,Hn),Mt.rotate(dr),Mt.scale(1,Gt[1]/Lt[1]),Mt.shear(us,0),Mt.scale(At,At),Mt.rotate(-Xr),Mt.translate(-zr,-en),Mt.setContext(at);var xa=!0,ea=1.2;if(ue||(ue=xa?ea:0),lt.IGNORE_EXPAND&&(ue=0),lt.USE_CACHED_POLYGON_IMAGE){var bo=De._$e0;if(bo.gl_cacheImage=bo.gl_cacheImage||{},!bo.gl_cacheImage[Or]){var Uo=_t.createCanvas(Wi-Jo,Fi-lo);lt.DEBUG_DATA.LDGL_CANVAS_MB=lt.DEBUG_DATA.LDGL_CANVAS_MB||0,lt.DEBUG_DATA.LDGL_CANVAS_MB+=(Wi-Jo)*(Fi-lo)*4;var xo=Uo.getContext("2d");xo.translate(-Jo,-lo),_t.clip(xo,Mt,ue,xi,zr,en,sn,tn,xn,Nr,Jt,Hn,oi,_r,Ei,Jr),xo.drawImage(w,0,0),bo.gl_cacheImage[Or]={cacheCanvas:Uo,cacheContext:xo}}at.drawImage(bo.gl_cacheImage[Or].cacheCanvas,Jo,lo)}else lt.IGNORE_CLIP||_t.clip(at,Mt,ue,xi,zr,en,sn,tn,xn,Nr,Jt,Hn,oi,_r,Ei,Jr),lt.USE_ADJUST_TRANSLATION&&(vi=0,Ti=Be,Ci=0,Bo=it),at.drawImage(w,vi,Ci,Ti-vi,Bo-Ci,vi,Ci,Ti-vi,Bo-Ci);at.restore()}}catch(un){o._$Rb(un)}},_t.clip=function(w,k,U,de,ye,ue,ke,De,we,Be,it,at,ft,Nt,Xe,qe){U>.02?_t.expandClip(w,k,U,de,it,at,ft,Nt,Xe,qe):_t.clipWithTransform(w,null,ye,ue,ke,De,we,Be)},_t.expandClip=function(w,k,U,de,ye,ue,ke,De,we,Be){var it=ke-ye,at=De-ue,ft=we-ye,Nt=Be-ue,Xe=it*Nt-at*ft>0?U:-U,qe=-at,Mt=it,Lt=we-ke,Gt=Be-De,Zt=-Gt,Or=Lt,fr=Math.sqrt(Lt*Lt+Gt*Gt),_e=-Nt,ar=ft,Jt=Math.sqrt(ft*ft+Nt*Nt),Hn=ye-Xe*qe/de,oi=ue-Xe*Mt/de,_r=ke-Xe*qe/de,Ei=De-Xe*Mt/de,Jr=ke-Xe*Zt/fr,zr=De-Xe*Or/fr,en=we-Xe*Zt/fr,sn=Be-Xe*Or/fr,tn=ye+Xe*_e/Jt,xn=ue+Xe*ar/Jt,Nr=we+Xe*_e/Jt,Xr=Be+Xe*ar/Jt,dr=_t._$50,Br=k._$P2(dr);return Br==null?!1:(_t.clipWithTransform(w,dr,Hn,oi,_r,Ei,Jr,zr,en,sn,Nr,Xr,tn,xn),!0)},_t.clipWithTransform=function(w,k,U,de,ye,ue,ke,De){if(arguments.length<1+3*2){o._$li("err : @LDGL.clip()");return}if(!(arguments[1]instanceof Ie)){o._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");return}var we=_t._$B,Be=k,it=arguments;if(w.beginPath(),Be){Be._$PS(it[2],it[3],we),w.moveTo(we[0],we[1]);for(var at=4;at<it.length;at+=2)Be._$PS(it[at],it[at+1],we),w.lineTo(we[0],we[1])}else{w.moveTo(it[2],it[3]);for(var at=4;at<it.length;at+=2)w.lineTo(it[at],it[at+1])}w.clip()},_t.createCanvas=function(w,k){var U=document.createElement("canvas");return U.setAttribute("width",w),U.setAttribute("height",k),U||o._$li("err : "+U),U},_t.dumpValues=function(){for(var w="",k=0;k<arguments.length;k++)w+="["+k+"]= "+arguments[k].toFixed(3)+" , ";console.log(w)};function Kt(){he||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}Kt.prototype._$F0=function(w){this._$TT=w._$_T(),this._$LT=w._$_T(),this._$FS=w._$_T(),this._$wL=w._$nP()},Kt.prototype.getMinValue=function(){return this._$TT},Kt.prototype.getMaxValue=function(){return this._$LT},Kt.prototype.getDefaultValue=function(){return this._$FS},Kt.prototype.getParamID=function(){return this._$wL};function Ut(w){he||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=w,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}Ut.prototype._$yo=function(){return this._$AT&&!this._$JS},Ut.prototype._$hS=function(w){this._$AT=w},Ut.prototype._$GT=function(){return this._$e0},Ut.prototype._$l2=function(w){this._$IP=w},Ut.prototype.getPartsIndex=function(){return this._$IP},Ut.prototype._$x2=function(){return this._$JS},Ut.prototype._$Ib=function(w){this._$JS=w},Ut.prototype.getTotalScale=function(){return this.totalScale},Ut.prototype.setTotalScale_notForClient=function(w){this.totalScale=w},Ut.prototype.getInterpolatedOpacity=function(){return this._$7s},Ut.prototype.setInterpolatedOpacity=function(w){this._$7s=w},Ut.prototype.getTotalOpacity=function(w){return this.totalOpacity},Ut.prototype.setTotalOpacity=function(w){this.totalOpacity=w};function lt(){}lt._$2s="2.1.00_1",lt._$Kr=201001e3,lt._$sP=!0,lt._$so=!0,lt._$cb=!1,lt._$3T=!0,lt._$Ts=!0,lt._$fb=!0,lt._$ts=!0,lt.L2D_DEFORMER_EXTEND=!0,lt._$Wb=!1,lt._$yr=!1,lt._$Zs=!1,lt.L2D_NO_ERROR=0,lt._$i7=1e3,lt._$9s=1001,lt._$es=1100,lt._$r7=2e3,lt._$07=2001,lt._$b7=2002,lt._$H7=4e3,lt.L2D_COLOR_BLEND_MODE_MULT=0,lt.L2D_COLOR_BLEND_MODE_ADD=1,lt.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,lt._$6b=!0,lt._$cT=0,lt.clippingMaskBufferSize=256,lt.glContext=new Array,lt.frameBuffers=new Array,lt.fTexture=new Array,lt.IGNORE_CLIP=!1,lt.IGNORE_EXPAND=!1,lt.EXPAND_W=2,lt.USE_ADJUST_TRANSLATION=!0,lt.USE_CANVAS_TRANSFORM=!0,lt.USE_CACHED_POLYGON_IMAGE=!1,lt.DEBUG_DATA={},lt.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},lt.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},lt.PROFILE_IOS_DEFAULT=lt.PROFILE_IOS_QUALITY,lt.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},lt.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},lt.initProfile=function(){ur.isIOS()?lt.setupProfile(lt.PROFILE_IOS_DEFAULT):ur.isAndroid()?lt.setupProfile(lt.PROFILE_ANDROID):lt.setupProfile(lt.PROFILE_DESKTOP)},lt.setupProfile=function(w,k){if(typeof w=="number")switch(w){case 9901:w=lt.PROFILE_IOS_SPEED;break;case 9902:w=lt.PROFILE_IOS_QUALITY;break;case 9903:w=lt.PROFILE_IOS_DEFAULT;break;case 9904:w=lt.PROFILE_ANDROID;break;case 9905:w=lt.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+w);break}arguments.length<2&&(k=!0),k&&console.log("profile : "+w.PROFILE_NAME);for(var U in w)lt[U]=w[U],k&&console.log("  ["+U+"] = "+w[U])},lt.init=function(){lt._$6b&&(console.log("Live2D %s",lt._$2s),lt._$6b=!1,lt.initProfile())},lt.getVersionStr=function(){return lt._$2s},lt.getVersionNo=function(){return lt._$Kr},lt._$sT=function(w){lt._$cT=w},lt.getError=function(){var w=lt._$cT;return lt._$cT=0,w},lt.dispose=function(){lt.glContext=[],lt.frameBuffers=[],lt.fTexture=[]},lt.setGL=function(w,k){var U=k||0;lt.glContext[U]=w},lt.getGL=function(w){return lt.glContext[w]},lt.setClippingMaskBufferSize=function(w){lt.clippingMaskBufferSize=w},lt.getClippingMaskBufferSize=function(){return lt.clippingMaskBufferSize},lt.deleteBuffer=function(w){var k=lt.getGL(w);k.deleteFramebuffer(lt.frameBuffers[w].framebuffer),delete lt.frameBuffers[w],delete lt.glContext[w]};function kt(){}kt._$r2=function(w){return w<0?0:w>1?1:.5-.5*Math.cos(w*c.PI_F)};function yt(w){he||(this._$ib=w)}yt._$fr=-1,yt.prototype.toString=function(){return this._$ib};function Pt(){he||(ze.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=Pt._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=Pt._$42++)}Pt.prototype=new ze,Pt._$42=0,Pt._$Os=30,Pt._$ms=0,Pt._$ns=1,Pt._$_s=2,Pt._$gT=new Array,Pt.prototype._$_S=function(w){this._$LP=w},Pt.prototype.getTextureNo=function(){return this._$LP},Pt.prototype._$ZL=function(){return this._$Qi},Pt.prototype._$H2=function(){return this._$JP},Pt.prototype.getNumPoints=function(){return this._$d0},Pt.prototype.getType=function(){return ze._$wb},Pt.prototype._$B2=function(w,k,U){var de=k,ye=de._$hr!=null?de._$hr:de._$Cr,ue=ee._$do;switch(ue){default:case ee._$Ms:throw new Error("_$L _$ro ");case ee._$Qs:for(var ke=this._$d0-1;ke>=0;--ke){var De=ke*ee._$No;ye[De+4]=U}break}},Pt.prototype._$zP=function(){this._$GS=new R,this._$GS._$zP()},Pt.prototype._$F0=function(w){ze.prototype._$F0.call(this,w),this._$LP=w._$6L(),this._$d0=w._$6L(),this._$Yo=w._$6L();var k=w._$nP();this._$BP=new Int16Array(this._$Yo*3);for(var U=this._$Yo*3-1;U>=0;--U)this._$BP[U]=k[U];if(this._$Eo=w._$nP(),this._$Qi=w._$nP(),w.getFormatVersion()>=ae._$s7){if(this._$JP=w._$6L(),this._$JP!=0){if(this._$JP&1){var de=w._$6L();this._$5P==null&&(this._$5P=new Object),this._$5P._$Hb=parseInt(de)}this._$JP&Pt._$Os?this._$6s=(this._$JP&Pt._$Os)>>1:this._$6s=Pt._$ms,this._$JP&32&&(this.culling=!1)}}else this._$JP=0},Pt.prototype.init=function(w){var k=new Er(this),U=this._$d0*ee._$No,de=this._$32();k._$Cr!=null&&(k._$Cr=null),k._$Cr=new Float32Array(U),k._$hr!=null&&(k._$hr=null),k._$hr=de?new Float32Array(U):null;var ye=ee._$do;switch(ye){default:case ee._$Ms:if(ee._$Ls)for(var ue=this._$d0-1;ue>=0;--ue){var ke=ue<<1;this._$Qi[ke+1]=1-this._$Qi[ke+1]}break;case ee._$Qs:for(var ue=this._$d0-1;ue>=0;--ue){var ke=ue<<1,De=ue*ee._$No,we=this._$Qi[ke],Be=this._$Qi[ke+1];k._$Cr[De]=we,k._$Cr[De+1]=Be,k._$Cr[De+4]=0,de&&(k._$hr[De]=we,k._$hr[De+1]=Be,k._$hr[De+4]=0)}break}return k},Pt.prototype._$Nr=function(w,k){var U=k;if(this!=U._$GT()&&console.log("### assert!! ### "),!!this._$GS._$Ur(w)&&(ze.prototype._$Nr.call(this,w,U),!U._$IS[0])){var de=Pt._$gT;de[0]=!1,I._$Vr(w,this._$GS,de,this._$d0,this._$Eo,U._$Cr,ee._$i2,ee._$No)}},Pt.prototype._$2b=function(w,k){try{this!=k._$GT()&&console.log("### assert!! ### ");var U=!1;k._$IS[0]&&(U=!0);var de=k;if(!U&&(ze.prototype._$2b.call(this,w),this._$32())){var ye=this.getTargetBaseDataID();if(de._$8r==ze._$ur&&(de._$8r=w.getBaseDataIndex(ye)),de._$8r<0)lt._$so&&o._$li("_$L _$0P _$G :: %s",ye);else{var ue=w.getBaseData(de._$8r),ke=w._$q2(de._$8r);ue!=null&&!ke._$x2()?(ue._$nb(w,ke,de._$Cr,de._$hr,this._$d0,ee._$i2,ee._$No),de._$AT=!0):de._$AT=!1,de.baseOpacity=ke.getTotalOpacity()}}}catch(De){throw De}},Pt.prototype.draw=function(w,k,U){if(this!=U._$GT()&&console.log("### assert!! ### "),!U._$IS[0]){var de=U,ye=this._$LP;ye<0&&(ye=1);var ue=this.getOpacity(k,de)*U._$VS*U.baseOpacity,ke=de._$hr!=null?de._$hr:de._$Cr;w.setClipBufPre_clipContextForDraw(U.clipBufPre_clipContext),w._$WP(this.culling),w._$Uo(ye,3*this._$Yo,this._$BP,ke,this._$Qi,ue,this._$6s,de)}},Pt.prototype.dump=function(){console.log(`  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) 
`,this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var w=0;w<this._$BP.length;w++)console.log("%5d ,",this._$BP[w]);console.log(`
  _$5i _$30`);for(var w=0;w<this._$Eo.length;w++){console.log(`
    _$30[%d] = `,w);for(var k=this._$Eo[w],U=0;U<k.length;U++)console.log("%6.2f, ",k[U])}console.log(`
`)},Pt.prototype._$72=function(w){return this._$5P==null?null:this._$5P[w]},Pt.prototype.getIndexArray=function(){return this._$BP};function Er(w){$t.prototype.constructor.call(this,w),this._$8r=ze._$ur,this._$Cr=null,this._$hr=null}Er.prototype=new $t,Er.prototype.getTransformedPoints=function(){return this._$hr!=null?this._$hr:this._$Cr};function zt(){he||(this.x=null,this.y=null)}zt.prototype._$HT=function(w){this.x=w.x,this.y=w.y},zt.prototype._$HT=function(w,k){this.x=w,this.y=k};function xr(w){he||(t.prototype.constructor.call(this),this.drawParamWebGL=new le(w),this.drawParamWebGL.setGL(lt.getGL(w)))}xr.prototype=new t,xr.loadModel=function(w){var k=new xr;return t._$62(k,w),k},xr.loadModel=function(w,k){var U=k||0,de=new xr(U);return t._$62(de,w),de},xr._$to=function(){var w=new xr;return w},xr._$er=function(w){var k=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(k.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+k._$PL());for(var U=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],de=xr.loadModel(k._$3b()),ye=0;ye<U.length;ye++){var ue=new _$5(U[ye]);if(ue.exists()==!1)throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+ue._$PL());de.setTexture(ye,_$nL._$_o(w,ue._$3b()))}return de},xr.prototype.setGL=function(w){lt.setGL(w)},xr.prototype.setTransform=function(w){this.drawParamWebGL.setTransform(w)},xr.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},xr.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},xr.prototype._$K2=function(){this.drawParamWebGL._$K2()},xr.prototype.setTexture=function(w,k){this.drawParamWebGL==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(w,k)},xr.prototype.setTexture=function(w,k){this.drawParamWebGL==null&&o._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(w,k)},xr.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},xr.prototype._$Ds=function(w){this.drawParamWebGL._$Ds(w)},xr.prototype.getDrawParam=function(){return this.drawParamWebGL},xr.prototype.setMatrix=function(w){this.drawParamWebGL.setMatrix(w)},xr.prototype.setPremultipliedAlpha=function(w){this.drawParamWebGL.setPremultipliedAlpha(w)},xr.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},xr.prototype.setAnisotropy=function(w){this.drawParamWebGL.setAnisotropy(w)},xr.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()};function Ot(){he||(this.motions=null,this._$eb=!1,this.motions=new Array)}Ot.prototype._$tb=function(){return this.motions},Ot.prototype.startMotion=function(w,k){for(var U=null,de=this.motions.length,ye=0;ye<de;++ye)U=this.motions[ye],U!=null&&(U._$qS(U._$w0.getFadeOut()),this._$eb&&o._$Ji(`MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)
`,de,U._$sr));if(w==null)return-1;U=new Re,U._$w0=w,this.motions.push(U);var ue=U._$sr;return this._$eb&&o._$Ji(`MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)
`,de,ue),ue},Ot.prototype.updateParam=function(w){try{for(var k=!1,U=0;U<this.motions.length;U++){var de=this.motions[U];if(de==null){this.motions.splice(U,1),U--;continue}var ye=de._$w0;if(ye==null){this.motions=this.motions.splice(U,1),U--;continue}ye.updateParam(w,de),k=!0,de.isFinished()&&(this._$eb&&o._$Ji(`MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)
`,this.motions.length-1,de._$sr),this.motions.splice(U,1),U--)}return k}catch(ue){return o._$li(ue),!0}},Ot.prototype.isFinished=function(w){if(arguments.length>=1){for(var k=0;k<this.motions.length;k++){var U=this.motions[k];if(U!=null&&U._$sr==w&&!U.isFinished())return!1}return!0}else{for(var k=0;k<this.motions.length;k++){var U=this.motions[k];if(U==null){this.motions.splice(k,1),k--;continue}var de=U._$w0;if(de==null){this.motions.splice(k,1),k--;continue}if(!U.isFinished())return!1}return!0}},Ot.prototype.stopAllMotions=function(){for(var w=0;w<this.motions.length;w++){var k=this.motions[w];if(k==null){this.motions.splice(w,1),w--;continue}var U=k._$w0;if(U==null){this.motions.splice(w,1),w--;continue}this.motions.splice(w,1),w--}},Ot.prototype._$Zr=function(w){this._$eb=w},Ot.prototype._$e=function(){console.log(`-- _$R --
`);for(var w=0;w<this.motions.length;w++){var k=this.motions[w],U=k._$w0;console.log(`MotionQueueEnt[%d] :: %s
`,this.motions.length,U.toString())}};function Re(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=Re._$Gs++}Re._$Gs=0,Re.prototype.isFinished=function(){return this._$9L},Re.prototype._$qS=function(w){var k=q.getUserTimeMSec(),U=k+w;(this._$Do<0||U<this._$Do)&&(this._$Do=U)},Re.prototype._$Bs=function(){return this._$sr};function Ie(){this.m=new Array(1,0,0,0,1,0,0,0,1)}Ie.prototype.setContext=function(w){var k=this.m;w.transform(k[0],k[1],k[3],k[4],k[6],k[7])},Ie.prototype.toString=function(){for(var w="LDTransform { ",k=0;k<9;k++)w+=this.m[k].toFixed(2)+" ,";return w+=" }",w},Ie.prototype.identity=function(){var w=this.m;w[0]=w[4]=w[8]=1,w[1]=w[2]=w[3]=w[5]=w[6]=w[7]=0},Ie.prototype._$PS=function(w,k,U){U==null&&(U=new Array(0,0));var de=this.m;return U[0]=de[0]*w+de[3]*k+de[6],U[1]=de[1]*w+de[4]*k+de[7],U},Ie.prototype._$P2=function(w){w||(w=new Ie);var k=this.m,U=k[0],de=k[1],ye=k[2],ue=k[3],ke=k[4],De=k[5],we=k[6],Be=k[7],it=k[8],at=U*ke*it+de*De*we+ye*ue*Be-U*De*Be-ye*ke*we-de*ue*it;if(at==0)return null;var ft=1/at;return w.m[0]=ft*(ke*it-Be*De),w.m[1]=ft*(Be*ye-de*it),w.m[2]=ft*(de*De-ke*ye),w.m[3]=ft*(we*De-ue*it),w.m[4]=ft*(U*it-we*ye),w.m[5]=ft*(ue*ye-U*De),w.m[6]=ft*(ue*Be-we*ke),w.m[7]=ft*(we*de-U*Be),w.m[8]=ft*(U*ke-ue*de),w},Ie.prototype.transform=function(w,k,U){U==null&&(U=new Array(0,0));var de=this.m;return U[0]=de[0]*w+de[3]*k+de[6],U[1]=de[1]*w+de[4]*k+de[7],U},Ie.prototype.translate=function(w,k){var U=this.m;U[6]=U[0]*w+U[3]*k+U[6],U[7]=U[1]*w+U[4]*k+U[7],U[8]=U[2]*w+U[5]*k+U[8]},Ie.prototype.scale=function(w,k){var U=this.m;U[0]*=w,U[1]*=w,U[2]*=w,U[3]*=k,U[4]*=k,U[5]*=k},Ie.prototype.shear=function(w,k){var U=this.m,de=U[0]+U[3]*k,ye=U[1]+U[4]*k,ue=U[2]+U[5]*k;U[3]=U[0]*w+U[3],U[4]=U[1]*w+U[4],U[5]=U[2]*w+U[5],U[0]=de,U[1]=ye,U[2]=ue},Ie.prototype.rotate=function(w){var k=this.m,U=Math.cos(w),de=Math.sin(w),ye=k[0]*U+k[3]*de,ue=k[1]*U+k[4]*de,ke=k[2]*U+k[5]*de;k[3]=-k[0]*de+k[3]*U,k[4]=-k[1]*de+k[4]*U,k[5]=-k[2]*de+k[5]*U,k[0]=ye,k[1]=ue,k[2]=ke},Ie.prototype.concatenate=function(w){var k=this.m,U=w.m,de=k[0]*U[0]+k[3]*U[1]+k[6]*U[2],ye=k[1]*U[0]+k[4]*U[1]+k[7]*U[2],ue=k[2]*U[0]+k[5]*U[1]+k[8]*U[2],ke=k[0]*U[3]+k[3]*U[4]+k[6]*U[5],De=k[1]*U[3]+k[4]*U[4]+k[7]*U[5],we=k[2]*U[3]+k[5]*U[4]+k[8]*U[5],Be=k[0]*U[6]+k[3]*U[7]+k[6]*U[8],it=k[1]*U[6]+k[4]*U[7]+k[7]*U[8],at=k[2]*U[6]+k[5]*U[7]+k[8]*U[8];m[0]=de,m[1]=ye,m[2]=ue,m[3]=ke,m[4]=De,m[5]=we,m[6]=Be,m[7]=it,m[8]=at};function nt(w){he||St.prototype.constructor.call(this,w)}nt.prototype=new St,nt._$eT=null,nt._$tP=new Object,nt._$2o=function(){return nt._$eT==null&&(nt._$eT=nt.getID("DST_BASE")),nt._$eT},nt._$27=function(){nt._$tP.clear(),nt._$eT=null},nt.getID=function(w){var k=nt._$tP[w];return k==null&&(k=new nt(w),nt._$tP[w]=k),k},nt.prototype._$3s=function(){return new nt};function le(w){he||(G.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=w,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}le.prototype=new G,le._$9r=function(w){var k=new Float32Array(w);return k},le._$vb=function(w){var k=new Int16Array(w);return k},le._$cr=function(w,k){return w==null||w._$yL()<k.length?(w=le._$9r(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},le._$mb=function(w,k){return w==null||w._$yL()<k.length?(w=le._$vb(k.length*2),w.put(k),w._$oT(0)):(w.clear(),w.put(k),w._$oT(0)),w},le._$Hs=function(){return this._$Gr},le._$as=function(w){this._$Gr=w},le.prototype.getGL=function(){return this.gl},le.prototype.setGL=function(w){this.gl=w},le.prototype.setTransform=function(w){this.transform=w},le.prototype._$ZT=function(){var w=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=w.getExtension("EXT_texture_filter_anisotropic")||w.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||w.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=w.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),w.disable(w.SCISSOR_TEST),w.disable(w.STENCIL_TEST),w.disable(w.DEPTH_TEST),w.frontFace(w.CW),w.enable(w.BLEND),w.colorMask(1,1,1,1),w.bindBuffer(w.ARRAY_BUFFER,null),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,null)},le.prototype._$Uo=function(w,k,U,de,ye,ue,ke,De){if(!(ue<.01&&this.clipBufPre_clipContextMask==null)){ue>.9&&lt.EXPAND_W;var we=this.gl;if(this.gl==null)throw new Error("gl is null");var Be=!1,it=1,at=1,ft=1,Nt=this._$C0*it*ue,Xe=this._$tT*at*ue,qe=this._$WL*ft*ue,Mt=this._$lT*ue;if(this.clipBufPre_clipContextMask!=null){we.frontFace(we.CCW),we.useProgram(this.shaderProgram),this._$vS=Ee(we,this._$vS,de),this._$no=Fe(we,this._$no,U),we.enableVertexAttribArray(this.a_position_Loc),we.vertexAttribPointer(this.a_position_Loc,2,we.FLOAT,!1,0,0),this._$NT=Ee(we,this._$NT,ye),we.activeTexture(we.TEXTURE1),we.bindTexture(we.TEXTURE_2D,this.textures[w]),we.uniform1i(this.s_texture0_Loc,1),we.enableVertexAttribArray(this.a_texCoord_Loc),we.vertexAttribPointer(this.a_texCoord_Loc,2,we.FLOAT,!1,0,0),we.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var Lt=this.getClipBufPre_clipContextMask().layoutChannelNo,Gt=this.getChannelFlagAsColor(Lt);we.uniform4f(this.u_channelFlag,Gt.r,Gt.g,Gt.b,Gt.a);var Zt=this.getClipBufPre_clipContextMask().layoutBounds;we.uniform4f(this.u_baseColor_Loc,Zt.x*2-1,Zt.y*2-1,Zt._$EL()*2-1,Zt._$5T()*2-1),we.uniform1i(this.u_maskFlag_Loc,!0)}else if(Be=this.getClipBufPre_clipContextDraw()!=null,Be){we.useProgram(this.shaderProgramOff),this._$vS=Ee(we,this._$vS,de),this._$no=Fe(we,this._$no,U),we.enableVertexAttribArray(this.a_position_Loc_Off),we.vertexAttribPointer(this.a_position_Loc_Off,2,we.FLOAT,!1,0,0),this._$NT=Ee(we,this._$NT,ye),we.activeTexture(we.TEXTURE1),we.bindTexture(we.TEXTURE_2D,this.textures[w]),we.uniform1i(this.s_texture0_Loc_Off,1),we.enableVertexAttribArray(this.a_texCoord_Loc_Off),we.vertexAttribPointer(this.a_texCoord_Loc_Off,2,we.FLOAT,!1,0,0),we.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),we.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),we.activeTexture(we.TEXTURE2),we.bindTexture(we.TEXTURE_2D,lt.fTexture[this.glno]),we.uniform1i(this.s_texture1_Loc_Off,2);var Lt=this.getClipBufPre_clipContextDraw().layoutChannelNo,Gt=this.getChannelFlagAsColor(Lt);we.uniform4f(this.u_channelFlag_Loc_Off,Gt.r,Gt.g,Gt.b,Gt.a),we.uniform4f(this.u_baseColor_Loc_Off,Nt,Xe,qe,Mt)}else we.useProgram(this.shaderProgram),this._$vS=Ee(we,this._$vS,de),this._$no=Fe(we,this._$no,U),we.enableVertexAttribArray(this.a_position_Loc),we.vertexAttribPointer(this.a_position_Loc,2,we.FLOAT,!1,0,0),this._$NT=Ee(we,this._$NT,ye),we.activeTexture(we.TEXTURE1),we.bindTexture(we.TEXTURE_2D,this.textures[w]),we.uniform1i(this.s_texture0_Loc,1),we.enableVertexAttribArray(this.a_texCoord_Loc),we.vertexAttribPointer(this.a_texCoord_Loc,2,we.FLOAT,!1,0,0),we.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),we.uniform4f(this.u_baseColor_Loc,Nt,Xe,qe,Mt),we.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(we.CULL_FACE):this.gl.disable(we.CULL_FACE),this.gl.enable(we.BLEND);var Or,fr,_e,ar;if(this.clipBufPre_clipContextMask!=null)Or=we.ONE,fr=we.ONE_MINUS_SRC_ALPHA,_e=we.ONE,ar=we.ONE_MINUS_SRC_ALPHA;else switch(ke){case Pt._$ms:Or=we.ONE,fr=we.ONE_MINUS_SRC_ALPHA,_e=we.ONE,ar=we.ONE_MINUS_SRC_ALPHA;break;case Pt._$ns:Or=we.ONE,fr=we.ONE,_e=we.ZERO,ar=we.ONE;break;case Pt._$_s:Or=we.DST_COLOR,fr=we.ONE_MINUS_SRC_ALPHA,_e=we.ZERO,ar=we.ONE;break}we.blendEquationSeparate(we.FUNC_ADD,we.FUNC_ADD),we.blendFuncSeparate(Or,fr,_e,ar),this.anisotropyExt&&we.texParameteri(we.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var Jt=U.length;we.drawElements(we.TRIANGLES,Jt,we.UNSIGNED_SHORT,0),we.bindTexture(we.TEXTURE_2D,null)}};function Ee(w,k,U){return k==null&&(k=w.createBuffer()),w.bindBuffer(w.ARRAY_BUFFER,k),w.bufferData(w.ARRAY_BUFFER,U,w.DYNAMIC_DRAW),k}function Fe(w,k,U){return k==null&&(k=w.createBuffer()),w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,k),w.bufferData(w.ELEMENT_ARRAY_BUFFER,U,w.DYNAMIC_DRAW),k}le.prototype._$Rs=function(){throw new Error("_$Rs")},le.prototype._$Ds=function(w){throw new Error("_$Ds")},le.prototype._$K2=function(){for(var w=0;w<this.textures.length;w++){var k=this.textures[w];k!=0&&(this.gl._$K2(1,this.textures,w),this.textures[w]=null)}},le.prototype.setTexture=function(w,k){this.textures[w]=k},le.prototype.initShader=function(){var w=this.gl;this.loadShaders2(),this.a_position_Loc=w.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=w.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=w.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=w.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=w.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=w.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=w.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=w.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=w.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=w.getUniformLocation(this.shaderProgramOff,"u_baseColor")},le.prototype.disposeShader=function(){var w=this.gl;this.shaderProgram&&(w.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(w.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},le.prototype.compileShader=function(w,k){var U=this.gl,ue,de=k,ye=U.createShader(w);if(ye==null)return o._$Ji("_$L0 to create shader"),null;U.shaderSource(ye,de),U.compileShader(ye);var ue=U.getShaderParameter(ye,U.COMPILE_STATUS);if(!ue){var ke=U.getShaderInfoLog(ye);return o._$Ji("_$L0 to compile shader : "+ke),U.deleteShader(ye),null}return ye},le.prototype.loadShaders2=function(){var w=this.gl;if(this.shaderProgram=w.createProgram(),!this.shaderProgram||(this.shaderProgramOff=w.createProgram(),!this.shaderProgramOff))return!1;var k="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}",U="precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}",de="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}",ye="precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}";if(this.vertShader=this.compileShader(w.VERTEX_SHADER,k),!this.vertShader)return o._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(w.VERTEX_SHADER,de),!this.vertShaderOff)return o._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(w.FRAGMENT_SHADER,U),!this.fragShader)return o._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(w.FRAGMENT_SHADER,ye),!this.fragShaderOff)return o._$Ji("OffFragment shader compile _$li!"),!1;w.attachShader(this.shaderProgram,this.vertShader),w.attachShader(this.shaderProgram,this.fragShader),w.attachShader(this.shaderProgramOff,this.vertShaderOff),w.attachShader(this.shaderProgramOff,this.fragShaderOff),w.linkProgram(this.shaderProgram),w.linkProgram(this.shaderProgramOff);var ue=w.getProgramParameter(this.shaderProgram,w.LINK_STATUS);if(!ue){var ke=w.getProgramInfoLog(this.shaderProgram);return o._$Ji("_$L0 to link program: "+ke),this.vertShader&&(w.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(w.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(w.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(w.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(w.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(w.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},le.prototype.createFramebuffer=function(){var w=this.gl,k=lt.clippingMaskBufferSize,U=w.createFramebuffer();w.bindFramebuffer(w.FRAMEBUFFER,U);var de=w.createRenderbuffer();w.bindRenderbuffer(w.RENDERBUFFER,de),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,k,k),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.RENDERBUFFER,de);var ye=w.createTexture();return w.bindTexture(w.TEXTURE_2D,ye),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,k,k,0,w.RGBA,w.UNSIGNED_BYTE,null),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,ye,0),w.bindTexture(w.TEXTURE_2D,null),w.bindRenderbuffer(w.RENDERBUFFER,null),w.bindFramebuffer(w.FRAMEBUFFER,null),lt.fTexture[this.glno]=ye,{framebuffer:U,renderbuffer:de,texture:lt.fTexture[this.glno]}};function He(w){he||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=w,this._$F=0)}He.prototype._$fP=function(){var w=this._$ST(),k,U,de;if(w&128)if((k=this._$ST())&128)if((U=this._$ST())&128){if((de=this._$ST())&128)throw new yt("_$L _$0P  _");return(w&127)<<21|(k&127)<<14|(U&127)<<7|de&255}else return(w&127)<<14|(k&127)<<7|U&255;else return(w&127)<<7|k&127;else return w&255},He.prototype.getFormatVersion=function(){return this._$S2},He.prototype._$gr=function(w){this._$S2=w},He.prototype._$3L=function(){return this._$fP()},He.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},He.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},He.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},He.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},He.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},He.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new yt("_$L _$q read long")},He.prototype._$po=function(){return this._$zT(),this._$T.getInt8(this._$F++)!=0};var Ar=!0;He.prototype._$bT=function(){this._$zT();var w=this._$3L(),k=null;if(Ar)try{var U=new ArrayBuffer(w*2);k=new Uint16Array(U);for(var de=0;de<w;++de)k[de]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,k)}catch{Ar=!1}try{var ye=new Array;if(k==null)for(var de=0;de<w;++de)ye[de]=this._$T.getUint8(this._$F++);else for(var de=0;de<w;++de)ye[de]=k[de];return String.fromCharCode.apply(null,ye)}catch(ue){console.log("read utf8 / _$rT _$L0 !! : "+ue)}},He.prototype._$cS=function(){this._$zT();for(var w=this._$3L(),k=new Int32Array(w),U=0;U<w;U++)k[U]=this._$T.getInt32(this._$F),this._$F+=4;return k},He.prototype._$Tb=function(){this._$zT();for(var w=this._$3L(),k=new Float32Array(w),U=0;U<w;U++)k[U]=this._$T.getFloat32(this._$F),this._$F+=4;return k},He.prototype._$5b=function(){this._$zT();for(var w=this._$3L(),k=new Float64Array(w),U=0;U<w;U++)k[U]=this._$T.getFloat64(this._$F),this._$F+=8;return k},He.prototype._$nP=function(){return this._$Jb(-1)},He.prototype._$Jb=function(w){if(this._$zT(),w<0&&(w=this._$3L()),w==ae._$7P){var k=this._$6L();if(0<=k&&k<this._$Ko.length)return this._$Ko[k];throw new yt("_$sL _$4i @_$m0")}else{var U=this._$4b(w);return this._$Ko.push(U),U}},He.prototype._$4b=function(w){if(w==0)return null;if(w==50){var k=this._$bT(),U=re.getID(k);return U}else if(w==51){var k=this._$bT(),U=nt.getID(k);return U}else if(w==134){var k=this._$bT(),U=u.getID(k);return U}else if(w==60){var k=this._$bT(),U=f.getID(k);return U}if(w>=48){var de=ae._$9o(w);return de!=null?(de._$F0(this),de):null}switch(w){case 1:return this._$bT();case 10:return this._$6L(),new i;case 11:return new E(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new E(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new O(this._$mP(),this._$mP());case 14:return new O(this._$_T(),this._$_T());case 15:for(var ye=this._$3L(),U=new Array(ye),ue=0;ue<ye;ue++)U[ue]=this._$nP();return U;case 17:var U=new oe(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return U;case 21:return new l(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new zt(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new yt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+w);default:throw new yt("_$6 _$q : _$nP() NO _$i : "+w)}},He.prototype._$8L=function(){return this._$hL==0?this._$v0=this._$ST():this._$hL==8&&(this._$v0=this._$ST(),this._$hL=0),(this._$v0>>7-this._$hL++&1)==1},He.prototype._$zT=function(){this._$hL!=0&&(this._$hL=0)};function c(){}c._$2S=Math.PI/180,c._$bS=Math.PI/180,c._$wS=180/Math.PI,c._$NS=180/Math.PI,c.PI_F=Math.PI,c._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],c._$92=function(w,k){var U=Math.atan2(w[1],w[0]),de=Math.atan2(k[1],k[0]);return c._$tS(U,de)},c._$tS=function(w,k){for(var U=w-k;U<-Math.PI;)U+=2*Math.PI;for(;U>Math.PI;)U-=2*Math.PI;return U},c._$9=function(w){return Math.sin(w)},c.fcos=function(w){return Math.cos(w)};function $t(w){he||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=w)}$t.prototype._$u2=function(){return this._$IS[0]},$t.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},$t.prototype._$GT=function(){return this._$e0};function ur(){}ur._$W2=0,ur.SYSTEM_INFO=null,ur.USER_AGENT=navigator.userAgent,ur.isIPhone=function(){return ur.SYSTEM_INFO||ur.setup(),ur.SYSTEM_INFO._isIPhone},ur.isIOS=function(){return ur.SYSTEM_INFO||ur.setup(),ur.SYSTEM_INFO._isIPhone||ur.SYSTEM_INFO._isIPad},ur.isAndroid=function(){return ur.SYSTEM_INFO||ur.setup(),ur.SYSTEM_INFO._isAndroid},ur.getOSVersion=function(){return ur.SYSTEM_INFO||ur.setup(),ur.SYSTEM_INFO.version},ur.getOS=function(){return ur.SYSTEM_INFO||ur.setup(),ur.SYSTEM_INFO._isIPhone||ur.SYSTEM_INFO._isIPad?"iOS":ur.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},ur.setup=function(){var w=ur.USER_AGENT;function k(ye,ue){for(var ke=ye.substring(ue).split(/[ _,;\.]/),De=0,we=0;we<=2&&!isNaN(ke[we]);we++){var Be=parseInt(ke[we]);if(Be<0||Be>999){o._$li("err : "+Be+" @UtHtml5.setup()"),De=0;break}De+=Be*Math.pow(1e3,2-we)}return De}var U,de=ur.SYSTEM_INFO={userAgent:w};if((U=w.indexOf("iPhone OS "))>=0)de.os="iPhone",de._isIPhone=!0,de.version=k(w,U+10);else if((U=w.indexOf("iPad"))>=0){if(U=w.indexOf("CPU OS"),U<0){o._$li(" err : "+w+" @UtHtml5.setup()");return}de.os="iPad",de._isIPad=!0,de.version=k(w,U+7)}else(U=w.indexOf("Android"))>=0?(de.os="Android",de._isAndroid=!0,de.version=k(w,U+8)):(de.os="-",de.version=-1)},window.UtSystem=q,window.UtDebug=o,window.LDTransform=Ie,window.LDGL=_t,window.Live2D=lt,window.Live2DModelWebGL=xr,window.Live2DModelJS=ct,window.Live2DMotion=mt,window.MotionQueueManager=Ot,window.PhysicsHair=g,window.AMotion=s,window.PartsDataID=u,window.DrawDataID=re,window.BaseDataID=nt,window.ParamID=f,lt.init();var he=!1})();var nR;(function(t){var e=function(){function g(){}return g.getVersion=function(){return h.ccall("csmGetVersion","number",[],[])},g.getLatestMocVersion=function(){return h.ccall("csmGetLatestMocVersion","number",[],[])},g.getMocVersion=function(v,p){return h.ccall("csmGetMocVersion","number",["number","number"],[v,p])},g.getSizeofModel=function(v){return h.ccall("csmGetSizeofModel","number",["number"],[v])},g.reviveMocInPlace=function(v,p){return h.ccall("csmReviveMocInPlace","number",["number","number"],[v,p])},g.initializeModelInPlace=function(v,p,b){return h.ccall("csmInitializeModelInPlace","number",["number","number","number"],[v,p,b])},g.getParameterCount=function(v){return h.ccall("csmGetParameterCount","number",["number"],[v])},g.getParameterIds=function(v){return h.ccall("csmGetParameterIds","number",["number"],[v])},g.getParameterMinimumValues=function(v){return h.ccall("csmGetParameterMinimumValues","number",["number"],[v])},g.getParameterTypes=function(v){return h.ccall("csmGetParameterTypes","number",["number"],[v])},g.getParameterMaximumValues=function(v){return h.ccall("csmGetParameterMaximumValues","number",["number"],[v])},g.getParameterDefaultValues=function(v){return h.ccall("csmGetParameterDefaultValues","number",["number"],[v])},g.getParameterValues=function(v){return h.ccall("csmGetParameterValues","number",["number"],[v])},g.getParameterKeyCounts=function(v){return h.ccall("csmGetParameterKeyCounts","number",["number"],[v])},g.getParameterKeyValues=function(v){return h.ccall("csmGetParameterKeyValues","number",["number"],[v])},g.getPartCount=function(v){return h.ccall("csmGetPartCount","number",["number"],[v])},g.getPartIds=function(v){return h.ccall("csmGetPartIds","number",["number"],[v])},g.getPartOpacities=function(v){return h.ccall("csmGetPartOpacities","number",["number"],[v])},g.getPartParentPartIndices=function(v){return h.ccall("csmGetPartParentPartIndices","number",["number"],[v])},g.getDrawableCount=function(v){return h.ccall("csmGetDrawableCount","number",["number"],[v])},g.getDrawableIds=function(v){return h.ccall("csmGetDrawableIds","number",["number"],[v])},g.getDrawableConstantFlags=function(v){return h.ccall("csmGetDrawableConstantFlags","number",["number"],[v])},g.getDrawableDynamicFlags=function(v){return h.ccall("csmGetDrawableDynamicFlags","number",["number"],[v])},g.getDrawableTextureIndices=function(v){return h.ccall("csmGetDrawableTextureIndices","number",["number"],[v])},g.getDrawableDrawOrders=function(v){return h.ccall("csmGetDrawableDrawOrders","number",["number"],[v])},g.getDrawableRenderOrders=function(v){return h.ccall("csmGetDrawableRenderOrders","number",["number"],[v])},g.getDrawableOpacities=function(v){return h.ccall("csmGetDrawableOpacities","number",["number"],[v])},g.getDrawableMaskCounts=function(v){return h.ccall("csmGetDrawableMaskCounts","number",["number"],[v])},g.getDrawableMasks=function(v){return h.ccall("csmGetDrawableMasks","number",["number"],[v])},g.getDrawableVertexCounts=function(v){return h.ccall("csmGetDrawableVertexCounts","number",["number"],[v])},g.getDrawableVertexPositions=function(v){return h.ccall("csmGetDrawableVertexPositions","number",["number"],[v])},g.getDrawableVertexUvs=function(v){return h.ccall("csmGetDrawableVertexUvs","number",["number"],[v])},g.getDrawableIndexCounts=function(v){return h.ccall("csmGetDrawableIndexCounts","number",["number"],[v])},g.getDrawableIndices=function(v){return h.ccall("csmGetDrawableIndices","number",["number"],[v])},g.getDrawableMultiplyColors=function(v){return h.ccall("csmGetDrawableMultiplyColors","number",["number"],[v])},g.getDrawableScreenColors=function(v){return h.ccall("csmGetDrawableScreenColors","number",["number"],[v])},g.getDrawableParentPartIndices=function(v){return h.ccall("csmGetDrawableParentPartIndices","number",["number"],[v])},g.mallocMoc=function(v){return h.ccall("csmMallocMoc","number",["number"],[v])},g.mallocModelAndInitialize=function(v){return h.ccall("csmMallocModelAndInitialize","number",["number"],[v])},g.malloc=function(v){return h.ccall("csmMalloc","number",["number"],[v])},g.setLogFunction=function(v){h.ccall("csmSetLogFunction",null,["number"],[v])},g.updateModel=function(v){h.ccall("csmUpdateModel",null,["number"],[v])},g.readCanvasInfo=function(v,p,b,S){h.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[v,p,b,S])},g.resetDrawableDynamicFlags=function(v){h.ccall("csmResetDrawableDynamicFlags",null,["number"],[v])},g.free=function(v){h.ccall("csmFree",null,["number"],[v])},g}();t.AlignofMoc=64,t.AlignofModel=16,t.MocVersion_Unknown=0,t.MocVersion_30=1,t.MocVersion_33=2,t.MocVersion_40=3,t.MocVersion_42=4,t.ParameterType_Normal=0,t.ParameterType_BlendShape=1;var r=function(){function g(){}return g.csmGetVersion=function(){return e.getVersion()},g.csmGetLatestMocVersion=function(){return e.getLatestMocVersion()},g.csmGetMocVersion=function(v,p){return e.getMocVersion(v._ptr,p.byteLength)},g}();t.Version=r;var n=function(){function g(){}return g.csmSetLogFunction=function(v){g.logFunction=v;var p=h.addFunction(g.wrapLogFunction,"vi");e.setLogFunction(p)},g.csmGetLogFunction=function(){return g.logFunction},g.wrapLogFunction=function(v){var p=h.UTF8ToString(v);g.logFunction(p)},g}();t.Logging=n;var i=function(){function g(v){var p=e.mallocMoc(v.byteLength);if(p){var b=new Uint8Array(h.HEAPU8.buffer,p,v.byteLength);b.set(new Uint8Array(v)),this._ptr=e.reviveMocInPlace(p,v.byteLength),this._ptr||e.free(p)}}return g.fromArrayBuffer=function(v){if(!v)return null;var p=new g(v);return p._ptr?p:null},g.prototype._release=function(){e.free(this._ptr),this._ptr=0},g}();t.Moc=i;var s=function(){function g(v){this._ptr=e.mallocModelAndInitialize(v._ptr),this._ptr&&(this.parameters=new a(this._ptr),this.parts=new l(this._ptr),this.drawables=new u(this._ptr),this.canvasinfo=new o(this._ptr))}return g.fromMoc=function(v){var p=new g(v);return p._ptr?p:null},g.prototype.update=function(){e.updateModel(this._ptr)},g.prototype.release=function(){e.free(this._ptr),this._ptr=0},g}();t.Model=s;var o=function(){function g(v){if(v){var p=new Float32Array(2),b=p.length*p.BYTES_PER_ELEMENT,S=e.malloc(b),C=new Uint8Array(h.HEAPU8.buffer,S,b);C.set(new Uint8Array(p.buffer));var T=new Float32Array(2),A=T.length*T.BYTES_PER_ELEMENT,E=e.malloc(A),I=new Uint8Array(h.HEAPU8.buffer,E,A);I.set(new Uint8Array(T.buffer));var O=new Float32Array(1),N=O.length*O.BYTES_PER_ELEMENT,G=e.malloc(N),ie=new Uint8Array(h.HEAPU8.buffer,G,N);ie.set(new Uint8Array(O.buffer)),e.readCanvasInfo(v,C.byteOffset,I.byteOffset,ie.byteOffset),p=new Float32Array(C.buffer,C.byteOffset,C.length),T=new Float32Array(I.buffer,I.byteOffset,I.length),O=new Float32Array(ie.buffer,ie.byteOffset,ie.length),this.CanvasWidth=p[0],this.CanvasHeight=p[1],this.CanvasOriginX=T[0],this.CanvasOriginY=T[1],this.PixelsPerUnit=O[0],e.free(C.byteOffset),e.free(I.byteOffset),e.free(ie.byteOffset)}}return g}();t.CanvasInfo=o;var a=function(){function g(v){var p=0,b=null;this.count=e.getParameterCount(v),p=e.getParameterCount(v),this.ids=new Array(p);for(var S=new Uint32Array(h.HEAPU32.buffer,e.getParameterIds(v),p),C=0;C<S.length;C++)this.ids[C]=h.UTF8ToString(S[C]);p=e.getParameterCount(v),this.minimumValues=new Float32Array(h.HEAPF32.buffer,e.getParameterMinimumValues(v),p),p=e.getParameterCount(v),this.types=new Int32Array(h.HEAP32.buffer,e.getParameterTypes(v),p),p=e.getParameterCount(v),this.maximumValues=new Float32Array(h.HEAPF32.buffer,e.getParameterMaximumValues(v),p),p=e.getParameterCount(v),this.defaultValues=new Float32Array(h.HEAPF32.buffer,e.getParameterDefaultValues(v),p),p=e.getParameterCount(v),this.values=new Float32Array(h.HEAPF32.buffer,e.getParameterValues(v),p),p=e.getParameterCount(v),this.keyCounts=new Int32Array(h.HEAP32.buffer,e.getParameterKeyCounts(v),p),p=e.getParameterCount(v),b=new Int32Array(h.HEAP32.buffer,e.getParameterKeyCounts(v),p),this.keyValues=new Array(p);for(var T=new Uint32Array(h.HEAPU32.buffer,e.getParameterKeyValues(v),p),C=0;C<T.length;C++)this.keyValues[C]=new Float32Array(h.HEAPF32.buffer,T[C],b[C])}return g}();t.Parameters=a;var l=function(){function g(v){var p=0;this.count=e.getPartCount(v),p=e.getPartCount(v),this.ids=new Array(p);for(var b=new Uint32Array(h.HEAPU32.buffer,e.getPartIds(v),p),S=0;S<b.length;S++)this.ids[S]=h.UTF8ToString(b[S]);p=e.getPartCount(v),this.opacities=new Float32Array(h.HEAPF32.buffer,e.getPartOpacities(v),p),p=e.getPartCount(v),this.parentIndices=new Int32Array(h.HEAP32.buffer,e.getPartParentPartIndices(v),p)}return g}();t.Parts=l;var u=function(){function g(v){this._modelPtr=v;var p=0,b=null;this.count=e.getDrawableCount(v),p=e.getDrawableCount(v),this.ids=new Array(p);for(var S=new Uint32Array(h.HEAPU32.buffer,e.getDrawableIds(v),p),C=0;C<S.length;C++)this.ids[C]=h.UTF8ToString(S[C]);p=e.getDrawableCount(v),this.constantFlags=new Uint8Array(h.HEAPU8.buffer,e.getDrawableConstantFlags(v),p),p=e.getDrawableCount(v),this.dynamicFlags=new Uint8Array(h.HEAPU8.buffer,e.getDrawableDynamicFlags(v),p),p=e.getDrawableCount(v),this.textureIndices=new Int32Array(h.HEAP32.buffer,e.getDrawableTextureIndices(v),p),p=e.getDrawableCount(v),this.drawOrders=new Int32Array(h.HEAP32.buffer,e.getDrawableDrawOrders(v),p),p=e.getDrawableCount(v),this.renderOrders=new Int32Array(h.HEAP32.buffer,e.getDrawableRenderOrders(v),p),p=e.getDrawableCount(v),this.opacities=new Float32Array(h.HEAPF32.buffer,e.getDrawableOpacities(v),p),p=e.getDrawableCount(v),this.maskCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableMaskCounts(v),p),p=e.getDrawableCount(v),this.vertexCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(v),p),p=e.getDrawableCount(v),this.indexCounts=new Int32Array(h.HEAP32.buffer,e.getDrawableIndexCounts(v),p),p=e.getDrawableCount(v),this.multiplyColors=new Float32Array(h.HEAPF32.buffer,e.getDrawableMultiplyColors(v),p*4),p=e.getDrawableCount(v),this.screenColors=new Float32Array(h.HEAPF32.buffer,e.getDrawableScreenColors(v),p*4),p=e.getDrawableCount(v),this.parentPartIndices=new Int32Array(h.HEAP32.buffer,e.getDrawableParentPartIndices(v),p),p=e.getDrawableCount(v),b=new Int32Array(h.HEAP32.buffer,e.getDrawableMaskCounts(v),p),this.masks=new Array(p);for(var T=new Uint32Array(h.HEAPU32.buffer,e.getDrawableMasks(v),p),C=0;C<T.length;C++)this.masks[C]=new Int32Array(h.HEAP32.buffer,T[C],b[C]);p=e.getDrawableCount(v),b=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(v),p),this.vertexPositions=new Array(p);for(var A=new Uint32Array(h.HEAPU32.buffer,e.getDrawableVertexPositions(v),p),C=0;C<A.length;C++)this.vertexPositions[C]=new Float32Array(h.HEAPF32.buffer,A[C],b[C]*2);p=e.getDrawableCount(v),b=new Int32Array(h.HEAP32.buffer,e.getDrawableVertexCounts(v),p),this.vertexUvs=new Array(p);for(var E=new Uint32Array(h.HEAPU32.buffer,e.getDrawableVertexUvs(v),p),C=0;C<E.length;C++)this.vertexUvs[C]=new Float32Array(h.HEAPF32.buffer,E[C],b[C]*2);p=e.getDrawableCount(v),b=new Int32Array(h.HEAP32.buffer,e.getDrawableIndexCounts(v),p),this.indices=new Array(p);for(var I=new Uint32Array(h.HEAPU32.buffer,e.getDrawableIndices(v),p),C=0;C<I.length;C++)this.indices[C]=new Uint16Array(h.HEAPU16.buffer,I[C],b[C])}return g.prototype.resetDynamicFlags=function(){e.resetDrawableDynamicFlags(this._modelPtr)},g}();t.Drawables=u;var d=function(){function g(){}return g.hasBlendAdditiveBit=function(v){return(v&1)==1},g.hasBlendMultiplicativeBit=function(v){return(v&2)==2},g.hasIsDoubleSidedBit=function(v){return(v&4)==4},g.hasIsInvertedMaskBit=function(v){return(v&8)==8},g.hasIsVisibleBit=function(v){return(v&1)==1},g.hasVisibilityDidChangeBit=function(v){return(v&2)==2},g.hasOpacityDidChangeBit=function(v){return(v&4)==4},g.hasDrawOrderDidChangeBit=function(v){return(v&8)==8},g.hasRenderOrderDidChangeBit=function(v){return(v&16)==16},g.hasVertexPositionsDidChangeBit=function(v){return(v&32)==32},g.hasBlendColorDidChangeBit=function(v){return(v&64)==64},g}();t.Utils=d;var f=function(){var g=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(v){v=v||{};var p,b,ie={};for(b in p=p||(v!==void 0?v:{}))p.hasOwnProperty(b)&&(ie[b]=p[b]);var S,C,T,E=!1,A=typeof window=="object",zt=typeof importScripts=="function",E=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!A&&!zt,I=!A&&!E&&!zt,O="",N=(E?(O=__dirname+"/",C=function(le,Ee){kt(le)},T=function(le){return X((le=(le=C(le,!0)).buffer?le:new Uint8Array(le)).buffer),le},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(le){throw le}),process.on("unhandledRejection",jt),p.inspect=function(){return"[Emscripten Module object]"}):I?(typeof read<"u"&&(C=function(le){var Ee=kt(le);return Ee?Ut(Ee):read(le)}),T=function(le){var Ee;if(!(Ee=kt(le))){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(le));X(typeof(Ee=read(le,"binary"))=="object")}return Ee},typeof print<"u"&&((console=typeof console>"u"?{}:console).log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(A||zt)&&(zt?O=self.location.href:document.currentScript&&(O=document.currentScript.src),O=(O=g||O).indexOf("blob:")!==0?O.substr(0,O.lastIndexOf("/")+1):"",C=function(le){try{var Ee=new XMLHttpRequest;return Ee.open("GET",le,!1),Ee.send(null),Ee.responseText}catch(Fe){if(le=kt(le))return Ut(le);throw Fe}},zt&&(T=function(le){try{var Ee=new XMLHttpRequest;return Ee.open("GET",le,!1),Ee.responseType="arraybuffer",Ee.send(null),new Uint8Array(Ee.response)}catch(Fe){if(le=kt(le))return le;throw Fe}}),S=function(le){var Ee=vt,Fe=yt,He=new XMLHttpRequest;He.open("GET",Ee,!0),He.responseType="arraybuffer",He.onload=function(){var Ar;He.status==200||He.status==0&&He.response?Fe(He.response):(Ar=kt(Ee))?Fe(Ar.buffer):le()},He.onerror=le,He.send(null)}),p.print||console.log.bind(console)),G=p.printErr||console.warn.bind(console);for(b in ie)ie.hasOwnProperty(b)&&(p[b]=ie[b]);var ie=null,W=Array(1),q=0,J=!1;function X(le,Ee){le||jt("Assertion failed: "+Ee)}var R,z,re,oe,H=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ee(le,Ee,Fe){var He=Ee+Fe;for(Fe=Ee;le[Fe]&&!(He<=Fe);)++Fe;if(16<Fe-Ee&&le.subarray&&H)return H.decode(le.subarray(Ee,Fe));for(He="";Ee<Fe;){var Ar,c,$t=le[Ee++];128&$t?(Ar=63&le[Ee++],(224&$t)==192?He+=String.fromCharCode((31&$t)<<6|Ar):(c=63&le[Ee++],($t=(240&$t)==224?(15&$t)<<12|Ar<<6|c:(7&$t)<<18|Ar<<12|c<<6|63&le[Ee++])<65536?He+=String.fromCharCode($t):($t-=65536,He+=String.fromCharCode(55296|$t>>10,56320|1023&$t)))):He+=String.fromCharCode($t)}return He}function ae(le,Ee){return le?ee(re,le,Ee):""}function be(le){return 0<le%16777216&&(le+=16777216-le%16777216),le}function Me(le){R=le,p.HEAP8=z=new Int8Array(le),p.HEAP16=new Int16Array(le),p.HEAP32=oe=new Int32Array(le),p.HEAPU8=re=new Uint8Array(le),p.HEAPU16=new Uint16Array(le),p.HEAPU32=new Uint32Array(le),p.HEAPF32=new Float32Array(le),p.HEAPF64=new Float64Array(le)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le"),A=p.TOTAL_MEMORY||16777216;function Qe(le){for(;0<le.length;){var Ee,Fe=le.shift();typeof Fe=="function"?Fe():typeof(Ee=Fe.C)=="number"?Fe.w===void 0?p.dynCall_v(Ee):p.dynCall_vi(Ee,Fe.w):Ee(Fe.w===void 0?null:Fe.w)}}A=(R=p.buffer||new ArrayBuffer(A)).byteLength,Me(R),oe[1052]=5247296;var ht=[],je=[],ze=[],ut=[];Math.imul&&Math.imul(4294967295,5)===-5||(Math.imul=function(le,Ee){var Fe=65535&le,He=65535&Ee;return Fe*He+((le>>>16)*He+Fe*(Ee>>>16)<<16)|0}),Math.clz32||(Math.clz32=function(le){var Ee=32,Fe=le>>16;return Fe&&(Ee-=16,le=Fe),(Fe=le>>8)&&(Ee-=8,le=Fe),(Fe=le>>4)&&(Ee-=4,le=Fe),(Fe=le>>2)&&(Ee-=2,le=Fe),le>>1?Ee-2:Ee-le}),Math.trunc||(Math.trunc=function(le){return le<0?Math.ceil(le):Math.floor(le)});var ct=0,mt=null;function jt(le){throw p.onAbort&&p.onAbort(le),N(le),G(le),J=!0,"abort("+le+"). Build with -s ASSERTIONS=1 for more info."}p.preloadedImages={},p.preloadedAudios={};var vt=null,se="data:application/octet-stream;base64,";function Pe(le){return le.replace(/\b__Z[\w\d_]+/g,function(Ee){return Ee==Ee?Ee:Ee+" ["+Ee+"]"})}function tt(){var le=Error();if(!le.stack){try{throw Error(0)}catch(Ee){le=Ee}if(!le.stack)return"(no stack trace available)"}return le.stack.toString()}var et=[null,[],[]];function ot(le,Ee){var Fe=et[le];Ee===0||Ee===10?((le===1?N:G)(ee(Fe,0)),Fe.length=0):Fe.push(Ee)}function St(le,Ee,Fe,He){try{for(var Ar=0,c=0;c<Fe;c++){for(var $t=oe[Ee+8*c>>2],ur=oe[Ee+(8*c+4)>>2],he=0;he<ur;he++)ot(le,re[$t+he]);Ar+=ur}return oe[He>>2]=Ar,0}catch(w){return typeof FS<"u"&&w instanceof FS.A||jt(w),w.B}}function Dt(){return z.length}function _t(le){try{var Ee=new ArrayBuffer(le);if(Ee.byteLength==le)return new Int8Array(Ee).set(z),xr(Ee),Me(Ee),1}catch{}}var Kt=!(vt="data:application/octet-stream;base64,AAAAAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUYFAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAABgKAAAABAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAK/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBbiBlcnJvciBvY2N1cnJlZCBpbiB0aGUgaW50ZXJwb2xhdGlvbiBmb3IgYmxlbmQgc2hhcGVzLiBDb21iaW5hdGlvbkNvdW50IGlzICVkLgBbQ1NNXSBbRV1XYXJwRGVmb3JtZXI6OlRyYW5zZm9ybVRhcmdldCgpIGVycm9yLiBbJWRdIHAwMT0oJS40ZiAsICUuNGYpCgBbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAExpdmUyRCBDdWJpc20gU0RLIENvcmUgVmVyc2lvbiAlZC4lZC4lZABNT0MzAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBDb3JydXB0ZWQgIG1vYzMgZmlsZS4KAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBUaGUgQ29yZSB1bnN1cHBvcnQgbGF0ZXIgdGhhbiBtb2MzIHZlcjpbJWRdLiBUaGlzIG1vYzMgdmVyIGlzIFslZF0uCgBbQ1NNXSBbRV1jc21HZXRNb2NWZXJzaW9uIGlzIGZhaWxlZC4gQ29ycnVwdGVkIG1vYzMgZmlsZS4KAFtDU01dIFtFXSVzOiAlcwoAY3NtR2V0TW9jVmVyc2lvbgAiYWRkcmVzcyIgaXMgbnVsbC4AY3NtUmV2aXZlTW9jSW5QbGFjZQAiYWRkcmVzcyIgYWxpZ25tZW50IGlzIGludmFsaWQuACJzaXplIiBpcyBpbnZhbGlkLgBjc21SZWFkQ2FudmFzSW5mbwAibW9kZWwiIGlzIGludmFsaWQuACJvdXRTaXplSW5QaXhlbHMiIGlzIG51bGwuACJvdXRPcmlnaW5JblBpeGVscyIgaXMgbnVsbC4AIm91dFBpeGVsc1BlclVuaXQiIGlzIG51bGwuAGNzbUdldFNpemVvZk1vZGVsACJtb2MiIGlzIGludmFsaWQuAGNzbUluaXRpYWxpemVNb2RlbEluUGxhY2UAInNpemUiIGlzIGludmFsaWQAY3NtVXBkYXRlTW9kZWwAY3NtR2V0UGFyYW1ldGVyQ291bnQAY3NtR2V0UGFyYW1ldGVySWRzAGNzbUdldFBhcmFtZXRlclR5cGVzAGNzbUdldFBhcmFtZXRlck1pbmltdW1WYWx1ZXMAY3NtR2V0UGFyYW1ldGVyTWF4aW11bVZhbHVlcwBjc21HZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzAGNzbUdldFBhcmFtZXRlclZhbHVlcwBjc21HZXRQYXJ0Q291bnQAY3NtR2V0UGFydElkcwBjc21HZXRQYXJ0T3BhY2l0aWVzAGNzbUdldFBhcnRQYXJlbnRQYXJ0SW5kaWNlcwBjc21HZXREcmF3YWJsZUNvdW50AGNzbUdldERyYXdhYmxlSWRzAGNzbUdldERyYXdhYmxlQ29uc3RhbnRGbGFncwBjc21HZXREcmF3YWJsZUR5bmFtaWNGbGFncwBjc21HZXREcmF3YWJsZVRleHR1cmVJbmRpY2VzAGNzbUdldERyYXdhYmxlRHJhd09yZGVycwBjc21HZXREcmF3YWJsZVJlbmRlck9yZGVycwBjc21HZXREcmF3YWJsZU9wYWNpdGllcwBjc21HZXREcmF3YWJsZU1hc2tDb3VudHMAY3NtR2V0RHJhd2FibGVNYXNrcwBjc21HZXREcmF3YWJsZVZlcnRleENvdW50cwBjc21HZXREcmF3YWJsZVZlcnRleFBvc2l0aW9ucwBjc21HZXREcmF3YWJsZVZlcnRleFV2cwBjc21HZXREcmF3YWJsZUluZGV4Q291bnRzAGNzbUdldERyYXdhYmxlSW5kaWNlcwBjc21HZXREcmF3YWJsZU11bHRpcGx5Q29sb3JzAGNzbUdldERyYXdhYmxlU2NyZWVuQ29sb3JzAGNzbUdldERyYXdhYmxlUGFyZW50UGFydEluZGljZXMAY3NtUmVzZXREcmF3YWJsZUR5bmFtaWNGbGFncwBjc21HZXRQYXJhbWV0ZXJLZXlDb3VudHMAY3NtR2V0UGFyYW1ldGVyS2V5VmFsdWVzAFtDU01dIFtXXVJvdGF0aW9uRGVmb3JtZXI6IE5vdCBmb3VuZCB0cmFuc2Zvcm1lZCBEaXJlY3Rpb24uCgBbQ1NNXSBbRV1VcGRhdGVEZWZvcm1lckhpZXJhcmNoeSgpOiBVbmtub3duIERlZm9ybWVyIFR5cGUuCgAlcwoALSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBuYW4ATkFOAC4=");function Ut(le){for(var Ee=[],Fe=0;Fe<le.length;Fe++){var He=le[Fe];255<He&&(Kt&&X(!1,"Character code "+He+" ("+String.fromCharCode(He)+")  at offset "+Fe+" not in 0x00-0xFF."),He&=255),Ee.push(String.fromCharCode(He))}return Ee.join("")}var lt=typeof atob=="function"?atob:function(le){var Ee="",Fe=0;le=le.replace(/[^A-Za-z0-9\+\/=]/g,"");do var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(le.charAt(Fe++)),$t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(le.charAt(Fe++)),He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(le.charAt(Fe++)),Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(le.charAt(Fe++)),c=c<<2|$t>>4,$t=(15&$t)<<4|He>>2,ur=(3&He)<<6|Ar;while(Ee+=String.fromCharCode(c),He!==64&&(Ee+=String.fromCharCode($t)),Ar!==64&&(Ee+=String.fromCharCode(ur)),Fe<le.length);return Ee};function kt(le){if(String.prototype.startsWith?le.startsWith(se):le.indexOf(se)===0){if(le=le.slice(se.length),typeof E=="boolean"&&E){try{var Ee=Buffer.from(le,"base64")}catch{Ee=new Buffer(le,"base64")}var Fe=new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength)}else try{for(var He=lt(le),Ar=new Uint8Array(He.length),Ee=0;Ee<He.length;++Ee)Ar[Ee]=He.charCodeAt(Ee);Fe=Ar}catch{throw Error("Converting base64 string to bytes failed.")}return Fe}}var yt,Pt,Er,zt=function(le,Ee,Fe){var He=new le.Int8Array(Fe),Ar=new le.Int16Array(Fe),c=new le.Int32Array(Fe),$t=new le.Uint8Array(Fe),ur=new le.Uint16Array(Fe),he=new le.Float32Array(Fe),w=new le.Float64Array(Fe),k=0|Ee.v,U=le.Math.floor,de=le.Math.pow,ye=le.Math.cos,ue=le.Math.sin,ke=le.Math.atan2,De=le.Math.imul,we=le.Math.clz32,Be=Ee.a,it=Ee.b,at=Ee.c,ft=Ee.d,Nt=Ee.e,Xe=Ee.f,qe=Ee.g,Mt=Ee.h,Lt=Ee.i,Gt=Ee.j,Zt=Ee.k,Or=Ee.l,fr=Ee.m,_e=4416;function ar(y){var x,M,ce,K,D,ne,Y,j,$,Q,ge,Ce,Ge,Te,Ne,Le,xe,st,pt=0,Ye=0,Tt=0|c[(y|=0)+500>>2];if(!((0|Tt)<=0)){Y=0|c[y+504>>2],j=0|c[y+444>>2],M=0|c[y+536>>2],Ye=0;do if(ce=0|c[Y+(24*Ye|0)+12>>2],K=0|c[j+(c[Y+(24*Ye|0)+4>>2]<<2)>>2],D=0|c[j+(c[Y+(24*Ye|0)+8>>2]<<2)>>2],ne=0|c[Y+(24*Ye|0)+16>>2],y=0|c[Y+(24*Ye|0)+20>>2],x=+he[M+(Ye<<2)>>2],0<(0|ce))for(pt=0;xe=+he[ne+(pt<<2)>>2],Ce=+he[ne+(($=1|pt)<<2)>>2],Le=(0|ur[y+(pt<<1)>>1])<<1&65534,Ne=+he[(st=K+(Le<<2)|0)>>2],ge=+he[(Le=K+((1|Le)<<2)|0)>>2],$=(0|ur[y+($<<1)>>1])<<1&65534,Te=+he[(Ge=D+($<<2)|0)>>2],Q=+he[($=D+((1|$)<<2)|0)>>2],he[st>>2]=Ne+xe*(Te-Ne)*x,he[Le>>2]=ge+xe*(Q-ge)*x,he[Ge>>2]=Te+Ce*(Ne-Te)*x,he[$>>2]=Q+Ce*(ge-Q)*x,(0|(pt=pt+2|0))<(0|ce););while((0|(Ye=Ye+1|0))!=(0|Tt))}}function Jt(y){var x=0|c[(y|=0)>>2];(0|$t[4+x>>0])<4||Hn(y,0|c[y+596>>2],0|c[y+600>>2],0|c[984+x>>2],0|c[y+152>>2],0|c[796+x>>2])}function Hn(y,x,M,ce,K,D){y|=0,ce|=0,K|=0,D|=0;var ne,Y,j,$,Q,ge,Ce,Ge,Te,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=_e;if(_e=_e+16|0,Ge=Ye+8|0,Ce=Ye,ge=(M|=0)+(12*(x|=0)|0)|0,(0|x)<=0)_e=Ye;else{do{x=0|c[M>>2],Y=0|c[K+(x<<2)>>2],$=(x=0|c[D+(x<<2)>>2])<<1,pt=0|c[M+4>>2],Ne=0|c[M+8>>2],j=0|c[1028+(0|c[y>>2])>>2],Q=Ne+(48*pt|0)|0;e:do if(0<(0|pt)){if((0|x)<=0){for(;;)if(3<=(x=0|c[Ne+8>>2])>>>0&&(c[Ge>>2]=x,_r(0,784,Ge)),Q>>>0<=(Ne=Ne+48|0)>>>0)break e}do{Le=ce+(c[Ne+4>>2]<<2)|0,x=0|c[Ne+8>>2];t:do if(0|x)switch(pt=j+(c[Le+(c[Ne+12>>2]<<2)>>2]<<2)|0,0|x){case 1:for(Le=Ne+20|0,x=Ne+44|0,xe=0;he[(st=Y+(xe<<2)|0)>>2]=+he[st>>2]+ +he[x>>2]*(+he[pt+(xe<<2)>>2]*+he[Le>>2]),(0|(xe=xe+1|0))!=(0|$););break;case 2:for(Le=j+(c[Le+(c[Ne+16>>2]<<2)>>2]<<2)|0,xe=Ne+20|0,ne=Ne+24|0,x=Ne+44|0,st=0;he[(Te=Y+(st<<2)|0)>>2]=+he[Te>>2]+ +he[x>>2]*(+he[pt+(st<<2)>>2]*+he[xe>>2]+ +he[Le+(st<<2)>>2]*+he[ne>>2]),(0|(st=st+1|0))!=(0|$););break;default:c[Ce>>2]=x,_r(0,784,Ce);break t}while(0)}while((Ne=Ne+48|0)>>>0<Q>>>0)}while(0)}while((M=M+12|0)>>>0<ge>>>0);_e=Ye}}function oi(y){var x=0|c[(y|=0)>>2];(0|$t[4+x>>0])<4||Hn(y,0|c[y+604>>2],0|c[y+608>>2],0|c[1024+x>>2],0|c[y+444>>2],0|c[892+x>>2])}function _r(y,x,M){y|=0,x|=0,M|=0;var ce,K,D=_e;_e=_e+272|0,y=D+16|0,K=D,_e=((ce=0|c[904])&&(c[K>>2]=M,xa(y,x,K),eu[1&ce](y)),D)}function Ei(y,x,M){M|=0;var ce,K=0,D=0,ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ge=0,Ce=0,Ge=0|He[(y|=0)+4>>0];if(c[(x|=0)>>2]=628,Ce=0|c[(ge=y+704|0)>>2],0<(0|(j=0|c[Ce>>2]))){for(K=0|c[y+1048>>2],D=0|c[y+720>>2],Y=ne=0;Y=(1<<c[K+(c[D+(ne<<2)>>2]<<2)>>2])+Y|0,(0|(ne=ne+1|0))!=(0|j););K=Y<<2}else K=0;if(c[x+4>>2]=12*j,c[x+8>>2]=c[Ce>>2]<<2,c[x+12>>2]=c[Ce>>2]<<2,c[x+16>>2]=c[Ce>>2]<<2,c[x+20>>2]=c[Ce>>2]<<2,c[x+24>>2]=c[Ce>>2]<<2,c[x+28>>2]=K,c[x+32>>2]=c[Ce>>2]<<2,c[x+36>>2]=K,c[x+40>>2]=K,c[x+44>>2]=c[(ce=Ce+4|0)>>2]<<5,c[x+48>>2]=c[ce>>2]<<2,c[x+52>>2]=c[ce>>2]<<2,c[x+56>>2]=c[ce>>2]<<2,c[x+60>>2]=c[ce>>2]<<4,c[x+64>>2]=c[ce>>2]<<4,0<(0|(Q=0|c[(ce=Ce+8|0)>>2]))){for(D=0|c[y+796>>2],ne=0|c[y+1048>>2],Y=0|c[y+780>>2],K=$=j=0;K=(15+(c[D+(j<<2)>>2]<<3)&-16)+K|0,$=(1<<c[ne+(c[Y+(j<<2)>>2]<<2)>>2])+$|0,(0|(j=j+1|0))!=(0|Q););D=$<<2}else K=D=0;if(c[x+68>>2]=24*Q,c[x+72>>2]=c[ce>>2]<<2,c[x+76>>2]=c[ce>>2]<<2,c[x+80>>2]=c[ce>>2]<<2,c[x+84>>2]=K,c[x+88>>2]=c[ce>>2]<<4,c[x+92>>2]=c[ce>>2]<<4,c[x+96>>2]=c[ce>>2]<<2,c[x+100>>2]=D,c[x+104>>2]=c[ce>>2]<<2,c[x+108>>2]=D,c[x+112>>2]=D,c[x+116>>2]=D,c[x+120>>2]=D,c[x+124>>2]=D,c[x+128>>2]=D,c[x+132>>2]=D,c[x+136>>2]=D,c[x+140>>2]=D,c[x+144>>2]=c[ce>>2]<<2,c[x+148>>2]=c[ce>>2]<<2,c[x+152>>2]=c[ce>>2]<<2,c[x+156>>2]=c[ce>>2]<<2,c[x+160>>2]=c[ce>>2]<<2,c[x+164>>2]=c[ce>>2]<<2,0<(0|(j=0|c[($=Ce+12|0)>>2]))){for(K=0|c[y+1048>>2],D=0|c[y+812>>2],Y=ne=0;Y=(1<<c[K+(c[D+(ne<<2)>>2]<<2)>>2])+Y|0,(0|(ne=ne+1|0))!=(0|j););K=Y<<2}else K=0;if(c[x+168>>2]=12*j,c[x+172>>2]=c[$>>2]<<2,c[x+176>>2]=c[$>>2]<<2,c[x+180>>2]=c[$>>2]<<2,c[x+184>>2]=c[$>>2]<<2,c[x+188>>2]=c[$>>2]<<2,c[x+192>>2]=c[$>>2]<<2,c[x+196>>2]=c[$>>2]<<2,c[x+200>>2]=c[$>>2]<<2,c[x+204>>2]=c[$>>2]<<4,c[x+208>>2]=c[$>>2]<<4,c[x+212>>2]=c[$>>2]<<2,c[x+216>>2]=K,c[x+220>>2]=c[$>>2]<<2,c[x+224>>2]=K,c[x+228>>2]=K,c[x+232>>2]=K,c[x+236>>2]=K,c[x+240>>2]=K,c[x+244>>2]=K,c[x+248>>2]=K,c[x+252>>2]=K,c[x+256>>2]=K,c[x+260>>2]=K,c[x+264>>2]=K,c[x+268>>2]=K,c[x+272>>2]=c[$>>2]<<2,c[x+276>>2]=c[$>>2]<<2,c[x+280>>2]=c[$>>2]<<2,c[x+284>>2]=c[$>>2]<<2,c[x+288>>2]=c[$>>2]<<2,c[x+292>>2]=c[$>>2]<<2,0<(0|(Q=0|c[(ce=Ce+16|0)>>2]))){for(D=0|c[y+892>>2],ne=0|c[y+1048>>2],Y=0|c[y+852>>2],K=$=j=0;K=(15+(c[D+(j<<2)>>2]<<3)&-16)+K|0,$=(1<<c[ne+(c[Y+(j<<2)>>2]<<2)>>2])+$|0,(0|(j=j+1|0))!=(0|Q););D=$<<2}else K=D=0;if(c[x+296>>2]=20*Q,c[x+300>>2]=c[ce>>2]<<2,c[x+304>>2]=c[ce>>2],c[x+308>>2]=c[ce>>2]<<2,c[x+312>>2]=c[ce>>2]<<2,c[x+316>>2]=c[ce>>2]<<2,c[x+320>>2]=K,c[x+324>>2]=c[ce>>2]<<2,c[x+328>>2]=c[ce>>2]<<4,c[x+332>>2]=c[ce>>2]<<4,c[x+336>>2]=c[ce>>2]<<2,c[x+340>>2]=c[ce>>2]<<2,c[x+344>>2]=c[ce>>2]<<2,c[x+348>>2]=c[ce>>2]<<4,c[x+352>>2]=c[ce>>2]<<4,c[x+356>>2]=c[ce>>2]<<2,c[x+360>>2]=D,c[x+364>>2]=c[ce>>2]<<2,c[x+368>>2]=D,c[x+372>>2]=D,c[x+376>>2]=D,c[x+380>>2]=D,c[x+384>>2]=D,c[x+388>>2]=D,c[x+392>>2]=D,c[x+396>>2]=D,c[x+400>>2]=D,c[x+404>>2]=D,c[x+408>>2]=c[ce>>2]<<2,c[x+412>>2]=c[ce>>2]<<2,c[x+416>>2]=c[ce>>2]<<2,c[x+420>>2]=c[ce>>2]<<2,c[x+424>>2]=c[ce>>2]<<2,c[x+428>>2]=c[ce>>2]<<2,ge=0|c[ge>>2],c[x+432>>2]=52*(0|c[(D=ge+20|0)>>2]),K=(ce=3<(255&Ge))?0:c[D>>2]<<2,c[x+436>>2]=K,c[x+440>>2]=c[D>>2]<<2,c[x+444>>2]=28*(0|c[ge+52>>2]),0<(0|(j=0|c[Ce+48>>2]))){for(K=0|c[y+1048>>2],Y=ne=D=0;ne=(Ge=0|c[K+(D<<2)>>2])+ne|0,Y=(1<<Ge)+Y|0,(0|(D=D+1|0))!=(0|j););D=ne<<2,K=Y<<2}else K=D=0;if(c[x+448>>2]=36*j,c[x+452>>2]=D,c[x+456>>2]=K,c[x+460>>2]=K,c[x+488>>2]=28*(0|c[(D=Ce+72|0)>>2]),0<(0|(D=0|c[D>>2]))){for(ne=0|c[y+1152>>2],Y=0|c[y+1160>>2],K=0|c[y+1164>>2],Q=$=j=0;$=(0|$)<(0|(Ge=0|c[ne+(j<<2)>>2]))?Ge:$,Q=(0|(Ge=(0|c[Y+(j<<2)>>2])-(0|c[K+(j<<2)>>2])|0))<(0|Q)?Q:Ge+1|0,(0|(j=j+1|0))!=(0|D););D=$<<2,K=Q<<2}else K=D=0;if(c[x+492>>2]=c[Ce+76>>2]<<4,c[x+496>>2]=K,c[x+500>>2]=D,c[x+504>>2]=K,0<(0|(j=0|c[($=Ce+80|0)>>2]))){for(K=0|c[y+1048>>2],D=0|c[y+1188>>2],Y=ne=0;Y=(1<<c[K+(c[D+(ne<<2)>>2]<<2)>>2])+Y|0,(0|(ne=ne+1|0))!=(0|j););K=Y<<2}else K=0;if(c[x+508>>2]=24*j,c[x+512>>2]=c[$>>2]<<2,c[x+516>>2]=c[$>>2]<<2,c[x+520>>2]=K,c[x+524>>2]=c[$>>2]<<2,c[x+528>>2]=K,c[x+532>>2]=K,ce){if(c[x+464>>2]=20*(0|c[ge+120>>2]),c[x+468>>2]=28*(0|c[ge+100>>2]),0<(0|(Y=0|c[Ce+104>>2]))){for(K=0|c[y+1080>>2],ne=D=0;ne=(0|c[K+(D<<2)>>2])+ne|0,(0|(D=D+1|0))!=(0|Y););K=ne<<2}else K=0;c[x+472>>2]=48*Y,c[x+476>>2]=K,c[x+480>>2]=12*(0|c[ge+108>>2]),c[x+484>>2]=12*(0|c[ge+112>>2]),K=D=c[x+540>>2]=0}else{if(0<(0|(ce=0|c[(ge=Ce+20|0)>>2]))){$=0|c[y+948>>2],Q=0|c[y+952>>2],Y=0|c[y+1036>>2],K=j=0;do if(y=0|c[Q+(j<<2)>>2],ne=(D=Y+(c[$+(j<<2)>>2]<<2)|0)+(y<<2)|0,0<(0|y))for(;K=(0|c[D>>2])+K|0,(D=D+4|0)>>>0<ne>>>0;);while((0|(j=j+1|0))!=(0|ce))}else K=0;c[x+540>>2]=ce<<2,D=K<<2,K=c[ge>>2]<<2}for(c[x+536>>2]=K,c[x+544>>2]=D,D=K=0;D=(y=15+(0|c[(Ce=x+(K<<2)|0)>>2])&-16)+(c[Ce>>2]=D)|0,(0|(K=K+1|0))!=137;);c[M>>2]=D}function Jr(y,x,M){y|=0,x|=0,M|=0;var ce,K,D,ne,Y,j,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=0,Rt=0,mr=0,Pr=0,vr=0,Sn=0,bn=0,vn=0,di=0,fi=0,Jn=0,Rn=0,hi=0,Ni=0,ai=0,yi=0,rn=0,Tn=0,dt=0,_s=_e;if(_e=_e+560|0,vr=_s+552|0,$=(xe=_s)+556|0,Ka(0|xe,0,548),Ei(y,xe,$),M>>>0<($=0|c[$>>2])>>>0)return _e=_s,(dt=0)|dt;if(Ka(0|x,0,0|$),dt=x+(0|c[xe>>2])|0,c[(K=dt+8|0)>>2]=x+(0|c[xe+4>>2]),c[dt+40>>2]=x+(0|c[xe+8>>2]),c[dt+44>>2]=x+(0|c[xe+12>>2]),c[dt+48>>2]=x+(0|c[xe+16>>2]),c[(mr=dt+52|0)>>2]=x+(0|c[xe+20>>2]),c[(Pr=dt+16|0)>>2]=x+(0|c[xe+24>>2]),c[dt+24>>2]=x+(0|c[xe+28>>2]),c[dt+28>>2]=x+(0|c[xe+32>>2]),c[dt+32>>2]=x+(0|c[xe+36>>2]),c[dt+36>>2]=x+(0|c[xe+40>>2]),ge=0|c[(Tn=y+704|0)>>2],c[(D=dt+308|0)>>2]=x+(0|c[xe+44>>2]),c[dt+312>>2]=x+(0|c[xe+48>>2]),c[dt+316>>2]=x+(0|c[xe+52>>2]),c[dt+320>>2]=x+(0|c[xe+56>>2]),c[dt+324>>2]=x+(0|c[xe+60>>2]),c[dt+328>>2]=x+(0|c[xe+64>>2]),c[(vn=dt+60|0)>>2]=x+(0|c[xe+68>>2]),c[dt+144>>2]=x+(0|c[xe+72>>2]),c[dt+148>>2]=x+(0|c[xe+76>>2]),$=x+(0|c[xe+80>>2])|0,c[(Ce=dt+152|0)>>2]=$,0<(0|(ge=0|c[ge+8>>2]))&&(Ge=x+(0|c[xe+84>>2])|0,Te=y+796|0,c[$>>2]=Ge,(0|ge)!=1))for($=0,Q=1,M=Ge;M=M+(15+(c[(0|c[Te>>2])+($<<2)>>2]<<3)&-16)|0,c[(0|c[Ce>>2])+(Q<<2)>>2]=M,!((0|ge)<=(0|($=Q+1|0)));)yi=Q,Q=$,$=yi;if(c[dt+156>>2]=x+(0|c[xe+88>>2]),c[dt+160>>2]=x+(0|c[xe+92>>2]),c[(Sn=dt+68|0)>>2]=x+(0|c[xe+96>>2]),c[dt+76>>2]=x+(0|c[xe+100>>2]),c[dt+80>>2]=x+(0|c[xe+104>>2]),c[dt+84>>2]=x+(0|c[xe+108>>2]),c[dt+88>>2]=x+(0|c[xe+112>>2]),c[dt+92>>2]=x+(0|c[xe+116>>2]),c[dt+96>>2]=x+(0|c[xe+120>>2]),c[dt+100>>2]=x+(0|c[xe+124>>2]),c[dt+104>>2]=x+(0|c[xe+128>>2]),c[dt+108>>2]=x+(0|c[xe+132>>2]),c[dt+112>>2]=x+(0|c[xe+136>>2]),c[dt+116>>2]=x+(0|c[xe+140>>2]),c[dt+120>>2]=x+(0|c[xe+144>>2]),c[dt+124>>2]=x+(0|c[xe+148>>2]),c[dt+128>>2]=x+(0|c[xe+152>>2]),c[dt+132>>2]=x+(0|c[xe+156>>2]),c[dt+136>>2]=x+(0|c[xe+160>>2]),c[dt+140>>2]=x+(0|c[xe+164>>2]),c[(ne=dt+168|0)>>2]=x+(0|c[xe+168>>2]),c[dt+264>>2]=x+(0|c[xe+172>>2]),c[dt+268>>2]=x+(0|c[xe+176>>2]),c[dt+272>>2]=x+(0|c[xe+180>>2]),c[dt+276>>2]=x+(0|c[xe+184>>2]),c[dt+280>>2]=x+(0|c[xe+188>>2]),c[dt+284>>2]=x+(0|c[xe+192>>2]),c[dt+288>>2]=x+(0|c[xe+196>>2]),c[dt+292>>2]=x+(0|c[xe+200>>2]),c[dt+296>>2]=x+(0|c[xe+204>>2]),c[dt+300>>2]=x+(0|c[xe+208>>2]),c[(bn=dt+176|0)>>2]=x+(0|c[xe+212>>2]),c[dt+184>>2]=x+(0|c[xe+216>>2]),c[dt+188>>2]=x+(0|c[xe+220>>2]),c[dt+192>>2]=x+(0|c[xe+224>>2]),c[dt+196>>2]=x+(0|c[xe+228>>2]),c[dt+200>>2]=x+(0|c[xe+232>>2]),c[dt+204>>2]=x+(0|c[xe+236>>2]),c[dt+208>>2]=x+(0|c[xe+240>>2]),c[dt+212>>2]=x+(0|c[xe+244>>2]),c[dt+216>>2]=x+(0|c[xe+248>>2]),c[dt+220>>2]=x+(0|c[xe+252>>2]),c[dt+224>>2]=x+(0|c[xe+256>>2]),c[dt+228>>2]=x+(0|c[xe+260>>2]),c[dt+232>>2]=x+(0|c[xe+264>>2]),c[dt+236>>2]=x+(0|c[xe+268>>2]),c[dt+240>>2]=x+(0|c[xe+272>>2]),c[dt+244>>2]=x+(0|c[xe+276>>2]),c[dt+248>>2]=x+(0|c[xe+280>>2]),c[dt+252>>2]=x+(0|c[xe+284>>2]),c[dt+256>>2]=x+(0|c[xe+288>>2]),c[dt+260>>2]=x+(0|c[xe+292>>2]),ge=0|c[Tn>>2],c[(fi=dt+336|0)>>2]=x+(0|c[xe+296>>2]),c[dt+424>>2]=x+(0|c[xe+300>>2]),c[dt+432>>2]=x+(0|c[xe+304>>2]),c[dt+436>>2]=x+(0|c[xe+308>>2]),c[dt+440>>2]=x+(0|c[xe+312>>2]),$=x+(0|c[xe+316>>2])|0,c[(Ce=dt+444|0)>>2]=$,0<(0|(ge=0|c[ge+16>>2]))&&(Ne=x+(0|c[xe+320>>2])|0,Le=y+892|0,c[$>>2]=Ne,(0|ge)!=1))for($=0,Q=1,M=Ne;M=M+(15+(c[(0|c[Le>>2])+($<<2)>>2]<<3)&-16)|0,c[(0|c[Ce>>2])+(Q<<2)>>2]=M,!((0|ge)<=(0|($=Q+1|0)));)yi=Q,Q=$,$=yi;if(c[dt+448>>2]=x+(0|c[xe+324>>2]),c[(Jn=dt+452|0)>>2]=x+(0|c[xe+328>>2]),c[(Rn=dt+456|0)>>2]=x+(0|c[xe+332>>2]),c[dt+460>>2]=x+(0|c[xe+336>>2]),c[dt+464>>2]=x+(0|c[xe+340>>2]),c[dt+468>>2]=x+(0|c[xe+344>>2]),c[dt+472>>2]=x+(0|c[xe+348>>2]),c[dt+476>>2]=x+(0|c[xe+352>>2]),c[(di=dt+344|0)>>2]=x+(0|c[xe+356>>2]),c[dt+352>>2]=x+(0|c[xe+360>>2]),c[dt+356>>2]=x+(0|c[xe+364>>2]),c[dt+360>>2]=x+(0|c[xe+368>>2]),c[dt+364>>2]=x+(0|c[xe+372>>2]),c[dt+368>>2]=x+(0|c[xe+376>>2]),c[dt+372>>2]=x+(0|c[xe+380>>2]),c[dt+376>>2]=x+(0|c[xe+384>>2]),c[dt+380>>2]=x+(0|c[xe+388>>2]),c[dt+384>>2]=x+(0|c[xe+392>>2]),c[dt+388>>2]=x+(0|c[xe+396>>2]),c[dt+392>>2]=x+(0|c[xe+400>>2]),c[dt+396>>2]=x+(0|c[xe+404>>2]),c[dt+400>>2]=x+(0|c[xe+408>>2]),c[dt+404>>2]=x+(0|c[xe+412>>2]),c[dt+408>>2]=x+(0|c[xe+416>>2]),c[dt+412>>2]=x+(0|c[xe+420>>2]),c[dt+416>>2]=x+(0|c[xe+424>>2]),c[dt+420>>2]=x+(0|c[xe+428>>2]),wr=0|c[xe+436>>2],ce=0|c[xe+440>>2],c[(yi=dt+544|0)>>2]=x+(0|c[xe+432>>2]),c[(Rt=dt+548|0)>>2]=x+wr,c[(wr=dt+552|0)>>2]=x+ce,c[(ce=dt+560|0)>>2]=x+(0|c[xe+444>>2]),$=0|c[Tn>>2],ge=x+(0|c[xe+448>>2])|0,c[(ai=dt+568|0)>>2]=ge,0<(0|($=0|c[$+48>>2])))for(M=0|c[y+1048>>2],Ce=x+(0|c[xe+452>>2])|0,Te=x+((Ge=0)|c[xe+456>>2])|0,Le=x+(0|c[xe+460>>2])|0;c[ge+(36*Ge|0)>>2]=Ce,c[ge+(36*Ge|0)+16>>2]=Te,c[ge+(36*Ge|0)+20>>2]=Le,Ne=1<<(Q=0|c[M+(Ge<<2)>>2]),(0|(Ge=Ge+1|0))!=(0|$);)Ce=Ce+(Q<<2)|0,Te=Te+(Ne<<2)|0,Le=Le+(Ne<<2)|0;if($=0|c[Tn>>2],Q=x+(0|c[xe+488>>2])|0,c[(Y=dt+484|0)>>2]=Q,0<(0|($=0|c[$+72>>2])))for(M=0|c[y+1152>>2],Ce=x+((ge=0)|c[xe+492>>2])|0;Ce=(c[Q+(28*ge|0)+12>>2]=Ce)+(c[M+(ge<<2)>>2]<<4)|0,(0|(ge=ge+1|0))!=(0|$););if(c[dt+488>>2]=x+(0|c[xe+496>>2]),c[dt+492>>2]=x+(0|c[xe+500>>2]),c[dt+496>>2]=x+(0|c[xe+504>>2]),c[(hi=dt+504|0)>>2]=x+(0|c[xe+508>>2]),c[dt+536>>2]=x+(0|c[xe+512>>2]),c[(Ni=dt+512|0)>>2]=x+(0|c[xe+516>>2]),c[dt+520>>2]=x+(0|c[xe+520>>2]),c[dt+524>>2]=x+(0|c[xe+524>>2]),c[dt+528>>2]=x+(0|c[xe+528>>2]),c[dt+532>>2]=x+(0|c[xe+532>>2]),Tr=3<(0|$t[(j=y+4|0)>>0])){if(c[dt+576>>2]=x+(0|c[xe+464>>2]),c[dt+584>>2]=x+(0|c[xe+468>>2]),$=0|c[xe+476>>2],ge=0|c[Tn>>2],Ge=x+(0|c[xe+472>>2])|0,c[dt+592>>2]=Ge,0<(0|(ge=0|c[ge+104>>2])))for(Ce=0|c[y+1080>>2],$=x+$|0,M=0;c[Ge+(48*M|0)+40>>2]=$,(0|(Q=M+1|0))!=(0|ge);)$=$+(c[Ce+(M<<2)>>2]<<2)|0,M=Q;c[dt+600>>2]=x+(0|c[xe+480>>2]),c[dt+608>>2]=x+(0|c[xe+484>>2]),M=0|c[Tn>>2],$=0|c[M+20>>2]}else if(M=0|c[xe+536>>2],Q=0|c[xe+544>>2],c[dt+616>>2]=x+(0|c[xe+540>>2]),c[(xe=dt+612|0)>>2]=x+M,M=0|c[Tn>>2],0<(0|($=0|c[M+20>>2])))for(Te=y+948|0,Ne=y+952|0,Ge=y+1036|0,Ce=x+Q|(Le=0);;){if($=0|c[(0|c[Te>>2])+(Le<<2)>>2],Q=(nr=0|c[(0|c[Ne>>2])+(Le<<2)>>2])+$|0,0<(0|nr)){for(M=0|c[Ge>>2],ge=0;ge=(0|c[M+($<<2)>>2])+ge|0,(0|($=$+1|0))<(0|Q););$=(0|c[xe>>2])+(Le<<2)|0,ge?(M=Ce,Q=ge):rn=27}else $=(0|c[xe>>2])+(Le<<2)|0,rn=27;if((0|rn)==27&&(Q=M=rn=0),c[$>>2]=M,M=0|c[Tn>>2],(0|($=0|c[M+20>>2]))<=(0|(Le=Le+1|0)))break;Ce=Ce+(Q<<2)|0}c[dt>>2]=y,c[dt+620>>2]=1,c[dt+624>>2]=1&He[20+(0|c[y+708>>2])>>0],Ce=(c[dt+540>>2]=$)+-1|0;e:do if(0<(0|$)){if(x=0|c[yi>>2],st=0|c[y+928>>2],pt=0|c[y+924>>2],Tt=0|c[y+936>>2],Qt=0|c[y+932>>2],yr=0|c[y+940>>2],Dr=0|c[y+952>>2],nr=y+948|0,xe=0|c[wr>>2],Le=dt+584|0,Ne=y+956|0,!Tr)for(;;){if(c[x+(52*Ce|0)>>2]=0,c[x+(52*Ce|0)+4>>2]=c[(Q=st+(Ce<<2)|0)>>2],c[x+(52*Ce|0)+8>>2]=c[(wr=pt+(Ce<<2)|0)>>2],he[x+(52*Ce|0)+12>>2]=+he[wr>>2]-+he[Q>>2],c[x+(52*Ce|0)+16>>2]=c[Tt+(Ce<<2)>>2],c[x+(52*Ce|0)+44>>2]=c[(Q=Qt+(Ce<<2)|0)>>2],Ye=+de(.10000000149011612,0|c[yr+(Ce<<2)>>2]),he[x+(52*Ce|0)+20>>2]=Ye,he[x+(52*Ce|0)+24>>2]=1.5*Ye,wr=0|c[Dr+(Ce<<2)>>2],ge=(c[x+(52*Ce|0)+32>>2]=wr)?(0|c[ce>>2])+(28*(0|c[(0|c[nr>>2])+(Ce<<2)>>2])|0)|0:0,c[x+(52*Ce|0)+28>>2]=ge,c[x+(52*Ce|0)+48>>2]=1,c[xe+(Ce<<2)>>2]=c[Q>>2],!(0<(0|Ce)))break e;Ce=Ce+-1|0}for(Ge=0|c[y+944>>2],Te=0|c[y+960>>2];c[x+(52*Ce|0)>>2]=c[Ge+(Ce<<2)>>2],c[x+(52*Ce|0)+4>>2]=c[(ge=st+(Ce<<2)|0)>>2],c[x+(52*Ce|0)+8>>2]=c[(wr=pt+(Ce<<2)|0)>>2],he[x+(52*Ce|0)+12>>2]=+he[wr>>2]-+he[ge>>2],c[x+(52*Ce|0)+16>>2]=c[Tt+(Ce<<2)>>2],c[x+(52*Ce|0)+44>>2]=c[(ge=Qt+(Ce<<2)|0)>>2],Ye=+de(.10000000149011612,0|c[yr+(Ce<<2)>>2]),he[x+(52*Ce|0)+20>>2]=Ye,he[x+(52*Ce|0)+24>>2]=1.5*Ye,wr=0|c[Dr+(Ce<<2)>>2],Q=(c[x+(52*Ce|0)+32>>2]=wr)?(0|c[ce>>2])+(28*(0|c[(0|c[nr>>2])+(Ce<<2)>>2])|0)|0:0,c[x+(52*Ce|0)+28>>2]=Q,wr=0|c[Te+(Ce<<2)>>2],Q=(c[x+(52*Ce|0)+40>>2]=wr)?(0|c[Le>>2])+(28*(0|c[(0|c[Ne>>2])+(Ce<<2)>>2])|0)|0:0,c[x+(52*Ce|0)+36>>2]=Q,c[x+(52*Ce|0)+48>>2]=1,c[xe+(Ce<<2)>>2]=c[ge>>2],0<(0|Ce);)Ce=Ce+-1|0}while(0);if(Tr?(c[Rt>>2]=c[y+944>>2],Ge=M,Te=y):(Ka(0|c[Rt>>2],0,$<<2|0),Te=0|c[dt>>2],Ge=0|c[Te+704>>2]),$=0|c[Ge+52>>2],0<(0|(c[dt+556>>2]=$)))for(M=0|c[ce>>2],Q=0|c[Te+1036>>2],ge=0|c[Te+1132>>2],Ce=0|c[Te+1032>>2];c[M+(28*($=(Rt=$)+-1|0)|0)>>2]=c[Q+($<<2)>>2],c[M+(28*$|0)+4>>2]=ge+(c[Ce+($<<2)>>2]<<2),c[M+(28*$|0)+8>>2]=0,he[M+(28*$|0)+12>>2]=0,c[M+(28*$|0)+16>>2]=0,c[M+(28*$|0)+20>>2]=1,(c[M+(28*$|0)+24>>2]=1)<(0|Rt););if($=0|c[Ge+48>>2],0<(0|(c[dt+564>>2]=$))){Ne=Te+1048|0,Le=Te+1040|0,Te=Te+1044|0;do if(Ge=$,M=0|c[ai>>2],Q=0|c[(0|c[Ne>>2])+(($=$+-1|0)<<2)>>2],0<(0|(c[M+(36*$|0)+4>>2]=Q)))for(ge=M+(36*$|0)|0,Ce=0;c[(0|c[ge>>2])+(Ce<<2)>>2]=(0|c[ce>>2])+(28*(0|c[(0|c[Le>>2])+((0|c[(0|c[Te>>2])+($<<2)>>2])+Ce<<2)>>2])|0),(0|(Ce=Ce+1|0))!=(0|Q););while(c[M+(36*$|0)+8>>2]=1<<Q,c[M+(36*$|0)+24>>2]=1,(c[M+(36*$|0)+28>>2]=1)<(0|Ge));st=0|c[dt>>2],Ge=0|c[st+704>>2]}else st=Te;if(M=0|c[Ge>>2],0<(0|(c[(x=dt+4|0)>>2]=M))){for(ge=0|c[K>>2],Le=0|c[ai>>2],xe=0|c[st+720>>2],Ce=0|c[st+740>>2],Te=0|c[st+736>>2],Ne=0|c[st+732>>2],$=0|c[mr>>2],Q=M;c[ge+(12*(Q=(mr=Q)+-1|0)|0)>>2]=Le+(36*(0|c[xe+(Q<<2)>>2])|0),c[ge+(12*Q|0)+4>>2]=c[Ce+(Q<<2)>>2],c[ge+(12*Q|0)+8>>2]=c[Te+(Q<<2)>>2],he[$+(Q<<2)>>2]=0|c[Ne+(Q<<2)>>2]?1:0,1<(0|mr););for(Q=0|c[Pr>>2],$=0;mr=0|c[Le+(36*(0|c[xe+((M=(Pr=M)+-1|0)<<2)>>2])|0)+8>>2],$=(c[Q+(M<<2)>>2]=mr)+$|0,1<(0|Pr););M=0|c[x>>2]}else $=0;if(c[dt+20>>2]=$,c[dt+12>>2]=M,$=0|c[Ge+4>>2],0<(0|(c[dt+304>>2]=$))){Te=st+752|0,Le=st+764|0,Ne=st+768|0,Ge=st+772|0,xe=st+776|0,Ce=st+760|0;do switch(ge=$,M=0|c[D>>2],c[M+(($=$+-1|0)<<5)>>2]=(0|c[ai>>2])+(36*(0|c[(0|c[Te>>2])+($<<2)>>2])|0),c[M+($<<5)+4>>2]=c[(0|c[Le>>2])+($<<2)>>2],c[M+($<<5)+8>>2]=c[(0|c[Ne>>2])+($<<2)>>2],Pr=0|c[(0|c[Ge>>2])+($<<2)>>2],c[M+($<<5)+12>>2]=Pr,Q=0|c[(0|c[xe>>2])+($<<2)>>2],c[M+($<<5)+16>>2]=Q,c[M+($<<5)+28>>2]=c[(0|c[Ce>>2])+($<<2)>>2],0|Pr){case 0:c[(0|c[vn>>2])+(24*Q|0)+20>>2]=$,c[M+($<<5)+20>>2]=2,c[M+($<<5)+24>>2]=2;break;case 1:c[(0|c[ne>>2])+(12*Q|0)+8>>2]=$,c[M+($<<5)+20>>2]=3,c[M+($<<5)+24>>2]=3;break;default:_r(0,937,vr)}while(1<(0|ge));Rt=0|c[dt>>2],Tr=0|c[Rt+704>>2]}else Tr=Ge,Rt=st;if(Q=0|c[Tr+8>>2],$=(c[(x=dt+56|0)>>2]=Q)+-1|0,xe=0<(0|Q))if(ge=0|c[vn>>2],Ce=0|c[ai>>2],Ge=0|c[Rt+780>>2],Te=0|c[Rt+800>>2],Ne=0|c[Rt+804>>2],Le=0|c[Rt+796>>2],1<(0|$t[Rt+4>>0]))for(M=0|c[Rt+808>>2];c[ge+(24*$|0)>>2]=Ce+(36*(0|c[Ge+($<<2)>>2])|0),c[ge+(24*$|0)+4>>2]=c[Te+($<<2)>>2],c[ge+(24*$|0)+8>>2]=c[Ne+($<<2)>>2],c[ge+(24*$|0)+16>>2]=c[Le+($<<2)>>2],c[ge+(24*$|0)+12>>2]=c[M+($<<2)>>2],0<(0|$);)$=$+-1|0;else for(;c[ge+(24*$|0)>>2]=Ce+(36*(0|c[Ge+($<<2)>>2])|0),c[ge+(24*$|0)+4>>2]=c[Te+($<<2)>>2],c[ge+(24*$|0)+8>>2]=c[Ne+($<<2)>>2],c[ge+(24*$|0)+16>>2]=c[Le+($<<2)>>2],(c[ge+(24*$|0)+12>>2]=0)<(0|$);)$=$+-1|0;if(M=0|c[Tr+12>>2],0<(0|(c[(Ne=dt+164|0)>>2]=M)))for($=0|c[ne>>2],ge=0|c[ai>>2],Ce=0|c[Rt+812>>2],Ge=0|c[Rt+828>>2],Te=M;c[$+(12*(Te=(vr=Te)+-1|0)|0)>>2]=ge+(36*(0|c[Ce+(Te<<2)>>2])|0),c[$+(12*Te|0)+4>>2]=c[Ge+(Te<<2)>>2],1<(0|vr););if(xe){for(ge=0|c[vn>>2],M=0|c[Sn>>2],$=0;Sn=0|c[8+(0|c[ge+(24*(Q=(vn=Q)+-1|0)|0)>>2])>>2],$=(c[M+(Q<<2)>>2]=Sn)+$|0,1<(0|vn););Q=0|c[x>>2],M=0|c[Ne>>2]}else $=0;if(c[dt+72>>2]=$,c[dt+64>>2]=Q,0<(0|M)){for(ge=0|c[ne>>2],Q=0|c[bn>>2],$=0;bn=0|c[8+(0|c[ge+(12*(M=(vn=M)+-1|0)|0)>>2])>>2],$=(c[Q+(M<<2)>>2]=bn)+$|0,1<(0|vn););M=0|c[Ne>>2]}else $=0;if(c[dt+180>>2]=$,c[dt+172>>2]=M,wr=Rt+704|0,$=0|c[Tr+16>>2],0<(0|(c[(xe=dt+332|0)>>2]=$))){for(M=0|c[fi>>2],Ne=0|c[ai>>2],Le=0|c[Rt+852>>2],Q=0|c[Rt+876>>2],ge=0|c[Rt+880>>2],Ce=0|c[Rt+892>>2],Ge=0|c[Rt+872>>2],Te=$;c[M+(20*(Te=(fi=Te)+-1|0)|0)>>2]=Ne+(36*(0|c[Le+(Te<<2)>>2])|0),c[M+(20*Te|0)+4>>2]=c[Q+(Te<<2)>>2],c[M+(20*Te|0)+8>>2]=c[ge+(Te<<2)>>2],c[M+(20*Te|0)+16>>2]=c[Ce+(Te<<2)>>2],c[M+(20*Te|0)+12>>2]=c[Ge+(Te<<2)>>2],1<(0|fi););for(M=0|c[di>>2],Q=0;di=0|c[Ne+(36*(0|c[Le+(($=(fi=$)+-1|0)<<2)>>2])|0)+8>>2],Q=(c[M+($<<2)>>2]=di)+Q|0,1<(0|fi););if($=0|c[xe>>2],c[dt+348>>2]=Q,0<(0|(c[dt+340>>2]=$)))for(ge=0|c[Jn>>2],M=0|c[Rn>>2],Q=$<<2;he[ge+((Q=(Rn=Q)+-4|0)<<2)>>2]=1,he[ge+((fi=Rn+-3|0)<<2)>>2]=1,he[ge+((Jn=Rn+-2|0)<<2)>>2]=1,he[ge+((Rn=Rn+-1|0)<<2)>>2]=1,he[M+(Q<<2)>>2]=0,he[M+(fi<<2)>>2]=0,!(((he[M+(Jn<<2)>>2]=0)|$)<=(he[M+(Rn<<2)>>2]=1));)$=$+-1|0}else c[dt+348>>2]=0,c[dt+340>>2]=$;if(nr=0|c[Tr+72>>2],0<(0|(c[dt+480>>2]=nr))){$=0|c[Y>>2],M=0|c[Rt+1152>>2],Q=0|c[Rt+1156>>2],ge=0|c[Rt+1160>>2],Ce=0|c[Rt+1164>>2],Ge=0|c[Rt+1148>>2],pt=Rt+1172|0,Qt=Rt+1168|0,Tt=Rt+1176|0,yr=0;do if(Te=0|c[M+(yr<<2)>>2],c[$+(28*yr|0)+4>>2]=Te,c[$+(28*yr|0)>>2]=c[Q+(yr<<2)>>2],Rn=0|c[ge+(yr<<2)>>2],c[$+(28*yr|0)+16>>2]=Rn,Ne=0|c[Ce+(yr<<2)>>2],c[$+(28*yr|0)+20>>2]=Ne,c[$+(28*yr|0)+24>>2]=Rn+1-Ne,Ne=(c[$+(28*yr|0)+8>>2]=0)|c[Ge+(yr<<2)>>2],0<(0|Te))for(Le=0|c[$+(28*yr|0)+12>>2],xe=0|c[pt>>2],x=0|c[Qt>>2],st=0|c[Tt>>2],Dr=0;c[Le+(Dr<<4)+4>>2]=c[xe+((Rn=Dr+Ne|0)<<2)>>2],c[Le+(Dr<<4)>>2]=c[x+(Rn<<2)>>2],c[Le+(Dr<<4)+8>>2]=c[st+(Rn<<2)>>2],(0|(Dr=Dr+1|(c[Le+(Dr<<4)+12>>2]=0)))!=(0|Te););while((0|(yr=yr+1|0))!=(0|nr))}M=0|c[Tr+80>>2],c[(x=dt+500|0)>>2]=M;do if(0<(0|M)){for(Ne=0|c[hi>>2],Le=0|c[ai>>2],xe=0|c[Rt+1188>>2],$=0|c[Rt+1200>>2],Q=0|c[Rt+1204>>2],ge=0|c[Rt+1212>>2],Ce=0|c[Rt+1216>>2],Ge=0|c[Rt+1208>>2],Te=0|c[Rt+1220>>2];c[Ne+(24*(M=(ai=M)+-1|0)|0)>>2]=Le+(36*(0|c[xe+(M<<2)>>2])|0),c[Ne+(24*M|0)+4>>2]=c[$+(M<<2)>>2],c[Ne+(24*M|0)+8>>2]=c[Q+(M<<2)>>2],c[Ne+(24*M|0)+12>>2]=c[ge+(M<<2)>>2],hi=0|c[Ge+(M<<2)>>2],c[Ne+(24*M|0)+16>>2]=Ce+(hi<<2),c[Ne+(24*M|0)+20>>2]=Te+(hi<<1),1<(0|ai););if((0|(M=0|c[x>>2]))<=0){$=0;break}for(Q=0|c[Ni>>2],$=0;Ni=0|c[Le+(36*(0|c[xe+((M=(ai=M)+-1|0)<<2)>>2])|0)+8>>2],$=(c[Q+(M<<2)>>2]=Ni)+$|0,1<(0|ai););M=0|c[x>>2]}else $=0;while(0);c[dt+516>>2]=$,c[dt+508>>2]=M;do if(3<(0|$t[j>>0])){if((255&($=0|He[Rt+4>>0]))<4)break;if(M=0|c[Tr+120>>2],0<(0|(c[dt+572>>2]=M)))for(Le=0|c[dt+576>>2],Q=0|c[yi>>2],ge=0|c[Rt+1112>>2],Ce=0|c[Rt+1124>>2],Ge=0|c[Rt+1116>>2],Te=0|c[Rt+1128>>2],Ne=0|c[Rt+1120>>2];c[Le+(20*(M=(rn=M)+-1|0)|0)>>2]=Q+(52*(0|c[ge+(M<<2)>>2])|0),yi=0|c[Ge+(M<<2)>>2],c[Le+(20*M|0)+4>>2]=Ce+(yi<<2),c[Le+(20*M|0)+8>>2]=Te+(yi<<2),c[Le+(20*M|0)+12>>2]=c[Ne+(M<<2)>>2],1<(0|rn););if(M=0|c[Tr+100>>2],0<(0|(c[dt+580>>2]=M)))for(Q=0|c[dt+584>>2],ge=0|c[Rt+1056>>2],Ce=0|c[Rt+1132>>2],Ge=0|c[Rt+1052>>2],Te=0|c[Rt+1060>>2];c[Q+(28*(M=(rn=M)+-1|0)|0)>>2]=c[ge+(M<<2)>>2],c[Q+(28*M|0)+4>>2]=Ce+(c[Ge+(M<<2)>>2]<<2),c[Q+(28*M|0)+8>>2]=c[Te+(M<<2)>>2],c[Q+(28*M|0)+12>>2]=0,he[Q+(28*M|0)+16>>2]=0,c[Q+(28*M|0)+20>>2]=1,(c[Q+(28*M|0)+24>>2]=1)<(0|rn););if(M=0|c[Tr+104>>2],0<(0|(c[dt+588>>2]=M))){xe=dt+592|0,st=dt+584|0,Le=Rt+1064|0,pt=Rt+1068|0,Te=Rt+1080|0,x=dt+576|0,Ne=Rt+1108|0,Ge=Rt+1076|0;do if(Ce=M,$=0|c[xe>>2],c[$+(48*(M=M+-1|0)|0)>>2]=(0|c[st>>2])+(28*(0|c[(0|c[Le>>2])+(M<<2)>>2])|0),c[$+(48*M|0)+4>>2]=c[(0|c[pt>>2])+(M<<2)>>2],c[$+(48*M|0)+8>>2]=0,c[$+(48*M|0)+28>>2]=1,c[$+(48*M|0)+32>>2]=1,ge=0|c[(0|c[Te>>2])+(M<<2)>>2],0<(0|(c[$+(48*M|0)+36>>2]=ge)))for($=$+(48*M|0)+40|0,Q=0;c[(0|c[$>>2])+(Q<<2)>>2]=(0|c[x>>2])+(20*(0|c[(0|c[Ne>>2])+((0|c[(0|c[Ge>>2])+(M<<2)>>2])+Q<<2)>>2])|0),(0|(Q=Q+1|0))!=(0|ge););while(1<(0|Ce));Le=0|c[dt>>2],$=0|He[Le+4>>0]}else Le=Rt;if(Ne=0|c[Tn>>2],M=0|c[Ne+108>>2],(255&$)<4)break;if(0<(0|(c[dt+596>>2]=M)))for(Q=0|c[dt+600>>2],ge=0|c[y+1084>>2],Ce=0|c[y+1092>>2],Ge=0|c[dt+592>>2],Te=0|c[y+1088>>2],$=M;c[Q+(12*($=(Tn=$)+-1|0)|0)>>2]=c[ge+($<<2)>>2],c[Q+(12*$|0)+4>>2]=c[Ce+($<<2)>>2],c[Q+(12*$|0)+8>>2]=Ge+(48*(0|c[Te+($<<2)>>2])|0),1<(0|Tn););if($=0|c[Ne+112>>2],0<(0|(c[dt+604>>2]=$)))for(Q=0|c[dt+608>>2],ge=0|c[y+1096>>2],Ce=0|c[y+1104>>2],Ge=0|c[dt+592>>2],M=0|c[y+1100>>2];c[Q+(12*($=(y=$)+-1|0)|0)>>2]=c[ge+($<<2)>>2],c[Q+(12*$|0)+4>>2]=c[Ce+($<<2)>>2],c[Q+(12*$|0)+8>>2]=Ge+(48*(0|c[M+($<<2)>>2])|0),1<(0|y););if(Q=0|c[Le+1132>>2],ge=0|c[20+(0|c[Le+704>>2])>>2],Ce=dt+612|0,c[dt+616>>2]=c[Le+972>>2],$=0|c[Le+964>>2],c[Ce>>2]=$,(0|ge)<=0||(c[$>>2]=Q+(c[c[(M=Le+968|0)>>2]>>2]<<2),(0|ge)==1))break;for($=1;c[(0|c[Ce>>2])+($<<2)>>2]=Q+(c[(0|c[M>>2])+($<<2)>>2]<<2),(0|($=$+1|0))!=(0|ge););}else{if((0|c[Tr+20>>2])<=0)break;nr=Rt+948|0,Tr=Rt+952|0,Qt=dt+612|0,yr=Rt+1032|0,Dr=Rt+1036|0,st=Rt+1132|0,pt=dt+616|0,Tt=0;do{if($=0|c[(0|c[nr>>2])+(Tt<<2)>>2],xe=(y=0|c[(0|c[Tr>>2])+(Tt<<2)>>2])+$|0,x=0|c[(0|c[Qt>>2])+(Tt<<2)>>2],0<(0|y)){Ne=0|c[yr>>2],Le=0|c[Dr>>2],Te=$,$=0;do if(M=0|c[Ne+(Te<<2)>>2],Ge=(y=0|c[Le+(Te<<2)>>2])+M|0,0<(0|y)){Ce=0|c[st>>2];do{Ye=+he[Ce+(M<<2)>>2],Q=x+($<<2)|0;e:do if(0<(0|$))for(ge=x;;){if(+he[ge>>2]==Ye)break e;if(Q>>>0<=(ge=ge+4|0)>>>0){rn=146;break}}else rn=146;while(0)}while((0|rn)==146&&(rn=0,he[Q>>2]=Ye,$=$+1|0),(0|(M=M+1|0))<(0|Ge))}while((0|(Te=Te+1|0))<(0|xe))}else $=0;(function(li,jn){li|=0;var pi=0,on=0,Vo=0,Kd=0,Xp=0,Zd=0,Za=0,Is=0,Jm=0,eg=0;_e=(eg=_e)+208|0,Vo=(jn|=0)<<2,c[(Zd=Is=(Za=eg)+192|0)>>2]=1,c[Zd+4>>2]=0;e:do if(0|Vo){for(c[Za+4>>2]=4,c[Za>>2]=4,pi=jn=4,on=2;jn=jn+4+pi|0,(c[Za+(on<<2)>>2]=jn)>>>0<Vo>>>0;)Zd=pi,pi=jn,on=on+1|0,jn=Zd;if(li>>>0<(Kd=li+Vo+-4|0)>>>0){Xp=Kd,Zd=4+Is|0,pi=li,on=jn=1;do do if((3&jn|0)!=3){if((0|c[Za+((Vo=on+-1|0)<<2)>>2])>>>0<(Xp-pi|0)>>>0?Zl(pi,on,Za):Gd(pi,jn,0|c[Zd>>2],on,0,Za),(0|on)==1){Wd(Is,1),on=0;break}Wd(Is,Vo),on=1;break}while(Zl(pi,on,Za),Bc(Is,2),on=on+2|0,0);while(jn=1|c[Is>>2],c[Is>>2]=jn,(pi=pi+4|0)>>>0<Kd>>>0);Vo=0|c[(Kd=Zd)>>2]}else Kd=4+Is|0,Vo=0,pi=li,on=jn=1;for(Gd(pi,jn,Vo,on,0,Za),Vo=4+Is|0;;){if((0|on)==1&(0|jn)==1){if(!(0|c[Vo>>2]))break e;Jm=21}else(0|on)<2?Jm=21:(Wd(Is,2),li=on+-2|0,c[Is>>2]=7^c[Is>>2],Bc(Is,1),Gd(pi+(0-(0|c[Za+(li<<2)>>2]))+-4|0,0|c[Is>>2],0|c[Kd>>2],on+-1|0,1,Za),Wd(Is,1),jn=1|c[Is>>2],c[Is>>2]=jn,Gd(pi=pi+-4|0,jn,0|c[Kd>>2],li,1,Za),on=li);(0|Jm)==21&&(li=(Jm=0)|ch(Is),Bc(Is,li),jn=0|c[Is>>2],pi=pi+-4|0,on=li+on|0)}}while(0);_e=eg})(x,$),c[(0|c[pt>>2])+(Tt<<2)>>2]=$,Tt=Tt+1|0}while((0|Tt)<(0|c[20+(0|c[wr>>2])>>2]))}while(0);return lo(dt),_e=_s,0|dt}function zr(y,x){return 0|((y=+he[(y|=0)>>2])<(x=+he[(x|=0)>>2])?-1:x<y&1)}function en(y){var x=0|He[(y|=0)+4>>0];c[y+704>>2]=y+(0|c[y+64>>2]),c[y+708>>2]=y+(0|c[y+68>>2]),c[y+712>>2]=y+(0|c[y+72>>2]),c[y+716>>2]=y+(0|c[y+76>>2]),c[y+720>>2]=y+(0|c[y+80>>2]),c[y+724>>2]=y+(0|c[y+84>>2]),c[y+728>>2]=y+(0|c[y+88>>2]),c[y+732>>2]=y+(0|c[y+92>>2]),c[y+736>>2]=y+(0|c[y+96>>2]),c[y+740>>2]=y+(0|c[y+100>>2]),c[y+744>>2]=y+(0|c[y+104>>2]),c[y+748>>2]=y+(0|c[y+108>>2]),c[y+752>>2]=y+(0|c[y+112>>2]),c[y+756>>2]=y+(0|c[y+116>>2]),c[y+760>>2]=y+(0|c[y+120>>2]),c[y+764>>2]=y+(0|c[y+124>>2]),c[y+768>>2]=y+(0|c[y+128>>2]),c[y+772>>2]=y+(0|c[y+132>>2]),c[y+776>>2]=y+(0|c[y+136>>2]),c[y+780>>2]=y+(0|c[y+140>>2]),c[y+784>>2]=y+(0|c[y+144>>2]),c[y+788>>2]=y+(0|c[y+148>>2]),c[y+796>>2]=y+(0|c[y+152>>2]),c[y+800>>2]=y+(0|c[y+156>>2]),c[y+804>>2]=y+(0|c[y+160>>2]),c[y+812>>2]=y+(0|c[y+164>>2]),c[y+816>>2]=y+(0|c[y+168>>2]),c[y+820>>2]=y+(0|c[y+172>>2]),c[y+828>>2]=y+(0|c[y+176>>2]),c[y+832>>2]=y+(0|c[y+180>>2]),c[y+836>>2]=y+(0|c[y+184>>2]),c[y+840>>2]=y+(0|c[y+188>>2]),c[y+844>>2]=y+(0|c[y+192>>2]),c[y+848>>2]=y+(0|c[y+196>>2]),c[y+852>>2]=y+(0|c[y+200>>2]),c[y+856>>2]=y+(0|c[y+204>>2]),c[y+860>>2]=y+(0|c[y+208>>2]),c[y+868>>2]=y+(0|c[y+212>>2]),c[y+872>>2]=y+(0|c[y+216>>2]),c[y+876>>2]=y+(0|c[y+220>>2]),c[y+880>>2]=y+(0|c[y+224>>2]),c[y+884>>2]=y+(0|c[y+228>>2]),c[y+888>>2]=y+(0|c[y+232>>2]),c[y+892>>2]=y+(0|c[y+236>>2]),c[y+896>>2]=y+(0|c[y+240>>2]),c[y+900>>2]=y+(0|c[y+244>>2]),c[y+904>>2]=y+(0|c[y+248>>2]),c[y+908>>2]=y+(0|c[y+252>>2]),c[y+912>>2]=y+(0|c[y+256>>2]),c[y+916>>2]=y+(0|c[y+260>>2]),c[y+920>>2]=y+(0|c[y+264>>2]),c[y+924>>2]=y+(0|c[y+268>>2]),c[y+928>>2]=y+(0|c[y+272>>2]),c[y+932>>2]=y+(0|c[y+276>>2]),c[y+936>>2]=y+(0|c[y+280>>2]),c[y+940>>2]=y+(0|c[y+284>>2]),c[y+948>>2]=y+(0|c[y+288>>2]),c[y+952>>2]=y+(0|c[y+292>>2]),c[y+976>>2]=y+(0|c[y+296>>2]),c[y+980>>2]=y+(0|c[y+300>>2]),c[y+984>>2]=y+(0|c[y+304>>2]),c[y+988>>2]=y+(0|c[y+308>>2]),c[y+992>>2]=y+(0|c[y+312>>2]),c[y+996>>2]=y+(0|c[y+316>>2]),c[y+1e3>>2]=y+(0|c[y+320>>2]),c[y+1004>>2]=y+(0|c[y+324>>2]),c[y+1008>>2]=y+(0|c[y+328>>2]),c[y+1012>>2]=y+(0|c[y+332>>2]),c[y+1016>>2]=y+(0|c[y+336>>2]),c[y+1020>>2]=y+(0|c[y+340>>2]),c[y+1024>>2]=y+(0|c[y+344>>2]),c[y+1028>>2]=y+(0|c[y+348>>2]),c[y+1040>>2]=y+(0|c[y+352>>2]),c[y+1044>>2]=y+(0|c[y+356>>2]),c[y+1048>>2]=y+(0|c[y+360>>2]),c[y+1032>>2]=y+(0|c[y+364>>2]),c[y+1036>>2]=y+(0|c[y+368>>2]),c[y+1132>>2]=y+(0|c[y+372>>2]),c[y+1136>>2]=y+(0|c[y+376>>2]),c[y+1140>>2]=y+(0|c[y+380>>2]),c[y+1144>>2]=y+(0|c[y+384>>2]),c[y+1148>>2]=y+(0|c[y+388>>2]),c[y+1152>>2]=y+(0|c[y+392>>2]),c[y+1156>>2]=y+(0|c[y+396>>2]),c[y+1160>>2]=y+(0|c[y+400>>2]),c[y+1164>>2]=y+(0|c[y+404>>2]),c[y+1168>>2]=y+(0|c[y+408>>2]),c[y+1172>>2]=y+(0|c[y+412>>2]),c[y+1176>>2]=y+(0|c[y+416>>2]),c[y+1180>>2]=y+(0|c[y+420>>2]),c[y+1184>>2]=y+(0|c[y+424>>2]),c[y+1188>>2]=y+(0|c[y+428>>2]),c[y+1192>>2]=y+(0|c[y+432>>2]),c[y+1196>>2]=y+(0|c[y+436>>2]),c[y+1200>>2]=y+(0|c[y+440>>2]),c[y+1204>>2]=y+(0|c[y+444>>2]),c[y+1208>>2]=y+(0|c[y+448>>2]),c[y+1212>>2]=y+(0|c[y+452>>2]),c[y+1216>>2]=y+(0|c[y+456>>2]),c[y+1220>>2]=y+(0|c[y+460>>2]),c[y+1224>>2]=y+(0|c[y+464>>2]),(255&x)<=1||(c[y+808>>2]=y+(0|c[y+468>>2]),(255&x)<=3||(c[y+964>>2]=y+(0|c[y+472>>2]),c[y+968>>2]=y+(0|c[y+476>>2]),c[y+972>>2]=y+(0|c[y+480>>2]),c[y+792>>2]=y+(0|c[y+484>>2]),c[y+824>>2]=y+(0|c[y+488>>2]),c[y+864>>2]=y+(0|c[y+492>>2]),c[y+1228>>2]=y+(0|c[y+496>>2]),c[y+1232>>2]=y+(0|c[y+500>>2]),c[y+1236>>2]=y+(0|c[y+504>>2]),c[y+1240>>2]=y+(0|c[y+508>>2]),c[y+1244>>2]=y+(0|c[y+512>>2]),c[y+1248>>2]=y+(0|c[y+516>>2]),c[y+944>>2]=y+(0|c[y+520>>2]),c[y+956>>2]=y+(0|c[y+524>>2]),c[y+960>>2]=y+(0|c[y+528>>2]),c[y+1052>>2]=y+(0|c[y+532>>2]),c[y+1056>>2]=y+(0|c[y+536>>2]),c[y+1060>>2]=y+(0|c[y+540>>2]),c[y+1064>>2]=y+(0|c[y+544>>2]),c[y+1068>>2]=y+(0|c[y+548>>2]),c[y+1072>>2]=y+(0|c[y+552>>2]),c[y+1076>>2]=y+(0|c[y+556>>2]),c[y+1080>>2]=y+(0|c[y+560>>2]),c[y+1084>>2]=y+(0|c[y+564>>2]),c[y+1088>>2]=y+(0|c[y+568>>2]),c[y+1092>>2]=y+(0|c[y+572>>2]),c[y+1096>>2]=y+(0|c[y+576>>2]),c[y+1100>>2]=y+(0|c[y+580>>2]),c[y+1104>>2]=y+(0|c[y+584>>2]),c[y+1108>>2]=y+(0|c[y+588>>2]),c[y+1112>>2]=y+(0|c[y+592>>2]),c[y+1116>>2]=y+(0|c[y+596>>2]),c[y+1120>>2]=y+(0|c[y+600>>2]),c[y+1124>>2]=y+(0|c[y+604>>2]),c[y+1128>>2]=y+(0|c[y+608>>2])))}function sn(y){y|=0;var x,M,ce,K=0,D=0,ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=_e;if(_e=_e+32|0,D=Ne+24|0,c[(Te=Ne)>>2]=4,c[Te+4>>2]=2,c[Te+8>>2]=2,function(Le,xe){Le|=0,xe|=0;var st=0,pt=0;_e=(Le=_e)+272|0,st=Le+16|0,c[(pt=Le)>>2]=xe,xa(st,993,pt),function(Ye){Ye|=0;var Tt=0,Qt=0;_e=(Tt=_e)+16|0,c[(Qt=Tt)>>2]=Ye,function(yr,Dr,nr){yr|=0,Dr|=0,nr|=0,_e=(Dr=_e)+16|0,c[(yr=Dr)>>2]=nr,ea(496,2518,yr),_e=Dr}(0,0,Qt),_e=Tt}(st),_e=Le}(0,Te),0|Nc(y))return _r(0,1038,Ne+16|0),_e=Ne,(Te=0)|Te;if(4<(255&(K=0|He[(ne=y+4|0)>>0])))return c[D>>2]=4,c[D+4>>2]=255&K,_r(0,1101,D),_e=Ne,(Te=0)|Te;if(0|He[(K=y+5|0)>>0]?(Kn(ne,1),At(y+64|0,4,160),He[K>>0]=0,en(y),K=0|He[ne>>0],At(0|c[(D=y+704|0)>>2],4,32),Kn(0|c[(Te=y+708|0)>>2],4),Kn(4+(0|c[Te>>2])|0,4),Kn(8+(0|c[Te>>2])|0,4),Kn(12+(0|c[Te>>2])|0,4),Kn(16+(0|c[Te>>2])|0,4),Kn(20+(0|c[Te>>2])|0,1),At(0|c[y+720>>2],4,0|c[c[D>>2]>>2]),At(0|c[y+724>>2],4,0|c[c[D>>2]>>2]),At(0|c[y+728>>2],4,0|c[c[D>>2]>>2]),At(0|c[y+732>>2],4,0|c[c[D>>2]>>2]),At(0|c[y+736>>2],4,0|c[c[D>>2]>>2]),At(0|c[y+740>>2],4,0|c[c[D>>2]>>2]),At(0|c[y+752>>2],4,0|c[4+(0|c[D>>2])>>2]),At(0|c[y+756>>2],4,0|c[4+(0|c[D>>2])>>2]),At(0|c[y+760>>2],4,0|c[4+(0|c[D>>2])>>2]),At(0|c[y+764>>2],4,0|c[4+(0|c[D>>2])>>2]),At(0|c[y+768>>2],4,0|c[4+(0|c[D>>2])>>2]),At(0|c[y+772>>2],4,0|c[4+(0|c[D>>2])>>2]),At(0|c[y+776>>2],4,0|c[4+(0|c[D>>2])>>2]),At(0|c[y+780>>2],4,0|c[8+(0|c[D>>2])>>2]),At(0|c[y+784>>2],4,0|c[8+(0|c[D>>2])>>2]),At(0|c[y+788>>2],4,0|c[8+(0|c[D>>2])>>2]),At(0|c[y+796>>2],4,0|c[8+(0|c[D>>2])>>2]),At(0|c[y+800>>2],4,0|c[8+(0|c[D>>2])>>2]),At(0|c[y+804>>2],4,0|c[8+(0|c[D>>2])>>2]),At(0|c[y+812>>2],4,0|c[12+(0|c[D>>2])>>2]),At(0|c[y+816>>2],4,0|c[12+(0|c[D>>2])>>2]),At(0|c[y+820>>2],4,0|c[12+(0|c[D>>2])>>2]),At(0|c[y+828>>2],4,0|c[12+(0|c[D>>2])>>2]),At(0|c[y+852>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+856>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+860>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+868>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+872>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+876>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+880>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+884>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+888>>2],1,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+892>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+896>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+900>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+904>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+908>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+912>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+924>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+928>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+932>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+936>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+940>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+948>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+952>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+976>>2],4,0|c[24+(0|c[D>>2])>>2]),At(0|c[y+980>>2],4,0|c[28+(0|c[D>>2])>>2]),At(0|c[y+984>>2],4,0|c[28+(0|c[D>>2])>>2]),At(0|c[y+988>>2],4,0|c[32+(0|c[D>>2])>>2]),At(0|c[y+992>>2],4,0|c[32+(0|c[D>>2])>>2]),At(0|c[y+996>>2],4,0|c[32+(0|c[D>>2])>>2]),At(0|c[y+1e3>>2],4,0|c[32+(0|c[D>>2])>>2]),At(0|c[y+1004>>2],4,0|c[32+(0|c[D>>2])>>2]),At(0|c[y+1008>>2],4,0|c[32+(0|c[D>>2])>>2]),At(0|c[y+1012>>2],4,0|c[32+(0|c[D>>2])>>2]),At(0|c[y+1016>>2],4,0|c[36+(0|c[D>>2])>>2]),At(0|c[y+1020>>2],4,0|c[36+(0|c[D>>2])>>2]),At(0|c[y+1024>>2],4,0|c[36+(0|c[D>>2])>>2]),At(0|c[y+1028>>2],4,0|c[40+(0|c[D>>2])>>2]),At(0|c[y+1040>>2],4,0|c[44+(0|c[D>>2])>>2]),At(0|c[y+1044>>2],4,0|c[48+(0|c[D>>2])>>2]),At(0|c[y+1048>>2],4,0|c[48+(0|c[D>>2])>>2]),At(0|c[y+1032>>2],4,0|c[52+(0|c[D>>2])>>2]),At(0|c[y+1036>>2],4,0|c[52+(0|c[D>>2])>>2]),At(0|c[y+1132>>2],4,0|c[56+(0|c[D>>2])>>2]),At(0|c[y+1136>>2],4,0|c[60+(0|c[D>>2])>>2]),At(0|c[y+1140>>2],2,0|c[64+(0|c[D>>2])>>2]),At(0|c[y+1144>>2],4,0|c[68+(0|c[D>>2])>>2]),At(0|c[y+1148>>2],4,0|c[72+(0|c[D>>2])>>2]),At(0|c[y+1152>>2],4,0|c[72+(0|c[D>>2])>>2]),At(0|c[y+1156>>2],4,0|c[72+(0|c[D>>2])>>2]),At(0|c[y+1160>>2],4,0|c[72+(0|c[D>>2])>>2]),At(0|c[y+1164>>2],4,0|c[72+(0|c[D>>2])>>2]),At(0|c[y+1168>>2],4,0|c[76+(0|c[D>>2])>>2]),At(0|c[y+1172>>2],4,0|c[76+(0|c[D>>2])>>2]),At(0|c[y+1176>>2],4,0|c[76+(0|c[D>>2])>>2]),At(0|c[y+1188>>2],4,0|c[80+(0|c[D>>2])>>2]),At(0|c[y+1192>>2],4,0|c[80+(0|c[D>>2])>>2]),At(0|c[y+1196>>2],4,0|c[80+(0|c[D>>2])>>2]),At(0|c[y+1200>>2],4,0|c[80+(0|c[D>>2])>>2]),At(0|c[y+1204>>2],4,0|c[80+(0|c[D>>2])>>2]),At(0|c[y+1208>>2],4,0|c[80+(0|c[D>>2])>>2]),At(0|c[y+1212>>2],4,0|c[80+(0|c[D>>2])>>2]),At(0|c[y+1216>>2],4,0|c[84+(0|c[D>>2])>>2]),At(0|c[y+1220>>2],2,0|c[84+(0|c[D>>2])>>2]),At(0|c[y+1224>>2],4,0|c[88+(0|c[D>>2])>>2]),1<(255&K)&&(At(0|c[y+808>>2],4,0|c[8+(0|c[D>>2])>>2]),3<(255&K))&&(At(0|c[y+968>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+972>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+792>>2],4,0|c[8+(0|c[D>>2])>>2]),At(0|c[y+824>>2],4,0|c[12+(0|c[D>>2])>>2]),At(0|c[y+864>>2],4,0|c[16+(0|c[D>>2])>>2]),At(0|c[y+1228>>2],4,0|c[92+(0|c[D>>2])>>2]),At(0|c[y+1232>>2],4,0|c[92+(0|c[D>>2])>>2]),At(0|c[y+1236>>2],4,0|c[92+(0|c[D>>2])>>2]),At(0|c[y+1240>>2],4,0|c[96+(0|c[D>>2])>>2]),At(0|c[y+1244>>2],4,0|c[96+(0|c[D>>2])>>2]),At(0|c[y+1248>>2],4,0|c[96+(0|c[D>>2])>>2]),At(0|c[y+944>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+956>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+960>>2],4,0|c[20+(0|c[D>>2])>>2]),At(0|c[y+1052>>2],4,0|c[100+(0|c[D>>2])>>2]),At(0|c[y+1056>>2],4,0|c[100+(0|c[D>>2])>>2]),At(0|c[y+1060>>2],4,0|c[100+(0|c[D>>2])>>2]),At(0|c[y+1064>>2],4,0|c[104+(0|c[D>>2])>>2]),At(0|c[y+1068>>2],4,0|c[104+(0|c[D>>2])>>2]),At(0|c[y+1072>>2],4,0|c[104+(0|c[D>>2])>>2]),At(0|c[y+1076>>2],4,0|c[104+(0|c[D>>2])>>2]),At(0|c[y+1080>>2],4,0|c[104+(0|c[D>>2])>>2]),At(0|c[y+1084>>2],4,0|c[108+(0|c[D>>2])>>2]),At(0|c[y+1088>>2],4,0|c[108+(0|c[D>>2])>>2]),At(0|c[y+1092>>2],4,0|c[108+(0|c[D>>2])>>2]),At(0|c[y+1096>>2],4,0|c[112+(0|c[D>>2])>>2]),At(0|c[y+1100>>2],4,0|c[112+(0|c[D>>2])>>2]),At(0|c[y+1104>>2],4,0|c[112+(0|c[D>>2])>>2]),At(0|c[y+1108>>2],4,0|c[116+(0|c[D>>2])>>2]),At(0|c[y+1112>>2],4,0|c[120+(0|c[D>>2])>>2]),At(0|c[y+1116>>2],4,0|c[120+(0|c[D>>2])>>2]),At(0|c[y+1120>>2],4,0|c[120+(0|c[D>>2])>>2]),At(0|c[y+1124>>2],4,0|c[124+(0|c[D>>2])>>2]),At(0|c[y+1128>>2],4,0|c[124+(0|c[D>>2])>>2]))):(en(y),D=y+704|0),0|c[905]||(c[905]=1),K=0|c[D>>2],0<(0|c[K>>2]))for(ne=y+716|0,Y=y+712|0,j=0;c[(0|c[Y>>2])+(j<<2)>>2]=(0|c[ne>>2])+(j<<6),K=0|c[D>>2],(0|(j=j+1|0))<(0|c[K>>2]););if(0<(0|c[K+4>>2]))for(ne=y+748|0,Y=y+744|0,j=0;c[(0|c[Y>>2])+(j<<2)>>2]=(0|c[ne>>2])+(j<<6),K=0|c[D>>2],(0|(j=j+1|0))<(0|c[K+4>>2]););if(0<(0|c[K+16>>2]))for($=y+848|0,Q=y+832|0,Ge=y+1136|0,ce=y+896|0,Ce=y+836|0,ge=y+1140|0,x=y+900|0,M=y+840|0,ne=y+1144|0,Y=y+908|0,j=y+844|0,Te=0;c[(0|c[Q>>2])+(Te<<2)>>2]=(0|c[$>>2])+(Te<<6),c[(0|c[Ce>>2])+(Te<<2)>>2]=(0|c[Ge>>2])+(c[(0|c[ce>>2])+(Te<<2)>>2]<<2),c[(0|c[M>>2])+(Te<<2)>>2]=(0|c[ge>>2])+(c[(0|c[x>>2])+(Te<<2)>>2]<<1),c[(0|c[j>>2])+(Te<<2)>>2]=(0|c[ne>>2])+(c[(0|c[Y>>2])+(Te<<2)>>2]<<2),K=0|c[D>>2],(0|(Te=Te+1|0))<(0|c[K+16>>2]););if(0<(0|c[K+20>>2]))for(ne=y+920|0,Y=y+916|0,j=0;c[(0|c[Y>>2])+(j<<2)>>2]=(0|c[ne>>2])+(j<<6),K=0|c[D>>2],(0|(j=j+1|0))<(0|c[K+20>>2]););if(0<(0|c[K+80>>2]))for(ne=y+1184|0,Y=y+1180|0,j=0;c[(0|c[Y>>2])+(j<<2)>>2]=(0|c[ne>>2])+(j<<6),K=0|c[D>>2],(0|(j=j+1|0))<(0|c[K+80>>2]););if(1&He[20+(0|c[y+708>>2])>>0]||(0|(ge=0|c[K+16>>2]))<=0)return _e=Ne,0|(Te=y);K=0|c[y+1140>>2],D=0|c[y+900>>2],ne=0|c[y+904>>2],j=0;do if(Y=K+(c[D+(j<<2)>>2]<<1)|0,Q=(Te=0|c[ne+(j<<2)>>2])+-1|0,1<(0|Te))for($=0;Ge=0|Ar[(Ce=Y+($<<1)|0)>>1],Ar[Ce>>1]=0|Ar[(Te=Y+($+2<<1)|0)>>1],Ar[Te>>1]=Ge,(0|($=$+3|0))<(0|Q););while((0|(j=j+1|0))!=(0|ge));D=0|c[y+1136>>2],ne=0|c[y+896>>2],Y=0|c[y+892>>2],$=0;do if(j=(K=D+(c[ne+($<<2)>>2]<<2)|0)+((Te=0|c[Y+($<<2)>>2])<<1<<2)|0,0<(0|Te))for(K=K+4|0;he[K>>2]=1-+he[K>>2],(K=K+8|0)>>>0<j>>>0;);while((0|($=$+1|0))!=(0|ge));return _e=Ne,0|y}function tn(y){var x=_e;return _e=_e+16|0,0|Nc(y|=0)?(_r(0,1210,x),_e=x,(y=0)|y):(y=0|$t[y+4>>0],_e=x,0|y)}function xn(y){var x,M,ce,K,Q=0,$=0,D=0,ne=0,Y=0,j=0,$=(y|=0)+64|0,Q=y+144|0;if(dr($,0|c[y+88>>2],0|c[y+148>>2],0|c[Q>>2]),fn($,0|c[y+92>>2],0|c[y+152>>2],0|c[796+(0|c[y>>2])>>2],2,0|c[Q>>2]),!((0|$t[4+(0|c[y>>2])>>0])<4||(dr($,0|c[y+96>>2],0|c[(K=y+120|0)>>2],0|c[Q>>2]),dr($,0|c[y+100>>2],0|c[(D=y+124|0)>>2],0|c[Q>>2]),dr($,0|c[y+104>>2],0|c[(ne=y+128|0)>>2],0|c[Q>>2]),dr($,0|c[y+108>>2],0|c[(x=y+132|0)>>2],0|c[Q>>2]),dr($,0|c[y+112>>2],0|c[(M=y+136|0)>>2],0|c[Q>>2]),dr($,0|c[y+116>>2],0|c[(ce=y+140|0)>>2],0|c[Q>>2]),Q=0|c[y+156>>2],$=0|c[K>>2],D=0|c[D>>2],ne=0|c[ne>>2],(0|(K=0|c[y+56>>2]))<=0))){for(j=Y=0;c[Q+(Y<<2)>>2]=c[$+(j<<2)>>2],c[Q+((1|Y)<<2)>>2]=c[D+(j<<2)>>2],c[Q+((2|Y)<<2)>>2]=c[ne+(j<<2)>>2],(0|(j=j+1|0))!=(0|K);)Y=Y+4|0;for(j=0|c[y+160>>2],Y=0|c[x>>2],ne=0|c[M>>2],Q=0|c[ce>>2],D=$=0;c[j+($<<2)>>2]=c[Y+(D<<2)>>2],c[j+((1|$)<<2)>>2]=c[ne+(D<<2)>>2],c[j+((2|$)<<2)>>2]=c[Q+(D<<2)>>2],(0|(D=D+1|0))!=(0|K);)$=$+4|0}}function Nr(y){var x,M,ce,K,Q=0,$=0,D=0,ne=0,Y=0,j=0,$=(y|=0)+172|0,Q=y+264|0;if(dr($,0|c[y+196>>2],0|c[y+268>>2],0|c[Q>>2]),dr($,0|c[y+200>>2],0|c[y+284>>2],0|c[Q>>2]),dr($,0|c[y+204>>2],0|c[y+276>>2],0|c[Q>>2]),dr($,0|c[y+208>>2],0|c[y+280>>2],0|c[Q>>2]),dr($,0|c[y+212>>2],0|c[y+272>>2],0|c[Q>>2]),!((0|$t[4+(0|c[y>>2])>>0])<4||(dr($,0|c[y+216>>2],0|c[(K=y+240|0)>>2],0|c[Q>>2]),dr($,0|c[y+220>>2],0|c[(D=y+244|0)>>2],0|c[Q>>2]),dr($,0|c[y+224>>2],0|c[(ne=y+248|0)>>2],0|c[Q>>2]),dr($,0|c[y+228>>2],0|c[(x=y+252|0)>>2],0|c[Q>>2]),dr($,0|c[y+232>>2],0|c[(M=y+256|0)>>2],0|c[Q>>2]),dr($,0|c[y+236>>2],0|c[(ce=y+260|0)>>2],0|c[Q>>2]),Q=0|c[y+296>>2],$=0|c[K>>2],D=0|c[D>>2],ne=0|c[ne>>2],(0|(K=0|c[y+164>>2]))<=0))){for(j=Y=0;c[Q+(Y<<2)>>2]=c[$+(j<<2)>>2],c[Q+((1|Y)<<2)>>2]=c[D+(j<<2)>>2],c[Q+((2|Y)<<2)>>2]=c[ne+(j<<2)>>2],(0|(j=j+1|0))!=(0|K);)Y=Y+4|0;for(j=0|c[y+300>>2],Y=0|c[x>>2],ne=0|c[M>>2],Q=0|c[ce>>2],D=$=0;c[j+($<<2)>>2]=c[Y+(D<<2)>>2],c[j+((1|$)<<2)>>2]=c[ne+(D<<2)>>2],c[j+((2|$)<<2)>>2]=c[Q+(D<<2)>>2],(0|(D=D+1|0))!=(0|K);)$=$+4|0}}function Xr(y){var x,M,ce,K,Q=0,$=0,D=0,ne=0,Y=0,j=0,$=(y|=0)+340|0,Q=y+424|0;if(dr($,0|c[y+364>>2],0|c[y+448>>2],0|c[Q>>2]),Br($,0|c[y+368>>2],0|c[y+440>>2],0|c[Q>>2]),fn($,0|c[y+372>>2],0|c[y+444>>2],0|c[892+(0|c[y>>2])>>2],2,0|c[Q>>2]),!((0|$t[4+(0|c[y>>2])>>0])<4||(dr($,0|c[y+376>>2],0|c[(K=y+400|0)>>2],0|c[Q>>2]),dr($,0|c[y+380>>2],0|c[(D=y+404|0)>>2],0|c[Q>>2]),dr($,0|c[y+384>>2],0|c[(ne=y+408|0)>>2],0|c[Q>>2]),dr($,0|c[y+388>>2],0|c[(x=y+412|0)>>2],0|c[Q>>2]),dr($,0|c[y+392>>2],0|c[(M=y+416|0)>>2],0|c[Q>>2]),dr($,0|c[y+396>>2],0|c[(ce=y+420|0)>>2],0|c[Q>>2]),Q=0|c[y+452>>2],$=0|c[K>>2],D=0|c[D>>2],ne=0|c[ne>>2],(0|(K=0|c[y+332>>2]))<=0))){for(j=Y=0;c[Q+(Y<<2)>>2]=c[$+(j<<2)>>2],c[Q+((1|Y)<<2)>>2]=c[D+(j<<2)>>2],c[Q+((2|Y)<<2)>>2]=c[ne+(j<<2)>>2],(0|(j=j+1|0))!=(0|K);)Y=Y+4|0;for(j=0|c[y+456>>2],Y=0|c[x>>2],ne=0|c[M>>2],Q=0|c[ce>>2],D=$=0;c[j+($<<2)>>2]=c[Y+(D<<2)>>2],c[j+((1|$)<<2)>>2]=c[ne+(D<<2)>>2],c[j+((2|$)<<2)>>2]=c[Q+(D<<2)>>2],(0|(D=D+1|0))!=(0|K);)$=$+4|0}}function dr(y,x,M,ce){x|=0,M|=0,ce|=0;var K,D,ne,Y=0,j=0,$=0,Q=0,ge=0,Ce=0;if(0<(0|(Y=0|c[(y|=0)+8>>2])))for(j=0|c[y+20>>2],$=0|c[y+12>>2],Q=0;he[$+(Q<<2)>>2]=+he[x+(Q<<2)>>2]*+he[j+(Q<<2)>>2],(0|(Q=Q+1|0))!=(0|Y););if(!((0|(D=0|c[y>>2]))<=0))if(Ce=y+16|0,ne=0|c[y+4>>2],K=y+12|0,ce)for(x=Q=0;;){if(0|c[ce>>2]){if(j=(y=0|c[(0|c[Ce>>2])+(x<<2)>>2])+Q|0,0<(0|y))for(Y=0|c[K>>2],$=Q,ge=0;ge+=+he[Y+($<<2)>>2],(0|($=$+1|0))<(0|j););else ge=0;he[M+(x<<2)>>2]=ge}if((0|(Y=x+1|0))==(0|D))break;ce=ce+4|0,Q=(0|c[ne+(x<<2)>>2])+Q|0,x=Y}else for(Q=0|c[Ce>>2],y=x=0;;){if(j=(Ce=0|c[Q+(y<<2)>>2])+x|0,0<(0|Ce))for(Y=0|c[K>>2],$=x,ge=0;ge+=+he[Y+($<<2)>>2],(0|($=$+1|0))<(0|j););else ge=0;if(he[M+(y<<2)>>2]=ge,(0|(Y=y+1|0))==(0|D))break;x=(0|c[ne+(y<<2)>>2])+x|0,y=Y}}function Br(y,x,M,ce){x|=0,M|=0,ce|=0;var K,D,ne=0,Y=0,j=0,$=0,Q=0,ge=0;if(0<(0|(ne=0|c[(y|=0)+8>>2])))for(Y=0|c[y+20>>2],j=0|c[y+12>>2],$=0;he[j+($<<2)>>2]=+he[x+($<<2)>>2]*+he[Y+($<<2)>>2],(0|($=$+1|0))!=(0|ne););if(!((0|(ne=0|c[y>>2]))<=0))if(ge=y+16|0,K=0|c[y+4>>2],D=y+12|0,ce)for(x=$=0;;){if(0|c[ce>>2]){if(Y=(j=0|c[(0|c[ge>>2])+(x<<2)>>2])+$|0,0<(0|j))for(ne=0|c[D>>2],j=$,Q=0;Q+=+he[ne+(j<<2)>>2],(0|(j=j+1|0))<(0|Y););else Q=0;c[M+(x<<2)>>2]=~~(Q+.0010000000474974513),ne=0|c[y>>2]}if(!((0|(Y=x+1|0))<(0|ne)))break;ce=ce+4|0,$=(0|c[K+(x<<2)>>2])+$|0,x=Y}else for($=0|c[ge>>2],ce=x=0;;){if(Y=(ge=0|c[$+(ce<<2)>>2])+x|0,0<(0|ge))for(ne=0|c[D>>2],j=x,Q=0;Q+=+he[ne+(j<<2)>>2],(0|(j=j+1|0))<(0|Y););else Q=0;if(c[M+(ce<<2)>>2]=~~(Q+.0010000000474974513),!((0|(ne=ce+1|0))<(0|c[y>>2])))break;x=(0|c[K+(ce<<2)>>2])+x|0,ce=ne}}function fn(y,x,M,ce,K,D){x|=0,M|=0,ce|=0,K|=0,D|=0;var ne,Y,j,$,Q,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0|c[(y|=0)>>2];if(!((0|Ye)<=0))if($=y+16|0,j=0|c[y+4>>2],Y=y+20|0,ne=K<<2,D)for(st=xe=0;;){if(0|c[D>>2]&&(Te=0|c[M+(st<<2)>>2],y=0|c[ce+(st<<2)>>2],Le=0|De(y,K),Ne=(ge=0|c[(0|c[$>>2])+(st<<2)>>2])+xe|0,(Ge=0<(0|Le))&&Ka(0|Te,0,0|De(ne,y)),0<(0|ge)&&(pt=0|c[Y>>2],Ge))){ge=xe;do for(y=0|c[x+(ge<<2)>>2],Ce=+he[pt+(ge<<2)>>2],Ge=0;he[(Q=Te+(Ge<<2)|0)>>2]=+he[Q>>2]+Ce*+he[y+(Ge<<2)>>2],(0|(Ge=Ge+1|0))!=(0|Le););while((0|(ge=ge+1|0))<(0|Ne))}if((0|(y=st+1|0))==(0|Ye))break;D=D+4|0,xe=(0|c[j+(st<<2)>>2])+xe|0,st=y}else for(xe=Le=0;;){if(Ge=0|c[M+(xe<<2)>>2],y=0|c[ce+(xe<<2)>>2],Ne=0|De(y,K),Te=(D=0|c[(0|c[$>>2])+(xe<<2)>>2])+Le|0,(ge=0<(0|Ne))&&Ka(0|Ge,0,0|De(ne,y)),0<(0|D)&&(st=0|c[Y>>2],ge)){D=Le;do for(y=0|c[x+(D<<2)>>2],Ce=+he[st+(D<<2)>>2],ge=0;he[(pt=Ge+(ge<<2)|0)>>2]=+he[pt>>2]+Ce*+he[y+(ge<<2)>>2],(0|(ge=ge+1|0))!=(0|Ne););while((0|(D=D+1|0))<(0|Te))}if((0|(y=xe+1|0))==(0|Ye))break;Le=(0|c[j+(xe<<2)>>2])+Le|0,xe=y}}function xi(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|function(ce){ce|=0;var K,D,ne=_e;return _e=_e+560|0,K=(D=ne)+548|0,Ka(0|D,0,548),Ei(ce,D,K),_e=ne,0|c[K>>2]}(y),_e=M,0|x):(c[x>>2]=1515,c[x+4>>2]=1533,_r(0,1269,x),_e=M,(x=0)|x)}function Fn(y,x,M){x|=0,M|=0;var ce,K,D=0,ne=0,Y=_e;return _e=_e+32|0,ne=Y+24|0,K=Y+16|0,D=Y+8|0,ce=Y,(y|=0)?x?((D=x)+15&-16|0)!=(0|D)?(c[K>>2]=1551,c[4+K>>2]=1342,_r(0,1269,K),_e=Y,(ne=0)|ne):(x=0|Jr(y,x,M))?(_e=Y,0|(ne=x)):(c[ne>>2]=1551,c[ne+4>>2]=1577,_r(0,1269,ne),_e=Y,(ne=0)|ne):(c[D>>2]=1551,c[D+4>>2]=1303,_r(0,1269,D),_e=Y,(ne=0)|ne):(c[ce>>2]=1551,c[ce+4>>2]=1533,_r(0,1269,ce),_e=Y,(ne=0)|ne)}function ln(y,x,M,ce){if(M=+M,ce=+ce,(x=+ke(+(x=+x),+(y=+y))-+ke(+ce,+M))<-3.1415927410125732)for(;(x+=6.2831854820251465)<-3.1415927410125732;);if(!(3.1415927410125732<x))return+(M=x);for(;3.1415927410125732<(x+=-6.2831854820251465););return+x}function Kn(y,x){y|=0,x|=0;var M;if(!((x=y+x+-1|0)>>>0<=y>>>0))for(;M=0|He[y>>0],He[y>>0]=0|He[x>>0],y=y+1|0,He[x>>0]=M,y>>>0<(x=x+-1|0)>>>0;);}function At(y,x,M){y|=0,x|=0;var ce,K=0,D=0;if(M|=0)do if(M=M+-1|0,(D=y)>>>0<(K=(y=y+x|0)+-1|0)>>>0)for(;ce=0|He[D>>0],He[D>>0]=0|He[K>>0],D=D+1|0,He[K>>0]=ce,D>>>0<(K=K+-1|0)>>>0;);while(0|M)}function us(y){var x,M,ce,K=0,D=0,ne=0,Y=0,Le=0,xe=0,st=0,j=0,Ne=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=(K=0|c[(M=(y|=0)+336|0)>>2])+(20*(j=0|c[(ce=y+332|0)>>2])|0)|0,Ne=y+424|0,Le=0|c[y+48>>2],xe=0|c[y+316>>2],st=0|c[y+308>>2];if(0<(0|j))for(j=0|c[Ne>>2],ne=0|c[y+448>>2],Y=0|c[y+444>>2];0|c[j>>2]&&((0|(D=0|c[K+4>>2]))!=-1&&(he[ne>>2]=+he[Le+(D<<2)>>2]*+he[ne>>2]),(0|(D=0|c[K+8>>2]))!=-1&&(he[ne>>2]=+he[xe+(D<<2)>>2]*+he[ne>>2],Q=0|c[Y>>2],zc[3&c[st+(D<<5)+24>>2]](y,D,Q,Q,0|c[K+16>>2]))),!(Te>>>0<=(K=K+20|0)>>>0);)j=j+4|0,ne=ne+4|0,Y=Y+4|0;if(!((0|$t[4+(0|c[y>>2])>>0])<4||(st=(K=0|c[M>>2])+(20*(Q=0|c[ce>>2])|0)|0,Le=0|c[y+324>>2],xe=0|c[y+328>>2],(0|Q)<=0)))for(Y=0|c[Ne>>2],D=K,ne=0|c[y+452>>2],K=0|c[y+456>>2];0|c[Y>>2]&&(0|($=0|c[D+8>>2]))!=-1&&(ge=+he[ne>>2]*+he[(ce=Le+((Ne=$<<2)<<2)|0)>>2],he[ne>>2]=ge,Ce=+he[(Q=ne+4|0)>>2]*+he[4+ce>>2],he[Q>>2]=Ce,Ge=+he[(y=ne+8|0)>>2]*+he[8+ce>>2],he[ne>>2]=ge<0?0:1<ge?1:ge,he[Q>>2]=Ce<0?0:1<Ce?1:Ce,he[y>>2]=Ge<0?0:1<Ge?1:Ge,he[ne+12>>2]=1,Ge=+he[K>>2],Ce=+he[(Ne=xe+(Ne<<2)|0)>>2],he[K>>2]=Ce=Ge+Ce-Ge*Ce,Ge=+he[(y=K+4|0)>>2],ge=+he[Ne+4>>2],he[y>>2]=ge=Ge+ge-Ge*ge,x=(Ge=+he[(Q=K+8|0)>>2])+(x=+he[Ne+8>>2])-Ge*x,he[K>>2]=Ce<0?0:1<Ce?1:Ce,he[y>>2]=ge<0?0:1<ge?1:ge,he[Q>>2]=x<0?0:1<x?1:x,he[K+12>>2]=1),!(st>>>0<=(D=D+20|0)>>>0);)Y=Y+4|0,ne=ne+16|0,K=K+16|0}function vi(y){var x,M=0|c[(y|=0)+332>>2];0|c[y+428>>2]&&(Cl(0|c[y+460>>2],0|c[y+436>>2],0|(x=M<<2)),Cl(0|c[y+464>>2],0|c[y+440>>2],0|x),Cl(0|c[y+468>>2],0|c[y+448>>2],0|x),(0|$t[4+(0|c[y>>2])>>0])<=3||(Cl(0|c[y+472>>2],0|c[y+452>>2],0|(x=M<<4)),Cl(0|c[y+476>>2],0|c[y+456>>2],0|x)))}function Ti(y){var x,M,ce,K,D,ne,Y,j,$,Q,ge,Tt=0,pt=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0|He[4+(0|c[(y|=0)>>2])>>0],Ye=0|c[y+332>>2],Tt=y+428|0;if(0|c[y+620>>2]){if(!(((c[Tt>>2]=0)|Ye)<=0))for(Ge=y+424|0,Te=y+432|0,Tt=y+448|0,pt=0;Ce=0|c[(0|c[Ge>>2])+(pt<<2)>>2]&&+he[(0|c[Tt>>2])+(pt<<2)>>2]!=0?127:126,He[(0|c[Te>>2])+pt>>0]=Ce,(0|(pt=pt+1|0))!=(0|Ye););}else if(0|c[Tt>>2]){if(!(((c[Tt>>2]=0)|Ye)<=0))if(ce=y+424|0,ne=y+432|0,D=y+448|0,j=y+468|0,K=y+440|0,Y=y+464|0,Q=y+436|0,$=y+460|0,x=y+452|0,Ne=y+472|0,M=y+456|0,Te=y+476|0,(255&pt)<=3)for(Tt=0;Ne=(0|c[(0|c[ce>>2])+(Tt<<2)>>2])==0,st=+he[(0|c[D>>2])+(Tt<<2)>>2],xe=(0|c[ne>>2])+Tt|0,Le=(1&He[xe>>0])==(Le=st!=0&(1^Ne)&1)<<24>>24?Le:2|Le,Le=st!=+he[(0|c[j>>2])+(Tt<<2)>>2]?4|Le:Le,Le=(0|c[(0|c[K>>2])+(Tt<<2)>>2])==(0|c[(0|c[Y>>2])+(Tt<<2)>>2])?Le:8|Le,Le=(0|c[(0|c[Q>>2])+(Tt<<2)>>2])==(0|c[(0|c[$>>2])+(Tt<<2)>>2])?Le:16|Le,He[xe>>0]=Ne?Le:32|Le,(0|(Tt=Tt+1|0))!=(0|Ye););else for(Ge=Ce=0;ge=(0|c[(0|c[ce>>2])+(Ce<<2)>>2])==0,st=+he[(0|c[D>>2])+(Ce<<2)>>2],pt=(0|c[ne>>2])+Ce|0,Tt=(1&He[pt>>0])==(Tt=st!=0&(1^ge)&1)<<24>>24?Tt:2|Tt,Tt=st!=+he[(0|c[j>>2])+(Ce<<2)>>2]?4|Tt:Tt,Tt=(0|c[(0|c[K>>2])+(Ce<<2)>>2])==(0|c[(0|c[Y>>2])+(Ce<<2)>>2])?Tt:8|Tt,Tt=(0|c[(0|c[Q>>2])+(Ce<<2)>>2])==(0|c[(0|c[$>>2])+(Ce<<2)>>2])?Tt:16|Tt,Tt=ge?Tt:32|Tt,ge=(0|c[x>>2])+(Ge<<2)|0,y=(0|c[Ne>>2])+(Ge<<2)|0,+he[ge>>2]==+he[y>>2]&&+he[4+ge>>2]==+he[y+4>>2]&&+he[8+ge>>2]==+he[y+8>>2]&&+he[12+ge>>2]==+he[y+12>>2]&&(Le=(0|c[M>>2])+(Ge<<2)|0,xe=(0|c[Te>>2])+(Ge<<2)|0,+he[Le>>2]==+he[xe>>2])&&+he[Le+4>>2]==+he[xe+4>>2]&&+he[Le+8>>2]==+he[xe+8>>2]&&+he[Le+12>>2]==+he[xe+12>>2]||(Tt|=64),He[pt>>0]=Tt,(0|(Ce=Ce+1|0))!=(0|Ye);)Ge=Ge+4|0}else if(!((0|Ye)<=0))for(Ce=y+424|0,Ge=y+432|0,Tt=y+448|0,pt=0;0|c[(0|c[Ce>>2])+(pt<<2)>>2]&&+he[(0|c[Tt>>2])+(pt<<2)>>2]!=0?(xe=(0|c[Ge>>2])+pt|0,He[xe>>0]=1|He[xe>>0]):(xe=(0|c[Ge>>2])+pt|0,He[xe>>0]=-2&He[xe>>0]),(0|(pt=pt+1|0))!=(0|Ye););}function Ci(y){var x,M,ce,K,D,ne,Y,vr=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Pr=0,Sn=0,bn=0,vn=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=0,Rt=0,mr=0,Pr=0|c[(ne=(y|=0)+60|0)>>2],vr=0|c[y>>2],Sn=0|c[vr+784>>2],bn=0|c[(Y=y+56|0)>>2],vn=0|c[vr+1028>>2];if(0<(0|bn)){for(st=y+80|0,Tt=y+92|0,Ye=y+88|0,Qt=y+84|0,pt=vr+984|0,ge=vr+980|0,Ge=Ce=0;;){if(Q=0|c[Pr+(24*Ce|0)>>2],(0|(nr=0|c[(vr=Q+24|0)>>2]||0|c[Q+28>>2]?15:nr))==15&&(c[((nr=0)|c[st>>2])+(Ce<<2)>>2]=c[(xe=Q+12|0)>>2],0|c[vr>>2])&&(Te=0|c[Sn+(Ce<<2)>>2],yr=(Ne=0|c[Q+16>>2])+((Tr=0|c[xe>>2])<<2)|0,0<(0|Tr)))for(vr=Ne,j=(0|c[Ye>>2])+(Ge<<2)|0,$=(0|c[Tt>>2])+(Ge<<2)|0;Tr=(0|c[vr>>2])+Te|0,c[$>>2]=vn+(c[(0|c[pt>>2])+(Tr<<2)>>2]<<2),c[j>>2]=c[(0|c[ge>>2])+(Tr<<2)>>2],!(yr>>>0<=(vr=vr+4|0)>>>0);)j=j+4|0,$=$+4|0;if(0|c[Q+28>>2]&&(Dr=(Le=0|c[Q+20>>2])+((Tr=0|c[Q+12>>2])<<2)|0,0<(0|Tr)))for(vr=(0|c[Qt>>2])+(Ge<<2)|0,j=Le;c[vr>>2]=c[j>>2],!(Dr>>>0<=(j=j+4|0)>>>0);)vr=vr+4|0;if((0|(Ce=Ce+1|0))==(0|bn))break;Ge=(0|c[Q+8>>2])+Ge|0}vr=0|c[y>>2]}if(!((0|$t[vr+4>>0])<4||(D=0|c[ne>>2],Tr=0|c[vr+792>>2],(0|(ne=0|c[Y>>2]))<=0)))for(M=y+96|0,x=y+100|0,Y=y+104|0,K=y+108|0,ce=y+112|0,nr=y+116|0,yr=vr+1228|0,Tt=vr+1232|0,Ye=vr+1236|0,Dr=vr+1240|0,Qt=vr+1244|0,Pr=vr+1248|0,bn=Sn=0;;){if(vr=0|c[D+(24*Sn|0)>>2],0|c[vr+24>>2]&&(wr=0|c[Tr+(Sn<<2)>>2],mr=(Rt=0|c[vr+16>>2])+((y=0|c[vr+12>>2])<<2)|0,0<(0|y)))for(j=0|c[yr>>2],$=0|c[Tt>>2],Q=0|c[Ye>>2],ge=0|c[Dr>>2],Ce=0|c[Qt>>2],Ge=0|c[Pr>>2],vn=Rt,Te=(0|c[Y>>2])+(bn<<2)|0,Ne=(0|c[x>>2])+(bn<<2)|0,Le=(0|c[M>>2])+(bn<<2)|0,xe=(0|c[nr>>2])+(bn<<2)|0,st=(0|c[ce>>2])+(bn<<2)|0,pt=(0|c[K>>2])+(bn<<2)|0;y=(0|c[vn>>2])+wr|0,c[Le>>2]=c[j+(y<<2)>>2],c[Ne>>2]=c[$+(y<<2)>>2],c[Te>>2]=c[Q+(y<<2)>>2],c[pt>>2]=c[ge+(y<<2)>>2],c[st>>2]=c[Ce+(y<<2)>>2],c[xe>>2]=c[Ge+(y<<2)>>2],!(mr>>>0<=(vn=vn+4|0)>>>0);)Te=Te+4|0,Ne=Ne+4|0,Le=Le+4|0,xe=xe+4|0,st=st+4|0,pt=pt+4|0;if((0|(Sn=Sn+1|0))==(0|ne))break;bn=(0|c[vr+8>>2])+bn|0}}function Bo(y){var x,M,ce,K,D,ne,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,_s=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=0,Rt=0,mr=0,Pr=0,vr=0,Sn=0,bn=0,vn=0,di=0,fi=0,Jn=0,Rn=0,hi=0,Ni=0,ai=0,yi=0,rn=0,Tn=0|c[(y|=0)+168>>2],dt=0|c[y>>2],_s=0|c[816+dt>>2];if(0<(0|(Tt=0|c[(ne=y+164|0)>>2])))for(mr=y+188|0,nr=y+200|0,bn=y+204|0,di=y+208|0,K=y+212|0,Pr=y+196|0,D=y+192|0,Dr=992+dt|0,Sn=996+dt|0,vn=1e3+dt|0,ce=1004+dt|0,vr=988+dt|0,x=1008+dt|0,Tr=y+288|0,M=1012+dt|0,wr=y+292|0,Rn=Jn=0;;){if(Qt=0|c[Tn+(12*Jn|0)>>2],(0|(hi=0|c[(Y=Qt+24|0)>>2]||0|c[Qt+28>>2]?14:hi))==14&&(c[((hi=0)|c[mr>>2])+(Jn<<2)>>2]=c[(Rt=Qt+12|0)>>2],0|c[Y>>2])){if(Y=0|c[_s+(Jn<<2)>>2],Te=(j=0|c[Qt+16>>2])+((Ye=0|c[Rt>>2])<<2)|0,0<(0|Ye))for($=0|c[Dr>>2],Q=0|c[Sn>>2],ge=0|c[vn>>2],Ce=0|c[ce>>2],Ge=0|c[vr>>2],Ne=(0|c[nr>>2])+(Rn<<2)|0,Le=j,xe=(0|c[Pr>>2])+(Rn<<2)|0,st=(0|c[bn>>2])+(Rn<<2)|0,pt=(0|c[di>>2])+(Rn<<2)|0,Ye=(0|c[K>>2])+(Rn<<2)|0;rn=(0|c[Le>>2])+Y|0,c[Ne>>2]=c[$+(rn<<2)>>2],c[st>>2]=c[Q+(rn<<2)>>2],c[pt>>2]=c[ge+(rn<<2)>>2],c[Ye>>2]=c[Ce+(rn<<2)>>2],c[xe>>2]=c[Ge+(rn<<2)>>2],!(Te>>>0<=(Le=Le+4|0)>>>0);)Ne=Ne+4|0,xe=xe+4|0,st=st+4|0,pt=pt+4|0,Ye=Ye+4|0;rn=(0|c[j>>2])+Y|0,c[(0|c[Tr>>2])+(Jn<<2)>>2]=c[(0|c[x>>2])+(rn<<2)>>2],c[(0|c[wr>>2])+(Jn<<2)>>2]=c[(0|c[M>>2])+(rn<<2)>>2]}if(0|c[Qt+28>>2]&&(fi=(yr=0|c[Qt+20>>2])+((rn=0|c[Qt+12>>2])<<2)|0,0<(0|rn)))for(Y=(0|c[D>>2])+(Rn<<2)|0,j=yr;c[Y>>2]=c[j>>2],!(fi>>>0<=(j=j+4|0)>>>0);)Y=Y+4|0;if((0|(Jn=Jn+1|0))==(0|Tt))break;Rn=(0|c[Qt+8>>2])+Rn|0}if(!((0|$t[4+dt>>0])<4||(di=0|c[824+dt>>2],(0|(mr=0|c[ne>>2]))<=0)))for(Sn=y+216|0,vr=y+220|0,Pr=y+224|0,vn=y+228|0,bn=y+232|0,Rt=y+236|0,Tr=1228+dt|0,Dr=1232+dt|0,yr=1236+dt|0,wr=1240+dt|0,nr=1244+dt|0,Te=1248+dt|0,Le=Ne=0;;){if(Ge=0|c[Tn+(12*Ne|0)>>2],0|c[Ge+24>>2]&&(ai=0|c[di+(Ne<<2)>>2],yi=(Ni=0|c[Ge+16>>2])+((rn=0|c[Ge+12>>2])<<2)|0,0<(0|rn)))for(Y=0|c[Tr>>2],j=0|c[Dr>>2],$=0|c[yr>>2],Q=0|c[wr>>2],ge=0|c[nr>>2],Ce=0|c[Te>>2],xe=Ni,st=(0|c[Pr>>2])+(Le<<2)|0,pt=(0|c[vr>>2])+(Le<<2)|0,Ye=(0|c[Sn>>2])+(Le<<2)|0,_s=(0|c[Rt>>2])+(Le<<2)|0,Tt=(0|c[bn>>2])+(Le<<2)|0,Qt=(0|c[vn>>2])+(Le<<2)|0;rn=(0|c[xe>>2])+ai|0,c[Ye>>2]=c[Y+(rn<<2)>>2],c[pt>>2]=c[j+(rn<<2)>>2],c[st>>2]=c[$+(rn<<2)>>2],c[Qt>>2]=c[Q+(rn<<2)>>2],c[Tt>>2]=c[ge+(rn<<2)>>2],c[_s>>2]=c[Ce+(rn<<2)>>2],!(yi>>>0<=(xe=xe+4|0)>>>0);)st=st+4|0,pt=pt+4|0,Ye=Ye+4|0,_s=_s+4|0,Tt=Tt+4|0,Qt=Qt+4|0;if((0|(Ne=Ne+1|0))==(0|mr))break;Le=(0|c[Ge+8>>2])+Le|0}}function Jo(y){var x,M,ce,K,vr=0,D=0,ne=0,Y=0,j=0,$=0,Q=0,ge=0,Pr=0,Sn=0,bn=0,vn=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=0,Rt=0,mr=0,Pr=0|c[(ce=(y|=0)+336|0)>>2],vr=0|c[y>>2],Sn=0|c[vr+856>>2],bn=0|c[(K=y+332|0)>>2],vn=0|c[vr+1028>>2];if(0<(0|bn)){for(Le=y+356|0,Tt=y+372|0,pt=y+364|0,xe=y+368|0,Qt=y+360|0,st=vr+1024|0,Ye=vr+1016|0,$=vr+1020|0,ge=Q=0;;){if(j=0|c[Pr+(20*Q|0)>>2],(0|(nr=0|c[(vr=j+24|0)>>2]||0|c[j+28>>2]?15:nr))==15&&(c[((nr=0)|c[Le>>2])+(Q<<2)>>2]=c[(Ne=j+12|0)>>2],0|c[vr>>2])&&(Ce=0|c[Sn+(Q<<2)>>2],yr=(Ge=0|c[j+16>>2])+((Tr=0|c[Ne>>2])<<2)|0,0<(0|Tr)))for(vr=(0|c[xe>>2])+(ge<<2)|0,D=Ge,ne=(0|c[pt>>2])+(ge<<2)|0,Y=(0|c[Tt>>2])+(ge<<2)|0;Tr=(0|c[D>>2])+Ce|0,c[Y>>2]=vn+(c[(0|c[st>>2])+(Tr<<2)>>2]<<2),c[ne>>2]=c[(0|c[Ye>>2])+(Tr<<2)>>2],c[vr>>2]=c[(0|c[$>>2])+(Tr<<2)>>2],!(yr>>>0<=(D=D+4|0)>>>0);)vr=vr+4|0,ne=ne+4|0,Y=Y+4|0;if(0|c[j+28>>2]&&(Dr=(Te=0|c[j+20>>2])+((Tr=0|c[j+12>>2])<<2)|0,0<(0|Tr)))for(vr=(0|c[Qt>>2])+(ge<<2)|0,D=Te;c[vr>>2]=c[D>>2],!(Dr>>>0<=(D=D+4|0)>>>0);)vr=vr+4|0;if((0|(Q=Q+1|0))==(0|bn))break;ge=(0|c[j+8>>2])+ge|0}vr=0|c[y>>2]}if(!((0|$t[vr+4>>0])<4||(M=0|c[ce>>2],Tr=0|c[vr+864>>2],(0|(yr=0|c[K>>2]))<=0)))for(ce=y+376|0,nr=y+380|0,Dr=y+384|0,x=y+388|0,K=y+392|0,Qt=y+396|0,Ye=vr+1228|0,st=vr+1232|0,xe=vr+1236|0,Tt=vr+1240|0,pt=vr+1244|0,ge=vr+1248|0,Sn=Pr=0;;){if(vr=0|c[M+(20*Pr|0)>>2],0|c[vr+24>>2]&&(wr=0|c[Tr+(Pr<<2)>>2],mr=(Rt=0|c[vr+16>>2])+((y=0|c[vr+12>>2])<<2)|0,0<(0|y)))for(D=0|c[Ye>>2],ne=0|c[st>>2],Y=0|c[xe>>2],j=0|c[Tt>>2],$=0|c[pt>>2],Q=0|c[ge>>2],bn=Rt,vn=(0|c[Dr>>2])+(Sn<<2)|0,Ce=(0|c[nr>>2])+(Sn<<2)|0,Ge=(0|c[ce>>2])+(Sn<<2)|0,Te=(0|c[Qt>>2])+(Sn<<2)|0,Ne=(0|c[K>>2])+(Sn<<2)|0,Le=(0|c[x>>2])+(Sn<<2)|0;y=(0|c[bn>>2])+wr|0,c[Ge>>2]=c[D+(y<<2)>>2],c[Ce>>2]=c[ne+(y<<2)>>2],c[vn>>2]=c[Y+(y<<2)>>2],c[Le>>2]=c[j+(y<<2)>>2],c[Ne>>2]=c[$+(y<<2)>>2],c[Te>>2]=c[Q+(y<<2)>>2],!(mr>>>0<=(bn=bn+4|0)>>>0);)vn=vn+4|0,Ce=Ce+4|0,Ge=Ge+4|0,Te=Te+4|0,Ne=Ne+4|0,Le=Le+4|0;if((0|(Pr=Pr+1|0))==(0|yr))break;Sn=(0|c[vr+8>>2])+Sn|0}}function lo(y){var x,M,ce,K=0;if(vi(y|=0),function(D){D|=0;var ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0;if(ne=0|c[D+4>>2],Q=0|c[D>>2],ge=ne+(52*Q|0)|0,!((0|Q)<=0))for(Q=0|c[D+12>>2];Y=+he[Q>>2],$=(0|c[ne+16>>2])==0,D=ne+4|0,Y=$?(Ge=+he[D>>2],Ce=+he[ne+8>>2],Y<Ge?Ge:Ce<Y?Ce:Y):(Ge=+he[ne+12>>2],(Ce=+he[D>>2])+Ge*((Y=(Y-Ce)/Ge)-(0|~~+U(+Y)))),D=ne+48|0,+he[(j=ne+44|0)>>2]!=Y?(c[D>>2]=1,he[j>>2]=Y):c[D>>2]=0,$&&(he[Q>>2]=Y),!(ge>>>0<=(ne=ne+52|0)>>>0);)Q=Q+4|0}(y+540|0),function(D){D|=0;var ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0;if(ne=0|c[D+544>>2],Le=0|c[D+540>>2],Tt=ne+(52*Le|0)|0,!((0|Le)<=0)){Le=(0|c[D+620>>2])==0;do e:do if(!(0|c[ne>>2])&&(xe=+he[ne+44>>2],st=+he[ne+20>>2],pt=+he[ne+24>>2],Ye=0|c[ne+28>>2],Te=0|c[ne+32>>2],Qt=Ye+(28*Te|0)|0,0<(0|Te))){if(!Le)for(Te=Ye;;){Q=0|c[Te>>2];do if(1<=(0|Q)){if($=0|c[Te+4>>2],j=+he[$>>2],Y=j-st,(0|Q)==1){Q=!(xe<st+j)|!(Y<xe),Y=D=0,Ne=41;break}if(xe<Y){$=Te+16|0,ge=1,Y=D=0,Ne=43;break}if(xe<st+j)Y=D=Q=0,Ne=41;else{for(D=1;Y=+he[$+(D<<2)>>2],!(xe<st+Y);){if(!((0|(D=D+1|0))<(0|Q))){Ne=40;break}j=Y}if((0|Ne)==40){$=Te+16|0,D=Q+-(ge=1)|0,Y=0,Ne=43;break}Ne=(Y=Y-st<xe?Q=0:(D=D+-1|0,(Y-=j)<pt?Q=0:(Q=0,(xe-j)/Y)),41)}}else Y=D=Q=0,Ne=41;while(0);if((0|Ne)==41&&(Q|(Ne=0)==(0|c[($=Te+16|0)>>2])?(ge=1&Q,Ne=43):(c[Te+24>>2]=1,c[Te+20>>2]=1,Ge=Te+8|0,Ce=Te+12|0,Q=0)),(0|Ne)==43&&(j=+he[(Ce=Te+12|(Ne=0))>>2],yr=j!=Y,Q=1&((0|c[(Ge=Te+8|0)>>2])!=(0|D)|yr&(Y==0|j==0)),c[Te+24>>2]=1&yr,c[Te+20>>2]=Q,Q=ge),he[Ce>>2]=Y,c[Ge>>2]=D,c[$>>2]=Q,Qt>>>0<=(Te=Te+28|0)>>>0)break e}if(!(0|c[ne+48>>2])){for(D=Ye;;)if(c[D+24>>2]=0,c[D+20>>2]=0,Qt>>>0<=(D=D+28|0)>>>0)break e}Te=Ye;do{Q=0|c[Te>>2];do if(1<=(0|Q)){if($=0|c[Te+4>>2],j=+he[$>>2],Y=j-st,(0|Q)==1){Q=!(xe<st+j)|!(Y<xe),Y=D=0,Ne=24;break}if(xe<Y){$=Te+16|0,ge=1,Y=D=0,Ne=26;break}if(xe<st+j)Y=D=Q=0,Ne=24;else{for(D=1;Y=+he[$+(D<<2)>>2],!(xe<st+Y);){if(!((0|(D=D+1|0))<(0|Q))){Ne=21;break}j=Y}if((0|Ne)==21){$=Te+16|0,D=Q+-(ge=1)|0,Y=0,Ne=26;break}Ne=(Y=Y-st<xe?Q=0:(D=D+-1|0,(Y-=j)<pt?Q=0:(Q=0,(xe-j)/Y)),24)}}else Y=D=Q=0,Ne=24;while(0)}while((0|Ne)==24&&(Q|(Ne=0)==(0|c[($=Te+16|0)>>2])?(ge=1&Q,Ne=26):(c[Te+24>>2]=1,c[Te+20>>2]=1,Ge=Te+8|0,Ce=Te+12|0,Q=0)),(0|Ne)==26&&(j=+he[(Ce=Te+12|(Ne=0))>>2],yr=j!=Y,Q=1&((0|c[(Ge=Te+8|0)>>2])!=(0|D)|yr&(Y==0|j==0)),c[Te+24>>2]=1&yr,c[Te+20>>2]=Q,Q=ge),he[Ce>>2]=Y,c[Ge>>2]=D,c[$>>2]=Q,(Te=Te+28|0)>>>0<Qt>>>0)}while(0);while((ne=ne+52|0)>>>0<Tt>>>0)}}(y),Wi(y),function(D){D|=0;var ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=0;if(ne=0|c[D+568>>2],st=0|c[D+564>>2],Qt=ne+(36*st|0)|0,!((0|st)<=0)){st=(0|c[D+620>>2])==0;do{xe=0|c[ne+4>>2];e:do if(0<(0|xe))for(ge=0|c[ne>>2],j=D=Y=Ce=0;;){if($=0|c[ge+(Ce<<2)>>2],0|c[$+16>>2]){j=1,D=Y=0;break e}if(j=j||0|c[$+24>>2],D=D||0|c[$+20>>2],Y=Y+(+he[$+12>>2]!=0&1)|0,(0|xe)<=(0|(Ce=Ce+1|0))){ge=Y,nr=11;break}}else j=D=ge=0,nr=11;while(0);e:do if((0|nr)==11)if(Y=st?D:1,(nr=0)!=((D=st?j:1)|Y|0)&&(Dr=1<<ge,c[ne+12>>2]=Dr,pt=0|c[ne>>2],Ye=0|c[ne+16>>2],Tt=0|c[ne+20>>2],yr=Ye+(Dr<<2)|0,(0|ge)!=31)){for(Ka(0|Ye,0,((j=Ye+4|0)>>>0<yr>>>0?yr:j)+~Ye+4&-4|0),j=Tt+(Dr<<2)|0,$=Tt;he[$>>2]=1,($=$+4|0)>>>0<j>>>0;);if(1<=(0|xe)){if(!ge)for(ge=0,Ge=1;;){if($=0|c[pt+(ge<<2)>>2],Ce=0|De(0|c[$+8>>2],Ge),(Q=+he[$+12>>2])==0)for(j=0;c[(Le=Ye+(j<<2)|0)>>2]=(0|c[Le>>2])+Ce,(0|(j=j+1|0))!=(0|Dr););else c[Ye>>2]=(0|c[Ye>>2])+Ce,he[Tt>>2]=(1-Q)*+he[Tt>>2];if(Ge=0|De(0|c[$>>2],Ge),(0|(ge=ge+1|0))==(0|xe)){j=0;break e}}Ne=0,Le=j=1;do if(Te=0|c[pt+(Ne<<2)>>2],$=0|c[8+Te>>2],Ge=0|De($,Le),(Q=+he[(Ce=12+Te|0)>>2])==0)for($=0;c[(Ce=Ye+($<<2)|0)>>2]=(0|c[Ce>>2])+Ge,(0|($=$+1|0))!=(0|Dr););else{for(ge=0|De($+1|0,Le),c[Ye>>2]=(0|c[Ye>>2])+Ge,he[Tt>>2]=(1-Q)*+he[Tt>>2],$=1;Q=+he[Ce>>2],wr=($&j|0)!=0,c[(Tr=Ye+($<<2)|0)>>2]=(wr?ge:Ge)+(0|c[Tr>>2]),he[(Tr=Tt+($<<2)|0)>>2]=(wr?Q:1-Q)*+he[Tr>>2],(0|($=$+1|0))!=(0|Dr););j<<=1}while(Le=0|De(0|c[Te>>2],Le),(0|(Ne=Ne+1|0))!=(0|xe));j=0}else j=0}else j=0;while(0)}while(c[ne+28>>2]=D,c[ne+24>>2]=Y,c[ne+32>>2]=j,(ne=ne+36|0)>>>0<Qt>>>0)}}(y),Fi(y),M=0|c[y+4>>2],x=(K=0|c[y+52>>2])+(M<<2)|0,0<(0|M))for(;ce=+he[K>>2],he[K>>2]=ce<0?0:1<ce?1:ce,(K=K+4|0)>>>0<x>>>0;);(function(D,ne,Y){D|=0,ne|=0,Y|=0;var j=0,$=0;if($=ne+(12*D|0)|0,!((0|D)<=0))for(j=Y;;){do if(0|c[ne+8>>2]){if((0|(D=0|c[ne+4>>2]))!=-1&&!(0|c[Y+(D<<2)>>2])){D=0;break}D=(0|c[32+(0|c[ne>>2])>>2])==0}else D=0;while(0);if(c[j>>2]=1&D,$>>>0<=(ne=ne+12|0)>>>0)break;j=j+4|0}})(M,0|c[y+8>>2],0|c[y+40>>2]),function(D){var ne,Y,j,$,Q,Qt=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0|c[(D|=0)+8>>2],Qt=0|c[D>>2],yr=0|c[Qt+724>>2],Dr=0|c[D+4>>2];if(!((0|Dr)<=0))for($=D+28|0,Q=D+36|0,j=D+32|0,Y=Qt+976|0,Ge=Ce=0;;){if(ne=0|c[Tt+(12*Ce|0)>>2],(0|(Ye=0|c[(D=24+ne|0)>>2]||0|c[28+ne>>2]?6:Ye))==6&&(c[((Ye=0)|c[$>>2])+(Ce<<2)>>2]=c[(xe=12+ne|0)>>2],0|c[D>>2])&&(Le=0|c[yr+(Ce<<2)>>2],st=(Te=0|c[16+ne>>2])+((ge=0|c[xe>>2])<<2)|0,0<(0|ge)))for(D=0|c[Y>>2],Qt=(0|c[Q>>2])+(Ge<<2)|0,ge=Te;c[Qt>>2]=c[D+((0|c[ge>>2])+Le<<2)>>2],!(st>>>0<=(ge=ge+4|0)>>>0);)Qt=Qt+4|0;if(0|c[28+ne>>2]&&(pt=(Ne=0|c[20+ne>>2])+((ge=0|c[12+ne>>2])<<2)|0,0<(0|ge)))for(D=(0|c[j>>2])+(Ge<<2)|0,Qt=Ne;c[D>>2]=c[Qt>>2],!(pt>>>0<=(Qt=Qt+4|0)>>>0);)D=D+4|0;if((0|(Ce=Ce+1|0))==(0|Dr))break;Ge=(0|c[8+ne>>2])+Ge|0}}(y),function(D){Br((D|=0)+12|0,0|c[D+36>>2],0|c[D+44>>2],0|c[D+40>>2])}(y),function(D){var ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0;if(_e=(Te=_e)+16|0,Ge=Te,ne=c[(D=D|0)+308>>2]|0,j=c[D+304>>2]|0,Ce=ne+(j<<5)|0,$=c[D+40>>2]|0,Q=c[D+312>>2]|0,ge=c[D+144>>2]|0,Y=c[D+264>>2]|0,(0|j)<=0)_e=Te;else{for(j=Q;;){do if(0|c[ne+28>>2]){if((0|(D=0|c[ne+4>>2]))!=-1&&!(0|c[$+(D<<2)>>2])){D=0;break}if((0|(D=0|c[ne+8>>2]))!=-1&&!(0|c[Q+(D<<2)>>2])){D=0;break}D=(0|c[32+(0|c[ne>>2])>>2])==0}else D=0;while(0);switch(D&=1,c[j>>2]=D,0|c[ne+12>>2]){case 0:c[ge+(c[ne+16>>2]<<2)>>2]=D;break;case 1:c[Y+(c[ne+16>>2]<<2)>>2]=D;break;default:_r(0,2458,Ge)}if(Ce>>>0<=(ne=ne+32|0)>>>0)break;j=j+4|0}_e=Te}}(y),Ci(y),Bo(y),xn(y),Nr(y),function(D){D|=0;var ne=0,Y=0,j=0,$=0,Q=0;if(ne=0|c[D+336>>2],Y=0|c[D+332>>2],Q=ne+(20*Y|0)|0,j=0|c[D+40>>2],$=0|c[D+312>>2],!((0|Y)<=0))for(Y=0|c[D+424>>2];;){do if(0|c[ne+12>>2]){if((0|(D=0|c[ne+4>>2]))!=-1&&!(0|c[j+(D<<2)>>2])){D=0;break}if((0|(D=0|c[ne+8>>2]))!=-1&&!(0|c[$+(D<<2)>>2])){D=0;break}D=(0|c[32+(0|c[ne>>2])>>2])==0}else D=0;while(0);if(c[Y>>2]=1&D,Q>>>0<=(ne=ne+20|0)>>>0)break;Y=Y+4|0}}(y),Jo(y),Xr(y),function(D){var ne,Y,j,$,Q,Qt=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0|c[(D|=0)+504>>2],Qt=0|c[D>>2],yr=0|c[Qt+1192>>2],Dr=0|c[D+500>>2];if(!((0|Dr)<=0))for($=D+524|0,Q=D+532|0,j=D+528|0,Y=Qt+1224|0,Ge=Ce=0;;){if(ne=0|c[Tt+(24*Ce|0)>>2],(0|(Ye=0|c[(D=24+ne|0)>>2]||0|c[28+ne>>2]?6:Ye))==6&&(c[((Ye=0)|c[$>>2])+(Ce<<2)>>2]=c[(xe=12+ne|0)>>2],0|c[D>>2])&&(Le=0|c[yr+(Ce<<2)>>2],st=(Te=0|c[16+ne>>2])+((ge=0|c[xe>>2])<<2)|0,0<(0|ge)))for(D=0|c[Y>>2],Qt=(0|c[Q>>2])+(Ge<<2)|0,ge=Te;c[Qt>>2]=c[D+((0|c[ge>>2])+Le<<2)>>2],!(st>>>0<=(ge=ge+4|0)>>>0);)Qt=Qt+4|0;if(0|c[28+ne>>2]&&(pt=(Ne=0|c[20+ne>>2])+((ge=0|c[12+ne>>2])<<2)|0,0<(0|ge)))for(D=(0|c[j>>2])+(Ge<<2)|0,Qt=Ne;c[D>>2]=c[Qt>>2],!(pt>>>0<=(Qt=Qt+4|0)>>>0);)D=D+4|0;if((0|(Ce=Ce+1|0))==(0|Dr))break;Ge=(0|c[8+ne>>2])+Ge|0}}(y),function(D){dr((D|=0)+508|0,0|c[D+532>>2],0|c[D+536>>2],0)}(y),Jt(y),oi(y),function(D){var ne=0,Y=0,j=0,$=0,Q=0,ge=(ne=0|c[(D|=0)+8>>2])+(12*(Q=0|c[D+4>>2])|0)|0,Ce=0|c[D+48>>2];if(!((0|Q)<=0))for(Q=0|c[D+40>>2],Y=Ce,D=0|c[D+52>>2];0|c[Q>>2]&&(j=+he[D>>2],he[Y>>2]=j,(0|($=0|c[ne+4>>2]))!=-1)&&(he[Y>>2]=j*+he[Ce+($<<2)>>2]),!(ge>>>0<=(ne=ne+12|0)>>>0);)Q=Q+4|0,Y=Y+4|0,D=D+4|0}(y),function(D){var ne=0,Y=0,j=0,$=0|c[(D|=0)+304>>2];if(!((0|$)<=0))for(ne=0|c[D+312>>2],Y=0|c[D+308>>2],j=0;0|c[ne>>2]&&qp[3&c[Y+20>>2]](D,j),(0|(j=j+1|0))!=(0|$);)ne=ne+4|0,Y=Y+32|0}(y),us(y),ar(y),function(D){D|=0;var ne,Y,j=0,$=0,Q=0,ge=0,Ce=0;if(!(0|c[D+624>>2]||(ne=(j=0|c[D+336>>2])+(20*(ge=0|c[D+332>>2])|0)|0,(0|ge)<=0)))for(ge=0|c[D+424>>2],D=0|c[D+444>>2];;){if(0|c[ge>>2]&&(Q=0|c[D>>2],Ce=($=0|c[j+16>>2])<<1,0<(0|$)))for($=1;he[(Y=Q+($<<2)|0)>>2]=-+he[Y>>2],(0|($=$+2|0))<(0|Ce););if(ne>>>0<=(j=j+20|0)>>>0)break;ge=ge+4|0,D=D+4|0}}(y),function(D){D|=0;var ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0;if(Ye=0|c[D+480>>2],Tt=0|c[D+484>>2],Ge=Tt+(28*Ye|0)|0,ne=0|c[D+440>>2],Y=0|c[D+44>>2],j=0|c[D+40>>2],$=0|c[D+424>>2],!((0|Ye)<=0)){Te=Tt;do if(0<(0|(Q=0|c[Te+4>>2])))for(ge=0|c[Te+12>>2],Ce=Te+20|0,Ne=0;pt=0|c[ge+(Ne<<4)+4>>2],st=(0|c[ge+(Ne<<4)>>2])==1,c[ge+(Ne<<4)+12>>2]=c[(0|c[(st?j:$)+(pt<<2)>>2]?(st?Y:ne)+(pt<<2)|0:Ce)>>2],(0|(Ne=Ne+1|0))!=(0|Q););while((Te=Te+28|0)>>>0<Ge>>>0);xe=0|c[D+436>>2],st=D+488|0,pt=D+492|0,Ne=D+496|0,Le=0;do{if(0<(0|c[(D=Tt+(28*Le|0)+24|0)>>2])){for(ne=0|c[st>>2],j=0;c[ne+(j<<2)>>2]=-1,j=j+1|0,Y=0|c[D>>2],(0|j)<(0|Y););if(0<(0|Y))for(ne=0|c[Ne>>2],Y=0;c[ne+(Y<<2)>>2]=-1,(0|(Y=Y+1|0))<(0|c[D>>2]););}if(0<(0|c[(Te=Tt+(28*Le|0)+4|0)>>2])){for(Ge=0|c[pt>>2],Y=0;c[Ge+(Y<<2)>>2]=-1,Y=Y+1|0,ne=0|c[Te>>2],(0|Y)<(0|ne););if(0<(0|ne))for(j=0|c[Tt+(28*Le|0)+12>>2],Q=Tt+(28*Le|0)+20|0,$=0|c[Ne>>2],Ce=0;Y=(0|c[j+(Ce<<4)+12>>2])-(0|c[Q>>2])|0,ne=(0|(ne=0|c[(ge=$+(Y<<2)|0)>>2]))==-1?(0|c[st>>2])+(Y<<2)|0:Ge+(ne<<2)|0,c[ne>>2]=Ce,(0|(Ce=(c[ge>>2]=Ce)+1|0))<(0|c[Te>>2]););}if(0<(0|(ne=0|c[D>>2]))){Ce=0|c[st>>2],Ge=Tt+(28*Le|0)+12|0,Y=(ge=0)|c[Tt+(28*Le|0)+8>>2];do if((0|(j=0|c[Ce+(ge<<2)>>2]))!=-1){for($=0|c[Ge>>2],Q=0|c[pt>>2];ne=(0|c[$+(j<<4)>>2])==1?(ne=0|c[$+(j<<4)+8>>2],c[Tt+(28*ne|0)+8>>2]=Y,0|c[Tt+(28*ne|0)>>2]):(c[xe+(c[$+(j<<4)+4>>2]<<2)>>2]=Y,1),Y=ne+Y|0,!((0|(j=0|c[Q+((Te=j)<<2)>>2]))<=(0|Te)|(0|j)==-1););ne=0|c[D>>2]}while((0|(ge=ge+1|0))<(0|ne))}}while((0|(Le=Le+1|0))!=(0|Ye))}}(y),Ti(y),c[y+620>>2]=0}function Wi(y){y|=0;var x,M,ce=0,K=0,D=0,ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0;if(!((0|$t[4+(0|c[y>>2])>>0])<4||(M=(ce=0|c[y+544>>2])+(52*(x=0|c[y+540>>2])|0)|0,(0|x)<=0))){x=(0|c[y+620>>2])==0;do e:do if((0|c[ce>>2])==1&&(Te=+he[ce+44>>2],Ne=0|c[ce+36>>2],$=0|c[ce+40>>2],Le=Ne+(28*$|0)|0,0<(0|$))){if(!x)for(j=Ne;;){D=0|c[j>>2];do if(2<=(0|D)&&(Ce=0|c[j+4>>2],!(Te<=(Ge=+he[Ce>>2])))){for(ne=1,Y=Ge;;){if(y=ne+1|0,Te<(K=+he[Ce+(ne<<2)>>2])){$=25;break}if(!((0|y)<(0|D))){$=26;break}ne=y,Y=K}if((0|$)==25){y=ne+-1|0,K=(Te-Y)/(K-Y);break}if((0|$)==26){y=D+-1|0,K=0;break}}else K=y=0;while(0);if(Y=+he[(ne=j+16|0)>>2],D=1&((0|c[($=j+12|0)>>2])!=(0|y)|(xe=Y!=K)&(K==0|Y==0)),c[j+24>>2]=1&xe,c[j+20>>2]=D,he[ne>>2]=K,c[$>>2]=y,Le>>>0<=(j=j+28|0)>>>0)break e}if(!(0|c[ce+48>>2])){for(y=Ne;;)if(c[y+24>>2]=0,Le>>>(c[y+20>>2]=0)<=(y=y+28|0)>>>0)break e}j=Ne;do{D=0|c[j>>2];do if(2<=(0|D)&&(Q=0|c[j+4>>2],!(Te<=(ge=+he[Q>>2])))){for(ne=1,Y=ge;;){if(y=ne+1|0,Te<(K=+he[Q+(ne<<2)>>2])){$=17;break}if(!((0|y)<(0|D))){$=18;break}ne=y,Y=K}if((0|$)==17){y=ne+-1|0,K=(Te-Y)/(K-Y);break}if((0|$)==18){y=D+-1|0,K=0;break}}else K=y=0;while(0)}while(Y=+he[($=j+16|0)>>2],ne=1&((0|c[(xe=j+12|0)>>2])!=(0|y)|(D=Y!=K)&(K==0|Y==0)),c[j+24>>2]=1&D,c[j+20>>2]=ne,he[$>>2]=K,c[xe>>2]=y,(j=j+28|0)>>>0<Le>>>0)}while(0);while((ce=ce+52|0)>>>0<M>>>0)}}function Fi(y){y|=0;var x,M,ce,K,D=0,ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0;if(!((0|$t[4+(0|c[y>>2])>>0])<4||(K=(D=0|c[y+592>>2])+(48*(ce=0|c[y+588>>2])|0)|0,(0|ce)<=0))){ce=(0|c[y+620>>2])==0;do{if(y=0|c[D>>2],Y=ce?0|c[y+24>>2]:1,(Ce=ce?0|c[y+20>>2]:1)|Y){ge=0|c[y+12>>2],ne=+he[y+16>>2],Q=(0|ge)==(0|(y=0|c[y+8>>2]));do if(ne!=0){if($=ge+1|0,Q){ne=(Y=y=c[D+8>>2]=1)-ne,Q=11;break}y=(0|$)==(0|y)?1:2,Q=10;break}while(y=1&(1^Q),Q=10,0);(0|Q)==10&&(Q=0,c[D+8>>2]=y,Y?($=ge,y=Ce,Q=11):($=ge,y=Ce,Y=0)),(0|Q)==11&&(he[D+20>>2]=1-ne,he[D+24>>2]=ne),y?(c[D+12>>2]=$,c[D+16>>2]=$+1):y=0}else y=Ce;x=0|c[D+36>>2];e:do if(0<(0|x)){if(M=0|c[D+40>>2],!ce)for(Le=0,ne=1;;){Ne=0|c[M+(Le<<2)>>2],Q=0|c[Ne+4>>2],ge=0|c[Ne+8>>2],Ce=0|c[Ne+12>>2],Te=+he[44+(0|c[Ne>>2])>>2];do if(1<=(0|Ce)){if((0|Ce)==1){j=+he[ge>>2];break}if(Te<=(j=+he[Q>>2])){j=+he[ge>>2];break}for($=1;;){if(Te<(Ge=+he[Q+($<<2)>>2])){Q=40;break}if(!((0|($=$+1|0))<(0|Ce))){Q=41;break}j=Ge}if((0|Q)==40){j=(1-(j=(Te-j)/(Ge-j)))*+he[ge+($+-1<<2)>>2]+j*+he[ge+($<<2)>>2];break}if((0|Q)==41){j=+he[ge+(Ce+-1<<2)>>2];break}}else j=1;while(0);if(ne=ne<(he[Ne+16>>2]=j)?ne:j,(0|(Le=Le+1|0))==(0|x))break e}Le=0,ne=1;do if(Ne=0|c[M+(Le<<2)>>2],$=0|c[Ne>>2],0|c[$+48>>2]){Q=0|c[Ne+4>>2],ge=0|c[Ne+8>>2],Ce=0|c[Ne+12>>2],Te=+he[$+44>>2];do if(1<=(0|Ce)){if((0|Ce)==1){j=+he[ge>>2];break}if(Te<=(j=+he[Q>>2])){j=+he[ge>>2];break}for($=1;;){if(Te<(Ge=+he[Q+($<<2)>>2])){Q=28;break}if(!((0|($=$+1|0))<(0|Ce))){Q=27;break}j=Ge}if((0|Q)==27){j=+he[ge+(Ce+-1<<2)>>2];break}if((0|Q)==28){j=(1-(j=(Te-j)/(Ge-j)))*+he[ge+($+-1<<2)>>2]+j*+he[ge+($<<2)>>2];break}}else j=1;while(0);he[Ne+16>>2]=j}else j=+he[Ne+16>>2];while(ne=ne<j?ne:j,(0|(Le=Le+1|0))!=(0|x))}else ne=1;while(0)}while(he[D+44>>2]=ne,c[D+28>>2]=y,c[D+32>>2]=Y,(D=D+48|0)>>>0<K>>>0)}}function xa(y,x,M){y|=0,x|=0,M|=0;var ce,K,D,ne=0,Y=_e;_e=_e+144|0,Cl(0|(K=Y),640,144),c[K+48>>2]=ne=(ne=-2-y|0)>>>0<256?ne:256,c[(ce=K+20|0)>>2]=y,D=(c[K+44>>2]=y)+ne|0,c[(y=K+16|0)>>2]=D,c[K+28>>2]=D,ea(K,x,M),0|ne&&(D=0|c[ce>>2],He[D+(((0|D)==(0|c[y>>2]))<<31>>31)>>0]=0),_e=Y}function ea(y,x,M){Uo(y|=0,x|=0,M|=0)}function bo(y,x,M,ce,K,D){y|=0,x=+x,M|=0,ce|=0,K|=0,D|=0;var ne,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=0,Rt=_e;_e=_e+560|0,Q=Rt+32|0,nr=($=(Tr=wr=Rt)+540|0)+12|(c[(xe=Rt+536|0)>>2]=0),uh(x),yr=(0|(Y=0|at()))<0?(uh(x=-x),Y=0|at(),Dr=1,2539):(Dr=(2049&K|0)!=0&1,2048&K|0?2542:1&K|0?2545:2540);do if(!0&(2146435072&Y|0)==2146435072)wr=(32&D|0)!=0,cs(y,32,M,Y=Dr+3|0,-65537&K),un(y,yr,Dr),un(y,x!=x|!1?wr?2566:2570:wr?2558:2562,3),cs(y,32,M,Y,8192^K);else{if((Y=(Te=2*+Up(x,xe))!=0)&&(c[xe>>2]=(0|c[xe>>2])-1),(0|(pt=32|D))==97){Ne=0|(Ce=32&D)?yr+9|0:yr,Ge=2|Dr,Y=12-ce|0;do if(!(11<ce>>>0|(0|Y)==0)){for(x=8;x*=16,(0|(Y=Y+-1|0))!=0;);if((0|He[Ne>>0])==45){x=-(x+(-Te-x));break}x=Te+x-x;break}while(x=Te,0);for((0|(Y=0|Ya(Y=(0|(j=0|c[xe>>2]))<0?0-j|0:j,((0|Y)<0)<<31>>31,nr)))==(0|nr)&&(He[(Y=$+11|0)>>0]=48),He[Y+-1>>0]=43+(j>>31&2),He[(ge=Y+-2|0)>>0]=D+15,j=(0|ce)<1,$=(8&K|0)==0,Y=wr;Q=Y+1|0,He[Y>>0]=Ce|$t[480+(Dr=~~x)>>0],x=16*(x-(0|Dr)),(Q-Tr|0)!=1||$&j&x==0||(He[Q>>0]=46,Q=Y+2|0),x!=0;)Y=Q;cs(y,32,M,nr=(Y=0|ce&&(-2-Tr+Q|0)<(0|ce)?ce+2+(j=nr)-($=ge)|0:(j=nr)-Tr-($=ge)+Q|0)+Ge|0,K),un(y,Ne,Ge),cs(y,48,M,nr,65536^K),un(y,wr,Tr=Q-Tr|0),cs(y,48,Y-(Tr+(wr=j-$|0))|0,0,0),un(y,ge,wr),cs(y,32,M,nr,8192^K),Y=nr;break}for(j=(0|ce)<0?6:ce,x=Y?($=(0|c[xe>>2])-28|0,c[xe>>2]=$,268435456*Te):($=0|c[xe>>2],Te),Q=ne=(0|$)<0?Q:Q+288|0;c[Q>>2]=Tt=~~x>>>0,Q=Q+4|0,(x=1e9*(x-(Tt>>>0)))!=0;);if(Tt=ne,0<(0|$)){Y=ne;do{if(Ce=(0|$)<29?$:29,Y>>>0<=($=Q+-4|0)>>>0){for(ge=0;Le=0|qu(0|(Le=0|J1(0|c[$>>2],0,0|Ce)),0|at(),0|ge,0),Ye=0|qu(0|Le,0|(st=0|at()),0|(Ye=0|Uc(0|(ge=0|Vc(0|Le,0|st,1e9,0)),0|at(),-1e9,-1)),0|at()),at(),c[$>>2]=Ye,Y>>>0<=($=$+-4|0)>>>0;);ge&&(c[(Y=Y+-4|0)>>2]=ge)}e:do if(Y>>>0<Q>>>0)for(;;){if(0|c[($=Q+-4|0)>>2])break e;if(!(Y>>>0<$>>>0)){Q=$;break}Q=$}while(0)}while($=(0|c[xe>>2])-Ce|0,0<(0|(c[xe>>2]=$)))}else Y=ne;if((0|$)<0){ce=1+((j+25|0)/9|0)|0,Le=(0|pt)==102;do if(Ne=(0|(Ne=0-$|0))<9?Ne:9,Y>>>0<Q>>>0){for(Ce=(1<<Ne)-1|0,ge=Ne?1e9>>>Ne:1e9,Ge=0,$=Y;Ye=0|c[$>>2],c[$>>2]=(Ne?Ye>>>Ne:Ye)+Ge,Ge=0|De(Ye&Ce,ge),($=$+4|0)>>>0<Q>>>0;);Y=0|c[Y>>2]?Y:Y+4|0,Ge&&(c[Q>>2]=Ge,Q=Q+4|0)}else Y=0|c[Y>>2]?Y:Y+4|0;while(Q=(0|ce)<((Ye=Q-($=Le?ne:Y)|0)>>2|0)?$+(ce<<2)|0:Q,$=(0|c[xe>>2])+Ne|0,(0|(c[xe>>2]=$))<0);Le=Q}else Le=Q;if(Y>>>0<Le>>>0){if($=9*(($=Tt-Y|0)>>2)|0,10<=(ge=0|c[Y>>2])>>>0)for(Q=10;$=$+1|0,(Q=10*Q|0)>>>0<=ge>>>0;);}else $=0;if((0|(Q=j-((0|pt)==102?0:$)+(((st=(0|j)!=0)&(xe=(0|pt)==103))<<31>>31)|0))<((9*((Ye=Le-Tt|0)>>2)|0)-9|0)){if(ce=ne+4+((Q=(0|(Ye=Q+9216|0))/9|0)+-1024<<2)|0,(0|(Q=Ye+(0|De(Q,-9))|0))<8)for(ge=10;ge=10*ge|0,(0|Q)<7;)Q=Q+1|0;else ge=10;if((Ge=(ce+4|0)==(0|Le))&(0|(Ce=(Ce=0|c[ce>>2])-(Ne=0|De(Q=(Ce>>>0)/(ge>>>0)|0,ge))|0))==0)Q=ce;else if(Te=1&Q|0?9007199254740994:9007199254740992,x=Ce>>>0<(Ye=ge>>>1)>>>0?.5:Ge&(0|Ce)==(0|Ye)?1:1.5,Dr&&(Te=(Ye=(0|He[yr>>0])==45)?-Te:Te,x=Ye?-x:x),c[ce>>2]=Ne,Te+x!=Te){if(999999999<(c[ce>>2]=Ye=Ne+ge|0)>>>0)for($=ce;(Q=$+-4|0)>>>(c[$>>2]=0)<Y>>>0&&(c[(Y=Y+-4|0)>>2]=0),Ye=1+(0|c[Q>>2])|0,999999999<(c[Q>>2]=Ye)>>>0;)$=Q;else Q=ce;if($=9*(($=Tt-Y|0)>>2)|0,10<=(Ce=0|c[Y>>2])>>>0)for(ge=10;$=$+1|0,(ge=10*ge|0)>>>0<=Ce>>>0;);}else Q=ce;Ye=Y,Y=(pt=Q+4|0)>>>0<Le>>>0?pt:Le}else Ye=Y,Y=Le;Ne=0-$|0;e:do if(Ye>>>0<Y>>>0)for(;;){if(0|c[(Q=Y+-4|0)>>2]){Le=1,pt=Y;break e}if(!(Ye>>>0<Q>>>0)){Le=0,pt=Q;break}Y=Q}else Le=0,pt=Y;while(0);do if(xe){if(ge=(0|$)<(0|(Y=j+(1&(1^st))|0))&-5<(0|$)?(j=Y+-1-$|0,D+-1|0):(j=Y+-1|0,D+-2|0),!(8&K)){if(Le&&0|(Qt=0|c[pt+-4>>2]))if((Qt>>>0)%10|0)Q=0;else for(Y=10,Q=0;Q=Q+1|0,!((Qt>>>0)%((Y=10*Y|0)>>>0)|0););else Q=9;if(Y=(9*((Y=pt-Tt|0)>>2)|0)-9|0,(32|ge)==102){j=(0|j)<(0|(D=0<(0|(D=Y-Q|0))?D:0))?j:D;break}j=(0|j)<(0|(D=0<(0|(D=Y+$-Q|0))?D:0))?j:D;break}}else ge=D;while(0);if(Ce=(ce=(0|j)!=0)?1:K>>>3&1,Ge=(32|ge)==102)Y=(st=0)<(0|$)?$:0;else{if(((Q=nr)-(Y=0|Ya(Y=(0|$)<0?Ne:$,((0|Y)<0)<<31>>31,nr))|0)<2)for(;He[(Y=Y+-1|0)>>0]=48,(Q-Y|0)<2;);He[Y+-1>>0]=43+($>>31&2),He[(Y=Y+-2|0)>>0]=ge,Y=Q-(st=Y)|0}if(cs(y,32,M,Y=Dr+1+j+Ce+Y|0,K),un(y,yr,Dr),cs(y,48,M,Y,65536^K),Ge){Ge=Ne=wr+9|0,ge=wr+8|0,Q=Ce=ne>>>0<Ye>>>0?ne:Ye;do if($=0|Ya(0|c[Q>>2],0,Ne),(0|Q)==(0|Ce))(0|$)==(0|Ne)&&(He[ge>>0]=48,$=ge);else if(wr>>>0<$>>>0)for(Ka(0|wr,48,$-Tr|0);wr>>>0<($=$+-1|0)>>>0;);while(un(y,$,Ge-$|0),(Q=Q+4|0)>>>0<=ne>>>0);if((8&K|0)==0&(1^ce)||un(y,2574,1),Q>>>0<pt>>>0&0<(0|j))for(;;){if(wr>>>0<($=0|Ya(0|c[Q>>2],0,Ne))>>>0)for(Ka(0|wr,48,$-Tr|0);wr>>>0<($=$+-1|0)>>>0;);if(un(y,$,(0|j)<9?j:9),$=j+-9|0,!((Q=Q+4|0)>>>0<pt>>>0&9<(0|j))){j=$;break}j=$}cs(y,48,j+9|0,9,0)}else{if(Ye>>>0<(ce=Le?pt:Ye+4|0)>>>0&-1<(0|j)){xe=(8&K|0)==0,Le=Ne=wr+9|0,ge=0-Tr|0,Ge=wr+8|0,Ce=Ye;do{(0|($=0|Ya(0|c[Ce>>2],0,Ne)))==(0|Ne)&&(He[Ge>>0]=48,$=Ge);do if((0|Ce)==(0|Ye)){if(Q=$+1|0,un(y,$,1),xe&(0|j)<1){$=Q;break}un(y,2574,1),$=Q}else{if($>>>0<=wr>>>0)break;for(Ka(0|wr,48,$+ge|0);wr>>>0<($=$+-1|0)>>>0;);}while(0)}while(un(y,$,(0|(Tr=Le-$|0))<(0|j)?Tr:j),(Ce=Ce+4|0)>>>0<ce>>>0&-1<(0|(j=j-Tr|0)))}cs(y,48,j+18|0,18,0),un(y,st,nr-st|0)}cs(y,32,M,Y,8192^K)}while(0);return _e=Rt,0|((0|Y)<(0|M)?M:Y)}function Uo(y,x,M){y|=0,x|=0,M|=0;var ce,K,D,ne,Y,j,$,Q,ge=0,Ce=0,Ge=_e;for(_e=_e+224|0,Y=Ge+208|0,$=Ge+80|0,Ce=(ge=Q=(j=Ge)+160|0)+40|0;(0|(ge=ge+4|(c[ge>>2]=0)))<(0|Ce););c[Y>>2]=c[M>>2],0<=(0|xo(0,x,Y,$,Q))&&(ne=32&(M=0|c[y>>2]),(0|He[y+74>>0])<1&&(c[y>>2]=-33&M),0|c[(Ce=y+48|0)>>2]?xo(y,x,Y,$,Q):(M=0|c[(ge=y+44|0)>>2],c[ge>>2]=j,c[(ce=y+28|0)>>2]=j,c[(D=y+20|0)>>2]=j,c[Ce>>2]=80,c[(K=y+16|0)>>2]=j+80,xo(y,x,Y,$,Q),0|M&&(Yd[3&c[y+36>>2]](y,0,0),c[ge>>2]=M,c[Ce>>2]=0,c[K>>2]=0,c[ce>>2]=0,c[D>>2]=0)),c[y>>2]=c[y>>2]|ne),_e=Ge}function xo(y,x,M,ce,K){y|=0,M|=0,ce|=0,K|=0;var D,ne,Y,j,$,Q,ge,Ce,Ge,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=_e;_e=_e+64|0,Q=wr+40|0,Ge=(ne=wr)+48|0,ge=wr+60|0,c[(Ce=wr+56|0)>>2]=x|=0,$=(0|y)!=0,j=D=ne+40|0,ne=ne+39|0,Y=4+Ge|0,xe=Te=x=0;e:for(;;){do{do if(-1<(0|x)){if((2147483647-x|0)<(0|Te)){c[922]=61,x=-1;break}x=Te+x|0;break}while(0);if(Ye=0|c[Ce>>2],!((Te=0|He[Ye>>0])<<24>>24)){nr=91;break e}Ne=Ye;t:for(;;){switch(Te<<24>>24){case 37:nr=10;break t;case 0:Te=Ne;break t}c[Ce>>2]=Dr=Ne+1|0,Te=0|He[Dr>>0],Ne=Dr}t:do if((0|nr)==10){nr=0,Te=Le=Ne;do if((0|He[Le+1>>0])!=37)break t;while(Te=Te+1|0,c[Ce>>2]=Le=Le+2|0,(0|He[Le>>0])==37)}while(0)}while(Te=Te-Ye|0,$&&un(y,Ye,Te),(0|Te)!=0);if(Le=0|c[Ce>>2],pt=0|Kl(Te=0|He[Le+1>>0])?(Ne=(pt=(0|He[Le+2>>0])==36)?3:1,Qt=pt?Te+-48|0:-1,pt?1:xe):(Qt=-(Ne=1),xe),c[Ce>>2]=Ne=Le+Ne|0,31<(Le=((Te=0|He[Ne>>0])<<24>>24)-32|0)>>>0|(1<<Le&75913|0)==0)st=0;else for(Te=0;;){if(xe=1<<Le|Te,c[Ce>>2]=Ne=Ne+1|0,31<(Le=((Te=0|He[Ne>>0])<<24>>24)-32|0)>>>0|(1<<Le&75913|0)==0){st=xe;break}Te=xe}if(Te<<24>>24==42){if(0|Kl(Te=0|He[(Le=Ne+1|0)>>0])&&(0|He[Ne+2>>0])==36)c[K+(Te+-48<<2)>>2]=10,xe=1,Te=Ne+3|0,Ne=0|c[ce+((0|He[Le>>0])-48<<3)>>2];else{if(0|pt){x=-1;break}$?(xe=3+(0|c[M>>2])&-4,Ne=0|c[xe>>2],c[M>>2]=xe+4,xe=0,Te=Le):(Te=Le,Ne=xe=0)}Le=c[Ce>>2]=Te,Tt=(yr=(0|Ne)<0)?8192|st:st,Dr=xe,yr=yr?0-Ne|0:Ne}else{if((0|(Te=0|Xa(Ce)))<0){x=-1;break}Le=0|c[Ce>>2],Tt=st,Dr=pt,yr=Te}do if((0|He[Le>>0])==46){if((0|He[(Te=Le+1|0)>>0])!=42){c[Ce>>2]=Te,st=0|Xa(Ce),Te=0|c[Ce>>2];break}if(0|Kl(Ne=0|He[(Te=Le+2|0)>>0])&&(0|He[Le+3>>0])==36){c[K+(Ne+-48<<2)>>2]=10,st=0|c[ce+((0|He[Te>>0])-48<<3)>>2],c[Ce>>2]=Te=Le+4|0;break}if(0|Dr){x=-1;break e}$?(pt=3+(0|c[M>>2])&-4,Ne=0|c[pt>>2],c[M>>2]=pt+4):Ne=0,c[Ce>>2]=Te,st=Ne}else Te=Le,st=-1;while(0);for(pt=0;;){if(57<((0|He[Te>>0])-65|0)>>>0){x=-1;break e}if(c[Ce>>2]=Ne=Te+1|0,!(((xe=255&(Le=0|He[(0|He[Te>>0])-65+(16+(58*pt|0))>>0]))+-1|0)>>>0<8))break;Te=Ne,pt=xe}if(!(Le<<24>>24)){x=-1;break}Ne=-1<(0|Qt);do if(Le<<24>>24==19){if(Ne){x=-1;break e}nr=52}else{if(Ne){c[K+(Qt<<2)>>2]=xe,Qt=0|c[(xe=ce+(Qt<<3)|0)+4>>2],c[(nr=Q)>>2]=c[xe>>2],c[nr+4>>2]=Qt,nr=52;break}if(!$){x=0;break e}Tl(Q,xe,M),nr=53}while(0);(0|nr)==52&&(nr=0,$?nr=53:Te=0);t:do if((0|nr)==53){Le=(nr=0)!=(0|pt)&(15&(Le=0|He[Te>>0])|0)==3?-33&Le:Le,Te=-65537&Tt,Qt=8192&Tt|0?Te:Tt;r:do switch(0|Le){case 110:switch((255&pt)<<24>>24){case 0:case 1:c[c[Q>>2]>>2]=x,Te=0;break t;case 2:Te=0|c[Q>>2],c[Te>>2]=x,c[Te+4>>2]=((0|x)<0)<<31>>31,Te=0;break t;case 3:Ar[c[Q>>2]>>1]=x,Te=0;break t;case 4:He[c[Q>>2]>>0]=x,Te=0;break t;case 6:c[c[Q>>2]>>2]=x,Te=0;break t;case 7:Te=0|c[Q>>2],c[Te>>2]=x,c[Te+4>>2]=((0|x)<0)<<31>>31,Te=0;break t;default:Te=0;break t}case 112:Te=8|Qt,Ne=8<st>>>0?st:8,xe=120,nr=65;break;case 88:case 120:Te=Qt,Ne=st,xe=Le,nr=65;break;case 111:st=(8&(Te=Qt)|0)==0|(0|(Le=j-(pt=0|function(Rt,mr,Pr){if(Pr|=0,!((0|(Rt|=0))==0&(0|(mr|=0))==0))for(;He[(Pr=Pr+-1|0)>>0]=7&Rt|48,Rt=0|Qm(0|Rt,0|mr,3),mr=0|at(),!((0|Rt)==0&(0|mr)==0););return 0|Pr}(Ye=0|c[(Tt=Q)>>2],Tt=0|c[Tt+4>>2],D))|0))<(0|st)?st:Le+1|0,Le=0,Ne=2522,nr=71;break;case 105:case 100:if(Te=0|c[(Ne=Q)>>2],(0|(Ne=0|c[Ne+4>>2]))<0){Te=0|Zs(0,0,0|Te,0|Ne),Ne=0|at(),c[(Le=Q)>>2]=Te,c[Le+4>>2]=Ne,Le=1,xe=2522,nr=70;break r}Le=(2049&Qt|0)!=0&1,xe=2048&Qt|0?2523:1&Qt|0?2524:2522,nr=70;break r;case 117:Te=0|c[(Ne=Q)>>2],Ne=0|c[Ne+4>>2],Le=0,xe=2522,nr=70;break;case 99:He[ne>>0]=c[Q>>2],Ye=ne,pt=Te,xe=1,Le=0,Ne=2522,Te=j;break;case 115:Ye=Tt=0|(Tt=0|c[Q>>2])?Tt:2532,pt=Te,xe=(Tr=(0|(Qt=0|function(Rt,mr){Rt|=0;var Pr=0,vr=0;Pr=(0|(mr|=0))!=0;n:do if(Pr&(3&Rt|0)!=0)for(;;){if(!(0|He[Rt>>0]))break n;if(!((Pr=(0|(mr=mr+-1|0))!=0)&(3&(Rt=Rt+1|0)|0)!=0)){vr=5;break}}else vr=5;while(0);n:do if((0|vr)==5){do if(Pr){if(!(0|He[Rt>>0])){if(mr)break n;break}i:do if(3<mr>>>0)for(;;){if((-2139062144&(Pr=0|c[Rt>>2])^-2139062144)&Pr+-16843009|0)break i;if(Rt=Rt+4|0,(mr=mr+-4|0)>>>0<=3){vr=11;break}}else vr=11;while(0);if((0|vr)==11&&!mr)break;for(;;){if(!(0|He[Rt>>0]))break n;if(!(mr=mr+-1|0))break;Rt=Rt+1|0}}while(0);Rt=0}while(0);return 0|Rt}(Tt,st)))==0)?st:Qt-Tt|0,Le=0,Ne=2522,Te=Tr?Tt+st|0:Qt;break;case 67:c[Ge>>2]=c[Q>>2],c[Y>>2]=0,Le=c[Q>>2]=Ge,st=-1,nr=78;break;case 83:if(st){Le=0|c[Q>>2],nr=78;break r}cs(y,32,yr,0,Qt),Te=0,nr=88;break r;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:Te=0|bo(y,+w[Q>>3],yr,st,Qt,Le);break t;default:pt=Qt,xe=st,Le=0,Ne=2522,Te=j}while(0);r:do if((0|nr)==65)pt=0|Km(Ye=0|c[(Tt=Q)>>2],Tt=0|c[Tt+4>>2],D,32&xe),st=Ne,Le=(Tr=(8&Te|0)==0|(0|Ye)==0&(0|Tt)==0)?0:2,Ne=Tr?2522:2522+(xe>>>4)|0,nr=71;else if((0|nr)==70)pt=0|Ya(Ye=Te,Tt=Ne,D),Te=Qt,Ne=xe,nr=71;else if((0|nr)==78){for(Te=nr=0,pt=Le;Ne=0|c[pt>>2];){if((xe=(0|(Ne=0|Np(ge,Ne)))<0)|(st-Te|0)>>>0<Ne>>>0){nr=82;break}if(!((Te=Ne+Te|0)>>>0<st>>>0))break;pt=pt+4|0}if((0|nr)==82&&(nr=0,xe)){x=-1;break e}if(cs(y,32,yr,Te,Qt),Te)for(xe=0;;){if(!(Ne=0|c[Le>>2])){nr=88;break r}if((0|Te)<(0|(xe=(Ne=0|Np(ge,Ne))+xe|0))){nr=88;break r}if(un(y,ge,Ne),Te>>>0<=xe>>>0){nr=88;break}Le=Le+4|0}else Te=0,nr=88}while(0);if((0|nr)==71)Tr=(nr=0)!=(0|st)|(xe=(0|Ye)!=0|(0|Tt)!=0),xe=j-pt+(1&(1^xe))|0,Ye=Tr?pt:D,pt=-1<(0|st)?-65537&Te:Te,xe=Tr?(0|xe)<(0|st)?st:xe:0,Te=j;else if((0|nr)==88){nr=0,cs(y,32,yr,Te,8192^Qt),Te=(0|Te)<(0|yr)?yr:Te;break}cs(y,32,Te=(0|yr)<(0|(Tr=(Tt=(0|xe)<(0|(Qt=Te-Ye|0))?Qt:xe)+Le|0))?Tr:yr,Tr,pt),un(y,Ne,Le),cs(y,48,Te,Tr,65536^pt),cs(y,48,Tt,Qt,0),un(y,Ye,Qt),cs(y,32,Te,Tr,8192^pt)}while(0);xe=Dr}e:do if((0|nr)==91&&!y)if(xe){for(x=1;Te=0|c[K+(x<<2)>>2];)if(Tl(ce+(x<<3)|0,Te,M),10<=(x=x+1|0)>>>0){x=1;break e}for(Te=0;;){if(x=x+1|0,0|Te){x=-1;break e}if(10<=x>>>0){x=1;break e}Te=0|c[K+(x<<2)>>2]}}else x=0;while(0);return _e=wr,0|x}function un(y,x,M){x|=0,M|=0,32&c[(y|=0)>>2]||Zm(x,M,y)}function Kl(y){return((y|=0)+-48|0)>>>0<10|0}function Xa(y){var x=0,ce=0,M=0,ce=0|c[(y|=0)>>2];if(0|Kl((x=0|He[ce>>0])<<24>>24))for(M=x,x=0;x=(10*x|0)-48+(M<<24>>24)|0,c[y>>2]=ce=ce+1|0,(0|Kl((M=0|He[ce>>0])<<24>>24))!=0;);else x=0;return 0|x}function Tl(y,x,M){y|=0,x|=0,M|=0;var ce,K=0,D=0;e:do if(x>>>0<=20)switch(0|x){case 9:K=3+(0|c[M>>2])&-4,x=0|c[K>>2],c[M>>2]=K+4,c[y>>2]=x;break e;case 10:K=3+(0|c[M>>2])&-4,x=0|c[K>>2],c[M>>2]=K+4,c[(K=y)>>2]=x,c[K+4>>2]=((0|x)<0)<<31>>31;break e;case 11:K=3+(0|c[M>>2])&-4,x=0|c[K>>2],c[M>>2]=K+4,c[(K=y)>>2]=x,c[K+4>>2]=0;break e;case 12:K=7+(0|c[M>>2])&-8,D=0|c[(x=K)>>2],x=0|c[x+4>>2],c[M>>2]=K+8,c[(K=y)>>2]=D,c[K+4>>2]=x;break e;case 13:D=3+(0|c[M>>2])&-4,K=0|c[D>>2],c[M>>2]=D+4,c[(D=y)>>2]=K=(65535&K)<<16>>16,c[D+4>>2]=((0|K)<0)<<31>>31;break e;case 14:D=3+(0|c[M>>2])&-4,K=0|c[D>>2],c[M>>2]=D+4,c[(D=y)>>2]=65535&K,c[D+4>>2]=0;break e;case 15:D=3+(0|c[M>>2])&-4,K=0|c[D>>2],c[M>>2]=D+4,c[(D=y)>>2]=K=(255&K)<<24>>24,c[D+4>>2]=((0|K)<0)<<31>>31;break e;case 16:D=3+(0|c[M>>2])&-4,K=0|c[D>>2],c[M>>2]=D+4,c[(D=y)>>2]=255&K,c[D+4>>2]=0;break e;case 17:D=7+(0|c[M>>2])&-8,ce=+w[D>>3],c[M>>2]=D+8,w[y>>3]=ce;break e;case 18:(function(ne,Y){ne|=0;var j=7+(0|c[(Y|=0)>>2])&-8,$=+w[j>>3];c[Y>>2]=8+j,w[ne>>3]=$})(y,M);break e;default:break e}while(0)}function Km(y,x,M,ce){if(M|=0,ce|=0,!((0|(y|=0))==0&(0|(x|=0))==0))for(;He[(M=M+-1|0)>>0]=0|$t[480+(15&y)>>0]|ce,!((0|(y=0|Qm(0|y,0|x,4)))==0&(0|(x=0|at()))==0););return 0|M}function Ya(y,x,M){M|=0;var ce,K=0,D=0;if(0<(x|=0)>>>0|(0|x)==0&4294967295<(y|=0)>>>0)for(;D=0|qu(0|(ce=y),0|(K=x),0|(D=0|Uc(0|(y=0|Vc(0|y,0|x,10,0)),0|(x=0|at()),-10,-1)),0|at()),at(),He[(M=M+-1|0)>>0]=255&D|48,9<K>>>0|(0|K)==9&4294967295<ce>>>0;);if(y)for(;K=255&((D=y)+(0|De(y=(y>>>0)/10|0,-10))|48),He[(M=M+-1|0)>>0]=K,10<=D>>>0;);return 0|M}function cs(y,x,M,ce,K){y|=0,x|=0;var D,ne=_e;if(_e=_e+256|0,D=ne,(0|(ce|=0))<(0|(M|=0))&(73728&(K|=0)|0)==0){if(Ka(0|D,x<<24>>24|0,0|((K=M-ce|0)>>>0<256?K:256)),255<K>>>0){for(ce=K;un(y,D,256),255<(ce=ce+-256|0)>>>0;);K&=255}un(y,D,K)}_e=ne}function Np(y,x){return x|=0,0|(y=(y|=0)?0|Bp(y,x):0)}function Bp(y,x){y|=0,x|=0;do if(y){if(x>>>0<128){He[y>>0]=x,y=1;break}if(!(0|c[916])){if((-128&x|0)==57216){He[y>>0]=x,y=1;break}c[922]=25,y=-1;break}if(x>>>0<2048){He[y>>0]=x>>>6|192,He[y+1>>0]=63&x|128,y=2;break}if(x>>>0<55296|(-8192&x|0)==57344){He[y>>0]=x>>>12|224,He[y+1>>0]=x>>>6&63|128,He[y+2>>0]=63&x|128,y=3;break}if((x+-65536|0)>>>0<1048576){He[y>>0]=x>>>18|240,He[y+1>>0]=x>>>12&63|128,He[y+2>>0]=x>>>6&63|128,He[y+3>>0]=63&x|128,y=4;break}c[922]=25,y=-1;break}while(y=1,0);return 0|y}function Zm(y,x,M){y|=0,x|=0;var ce,K=0,D=0,ne=0;(K=0|c[(D=(M|=0)+16|0)>>2])?ne=5:0|function(Y){var j=0,$=0;return $=0|He[(j=74+(Y|=0)|0)>>0],He[j>>0]=255+$|$,j=8&(j=0|c[Y>>2])?(c[Y>>2]=32|j,-1):(c[Y+8>>2]=0,c[Y+4>>2]=0,j=0|c[Y+44>>2],c[Y+28>>2]=j,c[Y+20>>2]=j,c[Y+16>>2]=j+(0|c[Y+48>>2]),0),0|j}(M)||(K=0|c[D>>2],ne=5);e:do if((0|ne)==5){if((K-(D=ne=0|c[(ce=M+20|0)>>2])|0)>>>0<x>>>0){Yd[3&c[M+36>>2]](M,y,x);break}t:do if((0|He[M+75>>0])<0|(0|x)==0)K=x;else{for(ne=x;(0|He[y+(K=ne+-1|0)>>0])!=10;){if(!K){K=x;break t}ne=K}if((0|Yd[3&c[M+36>>2]](M,y,ne))>>>0<ne>>>0)break e;D=0|c[ce>>2],K=x-ne|0,y=y+ne|0}while(0);Cl(0|D,0|y,0|K),c[ce>>2]=(0|c[ce>>2])+K}while(0)}function uh(y){return w[k>>3]=y=+y,y=0|c[k>>2],it(0|c[k+4>>2]),0|y}function Up(y,x){x|=0;var M,ce,K=0;switch(w[k>>3]=y=+y,ce=0|Qm(0|(K=0|c[k>>2]),0|(M=0|c[k+4>>2]),52),at(),2047&ce){case 0:K=y!=0?(y=+Up(18446744073709552e3*y,x),(0|c[x>>2])-64|0):0,c[x>>2]=K;break;case 2047:break;default:c[x>>2]=(2047&ce)-1022,c[k>>2]=K,c[k+4>>2]=-2146435073&M|1071644672,y=+w[k>>3]}return+y}function Nc(y){var x,K=0,M=0,ce=0,K=0|He[(y|=0)>>0];e:do if(K<<24>>24)for(M=y,ce=4,y=1033;;){if(!(K<<24>>24==(x=0|He[y>>0])<<24>>24&(0|(ce=ce+-1|0))!=0&x<<24>>24!=0))break e;if(y=y+1|0,!((K=0|He[(M=M+1|0)>>0])<<24>>24)){K=0;break}}else K=0,y=1033;while(0);return(255&K)-(0|$t[y>>0])|0}function Zl(y,x,M){x|=0,M|=0;var ce,K,D,ne=0,Y=0,j=_e;_e=_e+240|0,c[(D=j)>>2]=y|=0;e:do if(1<(0|x))for(Y=ne=y,y=1;;){if(-1<(0|zr(ne,ce=(Y=Y+-4|0)+(0-(0|c[M+((K=x+-2|0)<<2)>>2]))|0))&&-1<(0|zr(ne,Y))||(ne=D+(y<<2)|0,y=y+1|0,(0|(x=-1<(0|zr(ce,Y))?(Y=c[ne>>2]=ce,x+-1|0):(c[ne>>2]=Y,K)))<=1))break e;ne=0|c[D>>2]}else y=1;while(0);Vp(D,y),_e=j}function Bc(y,x){var M=0,ce=0,K=(y|=0)+4|0;31<(x|=0)>>>0?(M=0|c[K>>2],c[y>>2]=M,x=x+-32|(ce=c[K>>2]=0)):(M=0|c[y>>2],ce=0|c[K>>2]),c[y>>2]=ce<<32-x|(x?M>>>x:M),c[K>>2]=x?ce>>>x:ce}function Gd(y,x,M,ce,K,D){y|=0,M|=0,ce|=0,K|=0,D|=0;var ne,Y,j,$=0,Q=0,ge=_e;_e=_e+240|0,c[(Y=(j=ge)+232|0)>>2]=x|=0,c[(ne=4+Y|0)>>2]=M,c[j>>2]=y;e:do if((0|x)!=1|(0|M)!=0&&($=y+(0-(0|c[D+(ce<<2)>>2]))|0,1<=(0|zr($,y))))for(x=$,Q=1,$=(0|K)==0;;){if($&1<(0|ce)){if(-1<(0|zr($=y+-4|0,x))){x=y,$=Q,M=10;break e}if(-1<(0|zr($+(0-(0|c[D+(ce+-2<<2)>>2]))|0,x))){x=y,$=Q,M=10;break e}}if(M=Q+1|0,c[j+(Q<<2)>>2]=x,Bc(Y,K=0|ch(Y)),ce=K+ce|0,!((0|c[Y>>2])!=1|(0|c[ne>>2])!=0)){$=M,M=10;break e}if((0|zr($=x+(0-(0|c[D+(ce<<2)>>2]))|0,0|c[j>>2]))<1){$=M,M=10;break}y=x,x=$,Q=M,$=1}else M=9;while(0);(0|M)==9&&!(0|K)&&(x=y,$=1,M=10),(0|M)==10&&(Vp(j,$),Zl(x,ce,D)),_e=ge}function Wd(y,x){var M=0,ce=0,K=(y|=0)+4|0;31<(x|=0)>>>0?(M=0|c[y>>2],c[K>>2]=M,x=x+-32|(ce=c[y>>2]=0)):(M=0|c[K>>2],ce=0|c[y>>2]),c[K>>2]=((K=32-x|0)?ce>>>K:ce)|M<<x,c[y>>2]=ce<<x}function ch(y){var x;return(x=0|dh((0|c[(y|=0)>>2])-1|0))?0|x:0|(0|(y=0|dh(0|c[y+4>>2]))?y+32|0:0)}function dh(y){var x=0;if(y|=0)if(1&y)x=0;else for(x=0;x=x+1|0,!(2&y);)y>>>=1;else x=32;return 0|x}function Vp(y,x){y|=0;var M,ce=0,K=_e;if(_e=_e+256|0,ce=K,2<=(0|(x|=0)))for(Cl(0|(c[y+(x<<2)>>2]=ce),0|c[y>>2],4),ce=0;Cl(0|c[(M=y+(ce<<2)|0)>>2],0|c[y+((ce=ce+1|0)<<2)>>2],4),c[M>>2]=4+(0|c[M>>2]),(0|ce)!=(0|x););_e=K}function Ql(y){y|=0;var x=0,M=0,ce=0,K=0,D=0,ne=0,Y=0,j=0,$=0,Q=0,ge=0,Ce=0,Ge=0,Te=0,Ne=0,Le=0,xe=0,st=0,pt=0,Ye=0,Tt=_e;_e=_e+16|0,Ce=Tt;do if(y>>>0<245){if(ge=0|c[923],3&(M=(y=($=y>>>0<11?16:y+11&-8)>>>3)?ge>>>y:ge)|0)return y=0|c[(x=(K=3732+((ce=(1&M^1)+y|0)<<1<<2)|0)+8|0)>>2],(0|(M=0|c[(D=y+8|0)>>2]))==(0|K)?c[923]=ge&~(1<<ce):(c[M+12>>2]=K,c[x>>2]=M),c[y+4>>2]=3|(Ye=ce<<3),c[(Ye=y+Ye+4|0)>>2]=1|c[Ye>>2],_e=Tt,0|(Ye=D);if((Q=0|c[925])>>>0<$>>>0){if(0|M)return D=0|c[(x=(M=3732+((ce=((y=(ce=(Y=(ce=((ce=M<<y&((ce=2<<y)|0-ce))&0-ce)-1|0)>>>12&16)?ce>>>Y:ce)>>>5&8)|Y|(D=(ce=y?ce>>>y:ce)>>>2&4)|(x=(ce=D?ce>>>D:ce)>>>1&2)|(M=(ce=x?ce>>>x:ce)>>>1&1))+(M?ce>>>M:ce)|0)<<1<<2)|0)+8|0)>>2],(0|(y=0|c[(Y=D+8|0)>>2]))==(0|M)?c[923]=y=ge&~(1<<ce):(c[y+12>>2]=M,c[x>>2]=y,y=ge),ne=(Ye=ce<<3)-$|0,c[D+4>>2]=3|$,c[(K=D+$|0)+4>>2]=1|ne,c[D+Ye>>2]=ne,0|Q&&(ce=0|c[928],M=3732+((x=Q>>>3)<<1<<2)|0,y=y&(x=1<<x)?0|c[(x=y=M+8|0)>>2]:(c[923]=y|x,x=M+8|0,M),c[x>>2]=ce,c[y+12>>2]=ce,c[ce+8>>2]=y,c[ce+12>>2]=M),c[925]=ne,c[928]=K,_e=Tt,0|(Ye=Y);if(D=0|c[924]){for(j=0|c[3996+(((ce=(j=(K=(j=(D&0-D)-1|0)>>>12&16)?j>>>K:j)>>>5&8)|K|(ne=(j=ce?j>>>ce:j)>>>2&4)|(M=(j=ne?j>>>ne:j)>>>1&2)|(Y=(j=M?j>>>M:j)>>>1&1))+(Y?j>>>Y:j)<<2)>>2],Y=(-8&c[j+4>>2])-$|0,M=j;!(!(y=0|c[M+16>>2])&&!(y=0|c[M+20>>2]));)Y=(ne=(M=(-8&c[y+4>>2])-$|0)>>>0<Y>>>0)?M:Y,M=y,j=ne?y:j;if(j>>>0<(ne=j+$|0)>>>0){K=0|c[j+24>>2],x=0|c[j+12>>2];do if((0|x)==(0|j)){if(!(x=0|c[(y=j+20|0)>>2])&&!(x=0|c[(y=j+16|0)>>2])){M=0;break}for(;;)if(M=0|c[(ce=x+20|0)>>2])x=M,y=ce;else{if(!(M=0|c[(ce=x+16|0)>>2]))break;x=M,y=ce}c[y>>2]=0,M=x}else M=0|c[j+8>>2],c[M+12>>2]=x,c[x+8>>2]=M,M=x;while(0);do if(0|K){if(x=0|c[j+28>>2],(0|j)==(0|c[(y=3996+(x<<2)|0)>>2])){if(!(c[y>>2]=M)){c[924]=D&~(1<<x);break}}else if(!(c[((0|c[(Ye=K+16|0)>>2])==(0|j)?Ye:K+20|0)>>2]=M))break;c[M+24>>2]=K,0|(x=0|c[j+16>>2])&&(c[M+16>>2]=x,c[x+24>>2]=M),0|(x=0|c[j+20>>2])&&(c[M+20>>2]=x,c[x+24>>2]=M)}while(0);return Y>>>0<16?(c[j+4>>2]=3|(Ye=Y+$|0),c[(Ye=j+Ye+4|0)>>2]=1|c[Ye>>2]):(c[j+4>>2]=3|$,c[ne+4>>2]=1|Y,c[ne+Y>>2]=Y,0|Q&&(ce=0|c[928],M=3732+((x=Q>>>3)<<1<<2)|0,y=(x=1<<x)&ge?0|c[(x=y=M+8|0)>>2]:(c[923]=x|ge,x=M+8|0,M),c[x>>2]=ce,c[y+12>>2]=ce,c[ce+8>>2]=y,c[ce+12>>2]=M),c[925]=Y,c[928]=ne),_e=Tt,0|(Ye=j+8|0)}ge=$}else ge=$}else ge=$}else if(y>>>0<=4294967231)if($=-8&(y=y+11|0),ce=0|c[924]){M=0-$|0,j=(y>>>=8)?16777215<$>>>0?31:1&((Le=(j=14-((Y=(Y=(j=y<<(ge=(ge=y+1048320|0)>>>16&8))+520192|0)>>>16&4)|ge|(Le=(Le=(j<<=Y)+245760|0)>>>16&2))+((j<<=Le)>>>15)|0)+7|0)?$>>>Le:$)|j<<1:0,y=0|c[3996+(j<<2)>>2];e:do if(y)for(ne=$<<(((K=0)|j)==31?0:25-(j>>>1)|0),Y=y,y=0;;){if((D=(-8&c[Y+4>>2])-$|0)>>>0<M>>>0){if(!D){M=0,y=K=Y,Le=65;break e}M=D,y=Y}if(K=(0|(Le=0|c[Y+20>>2]))==0|(0|Le)==(0|(Y=0|c[Y+16+(ne>>>31<<2)>>2]))?K:Le,!Y){Le=61;break}ne<<=1}else y=K=0,Le=61;while(0);if((0|Le)==61){if((0|K)==0&(0|y)==0){if(!(y=((y=2<<j)|0-y)&ce)){ge=$;break}K=0|c[3996+(((ne=(K=(Y=(K=(y&0-y)-1|0)>>>12&16)?K>>>Y:K)>>>5&8)|Y|(j=(K=ne?K>>>ne:K)>>>2&4)|(ge=(K=j?K>>>j:K)>>>1&2)|(y=(K=ge?K>>>ge:K)>>>1&1))+(y?K>>>y:K)<<2)>>2],y=0}K?Le=65:(Y=M,D=y)}if((0|Le)==65)for(;;){if(M=(D=(ge=(-8&c[K+4>>2])-$|0)>>>0<M>>>0)?ge:M,D=D?K:y,!(y=(y=0|c[K+16>>2])||0|c[K+20>>2])){Y=M;break}K=y,y=D}if(0|D&&Y>>>0<((0|c[925])-$|0)>>>0&&D>>>0<(Q=D+$|0)>>>0){ne=0|c[D+24>>2],x=0|c[D+12>>2];do if((0|x)==(0|D)){if(!(x=0|c[(y=D+20|0)>>2])&&!(x=0|c[(y=D+16|0)>>2])){x=0;break}for(;;)if(M=0|c[(K=x+20|0)>>2])x=M,y=K;else{if(!(M=0|c[(K=x+16|0)>>2]))break;x=M,y=K}c[y>>2]=0}else Ye=0|c[D+8>>2],c[Ye+12>>2]=x,c[x+8>>2]=Ye;while(0);do if(ne){if(y=0|c[D+28>>2],(0|D)==(0|c[(M=3996+(y<<2)|0)>>2])){if(!(c[M>>2]=x)){ce&=~(1<<y),c[924]=ce;break}}else if(!(c[((0|c[(Ye=ne+16|0)>>2])==(0|D)?Ye:ne+20|0)>>2]=x))break;c[x+24>>2]=ne,0|(y=0|c[D+16>>2])&&(c[x+16>>2]=y,c[y+24>>2]=x),(y=0|c[D+20>>2])&&(c[x+20>>2]=y,c[y+24>>2]=x)}while(0);e:do if(Y>>>0<16)c[D+4>>2]=3|(Ye=Y+$|0),c[(Ye=D+Ye+4|0)>>2]=1|c[Ye>>2];else{if(c[D+4>>2]=3|$,c[Q+4>>2]=1|Y,x=(c[Q+Y>>2]=Y)>>>3,Y>>>0<256){M=3732+(x<<1<<2)|0,y=(y=0|c[923])&(x=1<<x)?0|c[(x=y=M+8|0)>>2]:(c[923]=y|x,x=M+8|0,M),c[x>>2]=Q,c[y+12>>2]=Q,c[Q+8>>2]=y,c[Q+12>>2]=M;break}if(x=3996+((M=(x=Y>>>8)?16777215<Y>>>0?31:1&((Ye=(M=14-((st=(st=(M=x<<(pt=(pt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|pt|(Ye=(Ye=(M<<=st)+245760|0)>>>16&2))+((M<<=Ye)>>>15)|0)+7|0)?Y>>>Ye:Y)|M<<1:0)<<2)|0,c[Q+28>>2]=M,c[(y=Q+16|0)+4>>2]=0,c[y>>2]=0,!(ce&(y=1<<M))){c[924]=ce|y,c[x>>2]=Q,c[Q+24>>2]=x,c[Q+12>>2]=Q,c[Q+8>>2]=Q;break}x=0|c[x>>2];t:do if((-8&c[x+4>>2]|0)!=(0|Y)){for(ce=Y<<((0|M)==31?0:25-(M>>>1)|0);y=0|c[(M=x+16+(ce>>>31<<2)|0)>>2];){if((-8&c[y+4>>2]|0)==(0|Y)){x=y;break t}ce<<=1,x=y}c[M>>2]=Q,c[Q+24>>2]=x,c[Q+12>>2]=Q,c[Q+8>>2]=Q;break e}while(0);Ye=0|c[(pt=x+8|0)>>2],c[Ye+12>>2]=Q,c[pt>>2]=Q,c[Q+8>>2]=Ye,c[Q+12>>2]=x,c[Q+24>>2]=0}while(0);return _e=Tt,0|(Ye=D+8|0)}ge=$}else ge=$;else ge=-1;while(0);if(ge>>>0<=(M=0|c[925])>>>0)return x=0|c[928],15<(y=M-ge|0)>>>0?(c[928]=Ye=x+ge|0,c[925]=y,c[Ye+4>>2]=1|y,c[x+M>>2]=y,c[x+4>>2]=3|ge):(c[925]=0,c[928]=0,c[x+4>>2]=3|M,c[(Ye=x+M+4|0)>>2]=1|c[Ye>>2]),_e=Tt,0|(Ye=x+8|0);if(ge>>>0<(ne=0|c[926])>>>0)return c[926]=st=ne-ge|0,Ye=0|c[929],c[929]=pt=Ye+ge|0,c[pt+4>>2]=1|st,c[Ye+4>>2]=3|ge,_e=Tt,0|(Ye=Ye+8|0);if(Y=ge+48|0,($=(D=(y=0|c[1041]?0|c[1043]:(c[1043]=4096,c[1042]=4096,c[1044]=-1,c[1045]=-1,c[1046]=0,c[1034]=0,c[1041]=-16&Ce^1431655768,4096))+(j=ge+47|0)|0)&(ce=0-y|0))>>>0<=ge>>>0||0|(y=0|c[1033])&&(Ce=(Q=0|c[1031])+$|0)>>>0<=Q>>>0|y>>>0<Ce>>>0)return _e=Tt,(Ye=0)|Ye;e:do if(4&c[1034])x=0,Le=143;else{M=0|c[929];t:do if(M){for(K=4140;!((y=0|c[K>>2])>>>0<=M>>>0&&(y+(0|c[(Ne=K+4|0)>>2])|0)>>>0>M>>>0);){if(!(y=0|c[K+8>>2])){Le=128;break t}K=y}if((x=D-ne&ce)>>>0<2147483647)if((0|(y=0|Jl(x)))==((0|c[K>>2])+(0|c[Ne>>2])|0)){if((0|y)!=-1){ne=y,D=x,Le=145;break e}}else ce=y,Le=136;else x=0}else Le=128;while(0);do if((0|Le)==128)if((0|(M=0|Jl(0)))!=-1&&(x=M,Te=(x=((Te=(Ge=0|c[1042])+-1|0)&x|0?(Te+x&0-Ge)-x|0:0)+$|0)+(Ge=0|c[1031])|0,ge>>>0<x>>>0&x>>>0<2147483647)){if(0|(Ne=0|c[1033])&&Te>>>0<=Ge>>>0|Ne>>>0<Te>>>0){x=0;break}if((0|(y=0|Jl(x)))==(0|M)){ne=M,D=x,Le=145;break e}ce=y,Le=136}else x=0;while(0);do if((0|Le)==136){if(M=0-x|0,!(x>>>0<Y>>>0&x>>>0<2147483647&(0|ce)!=-1)){if((0|ce)==-1){x=0;break}ne=ce,D=x,Le=145;break e}if(2147483647<=(y=j-x+(y=0|c[1043])&0-y)>>>0){ne=ce,D=x,Le=145;break e}if((0|Jl(y))==-1){Jl(M),x=0;break}ne=ce,D=y+x|0,Le=145;break e}while(0);c[1034]=4|c[1034],Le=143}while(0);if((0|Le)==143&&$>>>0<2147483647&&!((0|(xe=0|Jl($)))==-1|1^(st=(ge+40|0)>>>0<(pt=(Ne=0|Jl(0))-xe|0)>>>0)|xe>>>0<Ne>>>0&(0|xe)!=-1&(0|Ne)!=-1^1)&&(ne=xe,D=st?pt:x,Le=145),(0|Le)==145){x=(0|c[1031])+D|0,(c[1031]=x)>>>0>(0|c[1032])>>>0&&(c[1032]=x),j=0|c[929];e:do if(j){for(K=4140;;){if((0|ne)==((x=0|c[K>>2])+(y=0|c[(ce=K+4|0)>>2])|0)){Le=154;break}if(!(M=0|c[K+8>>2]))break;K=M}if((0|Le)==154&&!(8&c[K+12>>2]|0)&&j>>>0<ne>>>0&x>>>0<=j>>>0){c[ce>>2]=y+D,pt=j+(st=7&(st=j+8|0)|0?0-st&7:0)|0,st=(Ye=(0|c[926])+D|0)-st|0,c[929]=pt,c[926]=st,c[pt+4>>2]=1|st,c[j+Ye+4>>2]=40,c[930]=c[1045];break}for(ne>>>0<(0|c[927])>>>0&&(c[927]=ne),M=ne+D|0,y=4140;;){if((0|c[y>>2])==(0|M)){Le=162;break}if(!(x=0|c[y+8>>2]))break;y=x}if((0|Le)==162&&!(8&c[y+12>>2]|0)){c[y>>2]=ne,c[(Q=y+4|0)>>2]=(0|c[Q>>2])+D,$=(Q=ne+(7&(Q=ne+8|0)|0?0-Q&7:0)|0)+ge|0,Y=(x=M+(7&(x=M+8|0)|0?0-x&7:0)|0)-Q-ge|0,c[Q+4>>2]=3|ge;t:do if((0|j)==(0|x))Ye=(0|c[926])+Y|0,c[926]=Ye,c[929]=$,c[$+4>>2]=1|Ye;else{if((0|c[928])==(0|x)){Ye=(0|c[925])+Y|0,c[925]=Ye,c[928]=$,c[$+4>>2]=1|Ye,c[$+Ye>>2]=Ye;break}if((3&(y=0|c[x+4>>2])|0)==1){ne=-8&y,ce=y>>>3;r:do{if(y>>>0<256){if(y=0|c[x+8>>2],(0|(M=0|c[x+12>>2]))==(0|y)){c[923]=c[923]&~(1<<ce);break}c[y+12>>2]=M,c[M+8>>2]=y;break}D=0|c[x+24>>2],y=0|c[x+12>>2];do if((0|y)==(0|x)){if(!(y=0|c[(M=(ce=x+16|0)+4|0)>>2])){if(!(y=0|c[ce>>2])){y=0;break}M=ce}for(;;)if(ce=0|c[(K=y+20|0)>>2])y=ce,M=K;else{if(!(ce=0|c[(K=y+16|0)>>2]))break;y=ce,M=K}c[M>>2]=0}else Ye=0|c[x+8>>2],c[Ye+12>>2]=y,c[y+8>>2]=Ye;while(0);if(!D)break;ce=3996+((M=0|c[x+28>>2])<<2)|0;do{if((0|c[ce>>2])==(0|x)){if(0|(c[ce>>2]=y))break;c[924]=c[924]&~(1<<M);break r}if(!(c[((0|c[(Ye=D+16|0)>>2])==(0|x)?Ye:D+20|0)>>2]=y))break r}while(0)}while(c[y+24>>2]=D,0|(M=0|c[(ce=x+16|0)>>2])&&(c[y+16>>2]=M,c[M+24>>2]=y),(M=0|c[ce+4>>2])&&(c[y+20>>2]=M,c[M+24>>2]=y,0));x=x+ne|0,K=ne+Y|0}else K=Y;if(c[(x=x+4|0)>>2]=-2&c[x>>2],c[$+4>>2]=1|K,x=(c[$+K>>2]=K)>>>3,K>>>0<256){M=3732+(x<<1<<2)|0,y=(y=0|c[923])&(x=1<<x)?0|c[(x=y=M+8|0)>>2]:(c[923]=y|x,x=M+8|0,M),c[x>>2]=$,c[y+12>>2]=$,c[$+8>>2]=y,c[$+12>>2]=M;break}x=K>>>8;do if(x){if(16777215<K>>>0){ce=31;break}ce=1&((Ye=(ce=14-((st=(st=(ce=x<<(pt=(pt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|pt|(Ye=(Ye=(ce<<=st)+245760|0)>>>16&2))+((ce<<=Ye)>>>15)|0)+7|0)?K>>>Ye:K)|ce<<1}else ce=0;while(0);if(y=3996+(ce<<2)|0,c[$+28>>2]=ce,c[(x=$+16|0)+4>>2]=0,!((x=(c[x>>2]=0)|c[924])&(M=1<<ce))){c[924]=x|M,c[y>>2]=$,c[$+24>>2]=y,c[$+12>>2]=$,c[$+8>>2]=$;break}x=0|c[y>>2];r:do if((-8&c[x+4>>2]|0)!=(0|K)){for(ce=K<<((0|ce)==31?0:25-(ce>>>1)|0);y=0|c[(M=x+16+(ce>>>31<<2)|0)>>2];){if((-8&c[y+4>>2]|0)==(0|K)){x=y;break r}ce<<=1,x=y}c[M>>2]=$,c[$+24>>2]=x,c[$+12>>2]=$,c[$+8>>2]=$;break t}while(0);Ye=0|c[(pt=x+8|0)>>2],c[Ye+12>>2]=$,c[pt>>2]=$,c[$+8>>2]=Ye,c[$+12>>2]=x,c[$+24>>2]=0}while(0);return _e=Tt,0|(Ye=Q+8|0)}for(y=4140;!((x=0|c[y>>2])>>>0<=j>>>0&&j>>>0<(Ye=x+(0|c[y+4>>2])|0)>>>0);)y=0|c[y+8>>2];for(x=(y=(y=(K=Ye+-47|0)+(7&(y=K+8|0)|0?0-y&7:0)|0)>>>0<(K=j+16|0)>>>0?j:y)+8|0,pt=ne+(st=7&(st=ne+8|0)|0?0-st&7:0)|0,st=(M=D+-40|0)-st|0,c[929]=pt,c[926]=st,c[pt+4>>2]=1|st,c[ne+M+4>>2]=40,c[930]=c[1045],c[(M=y+4|0)>>2]=27,c[x>>2]=c[1035],c[x+4>>2]=c[1036],c[x+8>>2]=c[1037],c[x+12>>2]=c[1038],c[1035]=ne,c[1036]=D,c[1038]=0,c[1037]=x,x=y+24|0;c[(x=(pt=x)+4|0)>>2]=7,(pt+8|0)>>>0<Ye>>>0;);if((0|y)!=(0|j)){if(D=y-j|0,c[M>>2]=-2&c[M>>2],c[j+4>>2]=1|D,x=(c[y>>2]=D)>>>3,D>>>0<256){M=3732+(x<<1<<2)|0,y=(y=0|c[923])&(x=1<<x)?0|c[(x=y=M+8|0)>>2]:(c[923]=y|x,x=M+8|0,M),c[x>>2]=j,c[y+12>>2]=j,c[j+8>>2]=y,c[j+12>>2]=M;break}if(M=3996+((ce=(x=D>>>8)?16777215<D>>>0?31:1&((Ye=(ce=14-((st=(st=(ce=x<<(pt=(pt=x+1048320|0)>>>16&8))+520192|0)>>>16&4)|pt|(Ye=(Ye=(ce<<=st)+245760|0)>>>16&2))+((ce<<=Ye)>>>15)|0)+7|0)?D>>>Ye:D)|ce<<1:0)<<2)|0,c[j+28>>2]=ce,c[j+20>>2]=0,!((x=(c[K>>2]=0)|c[924])&(y=1<<ce))){c[924]=x|y,c[M>>2]=j,c[j+24>>2]=M,c[j+12>>2]=j,c[j+8>>2]=j;break}x=0|c[M>>2];t:do if((-8&c[x+4>>2]|0)!=(0|D)){for(ce=D<<((0|ce)==31?0:25-(ce>>>1)|0);y=0|c[(M=x+16+(ce>>>31<<2)|0)>>2];){if((-8&c[y+4>>2]|0)==(0|D)){x=y;break t}ce<<=1,x=y}c[M>>2]=j,c[j+24>>2]=x,c[j+12>>2]=j,c[j+8>>2]=j;break e}while(0);Ye=0|c[(pt=x+8|0)>>2],c[Ye+12>>2]=j,c[pt>>2]=j,c[j+8>>2]=Ye,c[j+12>>2]=x,c[j+24>>2]=0}}else(0|(Ye=0|c[927]))==0|ne>>>0<Ye>>>0&&(c[927]=ne),c[1035]=ne,c[1036]=D,c[1038]=0,c[932]=c[1041],c[931]=-1,c[936]=3732,c[935]=3732,c[938]=3740,c[937]=3740,c[940]=3748,c[939]=3748,c[942]=3756,c[941]=3756,c[944]=3764,c[943]=3764,c[946]=3772,c[945]=3772,c[948]=3780,c[947]=3780,c[950]=3788,c[949]=3788,c[952]=3796,c[951]=3796,c[954]=3804,c[953]=3804,c[956]=3812,c[955]=3812,c[958]=3820,c[957]=3820,c[960]=3828,c[959]=3828,c[962]=3836,c[961]=3836,c[964]=3844,c[963]=3844,c[966]=3852,c[965]=3852,c[968]=3860,c[967]=3860,c[970]=3868,c[969]=3868,c[972]=3876,c[971]=3876,c[974]=3884,c[973]=3884,c[976]=3892,c[975]=3892,c[978]=3900,c[977]=3900,c[980]=3908,c[979]=3908,c[982]=3916,c[981]=3916,c[984]=3924,c[983]=3924,c[986]=3932,c[985]=3932,c[988]=3940,c[987]=3940,c[990]=3948,c[989]=3948,c[992]=3956,c[991]=3956,c[994]=3964,c[993]=3964,c[996]=3972,c[995]=3972,c[998]=3980,c[997]=3980,pt=ne+(st=7&(st=ne+8|0)|0?0-st&7:0)|0,st=(Ye=D+-40|0)-st|0,c[929]=pt,c[926]=st,c[pt+4>>2]=1|st,c[ne+Ye+4>>2]=40,c[930]=c[1045];while(0);if(ge>>>0<(x=0|c[926])>>>0)return c[926]=st=x-ge|0,Ye=0|c[929],c[929]=pt=Ye+ge|0,c[pt+4>>2]=1|st,c[Ye+4>>2]=3|ge,_e=Tt,0|(Ye=Ye+8|0)}return c[922]=48,_e=Tt,(Ye=0)|Ye}function qd(y){var x=0,M=0,ce=0,K=0,D=0,ne=0,Y=0,j=0,$=0;if(y|=0){ce=0|c[927],$=(M=y+-8|0)+(x=-8&(y=0|c[y+-4>>2]))|0;do if(1&y)j=Y=M;else{if(K=0|c[M>>2],!(3&y)||(ne=K+x|0,(D=M+(0-K)|0)>>>0<ce>>>0))return;if((0|c[928])==(0|D)){if((3&(y=0|c[(x=$+4|0)>>2])|0)==3)return c[925]=ne,c[x>>2]=-2&y,c[D+4>>2]=1|ne,void(c[D+ne>>2]=ne);j=Y=D,x=ne;break}if(M=K>>>3,K>>>0<256){if(y=0|c[D+8>>2],(0|(x=0|c[D+12>>2]))==(0|y)){c[923]=c[923]&~(1<<M),j=Y=D,x=ne;break}c[y+12>>2]=x,c[x+8>>2]=y,j=Y=D,x=ne;break}K=0|c[D+24>>2],y=0|c[D+12>>2];do if((0|y)==(0|D)){if(!(y=0|c[(x=(M=D+16|0)+4|0)>>2])){if(!(y=0|c[M>>2])){M=0;break}x=M}for(;;)if(M=0|c[(ce=y+20|0)>>2])y=M,x=ce;else{if(!(M=0|c[(ce=y+16|0)>>2]))break;y=M,x=ce}c[x>>2]=0,M=y}else M=0|c[D+8>>2],c[M+12>>2]=y,c[y+8>>2]=M,M=y;while(0);if(K){if(y=0|c[D+28>>2],(0|c[(x=3996+(y<<2)|0)>>2])==(0|D)){if(!(c[x>>2]=M)){c[924]=c[924]&~(1<<y),j=Y=D,x=ne;break}}else if(!(c[((0|c[(j=K+16|0)>>2])==(0|D)?j:K+20|0)>>2]=M)){j=Y=D,x=ne;break}c[M+24>>2]=K,0|(y=0|c[(x=D+16|0)>>2])&&(c[M+16>>2]=y,c[y+24>>2]=M),x=(j=Y=((y=0|c[x+4>>2])&&(c[M+20>>2]=y,c[y+24>>2]=M),D),ne)}else j=Y=D,x=ne}while(0);if(!($>>>0<=Y>>>0)&&1&(M=0|c[(y=$+4|0)>>2])){if(2&M)c[y>>2]=-2&M,c[j+4>>2]=1|x,K=c[Y+x>>2]=x;else{if((0|c[929])==(0|$))return $=(0|c[926])+x|0,c[926]=$,c[929]=j,c[j+4>>2]=1|$,void((0|j)==(0|c[928])&&(c[928]=0,c[925]=0));if((0|c[928])==(0|$))return $=(0|c[925])+x|0,c[925]=$,c[928]=Y,c[j+4>>2]=1|$,void(c[Y+$>>2]=$);K=(-8&M)+x|0,ce=M>>>3;do{if(M>>>0<256){if(x=0|c[$+8>>2],(0|(y=0|c[$+12>>2]))==(0|x)){c[923]=c[923]&~(1<<ce);break}c[x+12>>2]=y,c[y+8>>2]=x;break}D=0|c[$+24>>2],y=0|c[$+12>>2];do if((0|y)==(0|$)){if(!(y=0|c[(x=(M=$+16|0)+4|0)>>2])){if(!(y=0|c[M>>2])){M=0;break}x=M}for(;;)if(M=0|c[(ce=y+20|0)>>2])y=M,x=ce;else{if(!(M=0|c[(ce=y+16|0)>>2]))break;y=M,x=ce}c[x>>2]=0,M=y}else M=0|c[$+8>>2],c[M+12>>2]=y,c[y+8>>2]=M,M=y;while(0);if(0|D){if(y=0|c[$+28>>2],(0|c[(x=3996+(y<<2)|0)>>2])==(0|$)){if(!(c[x>>2]=M)){c[924]=c[924]&~(1<<y);break}}else if(!(c[((0|c[(ne=D+16|0)>>2])==(0|$)?ne:D+20|0)>>2]=M))break;c[M+24>>2]=D,0|(y=0|c[(x=$+16|0)>>2])&&(c[M+16>>2]=y,c[y+24>>2]=M),0|(y=0|c[x+4>>2])&&(c[M+20>>2]=y,c[y+24>>2]=M)}}while(0);if(c[j+4>>2]=1|K,c[Y+K>>2]=K,(0|j)==(0|c[928]))return void(c[925]=K)}if(y=K>>>3,K>>>0<256)return M=3732+(y<<1<<2)|0,x=(x=0|c[923])&(y=1<<y)?0|c[(y=x=M+8|0)>>2]:(c[923]=x|y,y=M+8|0,M),c[y>>2]=j,c[x+12>>2]=j,c[j+8>>2]=x,void(c[j+12>>2]=M);x=3996+((ce=(y=K>>>8)?16777215<K>>>0?31:1&(($=(ce=14-((ne=(ne=(ce=y<<(Y=(Y=y+1048320|0)>>>16&8))+520192|0)>>>16&4)|Y|($=($=(ce<<=ne)+245760|0)>>>16&2))+((ce<<=$)>>>15)|0)+7|0)?K>>>$:K)|ce<<1:0)<<2)|0,c[j+28>>2]=ce,c[j+20>>2]=0,y=(c[j+16>>2]=0)|c[924],M=1<<ce;e:do if(y&M){y=0|c[x>>2];t:do if((-8&c[y+4>>2]|0)!=(0|K)){for(ce=K<<((0|ce)==31?0:25-(ce>>>1)|0);x=0|c[(M=y+16+(ce>>>31<<2)|0)>>2];){if((-8&c[x+4>>2]|0)==(0|K)){y=x;break t}ce<<=1,y=x}c[M>>2]=j,c[j+24>>2]=y,c[j+12>>2]=j,c[j+8>>2]=j;break e}while(0);$=0|c[(Y=y+8|0)>>2],c[$+12>>2]=j,c[Y>>2]=j,c[j+8>>2]=$,c[j+12>>2]=y,c[j+24>>2]=0}else c[924]=y|M,c[x>>2]=j,c[j+24>>2]=x,c[j+12>>2]=j,c[j+8>>2]=j;while(0);if($=(0|c[931])-1|0,!(0|(c[931]=$))){for(y=4148;y=0|c[y>>2];)y=y+8|0;c[931]=-1}}}}function Xd(y,x){var j=0,M=0,ce=0,K=0,D=0,ne=0,Y=0,Y=(y|=0)+(x|=0)|0,j=0|c[y+4>>2];do if(1&j)ne=y,y=x;else{if(M=0|c[y>>2],!(3&j))return;if(D=M+x|0,(0|c[928])==(0|(K=y+(0-M)|0))){if((3&(j=0|c[(y=Y+4|0)>>2])|0)==3)return c[925]=D,c[y>>2]=-2&j,c[K+4>>2]=1|D,void(c[Y>>2]=D);ne=K,y=D;break}if(x=M>>>3,M>>>0<256){if(j=0|c[K+8>>2],(0|(y=0|c[K+12>>2]))==(0|j)){c[923]=c[923]&~(1<<x),ne=K,y=D;break}c[j+12>>2]=y,c[y+8>>2]=j,ne=K,y=D;break}ce=0|c[K+24>>2],j=0|c[K+12>>2];do if((0|j)==(0|K)){if(!(j=0|c[(y=(x=K+16|0)+4|0)>>2])){if(!(j=0|c[x>>2])){x=0;break}y=x}for(;;)if(x=0|c[(M=j+20|0)>>2])j=x,y=M;else{if(!(x=0|c[(M=j+16|0)>>2]))break;j=x,y=M}c[y>>2]=0,x=j}else x=0|c[K+8>>2],c[x+12>>2]=j,c[j+8>>2]=x,x=j;while(0);if(ce){if(j=0|c[K+28>>2],(0|c[(y=3996+(j<<2)|0)>>2])==(0|K)){if(!(c[y>>2]=x)){c[924]=c[924]&~(1<<j),ne=K,y=D;break}}else if(!(c[((0|c[(ne=ce+16|0)>>2])==(0|K)?ne:ce+20|0)>>2]=x)){ne=K,y=D;break}c[x+24>>2]=ce,0|(j=0|c[(y=K+16|0)>>2])&&(c[x+16>>2]=j,c[j+24>>2]=x),y=(ne=((j=0|c[y+4>>2])&&(c[x+20>>2]=j,c[j+24>>2]=x),K),D)}else ne=K,y=D}while(0);if(2&(x=0|c[(j=Y+4|0)>>2]))c[j>>2]=-2&x,c[ne+4>>2]=1|y,c[ne+y>>2]=y;else{if((0|c[929])==(0|Y))return Y=(0|c[926])+y|0,c[926]=Y,c[929]=ne,c[ne+4>>2]=1|Y,void((0|ne)==(0|c[928])&&(c[928]=0,c[925]=0));if((0|c[928])==(0|Y))return Y=(0|c[925])+y|0,c[925]=Y,c[928]=ne,c[ne+4>>2]=1|Y,void(c[ne+Y>>2]=Y);K=(-8&x)+y|0,M=x>>>3;do{if(x>>>0<256){if(y=0|c[Y+8>>2],(0|(j=0|c[Y+12>>2]))==(0|y)){c[923]=c[923]&~(1<<M);break}c[y+12>>2]=j,c[j+8>>2]=y;break}ce=0|c[Y+24>>2],j=0|c[Y+12>>2];do if((0|j)==(0|Y)){if(!(j=0|c[(y=(x=Y+16|0)+4|0)>>2])){if(!(j=0|c[x>>2])){x=0;break}y=x}for(;;)if(x=0|c[(M=j+20|0)>>2])j=x,y=M;else{if(!(x=0|c[(M=j+16|0)>>2]))break;j=x,y=M}c[y>>2]=0,x=j}else x=0|c[Y+8>>2],c[x+12>>2]=j,c[j+8>>2]=x,x=j;while(0);if(0|ce){if(j=0|c[Y+28>>2],(0|c[(y=3996+(j<<2)|0)>>2])==(0|Y)){if(!(c[y>>2]=x)){c[924]=c[924]&~(1<<j);break}}else if(!(c[((0|c[(D=ce+16|0)>>2])==(0|Y)?D:ce+20|0)>>2]=x))break;c[x+24>>2]=ce,0|(j=0|c[(y=Y+16|0)>>2])&&(c[x+16>>2]=j,c[j+24>>2]=x),0|(j=0|c[y+4>>2])&&(c[x+20>>2]=j,c[j+24>>2]=x)}}while(0);if(c[ne+4>>2]=1|K,c[ne+K>>2]=K,(0|ne)==(0|c[928]))return void(c[925]=K);y=K}if(j=y>>>3,y>>>0<256)return x=3732+(j<<1<<2)|0,y=(y=0|c[923])&(j=1<<j)?0|c[(j=y=x+8|0)>>2]:(c[923]=y|j,j=x+8|0,x),c[j>>2]=ne,c[y+12>>2]=ne,c[ne+8>>2]=y,void(c[ne+12>>2]=x);if(x=3996+((ce=(j=y>>>8)?16777215<y>>>0?31:1&((Y=(ce=14-((K=(K=(ce=j<<(D=(D=j+1048320|0)>>>16&8))+520192|0)>>>16&4)|D|(Y=(Y=(ce<<=K)+245760|0)>>>16&2))+((ce<<=Y)>>>15)|0)+7|0)?y>>>Y:y)|ce<<1:0)<<2)|0,c[ne+28>>2]=ce,c[ne+20>>2]=0,!((j=(c[ne+16>>2]=0)|c[924])&(M=1<<ce)))return c[924]=j|M,c[x>>2]=ne,c[ne+24>>2]=x,c[ne+12>>2]=ne,void(c[ne+8>>2]=ne);j=0|c[x>>2];e:do if((-8&c[j+4>>2]|0)!=(0|y)){for(ce=y<<((0|ce)==31?0:25-(ce>>>1)|0);x=0|c[(M=j+16+(ce>>>31<<2)|0)>>2];){if((-8&c[x+4>>2]|0)==(0|y)){j=x;break e}ce<<=1,j=x}return c[M>>2]=ne,c[ne+24>>2]=j,c[ne+12>>2]=ne,void(c[ne+8>>2]=ne)}while(0);Y=0|c[(D=j+8|0)>>2],c[Y+12>>2]=ne,c[D>>2]=ne,c[ne+8>>2]=Y,c[ne+12>>2]=j,c[ne+24>>2]=0}function zp(y,x,M){y|=0;var ce;return(3&(x|=0)|0)!=0|(0|(ce=x>>>2))==0||1073741823+ce&ce|0?0|(y=28):!((-64-x|0)>>>0<(M|=0)>>>0)&&(x=0|function(K,D){D|=0;var ne,Y=0,j=0,$=0,Q=0,ge=0;if((Y=16<(K|=0)>>>0?K:16)+-1&Y)for(K=16;K>>>0<Y>>>0;)K<<=1;else K=Y;if((-64-K|0)>>>0<=D>>>0)return c[922]=48,(Q=0)|Q;if(!(Y=0|Ql(12+(ne=D>>>0<11?16:D+11&-8)+K|0)))return(Q=0)|Q;$=Y+-8|0;do if(K+-1&Y){if(j=15<((j=(Y+K+-1&0-K)-8|0)-(D=$)|0)>>>0?j:j+K|0,Y=(-8&(ge=0|c[(K=Y+-4|0)>>2]))-(D=j-D|0)|0,3&ge){c[(ge=j+4|0)>>2]=Y|1&c[ge>>2]|2,c[(Y=j+Y+4|0)>>2]=1|c[Y>>2],c[K>>2]=D|1&c[K>>2]|2,c[ge>>2]=1|c[ge>>2],Xd($,D),K=D=j;break}c[j>>2]=(0|c[$>>2])+D,c[j+4>>2]=Y,K=D=j;break}while(K=D=$,0);return 3&(K=0|c[(Y=K+4|0)>>2])|0&&(16+ne|0)>>>0<(Q=-8&K)>>>0&&(ge=Q-ne|0,$=D+ne|0,c[Y>>2]=ne|1&K|2,c[$+4>>2]=3|ge,c[(Q=D+Q+4|0)>>2]=1|c[Q>>2],Xd($,ge)),0|(ge=D+8|0)}(16<x>>>0?x:16,M))?(c[y>>2]=x,(y=0)|y):0|(y=48)}function Jl(y){var x,M=0;return(y=(x=0|c[(M=4208)>>2])+(y|=0)|0)>>>0>(0|Zt())>>>0&&!(0|fr(0|y))?(c[922]=48,0|(M=-1)):(c[M>>2]=y,0|(M=x))}function Uc(y,x,M,ce){x|=0,ce|=0;var K=0,D=0;return M=0|function(ne,Y){var j,$,Q,ge;return ne=((Q=0|De($=65535&(Y|=0),j=65535&(ne|=0)))>>>16)+(0|De($,ge=ne>>>16))|0,Y=0|De($=Y>>>16,j),0|(it((ne>>>16)+(0|De($,ge))+(((65535&ne)+Y|0)>>>16)|0),ne+Y<<16|65535&Q|0)}(K=y|=0,D=M|=0),y=0|at(),0|(it((0|De(x,D))+(0|De(ce,K))+y|0&y|0),0|M)}function qu(y,x,M,ce){return 0|(it((x|=0)+(ce|=0)+((M=(y|=0)+(M|=0)>>>0)>>>0<y>>>0|0)>>>0|0),0|M)}function Zs(y,x,M,ce){return 0|(it(0|(ce=(x|=0)-(ce|=0)-((y|=0)>>>0<(M|=0)>>>0|0)>>>0)),y-M>>>0|0)}function Hp(y){return 0|((y|=0)?31-(0|we(y^y-1))|0:32)}function jp(y,x,M,ce,K){K|=0;var D=0,Ge=0,Te=0,ne=0,Y=0,Ce=0,j=0,$=0,Q=0,ge=0,Ce=y|=0,Ge=M|=0,Te=$=ce|=0;if(!(Y=ne=x|=0))return D=(0|K)!=0,Te?(D&&(c[K>>2]=0|y,c[K+4>>2]=0&x),(K=$=0)|(it(0|$),K)):(D&&(c[K>>2]=(Ce>>>0)%(Ge>>>0),c[K+4>>2]=0),K=(Ce>>>($=0))/(Ge>>>0)>>>0,0|(it(0|$),K));D=(0|Te)==0;do{if(Ge){if(!D){if((D=(0|we(0|Te))-(0|we(0|Y))|0)>>>0<=31){y=Ce>>>((Ge=j=D+1|0)>>>0)&(x=D-31>>31)|Y<<(Te=31-D|0),x&=Y>>>(j>>>0),D=0,Te=Ce<<Te;break}return K&&(c[K>>2]=0|y,c[K+4>>2]=ne|0&x),(K=$=0)|(it(0|$),K)}if((D=Ge-1|0)&Ge|0){y=(j=32-(Te=33+(0|we(0|Ge))-(0|we(0|Y))|0)|0)-1>>31&Y>>>((Q=Te-32|0)>>>0)|(Y<<j|Ce>>>((Ge=Te)>>>0))&(x=Q>>31),x&=Y>>>(Te>>>0),D=Ce<<(ge=64-Te|0)&(ne=j>>31),Te=(Y<<ge|Ce>>>(Q>>>0))&ne|Ce<<j&Te-33>>31;break}return 0|K&&(c[K>>2]=D&Ce,c[K+4>>2]=0),(0|Ge)==1?(ge=0|y,0|(it(0|(Q=ne|0&x)),ge)):(Q=Y>>>((ge=0|Hp(0|Ge))>>>0)|0,ge=Y<<32-ge|Ce>>>(ge>>>0)|0,0|(it(0|Q),ge))}if(D)return 0|K&&(c[K>>2]=(Y>>>0)%(Ge>>>0),c[K+4>>2]=0),ge=(Y>>>(Q=0))/(Ge>>>0)>>>0,0|(it(0|Q),ge);if(!Ce)return 0|K&&(c[K>>2]=0,c[K+4>>2]=(Y>>>0)%(Te>>>0)),ge=(Y>>>(Q=0))/(Te>>>0)>>>0,0|(it(0|Q),ge);if(!((D=Te-1|0)&Te))return 0|K&&(c[K>>2]=0|y,c[K+4>>2]=D&Y|0&x),ge=Y>>>(((Q=0)|Hp(0|Te))>>>0),0|(it(0|Q),ge);if((D=(0|we(0|Te))-(0|we(0|Y))|0)>>>0<=30){y=Y<<(Te=31-D|0)|Ce>>>((Ge=x=D+1|0)>>>0),x=Y>>>(x>>>0),D=0,Te=Ce<<Te;break}return K&&(c[K>>2]=0|y,c[K+4>>2]=ne|0&x),(ge=Q=0)|(it(0|Q),ge)}while(0);if(Ge){for(Y=0|qu(0|(j=0|M),0|(Ce=$|0&ce),-1,-1),M=0|at(),ne=Te,Te=0;ne=D>>>31|(ce=ne)<<1,D=Te|D<<1,Zs(0|Y,0|M,0|(ce=y<<1|ce>>>31|0),0|($=y>>>31|x<<1|0)),Te=1&(Q=(ge=0|at())>>31|((0|ge)<0?-1:0)<<1),y=0|Zs(0|ce,0|$,Q&j|0,(((0|ge)<0?-1:0)>>31|((0|ge)<0?-1:0)<<1)&Ce|0),x=0|at(),(0|(Ge=Ge-1|0))!=0;);Y=ne,ne=0}else Y=Te,Te=ne=0;return(Ge=0)|K&&(c[K>>2]=y,c[K+4>>2]=x),ge=-2&(D<<1|0)|Te,0|(it(0|(Q=(0|D)>>>31|(Y|Ge)<<1|0&(Ge<<1|D>>>31)|ne)),ge)}function Vc(y,x,M,ce){return 0|jp(y|=0,x|=0,M|=0,ce|=0,0)}function Qm(y,x,M){return y|=0,x|=0,(0|(M|=0))<32?(it(x>>>M|0),y>>>M|(x&(1<<M)-1)<<32-M):(it(0),x>>>M-32|0)}function J1(y,x,M){return y|=0,x|=0,(0|(M|=0))<32?(it(x<<M|(y&(1<<M)-1<<32-M)>>>32-M|0),y<<M):(it(y<<M-32|0),0)}function IA(){return 4208}function Cl(y,x,M){y|=0,x|=0;var ce,K,D;if(8192<=(0|(M|=0)))return Or(0|y,0|x,0|M),0|y;if(D=0|y,K=y+M|0,(3&y)==(3&x)){for(;3&y;){if(!M)return 0|D;He[y>>0]=0|He[x>>0],y=y+1|0,x=x+1|0,M=M-1|0}for(ce=(M=-4&K|0)-64|0;(0|y)<=(0|ce);)c[y>>2]=c[x>>2],c[y+4>>2]=c[x+4>>2],c[y+8>>2]=c[x+8>>2],c[y+12>>2]=c[x+12>>2],c[y+16>>2]=c[x+16>>2],c[y+20>>2]=c[x+20>>2],c[y+24>>2]=c[x+24>>2],c[y+28>>2]=c[x+28>>2],c[y+32>>2]=c[x+32>>2],c[y+36>>2]=c[x+36>>2],c[y+40>>2]=c[x+40>>2],c[y+44>>2]=c[x+44>>2],c[y+48>>2]=c[x+48>>2],c[y+52>>2]=c[x+52>>2],c[y+56>>2]=c[x+56>>2],c[y+60>>2]=c[x+60>>2],y=y+64|0,x=x+64|0;for(;(0|y)<(0|M);)c[y>>2]=c[x>>2],y=y+4|0,x=x+4|0}else for(M=K-4|0;(0|y)<(0|M);)He[y>>0]=0|He[x>>0],He[y+1>>0]=0|He[x+1>>0],He[y+2>>0]=0|He[x+2>>0],He[y+3>>0]=0|He[x+3>>0],y=y+4|0,x=x+4|0;for(;(0|y)<(0|K);)He[y>>0]=0|He[x>>0],y=y+1|0,x=x+1|0;return 0|D}function Ka(y,x,M){var ce,K,D,ne=(y|=0)+(M|=0)|0;if(x=(x|0)&255,67<=(0|M)){for(;3&y;)He[y>>0]=x,y=y+1|0;for(D=x|x<<8|x<<16|x<<24,K=(ce=-4&ne|0)-64|0;(0|y)<=(0|K);)c[y>>2]=D,c[y+4>>2]=D,c[y+8>>2]=D,c[y+12>>2]=D,c[y+16>>2]=D,c[y+20>>2]=D,c[y+24>>2]=D,c[y+28>>2]=D,c[y+32>>2]=D,c[y+36>>2]=D,c[y+40>>2]=D,c[y+44>>2]=D,c[y+48>>2]=D,c[y+52>>2]=D,c[y+56>>2]=D,c[y+60>>2]=D,y=y+64|0;for(;(0|y)<(0|ce);)c[y>>2]=D,y=y+4|0}for(;(0|y)<(0|ne);)He[y>>0]=x,y=y+1|0;return ne-M|0}function Gp(y){return Be(0),0}function fh(y,x,M,ce){return Be(2),0}var Wp=[Gp,function(y){return 0|ft(0,0|(y|=0))},function(y){return 0},Gp],Yd=[function(y,x,M){return Be(1),0},function(y,x,M){return 0|Nt(0,0|(y|=0),0|(x|=0),0|(M|=0))},function(y,x,M){x|=0,M|=0;var ce,K,D,ne,Y,j,$,Q=0,ge=0,Ce=0,Ge=0,Te=_e;for(_e=_e+32|0,K=(ge=Te)+16|0,Q=0|c[(D=(y|=0)+28|0)>>2],c[ge>>2]=Q,Q=(0|c[(ne=y+20|0)>>2])-Q|0,c[ge+4>>2]=Q,c[ge+8>>2]=x,ce=y+60|0,Q=Q+(c[ge+12>>(Ce=2)]=M)|0;;){if((0|Q)==(0|(x=0|function(Ne){return 0|(Ne=(Ne|=0)<<16>>16?(c[922]=65535&Ne,-1):0)}(0|Gt(0|c[ce>>2],0|ge,0|Ce,0|K))?c[K>>2]=-1:0|c[K>>2]))){x=6;break}if((0|x)<0){x=8;break}Ge=0|c[ge+4>>2],c[(j=(Y=Ge>>>0<x>>>0)?ge+8|0:ge)>>2]=(0|c[j>>2])+(Ge=x-(Y?Ge:0)|0),c[($=j+4|0)>>2]=(0|c[$>>2])-Ge,ge=j,Ce=Ce+(Y<<31>>31)|0,Q=Q-x|0}return(0|x)==6?(Ge=0|c[y+44>>2],c[y+16>>2]=Ge+(0|c[y+48>>2]),c[D>>2]=Ge,c[ne>>2]=Ge):(0|x)==8&&(c[y+16>>2]=0,c[D>>2]=0,c[ne>>2]=0,c[y>>2]=32|c[y>>2],M=(0|Ce)==2?0:M-(0|c[ge+4>>2])|0),_e=Te,0|M},function(y,x,M){var ce,K;return Cl(0|(K=0|c[(ce=(y|=0)+20|0)>>2]),0|(x|=0),0|(y=(M|=0)>>>0<(y=(0|c[y+16>>2])-K|0)>>>0?M:y)),c[ce>>2]=(0|c[ce>>2])+y,0|M}],El=[fh,function(y,x,M,ce){return 0|Xe(0,0|(y|=0),0|(x|=0),0|(M|=0),0|(ce|=0))},function(y,x,M,ce){return it(0),0},fh],eu=[function(y){Be(3)},function(y){qe(0,0|(y|=0))}],qp=[function(y,x){Be(4)},function(y,x){Mt(0,0|(y|=0),0|(x|=0))},function(y,x){var M,j=0,$=0,Q=0,ce=0,K=0,D=0,ne=0,Y=0,j=0|c[(M=(y|=0)+308|0)>>2],$=0|c[y+316>>2],Q=0|c[y+320>>2];(0|(ce=0|c[(K=j+((x|=0)<<5)+8|0)>>2]))==-1?(c[$+(x<<2)>>2]=c[(0|c[y+148>>2])+(c[j+(x<<5)+16>>2]<<2)>>2],he[Q+(x<<2)>>2]=1):(ne=0|c[(D=j+(x<<5)+16|0)>>2],Y=0|c[(0|c[y+152>>2])+(ne<<2)>>2],zc[3&c[j+(ce<<5)+24>>2]](y,ce,Y,Y,0|c[(0|c[y+60>>2])+(24*ne|0)+16>>2]),K=0|c[K>>2],he[$+(x<<2)>>2]=+he[(0|c[y+148>>2])+(c[D>>2]<<2)>>2]*+he[$+(K<<2)>>2],c[Q+(x<<2)>>2]=c[Q+(K<<2)>>2]),(0|$t[4+(0|c[y>>2])>>0])<4||(j=0|c[M>>2],$=0|c[y+324>>2],M=0|c[y+328>>2],Q=x<<2,ce=c[j+(x<<5)+16>>2]<<2,(0|(j=0|c[j+(x<<5)+8>>2]))==-1?(j=0|c[y+156>>2],c[$+(Q<<2)>>2]=c[j+(ce<<2)>>2],c[$+((x=1|Q)<<2)>>2]=c[j+((K=1|ce)<<2)>>2],c[$+((Y=2|Q)<<2)>>2]=c[j+((ne=2|ce)<<2)>>2],he[$+((j=3|Q)<<2)>>2]=1,D=0|c[y+160>>2],c[M+(Q<<2)>>2]=c[D+(ce<<2)>>2],c[M+(x<<2)>>2]=c[D+(K<<2)>>2],c[M+(Y<<2)>>2]=c[D+(ne<<2)>>2]):(ne=j<<2,D=(0|c[y+156>>2])+(ce<<2)|0,he[(j=$+(Q<<2)|0)>>2]=+he[D>>2]*+he[(Y=$+(ne<<2)|0)>>2],he[j+4>>2]=+he[D+4>>2]*+he[Y+4>>2],he[j+8>>2]=+he[D+8>>2]*+he[Y+8>>2],he[$+((j=3|Q)<<2)>>2]=1,D=(0|c[y+160>>2])+(ce<<2)|0,x=+he[D>>2],K=+he[(ne=M+(ne<<2)|0)>>2],he[(Y=M+(Q<<2)|0)>>2]=x+K-x*K,K=+he[D+4>>2],x=+he[ne+4>>2],he[Y+4>>2]=K+x-K*x,x=+he[D+8>>2],K=+he[ne+8>>2],he[Y+8>>2]=x+K-x*K),he[M+(j<<2)>>2]=1)},function(y,x){var M,ce,K,D,ne,Y,j,$,Q,ge,Ce,Ge,Te,Ne,Le,xe=0,st=0,pt=0,Ye=0,Tt=0,Qt=0,yr=0,Dr=0,nr=0,Tr=0,wr=0,Rt=0,mr=0,Pr=_e;if(_e=_e+48|0,j=Pr+8|0,ne=Pr+40|0,D=Pr+32|0,K=(Y=Pr)+24|0,Rt=Pr+16|0,xe=0|c[(Ce=(y|=0)+308|0)>>2],Q=0|c[y+316>>2],ge=0|c[y+320>>2],(0|(ce=0|c[(Ne=xe+((x|=0)<<5)+8|0)>>2]))==-1)mr=0|c[xe+(x<<5)+16>>2],c[Q+(x<<2)>>2]=c[(0|c[y+268>>2])+(mr<<2)>>2],c[ge+(x<<2)>>2]=c[(0|c[y+272>>2])+(mr<<2)>>2];else{for($=0|c[(Le=xe+(x<<5)+16|0)>>2],Tt=0|c[(0|c[(Ge=y+276|0)>>2])+($<<2)>>2],c[Rt>>2]=Tt,$=0|c[(0|c[(Te=y+280|0)>>2])+($<<2)>>2],c[(Tr=Rt+4|0)>>2]=$,wr=(0|c[xe+(ce<<5)+12>>2])==1?-10:-.10000000149011612,c[ne>>2]=Tt,c[(Tt=4+ne|0)>>2]=$,zc[3&c[($=xe+(ce<<5)+24|0)>>2]](y,ce,ne,D,1),pt=4+K|0,xe=4+D|0,st=Y+4|0,Ye=9,nr=1;he[K>>2]=(Dr=0*nr)+ +he[ne>>2],he[pt>>2]=(M=wr*nr)+ +he[Tt>>2],zc[3&c[$>>2]](y,ce,K,Y,1),yr=+he[Y>>2]-+he[D>>2],he[Y>>2]=yr,Qt=+he[st>>2]-+he[xe>>2],!(yr!=0|(he[st>>2]=Qt)!=0);){if(he[K>>2]=+he[ne>>2]-Dr,he[pt>>2]=+he[Tt>>2]-M,zc[3&c[$>>2]](y,ce,K,Y,1),Qt=+he[Y>>2]-+he[D>>2],he[Y>>2]=Qt,Dr=+he[st>>2]-+he[xe>>2],Qt!=0|(he[st>>2]=Dr)!=0){mr=6;break}if(!Ye){mr=8;break}Ye=Ye+-1|0,nr*=.10000000149011612}(0|mr)==6?(yr=-Qt,Qt=-Dr):(0|mr)==8&&(_r(0,2397,j),Qt=yr=0),wr=180*+ln(0,wr,yr,Qt)/3.1415927410125732,zc[3&c[$>>2]](y,0|c[Ne>>2],Rt,Rt,1),mr=0|c[Le>>2],c[(0|c[Ge>>2])+(mr<<2)>>2]=c[Rt>>2],c[(0|c[Te>>2])+(mr<<2)>>2]=c[Tr>>2],Rt=(0|c[y+284>>2])+(mr<<2)|0,he[Rt>>2]=+he[Rt>>2]-wr,Rt=0|c[Ne>>2],he[Q+(x<<2)>>2]=+he[(0|c[y+268>>2])+(mr<<2)>>2]*+he[Q+(Rt<<2)>>2],mr=(0|c[y+272>>2])+(mr<<2)|0,wr=+he[mr>>2]*+he[ge+(Rt<<2)>>2],he[ge+(x<<2)>>2]=wr,he[mr>>2]=wr}_e=((0|$t[4+(0|c[y>>2])>>0])<4||(xe=0|c[Ce>>2],st=0|c[y+324>>2],Tt=0|c[y+328>>2],pt=x<<2,Ye=c[xe+(x<<5)+16>>2]<<2,(0|(xe=0|c[xe+(x<<5)+8>>2]))==-1?(xe=0|c[y+296>>2],c[st+(pt<<2)>>2]=c[xe+(Ye<<2)>>2],c[st+((Rt=1|pt)<<2)>>2]=c[xe+((Tr=1|Ye)<<2)>>2],c[st+((x=2|pt)<<2)>>2]=c[xe+((mr=2|Ye)<<2)>>2],he[st+((xe=3|pt)<<2)>>2]=1,y=0|c[y+300>>2],c[Tt+(pt<<2)>>2]=c[y+(Ye<<2)>>2],c[Tt+(Rt<<2)>>2]=c[y+(Tr<<2)>>2],c[Tt+(x<<2)>>2]=c[y+(mr<<2)>>2]):(Rt=xe<<2,mr=(0|c[y+296>>2])+(Ye<<2)|0,he[(xe=st+(pt<<2)|0)>>2]=+he[mr>>2]*+he[(x=st+(Rt<<2)|0)>>2],he[xe+4>>2]=+he[mr+4>>2]*+he[x+4>>2],he[xe+8>>2]=+he[mr+8>>2]*+he[x+8>>2],he[st+((xe=3|pt)<<2)>>2]=1,mr=(0|c[y+300>>2])+(Ye<<2)|0,nr=+he[mr>>2],wr=+he[(y=Tt+(Rt<<2)|0)>>2],he[(x=Tt+(pt<<2)|0)>>2]=nr+wr-nr*wr,wr=+he[mr+4>>2],nr=+he[y+4>>2],he[x+4>>2]=wr+nr-wr*nr,nr=+he[mr+8>>2],wr=+he[y+8>>2],he[x+8>>2]=nr+wr-nr*wr),he[Tt+(xe<<2)>>2]=1),Pr)}],zc=[function(y,x,M,ce,K){Be(5)},function(y,x,M,ce,K){Lt(0,0|(y|=0),0|(x|=0),0|(M|=0),0|(ce|=0),0|(K|=0))},function(y,x,M,ce,K){M|=0,ce|=0;var D,ne,Y,j,$,Q,ge,Ce,Ge,Te,Ne,Le,xe,st,pt,Ye,Tt,Qt,yr,Dr,nr,Tr,wr,Rt=0,mr=0,Pr=0,vr=0,Sn=0,bn=0,vn=0,di=0,fi=0,Jn=0,Rn=0,hi=0,Ni=0,ai=0,yi=0,rn=0,Tn=0,dt=0,_s=0,li=0,jn=0,pi=0,on=0,Vo=_e;if(_e=_e+32|0,yr=Vo,x=0|c[(0|c[(y|=0)+308>>2])+((x|=0)<<5)+16>>2],Rt=0|c[y+60>>2],xe=0|c[(0|c[y+152>>2])+(x<<2)>>2],st=0|c[Rt+(24*x|0)+8>>2],pt=0|c[Rt+(24*x|0)+4>>2],Ye=1+st|0,(0|(K|=0))<=0)_e=Vo;else{Tt=0|st,Qt=0|pt,Le=(0|c[Rt+(24*x|0)+12>>2])==0,ne=xe+(st<<3)|0,Y=xe+((Ge=0|De(pt,Ye))<<3)|0,j=xe+((Ce=Ge+st|0)<<3)|0,$=4+xe|0,Q=xe+(st<<3)+4|0,ge=xe+(Ge<<3)+4|0,Ce=xe+(Ce<<3)+4|0,Ne=st-1|0,Te=pt-1|0,hi=Ni=ai=yi=mr=Pr=Rn=Jn=fi=di=jn=li=vn=bn=Sn=vr=pi=dt=0;do{rn=(D=+he[M+(pi<<3)>>2])*Tt,_s=(Tn=+he[M+(pi<<3)+4>>2])*Qt,y=!(1<=D),Rt=!(1<=Tn);do{if(Rt&y&!(D<0)&!(Tn<0)){if(y=~~rn,x=(0|De(Ye,Rt=~~_s))+y|0,Pr=rn-(0|y),mr=_s-(0|Rt),!Le){he[ce+(pi<<3)>>2]=(rn=1-mr)*((Tn=1-Pr)*+he[xe+(x<<3)>>2])+rn*(Pr*+he[xe+((on=x+1|0)<<3)>>2])+mr*(Tn*+he[xe+((y=x+Ye|0)<<3)>>2])+mr*(Pr*+he[xe+((Rt=y+1|0)<<3)>>2]),Tn=rn*(Tn*+he[xe+(x<<3)+4>>2])+rn*(Pr*+he[xe+(on<<3)+4>>2])+mr*(Tn*+he[xe+(y<<3)+4>>2]),rn=mr*(Pr*+he[xe+(Rt<<3)+4>>2]);break}if(Pr+mr<=1){he[ce+(pi<<3)>>2]=(Tn=1-Pr-mr)*+he[xe+(x<<3)>>2]+Pr*+he[xe+((Rt=x+1|0)<<3)>>2]+mr*+he[xe+((on=x+Ye|0)<<3)>>2],Tn=Tn*+he[xe+(x<<3)+4>>2]+Pr*+he[xe+(Rt<<3)+4>>2],rn=mr*+he[xe+(on<<3)+4>>2];break}he[ce+(pi<<3)>>2]=(_s=Pr+-1+mr)*+he[xe+((y=(Rt=x+Ye|0)+1|0)<<3)>>2]+(Tn=1-Pr)*+he[xe+(Rt<<3)>>2]+(rn=1-mr)*+he[xe+((on=x+1|0)<<3)>>2],Tn=_s*+he[xe+(y<<3)+4>>2]+Tn*+he[xe+(Rt<<3)+4>>2],rn*=+he[xe+(on<<3)+4>>2];break}if(dt||(wr=+he[xe>>2],Tr=+he[ne>>2],nr=+he[Y>>2],li=+he[j>>2],Dr=+he[$>>2],hi=(ai=+he[Q>>2])-(yi=+he[ge>>2]),dt=1,li=.25*(wr+Tr+nr+li)-.5*(wr=li-wr),jn=.25*(Dr+ai+yi+(jn=+he[Ce>>2]))-.5*(Dr=jn-Dr),yi=.5*((Ni=Tr-nr)+wr),ai=.5*(hi+Dr),Ni=.5*(wr-Ni),hi=.5*(Dr-hi)),!(Tn<3&-2<D&D<3&-2<Tn)){he[ce+(pi<<3)>>2]=Tn*Ni+(D*yi+li),Tn*=hi,rn=D*ai+jn;break}do{if(D<=0){if(Tn<=0){vr=li-(bn=2*Ni),Sn=jn-(vn=2*hi),bn=(Jn=li-2*yi)-bn,vn=(Rn=jn-2*ai)-vn,di=+he[xe>>2],fi=+he[$>>2],Pr=.5*(2+D),mr=.5*(Tn+2);break}if(Rt){vn=(mr=0|(Rt=(0|pt)==(0|(Rt=~~_s))?Te:Rt))/Qt,Pr=(0|(on=Rt+1|0))/Qt,Rt=0|De(Rt,Ye),on=0|De(on,Ye),vr=+he[xe+(Rt<<3)>>2],Sn=+he[xe+(Rt<<3)+4>>2],bn=vn*Ni+(Jn=li-2*yi),vn=vn*hi+(Rn=jn-2*ai),di=+he[xe+(on<<3)>>2],fi=+he[xe+(on<<3)+4>>2],Jn=Pr*Ni+Jn,Rn=Pr*hi+Rn,Pr=.5*(2+D),mr=_s-mr;break}vr=+he[Y>>2],Sn=+he[ge>>2],bn=Ni+(Jn=li-2*yi),vn=hi+(Rn=jn-2*ai),di=(mr=3*Ni)+li,fi=(Pr=3*hi)+jn,Jn=mr+Jn,Rn=Pr+Rn,Pr=.5*(2+D),mr=.5*(Tn+-1);break}if(x=Tn<=0,y){if(x){vr=(Sn=(0|(Rt=(on=(0|st)==(0|(on=~~rn))?Ne:on)+1|0))/Tt)*yi+li-(bn=2*Ni),Sn=Sn*ai+jn-(vn=2*hi),bn=(di=(Pr=0|on)/Tt)*yi+li-bn,vn=di*ai+jn-vn,di=+he[xe+(Rt<<3)>>2],fi=+he[xe+(Rt<<3)+4>>2],Jn=+he[xe+(on<<3)>>2],Rn=+he[xe+(on<<3)+4>>2],Pr=rn-Pr,mr=.5*(Tn+2);break}if(Rt){c[yr>>2]=pi,w[yr+8>>3]=D,w[yr+16>>3]=Tn,_r(0,865,yr);break}Pr=0|(on=(0|st)==(0|(on=~~rn))?Ne:on),fi=(0|(Rt=on+1|0))/Tt,vr=+he[xe+((Rt=Rt+Ge|0)<<3)>>2],Sn=+he[xe+(Rt<<3)+4>>2],bn=+he[xe+((on=on+Ge|0)<<3)>>2],vn=+he[xe+(on<<3)+4>>2],di=(Jn=3*Ni)+(fi*yi+li),fi=(mr=3*hi)+(fi*ai+jn),Jn+=(Rn=Pr/Tt)*yi+li,Rn=mr+(Rn*ai+jn),Pr=rn-Pr,mr=.5*(Tn+-1);break}if(x){vr=(di=3*yi+li)-(bn=2*Ni),Sn=(fi=3*ai+jn)-(vn=2*hi),bn=yi+li-bn,vn=ai+jn-vn,Jn=+he[ne>>2],Rn=+he[Q>>2],Pr=.5*(D-1),mr=.5*(Tn+2);break}if(Rt){Sn=(mr=0|(Rt=(0|pt)==(0|(Rt=~~_s))?Te:Rt))/Qt,Jn=(0|(on=Rt+1|0))/Qt,Rt=(0|De(Rt,Ye))+st|0,on=(0|De(on,Ye))+st|0,vr=Sn*Ni+(di=3*yi+li),Sn=Sn*hi+(fi=3*ai+jn),bn=+he[xe+(Rt<<3)>>2],vn=+he[xe+(Rt<<3)+4>>2],di=Jn*Ni+di,fi=Jn*hi+fi,Jn=+he[xe+(on<<3)>>2],Rn=+he[xe+(on<<3)+4>>2],Pr=.5*(D-1),mr=_s-mr;break}vr=Ni+(di=3*yi+li),Sn=hi+(fi=3*ai+jn),bn=+he[j>>2],vn=+he[Ce>>2],di=(Jn=3*Ni)+di,fi=(Rn=3*hi)+fi,Jn+=yi+li,Rn+=ai+jn,Pr=.5*(D-1),mr=.5*(Tn+-1);break}while(0);if(Pr+mr<=1){he[ce+(pi<<3)>>2]=bn+(vr-bn)*Pr+(Jn-bn)*mr,Tn=vn+(Sn-vn)*Pr,rn=(Rn-vn)*mr;break}he[ce+(pi<<3)>>2]=di+(Jn-di)*(Tn=1-Pr)+(vr-di)*(rn=1-mr),Tn=fi+(Rn-fi)*Tn,rn*=Sn-fi;break}while(0)}while(he[ce+(pi<<3)+4>>2]=Tn+rn,(0|(pi=pi+1|0))!=(0|K));_e=Vo}},function(y,x,M,ce,K){y|=0,x|=0,M|=0,ce|=0,K|=0;var D,ne,Y,j,$=0,Q=0,ge=0,Ce=0;if(x=0|c[(0|c[y+308>>2])+(x<<5)+16>>2],Q=3.1415927410125732*(+he[(0|c[y+168>>2])+(12*x|0)+4>>2]+ +he[(0|c[y+284>>2])+(x<<2)>>2])/180,$=+ue(Q),Q=+ye(Q),ne=(Q*=D=+he[(0|c[y+272>>2])+(x<<2)>>2])*(ge=0|c[(0|c[y+288>>2])+(x<<2)>>2]?-1:1),D=($*=D)*(Ce=0|c[(0|c[y+292>>2])+(x<<2)>>2]?-1:1),ge*=$,Ce*=Q,Q=+he[(0|c[y+276>>2])+(x<<2)>>2],$=+he[(0|c[y+280>>2])+(x<<2)>>2],!((0|K)<=0))for(x=0;j=+he[M+(x<<3)>>2],Y=+he[M+(x<<3)+4>>2],he[ce+(x<<3)>>2]=ne*j-D*Y+Q,he[ce+(x<<3)+4>>2]=ge*j+Ce*Y+$,(0|(x=x+1|0))!=(0|K););}];return{___errno_location:function(){return 3688},___muldi3:Uc,___udivdi3:Vc,_bitshift64Lshr:Qm,_bitshift64Shl:J1,_csmFree:function(y){qd(y|=0)},_csmGetDrawableConstantFlags:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[888+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1896,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableCount:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+332>>2],_e=M,0|x):(c[x>>2]=1858,c[x+4>>2]=1411,_r(0,1269,x),_e=M,0|(x=-1))},_csmGetDrawableDrawOrders:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+440>>2],_e=M,0|x):(c[x>>2]=1980,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableDynamicFlags:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+432>>2],_e=M,0|x):(c[x>>2]=1924,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableIds:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[832+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1878,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableIndexCounts:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[904+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=2182,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableIndices:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[840+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=2208,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableMaskCounts:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[912+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=2056,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableMasks:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[844+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=2081,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableMultiplyColors:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+452>>2],_e=M,0|x):(c[x>>2]=2230,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableOpacities:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+448>>2],_e=M,0|x):(c[x>>2]=2032,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableParentPartIndices:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[876+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=2286,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableRenderOrders:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+436>>2],_e=M,0|x):(c[x>>2]=2005,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableScreenColors:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+456>>2],_e=M,0|x):(c[x>>2]=2259,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableTextureIndices:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[884+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1951,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableVertexCounts:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[892+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=2101,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableVertexPositions:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+444>>2],_e=M,0|x):(c[x>>2]=2128,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetDrawableVertexUvs:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[836+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=2158,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetLatestMocVersion:function(){return 4},_csmGetMocVersion:function(y,x){x|=0;var M=_e;return _e=_e+16|0,x=M,(y|=0)?(y=0|tn(y),_e=M,0|y):(c[x>>2]=1286,c[x+4>>2]=1303,_r(0,1269,x),_e=M,(y=0)|y)},_csmGetParameterCount:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+540>>2],_e=M,0|x):(c[x>>2]=1610,c[x+4>>2]=1411,_r(0,1269,x),_e=M,0|(x=-1))},_csmGetParameterDefaultValues:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[932+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1729,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetParameterIds:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[916+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1631,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetParameterKeyCounts:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+616>>2],_e=M,0|x):(c[x>>2]=2347,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetParameterKeyValues:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+612>>2],_e=M,0|x):(c[x>>2]=2372,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetParameterMaximumValues:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[924+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1700,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetParameterMinimumValues:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[928+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1671,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetParameterTypes:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+548>>2],_e=M,0|x):(c[x>>2]=1650,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetParameterValues:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+552>>2],_e=M,0|x):(c[x>>2]=1758,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetPartCount:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+4>>2],_e=M,0|x):(c[x>>2]=1780,c[x+4>>2]=1411,_r(0,1269,x),_e=M,0|(x=-1))},_csmGetPartIds:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[712+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1796,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetPartOpacities:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[y+52>>2],_e=M,0|x):(c[x>>2]=1810,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetPartParentPartIndices:function(y){var x=0,M=_e;return _e=_e+16|0,x=M,(y|=0)?(x=0|c[740+(0|c[y>>2])>>2],_e=M,0|x):(c[x>>2]=1830,c[x+4>>2]=1411,_r(0,1269,x),_e=M,(x=0)|x)},_csmGetSizeofModel:xi,_csmGetVersion:function(){return 67239938},_csmInitializeModelInPlace:Fn,_csmMalloc:function(y){return 0|Ql(y|=0)},_csmMallocMoc:function(y){var x,M=_e;return _e=_e+16|0,zp(x=M,64,y|=0),_e=M,0|c[x>>2]},_csmMallocModelAndInitialize:function(y){var x=0,M=0,ce=_e;return _e=_e+16|0,x=ce,0|(y|=0)&&!(0|zp(x,16,M=0|xi(y)))?(x=0|Fn(y,y=0|c[x>>2],M))||(qd(y),x=0):x=0,_e=ce,0|x},_csmReadCanvasInfo:function(y,x,M,ce){x|=0,M|=0,ce|=0;var K,D,ne,Y=0,j=_e;if(_e=_e+32|0,D=j+24|0,Y=j+16|0,ne=j+8|0,K=j,y|=0)return x?M?void(_e=(ce?(Y=0|c[708+(0|c[y>>2])>>2],c[x>>2]=c[Y+12>>2],c[x+4>>2]=c[Y+16>>2],c[M>>2]=c[Y+4>>2],c[M+4>>2]=c[Y+8>>2],c[ce>>2]=c[Y>>2]):(c[D>>2]=1393,c[4+D>>2]=1487,_r(0,1269,D)),j)):(c[Y>>2]=1393,c[Y+4>>2]=1458,_r(0,1269,Y),void(_e=j)):(c[ne>>2]=1393,c[4+ne>>2]=1431,_r(0,1269,ne),void(_e=j));c[K>>2]=1393,c[K+4>>2]=1411,_r(0,1269,K),_e=j},_csmResetDrawableDynamicFlags:function(y){var x,M=_e;_e=_e+16|0,x=M,_e=((y|=0)?c[y+428>>2]=1:(c[x>>2]=2318,c[x+4>>2]=1411,_r(0,1269,x)),M)},_csmReviveMocInPlace:function(y,x){x|=0;var M,ce=0,K=0,D=_e;return _e=_e+32|0,K=D+16|0,M=D+8|0,ce=D,(y|=0)?((ce=y)+63&-64|0)!=(0|ce)?(c[M>>2]=1322,c[4+M>>2]=1342,_r(0,1269,M),_e=D,(K=0)|K):0|x&&(x+63&-64|0)==(0|x)?(K=0|sn(y),_e=D,0|K):(c[K>>2]=1322,c[K+4>>2]=1374,_r(0,1269,K),_e=D,(K=0)|K):(c[ce>>2]=1322,c[ce+4>>2]=1303,_r(0,1269,ce),_e=D,(K=0)|K)},_csmSetLogFunction:function(y){c[904]=y|=0},_csmUpdateModel:function(y){var x,M=_e;_e=_e+16|0,x=M,_e=((y|=0)?lo(y):(c[x>>2]=1595,c[x+4>>2]=1411,_r(0,1269,x)),M)},_emscripten_get_sbrk_ptr:IA,_emscripten_replace_memory:function(y){return He=new Int8Array(y),$t=new Uint8Array(y),Ar=new Int16Array(y),ur=new Uint16Array(y),c=new Int32Array(y),he=new Float32Array(y),w=new Float64Array(y),!0},_free:qd,_i64Add:qu,_i64Subtract:Zs,_malloc:Ql,_memcpy:Cl,_memset:Ka,dynCall_ii:function(y,x){return 0|Wp[3&(y|=0)](0|(x|=0))},dynCall_iiii:function(y,x,M,ce){return 0|Yd[3&(y|=0)](0|(x|=0),0|(M|=0),0|(ce|=0))},dynCall_iiiii:function(y,x,M,ce,K){return 0|El[3&(y|=0)](0|(x|=0),0|(M|=0),0|(ce|=0),0|(K|=0))},dynCall_vi:function(y,x){eu[1&(y|=0)](0|(x|=0))},dynCall_vii:function(y,x,M){qp[3&(y|=0)](0|(x|=0),0|(M|=0))},dynCall_viiiii:function(y,x,M,ce,K,D){zc[3&(y|=0)](0|(x|=0),0|(M|=0),0|(ce|=0),0|(K|=0),0|(D|=0))},establishStackSpace:function(y,x){_e=y|=0},stackAlloc:function(y){var x=_e;return _e=(_e=_e+(y|=0)|0)+15&-16,0|x},stackRestore:function(y){_e=y|=0},stackSave:function(){return 0|_e}}}({Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Float32Array,Float64Array},{a:jt,b:function(le){q=le},c:function(){return q},d:function(le,Ee){return W[le](Ee)},e:function(le,Ee,Fe,He){return W[le](Ee,Fe,He)},f:function(le,Ee,Fe,He,Ar){return W[le](Ee,Fe,He,Ar)},g:function(le,Ee){W[le](Ee)},h:function(le,Ee,Fe){W[le](Ee,Fe)},i:function(le,Ee,Fe,He,Ar,c){W[le](Ee,Fe,He,Ar,c)},j:function(){return St.apply(null,arguments)},k:Dt,l:function(le,Ee,Fe){re.set(re.subarray(Ee,Ee+Fe),le)},m:function(le){if(2130706432<le)return!1;for(var Ee=Math.max(Dt(),16777216);Ee<le;)Ee=Ee<=536870912?be(2*Ee):Math.min(be((3*Ee+2147483648)/4),2130706432);return!!_t(Ee)},n:St,o:function(){jt("OOM")},p:function(le){return le},q:Pe,r:_t,s:function(){var le=p._fflush;le&&le(0),et[1].length&&ot(1,10),et[2].length&&ot(2,10)},t:tt,u:function(){var le=tt();return p.extraStackTrace&&(le+=`
`+p.extraStackTrace()),Pe(le)},v:4400},R),xr=(p.___errno_location=zt.___errno_location,p.___muldi3=zt.___muldi3,p.___udivdi3=zt.___udivdi3,p._bitshift64Lshr=zt._bitshift64Lshr,p._bitshift64Shl=zt._bitshift64Shl,p._csmFree=zt._csmFree,p._csmGetDrawableConstantFlags=zt._csmGetDrawableConstantFlags,p._csmGetDrawableCount=zt._csmGetDrawableCount,p._csmGetDrawableDrawOrders=zt._csmGetDrawableDrawOrders,p._csmGetDrawableDynamicFlags=zt._csmGetDrawableDynamicFlags,p._csmGetDrawableIds=zt._csmGetDrawableIds,p._csmGetDrawableIndexCounts=zt._csmGetDrawableIndexCounts,p._csmGetDrawableIndices=zt._csmGetDrawableIndices,p._csmGetDrawableMaskCounts=zt._csmGetDrawableMaskCounts,p._csmGetDrawableMasks=zt._csmGetDrawableMasks,p._csmGetDrawableMultiplyColors=zt._csmGetDrawableMultiplyColors,p._csmGetDrawableOpacities=zt._csmGetDrawableOpacities,p._csmGetDrawableParentPartIndices=zt._csmGetDrawableParentPartIndices,p._csmGetDrawableRenderOrders=zt._csmGetDrawableRenderOrders,p._csmGetDrawableScreenColors=zt._csmGetDrawableScreenColors,p._csmGetDrawableTextureIndices=zt._csmGetDrawableTextureIndices,p._csmGetDrawableVertexCounts=zt._csmGetDrawableVertexCounts,p._csmGetDrawableVertexPositions=zt._csmGetDrawableVertexPositions,p._csmGetDrawableVertexUvs=zt._csmGetDrawableVertexUvs,p._csmGetLatestMocVersion=zt._csmGetLatestMocVersion,p._csmGetMocVersion=zt._csmGetMocVersion,p._csmGetParameterCount=zt._csmGetParameterCount,p._csmGetParameterDefaultValues=zt._csmGetParameterDefaultValues,p._csmGetParameterIds=zt._csmGetParameterIds,p._csmGetParameterKeyCounts=zt._csmGetParameterKeyCounts,p._csmGetParameterKeyValues=zt._csmGetParameterKeyValues,p._csmGetParameterMaximumValues=zt._csmGetParameterMaximumValues,p._csmGetParameterMinimumValues=zt._csmGetParameterMinimumValues,p._csmGetParameterTypes=zt._csmGetParameterTypes,p._csmGetParameterValues=zt._csmGetParameterValues,p._csmGetPartCount=zt._csmGetPartCount,p._csmGetPartIds=zt._csmGetPartIds,p._csmGetPartOpacities=zt._csmGetPartOpacities,p._csmGetPartParentPartIndices=zt._csmGetPartParentPartIndices,p._csmGetSizeofModel=zt._csmGetSizeofModel,p._csmGetVersion=zt._csmGetVersion,p._csmInitializeModelInPlace=zt._csmInitializeModelInPlace,p._csmMalloc=zt._csmMalloc,p._csmMallocMoc=zt._csmMallocMoc,p._csmMallocModelAndInitialize=zt._csmMallocModelAndInitialize,p._csmReadCanvasInfo=zt._csmReadCanvasInfo,p._csmResetDrawableDynamicFlags=zt._csmResetDrawableDynamicFlags,p._csmReviveMocInPlace=zt._csmReviveMocInPlace,p._csmSetLogFunction=zt._csmSetLogFunction,p._csmUpdateModel=zt._csmUpdateModel,p._emscripten_get_sbrk_ptr=zt._emscripten_get_sbrk_ptr,p._emscripten_replace_memory=zt._emscripten_replace_memory),Ot=(p._free=zt._free,p._i64Add=zt._i64Add,p._i64Subtract=zt._i64Subtract,p._malloc=zt._malloc,p._memcpy=zt._memcpy,p._memset=zt._memset,p.establishStackSpace=zt.establishStackSpace,p.stackAlloc=zt.stackAlloc),Re=p.stackRestore=zt.stackRestore,Ie=p.stackSave=zt.stackSave;function nt(){function le(){if(!Er&&(Er=!0,!J)){if(Qe(je),Qe(ze),p.onRuntimeInitialized&&p.onRuntimeInitialized(),p.postRun)for(typeof p.postRun=="function"&&(p.postRun=[p.postRun]);p.postRun.length;){var Ee=p.postRun.shift();ut.unshift(Ee)}Qe(ut)}}if(!(0<ct)){if(p.preRun)for(typeof p.preRun=="function"&&(p.preRun=[p.preRun]);p.preRun.length;)(function(){var Ee=p.preRun.shift();ht.unshift(Ee)})();Qe(ht),0<ct||(p.setStatus?(p.setStatus("Running..."),setTimeout(function(){setTimeout(function(){p.setStatus("")},1),le()},1)):le())}}if(p.dynCall_ii=zt.dynCall_ii,p.dynCall_iiii=zt.dynCall_iiii,p.dynCall_iiiii=zt.dynCall_iiiii,p.dynCall_vi=zt.dynCall_vi,p.dynCall_vii=zt.dynCall_vii,p.dynCall_viiiii=zt.dynCall_viiiii,p.asm=zt,p.ccall=function(le,Ee,Fe,He){var Ar={string:function(w){var k=0;if(w!=null&&w!==0){var U=1+(w.length<<2),de=k=Ot(U),ye=re;if(0<U){for(var U=de+U-1,ue=0;ue<w.length;++ue){var ke=w.charCodeAt(ue);if((ke=55296<=ke&&ke<=57343?65536+((1023&ke)<<10)|1023&w.charCodeAt(++ue):ke)<=127){if(U<=de)break;ye[de++]=ke}else{if(ke<=2047){if(U<=de+1)break;ye[de++]=192|ke>>6}else{if(ke<=65535){if(U<=de+2)break;ye[de++]=224|ke>>12}else{if(U<=de+3)break;ye[de++]=240|ke>>18,ye[de++]=128|ke>>12&63}ye[de++]=128|ke>>6&63}ye[de++]=128|63&ke}}ye[de]=0}}return k},array:function(w){var k=Ot(w.length);return z.set(w,k),k}},c=function(w){var k=p["_"+w];return X(k,"Cannot call unknown function "+w+", make sure it is exported"),k}(le),$t=[];if(le=0,He)for(var ur=0;ur<He.length;ur++){var he=Ar[Fe[ur]];he?(le===0&&(le=Ie()),$t[ur]=he(He[ur])):$t[ur]=He[ur]}return Fe=function(w){return Ee==="string"?ae(w):Ee==="boolean"?!!w:w}(Fe=c.apply(null,$t)),le!==0&&Re(le),Fe},p.UTF8ToString=ae,p.addFunction=function(le){for(var Ee=0;Ee<1;Ee++)if(!W[Ee])return W[Ee]=le,1+Ee;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},vt&&((String.prototype.startsWith?vt.startsWith(se):vt.indexOf(se)===0)||(A=vt,vt=p.locateFile?p.locateFile(A,O):O+A),E||I?(zt=T(vt),re.set(zt,8)):(ct++,p.monitorRunDependencies&&p.monitorRunDependencies(ct),yt=function(le){le.byteLength&&(le=new Uint8Array(le)),re.set(le,8),p.memoryInitializerRequest&&delete p.memoryInitializerRequest.response,ct--,p.monitorRunDependencies&&p.monitorRunDependencies(ct),ct==0&&mt&&(le=mt,mt=null,le())},Pt=function(){S(function(){throw"could not load memory initializer "+vt})},(O=kt(vt))?yt(O.buffer):p.memoryInitializerRequest?(A=function(){var le=p.memoryInitializerRequest,Ee=le.response;if(le.status!==200&&le.status!==0){if(!(Ee=kt(p.memoryInitializerRequestURL)))return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+le.status+", retrying "+vt),void Pt();Ee=Ee.buffer}yt(Ee)},p.memoryInitializerRequest.response?setTimeout(A,0):p.memoryInitializerRequest.addEventListener("load",A)):Pt())),p.then=function(le){var Ee;return Er?le(p):(Ee=p.onRuntimeInitialized,p.onRuntimeInitialized=function(){Ee&&Ee(),le(p)}),p},mt=function le(){Er||nt(),Er||(mt=le)},p.run=nt,p.preInit)for(typeof p.preInit=="function"&&(p.preInit=[p.preInit]);0<p.preInit.length;)p.preInit.pop()();return nt(),v}}();typeof exports=="object"&&typeof module=="object"?module.exports=f:typeof define=="function"&&define.amd?define([],function(){return f}):typeof exports=="object"&&(exports._em_module=f);var h=f()})(nR||(nR={}));window.Live2DCubismCore=nR;function gJe(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function vJe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var s=i.length;function o(l,u){if(u&&(typeof u=="object"||typeof u=="function")){var d=u.then;if(typeof d=="function"){d.call(u,function(f){o(l,f)},function(f){i[l]={status:"rejected",reason:f},--s===0&&r(i)});return}}i[l]={status:"fulfilled",value:u},--s===0&&r(i)}for(var a=0;a<i.length;a++)o(a,i[a])})}function Yse(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}Yse.prototype=Error.prototype;function yJe(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(i.length===0)return n();for(var s=[],o=0;o<i.length;o++)try{e.resolve(i[o]).then(r).catch(function(a){s.push(a),s.length===i.length&&n(new Yse(s,"All promises were rejected"))})}catch(a){n(a)}})}var _Je=setTimeout;function Kse(t){return!!(t&&typeof t.length<"u")}function bJe(){}function xJe(t,e){return function(){t.apply(e,arguments)}}function Ps(t){if(!(this instanceof Ps))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Qse(t,this)}function Zse(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,Ps._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?iR:Xb)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){Xb(e.promise,i);return}iR(e.promise,n)})}function iR(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof Ps){t._state=3,t._value=e,sR(t);return}else if(typeof r=="function"){Qse(xJe(r,e),t);return}}t._state=1,t._value=e,sR(t)}catch(n){Xb(t,n)}}function Xb(t,e){t._state=2,t._value=e,sR(t)}function sR(t){t._state===2&&t._deferreds.length===0&&Ps._immediateFn(function(){t._handled||Ps._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)Zse(t,t._deferreds[e]);t._deferreds=null}function wJe(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function Qse(t,e){var r=!1;try{t(function(n){r||(r=!0,iR(e,n))},function(n){r||(r=!0,Xb(e,n))})}catch(n){if(r)return;r=!0,Xb(e,n)}}Ps.prototype.catch=function(t){return this.then(null,t)};Ps.prototype.then=function(t,e){var r=new this.constructor(bJe);return Zse(this,new wJe(t,e,r)),r};Ps.prototype.finally=gJe;Ps.all=function(t){return new Ps(function(e,r){if(!Kse(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function s(a,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(d){s(a,d)},r);return}}n[a]=l,--i===0&&e(n)}catch(d){r(d)}}for(var o=0;o<n.length;o++)s(o,n[o])})};Ps.any=yJe;Ps.allSettled=vJe;Ps.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Ps?t:new Ps(function(e){e(t)})};Ps.reject=function(t){return new Ps(function(e,r){r(t)})};Ps.race=function(t){return new Ps(function(e,r){if(!Kse(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Ps.resolve(t[n]).then(e,r)})};Ps._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){_Je(t,0)};Ps._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var jH=Object.getOwnPropertySymbols,SJe=Object.prototype.hasOwnProperty,TJe=Object.prototype.propertyIsEnumerable;function CJe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function EJe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var AJe=EJe()?Object.assign:function(t,e){for(var r,n=CJe(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)SJe.call(r,o)&&(n[o]=r[o]);if(jH){i=jH(r);for(var a=0;a<i.length;a++)TJe.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n};const PJe=oo(AJe);/*!
 * @pixi/polyfill - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Ps);Object.assign||(Object.assign=PJe);var kJe=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var IJe=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-IJe}}var m4=Date.now(),GH=["ms","moz","webkit","o"];for(var g4=0;g4<GH.length&&!globalThis.requestAnimationFrame;++g4){var v4=GH[g4];globalThis.requestAnimationFrame=globalThis[v4+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[v4+"CancelAnimationFrame"]||globalThis[v4+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=kJe+m4-e;return r<0&&(r=0),m4=e,globalThis.self.setTimeout(function(){m4=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Rd;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Rd||(Rd={}));var ty;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ty||(ty={}));var Yb;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Yb||(Yb={}));var pn;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(pn||(pn={}));var bu;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(bu||(bu={}));var Cr;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Cr||(Cr={}));var ap;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ap||(ap={}));var cn;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(cn||(cn={}));var Kb;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Kb||(Kb={}));var uc;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(uc||(uc={}));var vc;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(vc||(vc={}));var Uu;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Uu||(Uu={}));var Vu;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Vu||(Vu={}));var cu;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(cu||(cu={}));var Zb;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Zb||(Zb={}));var hl;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(hl||(hl={}));var js;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(js||(js={}));var oR;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(oR||(oR={}));var os;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(os||(os={}));var yc;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(yc||(yc={}));/*!
 * @pixi/settings - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Jse={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},y4=/iPhone/i,WH=/iPod/i,qH=/iPad/i,XH=/\biOS-universal(?:.+)Mac\b/i,_4=/\bAndroid(?:.+)Mobile\b/i,YH=/Android/i,xg=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,cw=/Silk/i,rf=/Windows Phone/i,KH=/\bWindows(?:.+)ARM\b/i,ZH=/BlackBerry/i,QH=/BB10/i,JH=/Opera Mini/i,ej=/\b(CriOS|Chrome)(?:.+)Mobile/i,tj=/Mobile(?:.+)Firefox\b/i,rj=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function DJe(t){return function(e){return e.test(t)}}function RJe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=DJe(r),s={apple:{phone:i(y4)&&!i(rf),ipod:i(WH),tablet:!i(y4)&&(i(qH)||rj(e))&&!i(rf),universal:i(XH),device:(i(y4)||i(WH)||i(qH)||i(XH)||rj(e))&&!i(rf)},amazon:{phone:i(xg),tablet:!i(xg)&&i(cw),device:i(xg)||i(cw)},android:{phone:!i(rf)&&i(xg)||!i(rf)&&i(_4),tablet:!i(rf)&&!i(xg)&&!i(_4)&&(i(cw)||i(YH)),device:!i(rf)&&(i(xg)||i(cw)||i(_4)||i(YH))||i(/\bokhttp\b/i)},windows:{phone:i(rf),tablet:i(KH),device:i(rf)||i(KH)},other:{blackberry:i(ZH),blackberry10:i(QH),opera:i(JH),firefox:i(tj),chrome:i(ej),device:i(ZH)||i(QH)||i(JH)||i(tj)||i(ej)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var xu=RJe(globalThis.navigator);function MJe(){return!xu.apple.device}function OJe(t){var e=!0;if(xu.tablet||xu.phone){if(xu.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(xu.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}var Ur={ADAPTER:Jse,MIPMAP_TEXTURES:Uu.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:os.NONE,SPRITE_MAX_TEXTURES:OJe(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Zb.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:vc.CLAMP,SCALE_MODE:uc.LINEAR,PRECISION_VERTEX:hl.HIGH,PRECISION_FRAGMENT:xu.apple.device?hl.HIGH:hl.MEDIUM,CAN_UPLOAD_SAME_BUFFER:MJe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eoe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,g,v){var p=r?r+u:u;if(!this._events[p])return!1;var b=this._events[p],S=arguments.length,C,T;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,g),!0;case 6:return b.fn.call(b.context,d,f,h,g,v),!0}for(T=1,C=new Array(S-1);T<S;T++)C[T-1]=arguments[T];b.fn.apply(b.context,C)}else{var A=b.length,E;for(T=0;T<A;T++)switch(b[T].once&&this.removeListener(u,b[T].fn,void 0,!0),S){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,d);break;case 3:b[T].fn.call(b[T].context,d,f);break;case 4:b[T].fn.call(b[T].context,d,f,h);break;default:if(!C)for(E=1,C=new Array(S-1);E<S;E++)C[E-1]=arguments[E];b[T].fn.apply(b[T].context,C)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var p=0,b=[],S=v.length;p<S;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&b.push(v[p]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(eoe);var $Je=eoe.exports;const ah=oo($Je);var j$={exports:{}};j$.exports=pA;j$.exports.default=pA;function pA(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=toe(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,d,f,h,g;if(n&&(s=UJe(t,e,s,r)),t.length>80*r){a=u=t[0],l=d=t[1];for(var v=r;v<i;v+=r)f=t[v],h=t[v+1],f<a&&(a=f),h<l&&(l=h),f>u&&(u=f),h>d&&(d=h);g=Math.max(u-a,d-l),g=g!==0?32767/g:0}return Qb(s,o,r,a,l,g,0),o}function toe(t,e,r,n,i){var s,o;if(i===uR(t,e,r,n)>0)for(s=e;s<r;s+=n)o=nj(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=nj(s,t[s],t[s+1],o);return o&&mA(o,o.next)&&(e1(o),o=o.next),o}function Rm(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(mA(r,r.next)||Ss(r.prev,r,r.next)===0)){if(e1(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Qb(t,e,r,n,i,s,o){if(t){!o&&s&&GJe(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?FJe(t,n,i,s):LJe(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),e1(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=NJe(Rm(t),e,r),Qb(t,e,r,n,i,s,2)):o===2&&BJe(t,e,r,n,i,s):Qb(Rm(t),e,r,n,i,s,1);break}}}}function LJe(t){var e=t.prev,r=t,n=t.next;if(Ss(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,d=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,h=i>s?i>o?i:o:s>o?s:o,g=a>l?a>u?a:u:l>u?l:u,v=n.next;v!==e;){if(v.x>=d&&v.x<=h&&v.y>=f&&v.y<=g&&Vg(i,a,s,l,o,u,v.x,v.y)&&Ss(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function FJe(t,e,r,n){var i=t.prev,s=t,o=t.next;if(Ss(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,d=i.y,f=s.y,h=o.y,g=a<l?a<u?a:u:l<u?l:u,v=d<f?d<h?d:h:f<h?f:h,p=a>l?a>u?a:u:l>u?l:u,b=d>f?d>h?d:h:f>h?f:h,S=aR(g,v,e,r,n),C=aR(p,b,e,r,n),T=t.prevZ,A=t.nextZ;T&&T.z>=S&&A&&A.z<=C;){if(T.x>=g&&T.x<=p&&T.y>=v&&T.y<=b&&T!==i&&T!==o&&Vg(a,d,l,f,u,h,T.x,T.y)&&Ss(T.prev,T,T.next)>=0||(T=T.prevZ,A.x>=g&&A.x<=p&&A.y>=v&&A.y<=b&&A!==i&&A!==o&&Vg(a,d,l,f,u,h,A.x,A.y)&&Ss(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;T&&T.z>=S;){if(T.x>=g&&T.x<=p&&T.y>=v&&T.y<=b&&T!==i&&T!==o&&Vg(a,d,l,f,u,h,T.x,T.y)&&Ss(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;A&&A.z<=C;){if(A.x>=g&&A.x<=p&&A.y>=v&&A.y<=b&&A!==i&&A!==o&&Vg(a,d,l,f,u,h,A.x,A.y)&&Ss(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function NJe(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!mA(i,s)&&roe(i,n,n.next,s)&&Jb(i,s)&&Jb(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),e1(n),e1(n.next),n=t=s),n=n.next}while(n!==t);return Rm(n)}function BJe(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&XJe(o,a)){var l=noe(o,a);o=Rm(o,o.next),l=Rm(l,l.next),Qb(o,e,r,n,i,s,0),Qb(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function UJe(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=toe(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(qJe(u));for(i.sort(VJe),s=0;s<i.length;s++)r=zJe(i[s],r);return r}function VJe(t,e){return t.x-e.x}function zJe(t,e){var r=HJe(t,e);if(!r)return e;var n=noe(r,t);return Rm(n,n.next),Rm(r,r.next)}function HJe(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,d=o.y,f=1/0,h;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&Vg(i<d?n:s,i,u,d,i<d?s:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Jb(r,t)&&(h<f||h===f&&(r.x>o.x||r.x===o.x&&jJe(o,r)))&&(o=r,f=h)),r=r.next;while(r!==l);return o}function jJe(t,e){return Ss(t.prev,t,e.prev)<0&&Ss(e.next,t,t.next)<0}function GJe(t,e,r,n){var i=t;do i.z===0&&(i.z=aR(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,WJe(i)}function WJe(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function aR(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function qJe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Vg(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function XJe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!YJe(t,e)&&(Jb(t,e)&&Jb(e,t)&&KJe(t,e)&&(Ss(t.prev,t,e.prev)||Ss(t,e.prev,e))||mA(t,e)&&Ss(t.prev,t,t.next)>0&&Ss(e.prev,e,e.next)>0)}function Ss(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function mA(t,e){return t.x===e.x&&t.y===e.y}function roe(t,e,r,n){var i=fw(Ss(t,e,r)),s=fw(Ss(t,e,n)),o=fw(Ss(r,n,t)),a=fw(Ss(r,n,e));return!!(i!==s&&o!==a||i===0&&dw(t,r,e)||s===0&&dw(t,n,e)||o===0&&dw(r,t,n)||a===0&&dw(r,e,n))}function dw(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function fw(t){return t>0?1:t<0?-1:0}function YJe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&roe(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Jb(t,e){return Ss(t.prev,t,t.next)<0?Ss(t,e,t.next)>=0&&Ss(t,t.prev,e)>=0:Ss(t,e,t.prev)<0||Ss(t,t.next,e)<0}function KJe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function noe(t,e){var r=new lR(t.i,t.x,t.y),n=new lR(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function nj(t,e,r,n){var i=new lR(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function e1(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function lR(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}pA.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(uR(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,d=a<l-1?e[a+1]*r:t.length;o-=Math.abs(uR(t,u,d,r))}var f=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,g=n[a+1]*r,v=n[a+2]*r;f+=Math.abs((t[h]-t[v])*(t[g+1]-t[h+1])-(t[h]-t[g])*(t[v+1]-t[h+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function uR(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}pA.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var ZJe=j$.exports;const G$=oo(ZJe);var TC={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */TC.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof yo=="object"&&yo;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,d=26,f=38,h=700,g=72,v=128,p="-",b=/^xn--/,S=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=l-u,E=Math.floor,I=String.fromCharCode,O;function N(ee){throw new RangeError(T[ee])}function G(ee,ae){for(var be=ee.length,Me=[];be--;)Me[be]=ae(ee[be]);return Me}function ie(ee,ae){var be=ee.split("@"),Me="";be.length>1&&(Me=be[0]+"@",ee=be[1]),ee=ee.replace(C,".");var Qe=ee.split("."),ht=G(Qe,ae).join(".");return Me+ht}function W(ee){for(var ae=[],be=0,Me=ee.length,Qe,ht;be<Me;)Qe=ee.charCodeAt(be++),Qe>=55296&&Qe<=56319&&be<Me?(ht=ee.charCodeAt(be++),(ht&64512)==56320?ae.push(((Qe&1023)<<10)+(ht&1023)+65536):(ae.push(Qe),be--)):ae.push(Qe);return ae}function q(ee){return G(ee,function(ae){var be="";return ae>65535&&(ae-=65536,be+=I(ae>>>10&1023|55296),ae=56320|ae&1023),be+=I(ae),be}).join("")}function J(ee){return ee-48<10?ee-22:ee-65<26?ee-65:ee-97<26?ee-97:l}function X(ee,ae){return ee+22+75*(ee<26)-((ae!=0)<<5)}function R(ee,ae,be){var Me=0;for(ee=be?E(ee/h):ee>>1,ee+=E(ee/ae);ee>A*d>>1;Me+=l)ee=E(ee/A);return E(Me+(A+1)*ee/(ee+f))}function z(ee){var ae=[],be=ee.length,Me,Qe=0,ht=v,je=g,ze,ut,ct,mt,jt,vt,se,Pe,tt;for(ze=ee.lastIndexOf(p),ze<0&&(ze=0),ut=0;ut<ze;++ut)ee.charCodeAt(ut)>=128&&N("not-basic"),ae.push(ee.charCodeAt(ut));for(ct=ze>0?ze+1:0;ct<be;){for(mt=Qe,jt=1,vt=l;ct>=be&&N("invalid-input"),se=J(ee.charCodeAt(ct++)),(se>=l||se>E((a-Qe)/jt))&&N("overflow"),Qe+=se*jt,Pe=vt<=je?u:vt>=je+d?d:vt-je,!(se<Pe);vt+=l)tt=l-Pe,jt>E(a/tt)&&N("overflow"),jt*=tt;Me=ae.length+1,je=R(Qe-mt,Me,mt==0),E(Qe/Me)>a-ht&&N("overflow"),ht+=E(Qe/Me),Qe%=Me,ae.splice(Qe++,0,ht)}return q(ae)}function re(ee){var ae,be,Me,Qe,ht,je,ze,ut,ct,mt,jt,vt=[],se,Pe,tt,et;for(ee=W(ee),se=ee.length,ae=v,be=0,ht=g,je=0;je<se;++je)jt=ee[je],jt<128&&vt.push(I(jt));for(Me=Qe=vt.length,Qe&&vt.push(p);Me<se;){for(ze=a,je=0;je<se;++je)jt=ee[je],jt>=ae&&jt<ze&&(ze=jt);for(Pe=Me+1,ze-ae>E((a-be)/Pe)&&N("overflow"),be+=(ze-ae)*Pe,ae=ze,je=0;je<se;++je)if(jt=ee[je],jt<ae&&++be>a&&N("overflow"),jt==ae){for(ut=be,ct=l;mt=ct<=ht?u:ct>=ht+d?d:ct-ht,!(ut<mt);ct+=l)et=ut-mt,tt=l-mt,vt.push(I(X(mt+et%tt,0))),ut=E(et/tt);vt.push(I(X(ut,0))),ht=R(be,Pe,Me==Qe),be=0,++Me}++be,++ae}return vt.join("")}function oe(ee){return ie(ee,function(ae){return b.test(ae)?z(ae.slice(4).toLowerCase()):ae})}function H(ee){return ie(ee,function(ae){return S.test(ae)?"xn--"+re(ae):ae})}if(o={version:"1.4.1",ucs2:{decode:W,encode:q},decode:z,encode:re,toASCII:H,toUnicode:oe},n&&i)if(t.exports==n)i.exports=o;else for(O in o)o.hasOwnProperty(O)&&(n[O]=o[O]);else r.punycode=o})(yo)})(TC,TC.exports);var QJe=TC.exports,JJe=Error,eet=EvalError,tet=RangeError,ret=ReferenceError,ioe=SyntaxError,Y1=TypeError,net=URIError,iet=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},ij=typeof Symbol<"u"&&Symbol,set=iet,oet=function(){return typeof ij!="function"||typeof Symbol!="function"||typeof ij("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:set()},b4={__proto__:null,foo:{}},aet=Object,uet=function(){return{__proto__:b4}.foo===b4.foo&&!(b4 instanceof aet)},cet="Function.prototype.bind called on incompatible ",det=Object.prototype.toString,fet=Math.max,het="[object Function]",sj=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},pet=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},met=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},get=function(e){var r=this;if(typeof r!="function"||det.apply(r)!==het)throw new TypeError(cet+r);for(var n=pet(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,sj(n,arguments));return Object(d)===d?d:this}return r.apply(e,sj(n,arguments))},o=fet(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+met(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},vet=get,W$=Function.prototype.bind||vet,yet=Function.prototype.call,_et=Object.prototype.hasOwnProperty,bet=W$,xet=bet.call(yet,_et),ti,wet=JJe,Tet=eet,Cet=tet,Eet=ret,ry=ioe,fv=Y1,Aet=net,soe=Function,x4=function(t){try{return soe('"use strict"; return ('+t+").constructor;")()}catch{}},lm=Object.getOwnPropertyDescriptor;if(lm)try{lm({},"")}catch{lm=null}var w4=function(){throw new fv},Pet=lm?function(){try{return arguments.callee,w4}catch{try{return lm(arguments,"callee").get}catch{return w4}}}():w4,wg=oet(),ket=uet(),Co=Object.getPrototypeOf||(ket?function(t){return t.__proto__}:null),Rg={},Iet=typeof Uint8Array>"u"||!Co?ti:Co(Uint8Array),um={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ti:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ti:ArrayBuffer,"%ArrayIteratorPrototype%":wg&&Co?Co([][Symbol.iterator]()):ti,"%AsyncFromSyncIteratorPrototype%":ti,"%AsyncFunction%":Rg,"%AsyncGenerator%":Rg,"%AsyncGeneratorFunction%":Rg,"%AsyncIteratorPrototype%":Rg,"%Atomics%":typeof Atomics>"u"?ti:Atomics,"%BigInt%":typeof BigInt>"u"?ti:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ti:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ti:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ti:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":wet,"%eval%":eval,"%EvalError%":Tet,"%Float32Array%":typeof Float32Array>"u"?ti:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ti:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ti:FinalizationRegistry,"%Function%":soe,"%GeneratorFunction%":Rg,"%Int8Array%":typeof Int8Array>"u"?ti:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ti:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ti:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wg&&Co?Co(Co([][Symbol.iterator]())):ti,"%JSON%":typeof JSON=="object"?JSON:ti,"%Map%":typeof Map>"u"?ti:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wg||!Co?ti:Co(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ti:Promise,"%Proxy%":typeof Proxy>"u"?ti:Proxy,"%RangeError%":Cet,"%ReferenceError%":Eet,"%Reflect%":typeof Reflect>"u"?ti:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ti:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wg||!Co?ti:Co(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ti:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wg&&Co?Co(""[Symbol.iterator]()):ti,"%Symbol%":wg?Symbol:ti,"%SyntaxError%":ry,"%ThrowTypeError%":Pet,"%TypedArray%":Iet,"%TypeError%":fv,"%Uint8Array%":typeof Uint8Array>"u"?ti:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ti:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ti:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ti:Uint32Array,"%URIError%":Aet,"%WeakMap%":typeof WeakMap>"u"?ti:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ti:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ti:WeakSet};if(Co)try{null.error}catch(t){var Det=Co(Co(t));um["%Error.prototype%"]=Det}var Ret=function t(e){var r;if(e==="%AsyncFunction%")r=x4("async function () {}");else if(e==="%GeneratorFunction%")r=x4("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=x4("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Co&&(r=Co(i.prototype))}return um[e]=r,r},oj={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K1=W$,CC=xet,Met=K1.call(Function.call,Array.prototype.concat),Oet=K1.call(Function.apply,Array.prototype.splice),aj=K1.call(Function.call,String.prototype.replace),EC=K1.call(Function.call,String.prototype.slice),$et=K1.call(Function.call,RegExp.prototype.exec),Let=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fet=/\\(\\)?/g,Net=function(e){var r=EC(e,0,1),n=EC(e,-1);if(r==="%"&&n!=="%")throw new ry("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ry("invalid intrinsic syntax, expected opening `%`");var i=[];return aj(e,Let,function(s,o,a,l){i[i.length]=a?aj(l,Fet,"$1"):o||s}),i},Bet=function(e,r){var n=e,i;if(CC(oj,n)&&(i=oj[n],n="%"+i[0]+"%"),CC(um,n)){var s=um[n];if(s===Rg&&(s=Ret(n)),typeof s>"u"&&!r)throw new fv("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ry("intrinsic "+e+" does not exist!")},qy=function(e,r){if(typeof e!="string"||e.length===0)throw new fv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new fv('"allowMissing" argument must be a boolean');if($et(/^%?[^%]*%?$/,e)===null)throw new ry("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Net(e),i=n.length>0?n[0]:"",s=Bet("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],Oet(n,Met([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var h=n[d],g=EC(h,0,1),v=EC(h,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new ry("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,o="%"+i+"%",CC(um,o))a=um[o];else if(a!=null){if(!(h in a)){if(!r)throw new fv("base intrinsic for "+e+" exists, but the property is not available.");return}if(lm&&d+1>=n.length){var p=lm(a,h);f=!!p,f&&"get"in p&&!("originalValue"in p.get)?a=p.get:a=a[h]}else f=CC(a,h),a=a[h];f&&!l&&(um[o]=a)}}return a},ooe={exports:{}},S4,lj;function q$(){if(lj)return S4;lj=1;var t=qy,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return S4=e,S4}var Uet=qy,BS=Uet("%Object.getOwnPropertyDescriptor%",!0);if(BS)try{BS([],"length")}catch{BS=null}var aoe=BS,uj=q$(),Vet=ioe,Sg=Y1,cj=aoe,zet=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Sg("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Sg("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Sg("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Sg("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Sg("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Sg("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!cj&&cj(e,r);if(uj)uj(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Vet("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},cR=q$(),loe=function(){return!!cR};loe.hasArrayLengthDefineBug=function(){if(!cR)return null;try{return cR([],"length",{value:1}).length!==1}catch{return!0}};var Het=loe,jet=qy,dj=zet,Get=Het(),fj=aoe,hj=Y1,Wet=jet("%Math.floor%"),qet=function(e,r){if(typeof e!="function")throw new hj("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Wet(r)!==r)throw new hj("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&fj){var o=fj(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(Get?dj(e,"length",r,!0,!0):dj(e,"length",r)),e};(function(t){var e=W$,r=qy,n=qet,i=Y1,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=q$(),u=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+u(0,h.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d})(ooe);var Xet=ooe.exports,uoe=qy,coe=Xet,Yet=coe(uoe("String.prototype.indexOf")),Ket=function(e,r){var n=uoe(e,!!r);return typeof n=="function"&&Yet(e,".prototype.")>-1?coe(n):n},X$=typeof Map=="function"&&Map.prototype,T4=Object.getOwnPropertyDescriptor&&X$?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,AC=X$&&T4&&typeof T4.get=="function"?T4.get:null,pj=X$&&Map.prototype.forEach,Y$=typeof Set=="function"&&Set.prototype,C4=Object.getOwnPropertyDescriptor&&Y$?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,PC=Y$&&C4&&typeof C4.get=="function"?C4.get:null,mj=Y$&&Set.prototype.forEach,Zet=typeof WeakMap=="function"&&WeakMap.prototype,V2=Zet?WeakMap.prototype.has:null,Qet=typeof WeakSet=="function"&&WeakSet.prototype,z2=Qet?WeakSet.prototype.has:null,Jet=typeof WeakRef=="function"&&WeakRef.prototype,gj=Jet?WeakRef.prototype.deref:null,ett=Boolean.prototype.valueOf,ttt=Object.prototype.toString,rtt=Function.prototype.toString,ntt=String.prototype.match,K$=String.prototype.slice,Zh=String.prototype.replace,itt=String.prototype.toUpperCase,vj=String.prototype.toLowerCase,doe=RegExp.prototype.test,yj=Array.prototype.concat,sd=Array.prototype.join,stt=Array.prototype.slice,_j=Math.floor,dR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,E4=Object.getOwnPropertySymbols,fR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ny=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_a=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ny||"symbol")?Symbol.toStringTag:null,foe=Object.prototype.propertyIsEnumerable,bj=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function xj(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||doe.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-_j(-t):_j(t);if(n!==t){var i=String(n),s=K$.call(e,i.length+1);return Zh.call(i,r,"$&_")+"."+Zh.call(Zh.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Zh.call(e,r,"$&_")}var hR=f8,wj=hR.custom,Sj=poe(wj)?wj:null,ott=function t(e,r,n,i){var s=r||{};if(zh(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zh(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=zh(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zh(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zh(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return goe(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?xj(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?xj(e,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return pR(e)?"[Array]":"[Object]";var f=Ttt(s,n);if(typeof i>"u")i=[];else if(moe(i,e)>=0)return"[Circular]";function h(J,X,R){if(X&&(i=stt.call(i),i.push(X)),R){var z={depth:s.depth};return zh(s,"quoteStyle")&&(z.quoteStyle=s.quoteStyle),t(J,z,n+1,i)}return t(J,s,n+1,i)}if(typeof e=="function"&&!Tj(e)){var g=mtt(e),v=hw(e,h);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+sd.call(v,", ")+" }":"")}if(poe(e)){var p=ny?Zh.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):fR.call(e);return typeof e=="object"&&!ny?A_(p):p}if(xtt(e)){for(var b="<"+vj.call(String(e.nodeName)),S=e.attributes||[],C=0;C<S.length;C++)b+=" "+S[C].name+"="+hoe(att(S[C].value),"double",s);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+vj.call(String(e.nodeName))+">",b}if(pR(e)){if(e.length===0)return"[]";var T=hw(e,h);return f&&!Stt(T)?"["+mR(T,f)+"]":"[ "+sd.call(T,", ")+" ]"}if(utt(e)){var A=hw(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!foe.call(e,"cause")?"{ ["+String(e)+"] "+sd.call(yj.call("[cause]: "+h(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+sd.call(A,", ")+" }"}if(typeof e=="object"&&o){if(Sj&&typeof e[Sj]=="function"&&hR)return hR(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(gtt(e)){var E=[];return pj&&pj.call(e,function(J,X){E.push(h(X,e,!0)+" => "+h(J,e))}),Cj("Map",AC.call(e),E,f)}if(_tt(e)){var I=[];return mj&&mj.call(e,function(J){I.push(h(J,e))}),Cj("Set",PC.call(e),I,f)}if(vtt(e))return A4("WeakMap");if(btt(e))return A4("WeakSet");if(ytt(e))return A4("WeakRef");if(dtt(e))return A_(h(Number(e)));if(htt(e))return A_(h(dR.call(e)));if(ftt(e))return A_(ett.call(e));if(ctt(e))return A_(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof yo<"u"&&e===yo)return"{ [object globalThis] }";if(!ltt(e)&&!Tj(e)){var O=hw(e,h),N=bj?bj(e)===Object.prototype:e instanceof Object||e.constructor===Object,G=e instanceof Object?"":"null prototype",ie=!N&&_a&&Object(e)===e&&_a in e?K$.call(Lp(e),8,-1):G?"Object":"",W=N||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",q=W+(ie||G?"["+sd.call(yj.call([],ie||[],G||[]),": ")+"] ":"");return O.length===0?q+"{}":f?q+"{"+mR(O,f)+"}":q+"{ "+sd.call(O,", ")+" }"}return String(e)};function hoe(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function att(t){return Zh.call(String(t),/"/g,"&quot;")}function pR(t){return Lp(t)==="[object Array]"&&(!_a||!(typeof t=="object"&&_a in t))}function ltt(t){return Lp(t)==="[object Date]"&&(!_a||!(typeof t=="object"&&_a in t))}function Tj(t){return Lp(t)==="[object RegExp]"&&(!_a||!(typeof t=="object"&&_a in t))}function utt(t){return Lp(t)==="[object Error]"&&(!_a||!(typeof t=="object"&&_a in t))}function ctt(t){return Lp(t)==="[object String]"&&(!_a||!(typeof t=="object"&&_a in t))}function dtt(t){return Lp(t)==="[object Number]"&&(!_a||!(typeof t=="object"&&_a in t))}function ftt(t){return Lp(t)==="[object Boolean]"&&(!_a||!(typeof t=="object"&&_a in t))}function poe(t){if(ny)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!fR)return!1;try{return fR.call(t),!0}catch{}return!1}function htt(t){if(!t||typeof t!="object"||!dR)return!1;try{return dR.call(t),!0}catch{}return!1}var ptt=Object.prototype.hasOwnProperty||function(t){return t in this};function zh(t,e){return ptt.call(t,e)}function Lp(t){return ttt.call(t)}function mtt(t){if(t.name)return t.name;var e=ntt.call(rtt.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function moe(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function gtt(t){if(!AC||!t||typeof t!="object")return!1;try{AC.call(t);try{PC.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function vtt(t){if(!V2||!t||typeof t!="object")return!1;try{V2.call(t,V2);try{z2.call(t,z2)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ytt(t){if(!gj||!t||typeof t!="object")return!1;try{return gj.call(t),!0}catch{}return!1}function _tt(t){if(!PC||!t||typeof t!="object")return!1;try{PC.call(t);try{AC.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function btt(t){if(!z2||!t||typeof t!="object")return!1;try{z2.call(t,z2);try{V2.call(t,V2)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function xtt(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function goe(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return goe(K$.call(t,0,e.maxStringLength),e)+n}var i=Zh.call(Zh.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wtt);return hoe(i,"single",e)}function wtt(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+itt.call(e.toString(16))}function A_(t){return"Object("+t+")"}function A4(t){return t+" { ? }"}function Cj(t,e,r,n){var i=n?mR(r,n):sd.call(r,", ");return t+" ("+e+") {"+i+"}"}function Stt(t){for(var e=0;e<t.length;e++)if(moe(t[e],`
`)>=0)return!1;return!0}function Ttt(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=sd.call(Array(t.indent+1)," ");else return null;return{base:r,prev:sd.call(Array(e+1),r)}}function mR(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+sd.call(t,","+r)+`
`+e.prev}function hw(t,e){var r=pR(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=zh(t,i)?e(t[i],t):""}var s=typeof E4=="function"?E4(t):[],o;if(ny){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)zh(t,l)&&(r&&String(Number(l))===l&&l<t.length||ny&&o["$"+l]instanceof Symbol||(doe.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof E4=="function")for(var u=0;u<s.length;u++)foe.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var voe=qy,Xy=Ket,Ctt=ott,Ett=Y1,pw=voe("%WeakMap%",!0),mw=voe("%Map%",!0),Att=Xy("WeakMap.prototype.get",!0),Ptt=Xy("WeakMap.prototype.set",!0),ktt=Xy("WeakMap.prototype.has",!0),Itt=Xy("Map.prototype.get",!0),Dtt=Xy("Map.prototype.set",!0),Rtt=Xy("Map.prototype.has",!0),Z$=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Mtt=function(t,e){var r=Z$(t,e);return r&&r.value},Ott=function(t,e,r){var n=Z$(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},$tt=function(t,e){return!!Z$(t,e)},Ltt=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Ett("Side channel does not contain "+Ctt(s))},get:function(s){if(pw&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Att(e,s)}else if(mw){if(r)return Itt(r,s)}else if(n)return Mtt(n,s)},has:function(s){if(pw&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ktt(e,s)}else if(mw){if(r)return Rtt(r,s)}else if(n)return $tt(n,s);return!1},set:function(s,o){pw&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new pw),Ptt(e,s,o)):mw?(r||(r=new mw),Dtt(r,s,o)):(n||(n={key:{},next:null}),Ott(n,s,o))}};return i},Ftt=String.prototype.replace,Ntt=/%20/g,P4={RFC1738:"RFC1738",RFC3986:"RFC3986"},Q$={default:P4.RFC3986,formatters:{RFC1738:function(t){return Ftt.call(t,Ntt,"+")},RFC3986:function(t){return String(t)}},RFC1738:P4.RFC1738,RFC3986:P4.RFC3986},Btt=Q$,k4=Object.prototype.hasOwnProperty,M0=Array.isArray,Wc=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Utt=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(M0(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},yoe=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Vtt=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(M0(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!k4.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return M0(e)&&!M0(r)&&(i=yoe(e,n)),M0(e)&&M0(r)?(r.forEach(function(s,o){if(k4.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return k4.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},ztt=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Htt=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},I4=1024,jtt=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=I4){for(var u=o.length>=I4?o.slice(l,l+I4):o,d=[],f=0;f<u.length;++f){var h=u.charCodeAt(f);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Btt.RFC1738&&(h===40||h===41)){d[d.length]=u.charAt(f);continue}if(h<128){d[d.length]=Wc[h];continue}if(h<2048){d[d.length]=Wc[192|h>>6]+Wc[128|h&63];continue}if(h<55296||h>=57344){d[d.length]=Wc[224|h>>12]+Wc[128|h>>6&63]+Wc[128|h&63];continue}f+=1,h=65536+((h&1023)<<10|u.charCodeAt(f)&1023),d[d.length]=Wc[240|h>>18]+Wc[128|h>>12&63]+Wc[128|h>>6&63]+Wc[128|h&63]}a+=d.join("")}return a},Gtt=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],d=o[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:u}),n.push(d))}return Utt(r),e},Wtt=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},qtt=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Xtt=function(e,r){return[].concat(e,r)},Ytt=function(e,r){if(M0(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},_oe={arrayToObject:yoe,assign:ztt,combine:Xtt,compact:Gtt,decode:Htt,encode:jtt,isBuffer:qtt,isRegExp:Wtt,maybeMap:Ytt,merge:Vtt},boe=Ltt,US=_oe,H2=Q$,Ktt=Object.prototype.hasOwnProperty,xoe={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ed=Array.isArray,Ztt=Array.prototype.push,woe=function(t,e){Ztt.apply(t,ed(e)?e:[e])},Qtt=Date.prototype.toISOString,Ej=H2.default,ho={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:US.encode,encodeValuesOnly:!1,format:Ej,formatter:H2.formatters[Ej],indices:!1,serializeDate:function(e){return Qtt.call(e)},skipNulls:!1,strictNullHandling:!1},Jtt=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},D4={},ert=function t(e,r,n,i,s,o,a,l,u,d,f,h,g,v,p,b,S,C){for(var T=e,A=C,E=0,I=!1;(A=A.get(D4))!==void 0&&!I;){var O=A.get(e);if(E+=1,typeof O<"u"){if(O===E)throw new RangeError("Cyclic object value");I=!0}typeof A.get(D4)>"u"&&(E=0)}if(typeof d=="function"?T=d(r,T):T instanceof Date?T=g(T):n==="comma"&&ed(T)&&(T=US.maybeMap(T,function(ee){return ee instanceof Date?g(ee):ee})),T===null){if(o)return u&&!b?u(r,ho.encoder,S,"key",v):r;T=""}if(Jtt(T)||US.isBuffer(T)){if(u){var N=b?r:u(r,ho.encoder,S,"key",v);return[p(N)+"="+p(u(T,ho.encoder,S,"value",v))]}return[p(r)+"="+p(String(T))]}var G=[];if(typeof T>"u")return G;var ie;if(n==="comma"&&ed(T))b&&u&&(T=US.maybeMap(T,u)),ie=[{value:T.length>0?T.join(",")||null:void 0}];else if(ed(d))ie=d;else{var W=Object.keys(T);ie=f?W.sort(f):W}var q=l?r.replace(/\./g,"%2E"):r,J=i&&ed(T)&&T.length===1?q+"[]":q;if(s&&ed(T)&&T.length===0)return J+"[]";for(var X=0;X<ie.length;++X){var R=ie[X],z=typeof R=="object"&&typeof R.value<"u"?R.value:T[R];if(!(a&&z===null)){var re=h&&l?R.replace(/\./g,"%2E"):R,oe=ed(T)?typeof n=="function"?n(J,re):J:J+(h?"."+re:"["+re+"]");C.set(e,E);var H=boe();H.set(D4,C),woe(G,t(z,oe,n,i,s,o,a,l,n==="comma"&&b&&ed(T)?null:u,d,f,h,g,v,p,b,S,H))}}return G},trt=function(e){if(!e)return ho;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ho.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=H2.default;if(typeof e.format<"u"){if(!Ktt.call(H2.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=H2.formatters[n],s=ho.filter;(typeof e.filter=="function"||ed(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in xoe?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=ho.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:ho.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ho.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ho.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ho.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ho.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ho.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ho.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ho.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ho.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ho.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ho.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ho.strictNullHandling}},rrt=function(t,e){var r=t,n=trt(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ed(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=xoe[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=boe(),d=0;d<i.length;++d){var f=i[d];n.skipNulls&&r[f]===null||woe(o,ert(r[f],f,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var h=o.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),h.length>0?g+h:""},iy=_oe,gR=Object.prototype.hasOwnProperty,nrt=Array.isArray,Ds={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:iy.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},irt=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Soe=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},srt="utf8=%26%2310003%3B",ort="utf8=%E2%9C%93",art=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===ort?u="utf-8":o[l]===srt&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,g,v;h===-1?(g=r.decoder(d,Ds.decoder,u,"key"),v=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,h),Ds.decoder,u,"key"),v=iy.maybeMap(Soe(d.slice(h+1),r),function(b){return r.decoder(b,Ds.decoder,u,"value")})),v&&r.interpretNumericEntities&&u==="iso-8859-1"&&(v=irt(v)),d.indexOf("[]=")>-1&&(v=nrt(v)?[v]:v);var p=gR.call(n,g);p&&r.duplicates==="combine"?n[g]=iy.combine(n[g],v):(!p||r.duplicates==="last")&&(n[g]=v)}return n},lrt=function(t,e,r,n){for(var i=n?e:Soe(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(d)&&a!==u&&String(d)===u&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},urt=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!n.plainObjects&&gR.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var f=0;n.depth>0&&(l=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&gR.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+s.slice(l.index)+"]")}return lrt(d,r,n,i)}},crt=function(e){if(!e)return Ds;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ds.charset:e.charset,n=typeof e.duplicates>"u"?Ds.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ds.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ds.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ds.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ds.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ds.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ds.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ds.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ds.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ds.decoder,delimiter:typeof e.delimiter=="string"||iy.isRegExp(e.delimiter)?e.delimiter:Ds.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ds.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ds.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ds.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ds.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ds.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ds.strictNullHandling}},drt=function(t,e){var r=crt(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?art(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=urt(a,n[a],r,typeof t=="string");i=iy.merge(i,l,r)}return r.allowSparse===!0?i:iy.compact(i)},frt=rrt,hrt=drt,prt=Q$,mrt={formats:prt,parse:hrt,stringify:frt},grt=QJe;function _c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var vrt=/^([a-z0-9.+-]+:)/i,yrt=/:[0-9]*$/,_rt=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,brt=["<",">",'"',"`"," ","\r",`
`,"	"],xrt=["{","}","|","\\","^","`"].concat(brt),vR=["'"].concat(xrt),Aj=["%","/","?",";","#"].concat(vR),Pj=["/","?","#"],wrt=255,kj=/^[+a-z0-9A-Z_-]{0,63}$/,Srt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Trt={javascript:!0,"javascript:":!0},yR={javascript:!0,"javascript:":!0},hv={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_R=mrt;function gA(t,e,r){if(t&&typeof t=="object"&&t instanceof _c)return t;var n=new _c;return n.parse(t,e,r),n}_c.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=_rt.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=_R.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=vrt.exec(a);if(u){u=u[0];var d=u.toLowerCase();this.protocol=d,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&yR[u])&&(a=a.substr(2),this.slashes=!0)}if(!yR[u]&&(f||u&&!hv[u])){for(var h=-1,g=0;g<Pj.length;g++){var v=a.indexOf(Pj[g]);v!==-1&&(h===-1||v<h)&&(h=v)}var p,b;h===-1?b=a.lastIndexOf("@"):b=a.lastIndexOf("@",h),b!==-1&&(p=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(p)),h=-1;for(var g=0;g<Aj.length;g++){var v=a.indexOf(Aj[g]);v!==-1&&(h===-1||v<h)&&(h=v)}h===-1&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var C=this.hostname.split(/\./),g=0,T=C.length;g<T;g++){var A=C[g];if(A&&!A.match(kj)){for(var E="",I=0,O=A.length;I<O;I++)A.charCodeAt(I)>127?E+="x":E+=A[I];if(!E.match(kj)){var N=C.slice(0,g),G=C.slice(g+1),ie=A.match(Srt);ie&&(N.push(ie[1]),G.unshift(ie[2])),G.length&&(a="/"+G.join(".")+a),this.hostname=N.join(".");break}}}this.hostname.length>wrt?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=grt.toASCII(this.hostname));var W=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+W,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Trt[d])for(var g=0,T=vR.length;g<T;g++){var J=vR[g];if(a.indexOf(J)!==-1){var X=encodeURIComponent(J);X===J&&(X=escape(J)),a=a.split(J).join(X)}}var R=a.indexOf("#");R!==-1&&(this.hash=a.substr(R),a=a.slice(0,R));var z=a.indexOf("?");if(z!==-1?(this.search=a.substr(z),this.query=a.substr(z+1),e&&(this.query=_R.parse(this.query)),a=a.slice(0,z)):e&&(this.search="",this.query={}),a&&(this.pathname=a),hv[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var W=this.pathname||"",re=this.search||"";this.path=W+re}return this.href=this.format(),this};function Crt(t){return typeof t=="string"&&(t=gA(t)),t instanceof _c?t.format():_c.prototype.format.call(t)}_c.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=_R.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||hv[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function Ert(t,e){return gA(t,!1,!0).resolve(e)}_c.prototype.resolve=function(t){return this.resolveObject(gA(t,!1,!0)).format()};_c.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new _c;e.parse(t,!1,!0),t=e}for(var r=new _c,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return hv[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!hv[t.protocol]){for(var u=Object.keys(t),d=0;d<u.length;d++){var f=u[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!yR[t.protocol]){for(var T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),r.pathname=T.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",g=r.search||"";r.path=h+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",p=t.host||t.pathname&&t.pathname.charAt(0)==="/",b=p||v||r.host&&t.pathname,S=b,C=r.pathname&&r.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!hv[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(C[0]===""?C[0]=r.host:C.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(T[0]===""?T[0]=t.host:T.unshift(t.host)),t.host=null),b=b&&(T[0]===""||C[0]==="")),p)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,C=T;else if(T.length)C||(C=[]),C.pop(),C=C.concat(T),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=C.shift(),r.hostname=r.host;var E=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;E&&(r.auth=E.shift(),r.hostname=E.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=C.slice(-1)[0],O=(r.host||t.host||C.length>1)&&(I==="."||I==="..")||I==="",N=0,G=C.length;G>=0;G--)I=C[G],I==="."?C.splice(G,1):I===".."?(C.splice(G,1),N++):N&&(C.splice(G,1),N--);if(!b&&!S)for(;N--;N)C.unshift("..");b&&C[0]!==""&&(!C[0]||C[0].charAt(0)!=="/")&&C.unshift(""),O&&C.join("/").substr(-1)!=="/"&&C.push("");var ie=C[0]===""||C[0]&&C[0].charAt(0)==="/";if(A){r.hostname=ie?"":C.length?C.shift():"",r.host=r.hostname;var E=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;E&&(r.auth=E.shift(),r.hostname=E.shift(),r.host=r.hostname)}return b=b||r.host&&C.length,b&&!ie&&C.unshift(""),C.length>0?r.pathname=C.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};_c.prototype.parseHost=function(){var t=this.host,e=yrt.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Art=gA,Prt=Ert,krt=Crt;/*!
 * @pixi/utils - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var md={parse:Art,format:krt,resolve:Prt};function Zu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Ij(t){var e=t.split("?")[0];return e.split("#")[0]}function Irt(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Drt(t,e,r){return t.replace(new RegExp(Irt(e),"g"),r)}function Rrt(t,e){for(var r="",n=0,i=-1,s=0,o,a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}var Toe={toPosix:function(t){return Drt(t,"\\","/")},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol:function(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol:function(t){Zu(t),t=this.toPosix(t);var e="",r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){var s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute:function(t,e,r){if(this.isDataUrl(t))return t;var n=Ij(this.toPosix(e??Ur.ADAPTER.getBaseUrl())),i=Ij(this.toPosix(r??this.rootname(n)));if(Zu(t),t=this.toPosix(t),t.startsWith("/"))return Toe.join(i,t.slice(1));var s=this.isAbsolute(t)?t:this.join(n,t);return s},normalize:function(t){if(t=this.toPosix(t),Zu(t),t.length===0)return".";var e="",r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var n=t.endsWith("/");return t=Rrt(t,!1),t.length>0&&n&&(t+="/"),r?"/"+t:e+t},isAbsolute:function(t){return Zu(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join:function(){for(var t=arguments,e,r=[],n=0;n<arguments.length;n++)r[n]=t[n];if(r.length===0)return".";for(var i,s=0;s<r.length;++s){var o=r[s];if(Zu(o),o.length>0)if(i===void 0)i=o;else{var a=(e=r[s-1])!==null&&e!==void 0?e:"";this.extname(a)?i+="/../"+o:i+="/"+o}}return i===void 0?".":this.normalize(i)},dirname:function(t){if(Zu(t),t.length===0)return".";t=this.toPosix(t);var e=t.charCodeAt(0),r=e===47,n=-1,i=!0,s=this.getProtocol(t),o=t;t=t.slice(s.length);for(var a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname:function(t){Zu(t),t=this.toPosix(t);var e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){var r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename:function(t,e){Zu(t),e&&Zu(e),t=this.toPosix(t);var r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname:function(t){Zu(t),t=this.toPosix(t);for(var e=-1,r=0,n=-1,i=!0,s=0,o=t.length-1;o>=0;--o){var a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse:function(t){Zu(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=this.toPosix(t);var r=t.charCodeAt(0),n=this.isAbsolute(t),i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;for(var s=-1,o=0,a=-1,l=!0,u=t.length-1,d=0;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};Ur.RETINA_PREFIX=/@([0-9\.]+)x/;Ur.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var bR=!1,Dj="6.5.9";function Mrt(){bR=!0}function Coe(t){var e;if(!bR){if(Ur.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+Dj+" - ✰ "+t+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+Dj+" - "+t+" - http://www.pixijs.com/");bR=!0}}var R4;function Eoe(){return typeof R4>"u"&&(R4=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Ur.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Ur.ADAPTER.getWebGLRenderingContext())return!1;var r=Ur.ADAPTER.createCanvas(),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),R4}var Ort="#f0f8ff",$rt="#faebd7",Lrt="#00ffff",Frt="#7fffd4",Nrt="#f0ffff",Brt="#f5f5dc",Urt="#ffe4c4",Vrt="#000000",zrt="#ffebcd",Hrt="#0000ff",jrt="#8a2be2",Grt="#a52a2a",Wrt="#deb887",qrt="#5f9ea0",Xrt="#7fff00",Yrt="#d2691e",Krt="#ff7f50",Zrt="#6495ed",Qrt="#fff8dc",Jrt="#dc143c",ent="#00ffff",tnt="#00008b",rnt="#008b8b",nnt="#b8860b",int="#a9a9a9",snt="#006400",ont="#a9a9a9",ant="#bdb76b",lnt="#8b008b",unt="#556b2f",cnt="#ff8c00",dnt="#9932cc",fnt="#8b0000",hnt="#e9967a",pnt="#8fbc8f",mnt="#483d8b",gnt="#2f4f4f",vnt="#2f4f4f",ynt="#00ced1",_nt="#9400d3",bnt="#ff1493",xnt="#00bfff",wnt="#696969",Snt="#696969",Tnt="#1e90ff",Cnt="#b22222",Ent="#fffaf0",Ant="#228b22",Pnt="#ff00ff",knt="#dcdcdc",Int="#f8f8ff",Dnt="#daa520",Rnt="#ffd700",Mnt="#808080",Ont="#008000",$nt="#adff2f",Lnt="#808080",Fnt="#f0fff0",Nnt="#ff69b4",Bnt="#cd5c5c",Unt="#4b0082",Vnt="#fffff0",znt="#f0e68c",Hnt="#fff0f5",jnt="#e6e6fa",Gnt="#7cfc00",Wnt="#fffacd",qnt="#add8e6",Xnt="#f08080",Ynt="#e0ffff",Knt="#fafad2",Znt="#d3d3d3",Qnt="#90ee90",Jnt="#d3d3d3",eit="#ffb6c1",tit="#ffa07a",rit="#20b2aa",nit="#87cefa",iit="#778899",sit="#778899",oit="#b0c4de",ait="#ffffe0",lit="#00ff00",uit="#32cd32",cit="#faf0e6",dit="#ff00ff",fit="#800000",hit="#66cdaa",pit="#0000cd",mit="#ba55d3",git="#9370db",vit="#3cb371",yit="#7b68ee",_it="#00fa9a",bit="#48d1cc",xit="#c71585",wit="#191970",Sit="#f5fffa",Tit="#ffe4e1",Cit="#ffe4b5",Eit="#ffdead",Ait="#000080",Pit="#fdf5e6",kit="#808000",Iit="#6b8e23",Dit="#ffa500",Rit="#ff4500",Mit="#da70d6",Oit="#eee8aa",$it="#98fb98",Lit="#afeeee",Fit="#db7093",Nit="#ffefd5",Bit="#ffdab9",Uit="#cd853f",Vit="#ffc0cb",zit="#dda0dd",Hit="#b0e0e6",jit="#800080",Git="#663399",Wit="#ff0000",qit="#bc8f8f",Xit="#4169e1",Yit="#8b4513",Kit="#fa8072",Zit="#f4a460",Qit="#2e8b57",Jit="#fff5ee",est="#a0522d",tst="#c0c0c0",rst="#87ceeb",nst="#6a5acd",ist="#708090",sst="#708090",ost="#fffafa",ast="#00ff7f",lst="#4682b4",ust="#d2b48c",cst="#008080",dst="#d8bfd8",fst="#ff6347",hst="#40e0d0",pst="#ee82ee",mst="#f5deb3",gst="#ffffff",vst="#f5f5f5",yst="#ffff00",_st="#9acd32",bst={aliceblue:Ort,antiquewhite:$rt,aqua:Lrt,aquamarine:Frt,azure:Nrt,beige:Brt,bisque:Urt,black:Vrt,blanchedalmond:zrt,blue:Hrt,blueviolet:jrt,brown:Grt,burlywood:Wrt,cadetblue:qrt,chartreuse:Xrt,chocolate:Yrt,coral:Krt,cornflowerblue:Zrt,cornsilk:Qrt,crimson:Jrt,cyan:ent,darkblue:tnt,darkcyan:rnt,darkgoldenrod:nnt,darkgray:int,darkgreen:snt,darkgrey:ont,darkkhaki:ant,darkmagenta:lnt,darkolivegreen:unt,darkorange:cnt,darkorchid:dnt,darkred:fnt,darksalmon:hnt,darkseagreen:pnt,darkslateblue:mnt,darkslategray:gnt,darkslategrey:vnt,darkturquoise:ynt,darkviolet:_nt,deeppink:bnt,deepskyblue:xnt,dimgray:wnt,dimgrey:Snt,dodgerblue:Tnt,firebrick:Cnt,floralwhite:Ent,forestgreen:Ant,fuchsia:Pnt,gainsboro:knt,ghostwhite:Int,goldenrod:Dnt,gold:Rnt,gray:Mnt,green:Ont,greenyellow:$nt,grey:Lnt,honeydew:Fnt,hotpink:Nnt,indianred:Bnt,indigo:Unt,ivory:Vnt,khaki:znt,lavenderblush:Hnt,lavender:jnt,lawngreen:Gnt,lemonchiffon:Wnt,lightblue:qnt,lightcoral:Xnt,lightcyan:Ynt,lightgoldenrodyellow:Knt,lightgray:Znt,lightgreen:Qnt,lightgrey:Jnt,lightpink:eit,lightsalmon:tit,lightseagreen:rit,lightskyblue:nit,lightslategray:iit,lightslategrey:sit,lightsteelblue:oit,lightyellow:ait,lime:lit,limegreen:uit,linen:cit,magenta:dit,maroon:fit,mediumaquamarine:hit,mediumblue:pit,mediumorchid:mit,mediumpurple:git,mediumseagreen:vit,mediumslateblue:yit,mediumspringgreen:_it,mediumturquoise:bit,mediumvioletred:xit,midnightblue:wit,mintcream:Sit,mistyrose:Tit,moccasin:Cit,navajowhite:Eit,navy:Ait,oldlace:Pit,olive:kit,olivedrab:Iit,orange:Dit,orangered:Rit,orchid:Mit,palegoldenrod:Oit,palegreen:$it,paleturquoise:Lit,palevioletred:Fit,papayawhip:Nit,peachpuff:Bit,peru:Uit,pink:Vit,plum:zit,powderblue:Hit,purple:jit,rebeccapurple:Git,red:Wit,rosybrown:qit,royalblue:Xit,saddlebrown:Yit,salmon:Kit,sandybrown:Zit,seagreen:Qit,seashell:Jit,sienna:est,silver:tst,skyblue:rst,slateblue:nst,slategray:ist,slategrey:sst,snow:ost,springgreen:ast,steelblue:lst,tan:ust,teal:cst,thistle:dst,tomato:fst,turquoise:hst,violet:pst,wheat:mst,white:gst,whitesmoke:vst,yellow:yst,yellowgreen:_st};function Mm(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function J$(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function eL(t){return typeof t=="string"&&(t=bst[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function xst(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function wst(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[pn.NORMAL_NPM]=pn.NORMAL,t[pn.ADD_NPM]=pn.ADD,t[pn.SCREEN_NPM]=pn.SCREEN,e[pn.NORMAL]=pn.NORMAL_NPM,e[pn.ADD]=pn.ADD_NPM,e[pn.SCREEN]=pn.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var tL=wst();function rL(t,e){return tL[e?1:0][t]}function Aoe(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function vA(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function nL(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Poe(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function yA(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}var Sst={Float32Array,Uint32Array,Int32Array,Uint8Array};function Tst(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var o=new ArrayBuffer(r*4),a=null,l=0,s=0;s<t.length;s++){var u=e[s],d=t[s],f=yA(d);i[f]||(i[f]=new Sst[f](o)),a=i[f];for(var h=0;h<d.length;h++){var g=(h/u|0)*n+l,v=h%u;a[g+v]=d[h]}l+=u}return new Float32Array(o)}function t1(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function xR(t){return!(t&t-1)&&!!t}function wR(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function cm(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}}function W0(t){return t===0?0:t<0?-1:1}var Cst=0;function Sp(){return++Cst}var Rj={};function za(t,e,r){if(r===void 0&&(r=3),!Rj[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),Rj[e]=!0}}var SR={},ol=Object.create(null),uu=Object.create(null);function Est(){var t;for(t in ol)ol[t].destroy();for(t in uu)uu[t].destroy()}function Ast(){var t;for(t in ol)delete ol[t];for(t in uu)delete uu[t]}var TR=function(){function t(e,r,n){this.canvas=Ur.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||Ur.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function koe(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,r),s=i.data,o=s.length,a={top:null,left:null,right:null,bottom:null},l=null,u,d,f;for(u=0;u<o;u+=4)s[u+3]!==0&&(d=u/4%e,f=~~(u/4/e),a.top===null&&(a.top=f),(a.left===null||d<a.left)&&(a.left=d),(a.right===null||a.right<d)&&(a.right=d+1),(a.bottom===null||a.bottom<f)&&(a.bottom=f));return a.top!==null&&(e=a.right-a.left,r=a.bottom-a.top+1,l=n.getImageData(a.left,a.top,e,r)),{height:r,width:e,data:l}}var Ioe=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Pst(t){var e=Ioe.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var gw;function Doe(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,gw||(gw=document.createElement("a")),gw.href=t;var r=md.parse(gw.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function r1(t,e){var r=Ur.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}const kst=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:uu,CanvasRenderTarget:TR,DATA_URI:Ioe,EventEmitter:ah,ProgramCache:SR,TextureCache:ol,clearTextureCache:Ast,correctBlendMode:rL,createIndicesForQuads:Poe,decomposeDataUri:Pst,deprecation:za,destroyTextureCache:Est,determineCrossOrigin:Doe,earcut:G$,getBufferType:yA,getResolutionOfUrl:r1,hex2rgb:Mm,hex2string:J$,interleaveTypedArrays:Tst,isMobile:xu,isPow2:xR,isWebGLSupported:Eoe,log2:wR,nextPow2:t1,path:Toe,premultiplyBlendMode:tL,premultiplyRgba:Aoe,premultiplyTint:vA,premultiplyTintToRgba:nL,removeItems:cm,rgb2hex:xst,sayHello:Coe,sign:W0,skipHello:Mrt,string2hex:eL,trimCanvas:koe,uid:Sp,url:md},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var n1=Math.PI*2,Roe=180/Math.PI,Moe=Math.PI/180,po;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(po||(po={}));var Gi=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),vw=[new Gi,new Gi,new Gi,new Gi],ci=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=po.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var s=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>s}var a=this.left,l=this.right,u=this.top,d=this.bottom;if(l<=a||d<=u)return!1;var f=vw[0].set(e.left,e.top),h=vw[1].set(e.left,e.bottom),g=vw[2].set(e.right,e.top),v=vw[3].set(e.right,e.bottom);if(g.x<=f.x||h.y<=f.y)return!1;var p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(f,f),r.apply(h,h),r.apply(g,g),r.apply(v,v),Math.max(f.x,h.x,g.x,v.x)<=a||Math.min(f.x,h.x,g.x,v.x)>=l||Math.max(f.y,h.y,g.y,v.y)<=u||Math.min(f.y,h.y,g.y,v.y)>=d))return!1;var b=p*(h.y-f.y),S=p*(f.x-h.x),C=b*a+S*u,T=b*l+S*u,A=b*a+S*d,E=b*l+S*d;if(Math.max(C,T,A,E)<=b*f.x+S*f.y||Math.min(C,T,A,E)>=b*v.x+S*v.y)return!1;var I=p*(f.y-g.y),O=p*(g.x-f.x),N=I*a+O*u,G=I*l+O*u,ie=I*a+O*d,W=I*l+O*d;return!(Math.max(N,G,ie,W)<=I*f.x+O*f.y||Math.min(N,G,ie,W)>=I*v.x+O*v.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Ooe=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=po.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n},t.prototype.getBounds=function(){return new ci(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),$oe=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=po.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new ci(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),j2=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var s=[],o=0,a=i.length;o<a;o++)s.push(i[o].x,i[o].y);i=s}this.points=i,this.type=po.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,s=0,o=i-1;s<i;o=s++){var a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],d=this.points[o*2+1],f=l>r!=d>r&&e<(u-a)*((r-l)/(d-l))+a;f&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),Loe=function(){function t(e,r,n,i,s){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=po.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),s=r-(this.y+n),o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Qh=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),vs=function(){function t(e,r,n,i,s,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new Gi;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new Gi;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this},t.prototype.setTransform=function(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(n1-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),S0=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],T0=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],C0=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],E0=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],CR=[],Foe=[],yw=Math.sign;function Ist(){for(var t=0;t<16;t++){var e=[];CR.push(e);for(var r=0;r<16;r++)for(var n=yw(S0[t]*S0[r]+C0[t]*T0[r]),i=yw(T0[t]*S0[r]+E0[t]*T0[r]),s=yw(S0[t]*C0[r]+C0[t]*E0[r]),o=yw(T0[t]*C0[r]+E0[t]*E0[r]),a=0;a<16;a++)if(S0[a]===n&&T0[a]===i&&C0[a]===s&&E0[a]===o){e.push(a);break}}for(var t=0;t<16;t++){var l=new vs;l.set(S0[t],T0[t],C0[t],E0[t],0,0),Foe.push(l)}}Ist();var fs={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return S0[t]},uY:function(t){return T0[t]},vX:function(t){return C0[t]},vY:function(t){return E0[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return CR[t][e]},sub:function(t,e){return CR[t][fs.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?fs.S:fs.N:Math.abs(e)*2<=Math.abs(t)?t>0?fs.E:fs.W:e>0?t>0?fs.SE:fs.SW:t>0?fs.NE:fs.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=Foe[fs.inv(e)];i.tx=r,i.ty=n,t.append(i)}},_A=function(){function t(){this.worldTransform=new vs,this.localTransform=new vs,this.position=new Qh(this.onChange,this,0,0),this.scale=new Qh(this.onChange,this,1,1),this.pivot=new Qh(this.onChange,this,0,0),this.skew=new Qh(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ur.SORTABLE_CHILDREN=!1;var i1=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?ci.EMPTY:(e=e||new ci(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,u=n*r.x+s*r.y+a,d=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)},t.prototype.addFrameMatrix=function(e,r,n,i,s){var o=e.a,a=e.b,l=e.c,u=e.d,d=e.tx,f=e.ty,h=this.minX,g=this.minY,v=this.maxX,p=this.maxY,b=o*r+l*n+d,S=a*r+u*n+f;h=b<h?b:h,g=S<g?S:g,v=b>v?b:v,p=S>p?S:p,b=o*i+l*n+d,S=a*i+u*n+f,h=b<h?b:h,g=S<g?S:g,v=b>v?b:v,p=S>p?S:p,b=o*r+l*s+d,S=a*r+u*s+f,h=b<h?b:h,g=S<g?S:g,v=b>v?b:v,p=S>p?S:p,b=o*i+l*s+d,S=a*i+u*s+f,h=b<h?b:h,g=S<g?S:g,v=b>v?b:v,p=S>p?S:p,this.minX=h,this.minY=g,this.maxX=v,this.maxY=p},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,s=this.minY,o=this.maxX,a=this.maxY,l=r;l<n;l+=2){var u=e[l],d=e[l+1];i=u<i?u:i,s=d<s?d:s,o=u>o?u:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,s,o){s===void 0&&(s=0),o===void 0&&(o=s);for(var a=e.a,l=e.b,u=e.c,d=e.d,f=e.tx,h=e.ty,g=this.minX,v=this.minY,p=this.maxX,b=this.maxY,S=n;S<i;S+=2){var C=r[S],T=r[S+1],A=a*C+u*T+f,E=d*T+l*C+h;g=Math.min(g,A-s),p=Math.max(p,A+s),v=Math.min(v,E-o),b=Math.max(b,E+o)}this.minX=g,this.minY=v,this.maxX=p,this.maxY=b},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){var a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){var a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ER=function(t,e){return ER=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ER(t,e)};function iL(t,e){ER(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ns=function(t){iL(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new _A,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new i1,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(r,s))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ci),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new ci),r=this._localBoundsRect),this._localBounds||(this._localBounds=new i1);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,s){return n&&(r=n.toGlobal(r,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,s,o,a,l,u,d){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),o===void 0&&(o=0),a===void 0&&(a=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=l,this.pivot.x=u,this.pivot.y=d,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new sL),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Roe},set:function(r){this.transform.rotation=r*Moe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(ah),sL=function(t){iL(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Ns);Ns.prototype.displayObjectUpdateTransform=Ns.prototype.updateTransform;function Dst(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var zu=function(t){iL(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=Ur.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=r,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);cm(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var o=n[0],a=this.children.indexOf(o);if(a===-1)return null;o.parent=null,o.transform._parentID=-1,cm(this.children,a,1),this._boundsID++,this.onChildrenChange(a),o.emit("removed",this),this.emit("childRemoved",o,this,a)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,cm(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,s=n,o=s-i,a;if(o>0&&o<=s){a=this.children.splice(i,o);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!r&&s.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(Dst),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s];a.visible&&a.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,s;if(this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,s))this._render(r);else if(this.cullArea)return;for(var o=0,a=this.children.length;o<a;++o){var l=this.children[o],u=l.cullable;l.cullable=u||!this.cullArea,l.render(r),l.cullable=u}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==js.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var s=0,a=this.children.length;s<a;++s)this.children[s].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Ns);zu.prototype.containerUpdateTransform=zu.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var G2=function(){return G2=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},G2.apply(this,arguments)},$i;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})($i||($i={}));var Mj=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=G2(G2({},e),{ref:t})}if(typeof t=="object")t=G2({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},jd={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Mj).forEach(function(i){i.type.forEach(function(s){var o,a;return(a=(o=e._removeHandlers)[s])===null||a===void 0?void 0:a.call(o,i)})}),this},add:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Mj).forEach(function(i){i.type.forEach(function(s){var o=e._addHandlers,a=e._queue;o[s]?o[s](i):(a[s]=a[s]||[],a[s].push(i))})}),this},handle:function(t,e,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=e,i[t]=r;var s=this._queue;return s[t]&&(s[t].forEach(function(o){return e(o)}),delete s[t]),this},handleByMap:function(t,e){return this.handle(t,function(r){e[r.name]=r.ref},function(r){delete e[r.name]})},handleByList:function(t,e){return this.handle(t,function(r){var n,i;e.includes(r.ref)||(e.push(r.ref),t===$i.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n)))},function(r){var n=e.indexOf(r.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Po=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,d=u.name,f=u.items;this._aliasCount++;for(var h=0,g=f.length;h<g;h++)f[h][d](e,r,n,i,s,o,a,l);return f===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Po.prototype,{dispatch:{value:Po.prototype.emit},run:{value:Po.prototype.emit}});/*!
 * @pixi/ticker - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ur.TARGET_FPMS=.06;var Md;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Md||(Md={}));var M4=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Io=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new M4(null,null,1/0),this.deltaMS=1/Ur.TARGET_FPMS,this.elapsedMS=1/Ur.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=Md.NORMAL),this._addListener(new M4(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=Md.NORMAL),this._addListener(new M4(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ur.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ur.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Noe=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Md.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Io.shared:new Io,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=$i.Application,t}();/*!
 * @pixi/core - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ur.PREFER_ENV=xu.any?Rd.WEBGL:Rd.WEBGL2;Ur.STRICT_TEXTURE_CACHE=!1;var s1=[];function bA(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=s1.length-1;i>=0;--i){var s=s1[i];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AR=function(t,e){return AR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},AR(t,e)};function rs(t,e){AR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var PR=function(){return PR=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},PR.apply(this,arguments)};function Rst(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Om=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Po("setRealSize"),this.onUpdate=new Po("update"),this.onError=new Po("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Xm=function(t){rs(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,a)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Vu.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(Om),Mst={scaleMode:uc.NEAREST,format:Cr.RGBA,alphaMode:Vu.NPM},ui=function(t){rs(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var s=n.alphaMode,o=n.mipmap,a=n.anisotropicLevel,l=n.scaleMode,u=n.width,d=n.height,f=n.wrapMode,h=n.format,g=n.type,v=n.target,p=n.resolution,b=n.resourceOptions;return r&&!(r instanceof Om)&&(r=bA(r,b),r.internal=!0),i.resolution=p||Ur.RESOLUTION,i.width=Math.round((u||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:Ur.MIPMAP_TEXTURES,i.anisotropicLevel=a!==void 0?a:Ur.ANISOTROPIC_LEVEL,i._wrapMode=f||Ur.WRAP_MODE,i._scaleMode=l!==void 0?l:Ur.SCALE_MODE,i.format=h||Cr.RGBA,i.type=g||cn.UNSIGNED_BYTE,i.target=v||ap.TEXTURE_2D,i.alphaMode=s!==void 0?s:Vu.UNPACK,i.uid=Sp(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=u>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=xR(this.realWidth)&&xR(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete uu[this.cacheId],delete ol[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=Ur.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+Sp()}o=r._pixiId}var l=uu[o];if(s&&i&&!l)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return l||(l=new e(r,n),l.cacheId=o,e.addToCache(l,o)),l},e.fromBuffer=function(r,n,i,s){r=r||new Float32Array(n*i*4);var o=new Xm(r,{width:n,height:i}),a=r instanceof Float32Array?cn.FLOAT:cn.UNSIGNED_BYTE;return new e(o,Object.assign({},Mst,s||{width:n,height:i,type:a}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),uu[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),uu[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=uu[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete uu[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)delete uu[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(ah),xA=function(t){rs(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;i=t.call(this,o,a)||this,i.items=[],i.itemDirtyIds=[];for(var l=0;l<r;l++){var u=new ui;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)r[i]&&(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Om?this.addResourceAt(r[i],i):this.addResourceAt(bA(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=r.items[0],o=s.realWidth,a=s.realHeight;return r.resize(o,a),Promise.resolve(r)}),this._load},e}(Om),oL=function(t){rs(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,l,u;return Array.isArray(r)?(l=r,u=r.length):u=r,i=t.call(this,u,{width:o,height:a})||this,l&&i.initFromArray(l,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=ap.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var s=this,o=s.length,a=s.itemDirtyIds,l=s.items,u=r.gl;i.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var d=0;d<o;d++){var f=l[d];a[d]<f.dirtyId&&(a[d]=f.dirtyId,f.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,d,f.resource.width,f.resource.height,1,n.format,i.type,f.resource.source))}return!0},e}(xA),Od=function(t){rs(e,t);function e(r){var n=this,i=r,s=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,s,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=Doe(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,s){var o=r.gl,a=n.realWidth,l=n.realHeight;if(s=s||this.source,s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Vu.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===a&&i.height===l?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,s):(i.width=a,i.height=l,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Om),aL=function(t){rs(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(Od),lL=function(t){rs(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,l=s.autoLoad,u=s.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:a})||this;for(var d=0;d<e.SIDES;d++)i.items[d].target=ap.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=u!==!1,r&&i.initFromArray(r,n),l!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=ap.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=ap.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var s=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];(s[o]<a.dirtyId||i.dirtyId<n.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(r,a,i),s[o]=a.dirtyId):s[o]<-1&&(r.gl.texImage2D(a.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(xA),wA=function(t){rs(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var s=new Image;Od.crossOrigin(s,r,n.crossorigin),s.src=r,r=s}return i=t.call(this,r)||this,!r.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Ur.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,s){var o=n.source;n.url=o.src;var a=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(l){s(l),n.onError.emit(l)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,s=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:s?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===Vu.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var s=!0,o=n._glTextures;for(var a in o){var l=o[a];if(l!==i&&l.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(Od),uL=function(t){rs(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,Ur.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;Od.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){r._resolve&&(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(r._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,a=s*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/s*i,a=r._overrideHeight||r._overrideWidth/i*s),o=Math.round(o),a=Math.round(a);var l=r.source;l.width=o,l.height=a,l._pixiId="canvas_"+Sp(),l.getContext("2d").drawImage(n,0,0,i,s,0,0,o,a),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Od),cL=function(t){rs(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];Od.crossOrigin(s,o,n.crossorigin);for(var a=0;a<r.length;++a){var l=document.createElement("source"),u=r[a],d=u.src,f=u.mime;d=d||r[a];var h=d.split("?").shift().toLowerCase(),g=h.slice(h.lastIndexOf(".")+1);f=f||e.MIME_TYPES[g]||"video/"+g,l.src=d,l.type=f,s.appendChild(l)}r=s}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Io.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Io.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Io.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Io.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Io.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Io.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Od),dL=function(t){rs(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},e}(Od);s1.push(wA,dL,aL,cL,uL,Xm,lL,oL);var Boe={__proto__:null,Resource:Om,BaseImageResource:Od,INSTALLED:s1,autoDetectResource:bA,AbstractMultiResource:xA,ArrayResource:oL,BufferResource:Xm,CanvasResource:aL,CubeResource:lL,ImageResource:wA,SVGResource:uL,VideoResource:cL,ImageBitmapResource:dL},Ost=function(t){rs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Vu.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e}(Xm),kC=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Po("disposeFramebuffer"),this.multisample=os.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new ui(null,{scaleMode:uc.NEAREST,resolution:1,mipmap:Uu.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new ui(new Ost(null,{width:this.width,height:this.height}),{scaleMode:uc.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Uu.OFF,format:Cr.DEPTH_COMPONENT,type:cn.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,r/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),fL=function(t){rs(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];r={width:i,height:s,scaleMode:o,resolution:a}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:os.NONE,n=t.call(this,null,r)||this,n.mipmap=Uu.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new kC(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(ui),hL=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,s=r.height;if(n){var o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=fs.add(n,fs.NW),this.x0=l+o*fs.uX(n),this.y0=u+a*fs.uY(n),n=fs.add(n,2),this.x1=l+o*fs.uX(n),this.y1=u+a*fs.uY(n),n=fs.add(n,2),this.x2=l+o*fs.uX(n),this.y2=u+a*fs.uY(n),n=fs.add(n,2),this.x3=l+o*fs.uX(n),this.y3=u+a*fs.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),Oj=new hL;function _w(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var kn=function(t){rs(e,t);function e(r,n,i,s,o,a){var l=t.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new ci(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=s,l.valid=!1,l._uvs=Oj,l.uvMatrix=null,l.orig=i||n,l._rotate=Number(o||0),o===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Gi(a.x,a.y):new Gi(0,0),l._updateID=0,l.textureCacheIds=[],r.valid?l.noFrame?r.valid&&l.onBaseTextureUpdated(r):l.frame=n:r.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&r.on("update",l.onBaseTextureUpdated,l),l}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&ol[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===Oj&&(this._uvs=new hL),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Ur.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else if(r instanceof ui){if(!r.cacheId){var a=n&&n.pixiIdPrefix||"pixiid";r.cacheId=a+"-"+Sp(),ui.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+Sp()}o=r._pixiId}var l=ol[o];if(s&&i&&!l)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!l&&!(r instanceof ui)?(n.resolution||(n.resolution=r1(r)),l=new e(new ui(r,n)),l.baseTexture.cacheId=o,ui.addToCache(l.baseTexture,o),e.addToCache(l,o)):!l&&r instanceof ui&&(l=new e(r),e.addToCache(l,o)),l},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=e.from(r,Object.assign({resourceOptions:i},n),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(r,n,i,s){return new e(ui.fromBuffer(r,n,i,s))},e.fromLoader=function(r,n,i,s){var o=new ui(r,Object.assign({scaleMode:Ur.SCALE_MODE,resolution:r1(n)},s)),a=o.resource;a instanceof wA&&(a.url=n);var l=new e(o);return i||(i=n),ui.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==n&&(ui.addToCache(l.baseTexture,n),e.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ol[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),ol[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=ol[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ol[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)ol[r.textureCacheIds[s]]===r&&delete ol[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,s=r.width,o=r.height,a=n+s>this.baseTexture.width,l=i+o>this.baseTexture.height;if(a||l){var u=a&&l?"and":"or",d="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,f="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+u+" "+f))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new ui),_w(e._EMPTY),_w(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=Ur.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(ui.from(r)),_w(e._WHITE),_w(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(ah),Tp=function(t){rs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var s=this.baseTexture.resolution,o=Math.round(r*s)/s,a=Math.round(n*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(o,a),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=n[s];return typeof r=="number"&&(za("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new fL(r))},e}(kn),Uoe=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=os.NONE);var i=new fL(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Tp(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=os.NONE);var s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=t1(e),r=t1(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||os.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),kR=function(){function t(e,r,n,i,s,o,a){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=cn.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,s){return new t(e,r,n,i,s)},t}(),$st=0,to=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=$st++,this.disposeRunner=new Po("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===yc.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?yc.ELEMENT_ARRAY_BUFFER:yc.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),Lst={Float32Array,Uint32Array,Int32Array,Uint8Array};function Fst(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var o=new ArrayBuffer(r*4),a=null,l=0,s=0;s<t.length;s++){var u=e[s],d=t[s],f=yA(d);i[f]||(i[f]=new Lst[f](o)),a=i[f];for(var h=0;h<d.length;h++){var g=(h/u|0)*n+l,v=h%u;a[g+v]=d[h]}l+=u}return new Float32Array(o)}var $j={5126:4,5123:2,5121:1},Nst=0,Bst={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Yy=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Nst++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Po("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,s,o,a,l){if(n===void 0&&(n=0),i===void 0&&(i=!1),l===void 0&&(l=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof to||(r instanceof Array&&(r=new Float32Array(r)),r=new to(r));var u=e.split("|");if(u.length>1){for(var d=0;d<u.length;d++)this.addAttribute(u[d],r,n,i,s);return this}var f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new kR(f,n,i,s,o,a,l),this.instanced=this.instanced||l,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof to||(e instanceof Array&&(e=new Uint16Array(e)),e=new to(e)),e.type=yc.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new to,i;for(i in this.attributes){var s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*$j[s.type]/4),s.buffer=0}for(n.data=Fst(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new to(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new kR(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=yc.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],s=[],o,a=0;a<e.length;a++){o=e[a];for(var l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(var a=0;a<o.buffers.length;a++)n[a]=new Bst[yA(o.buffers[a].data)](i[a]),r.buffers[a]=new to(n[a]);for(var a=0;a<e.length;a++){o=e[a];for(var l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=yc.ELEMENT_ARRAY_BUFFER;for(var u=0,d=0,f=0,h=0,a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){h=a;break}for(var a in o.attributes){var g=o.attributes[a];(g.buffer|0)===h&&(d+=g.size*$j[g.type]/4)}for(var a=0;a<e.length;a++){for(var v=e[a].indexBuffer.data,l=0;l<v.length;l++)r.indexBuffer.data[l+f]+=u;u+=e[a].buffers[h].data.length/d,f+=v.length}}return r},t}(),Voe=function(t){rs(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Yy),pL=function(t){rs(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new to(r.vertices),r.uvBuffer=new to(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/r.width,this.uvs[3]=s,this.uvs[4]=i+n.width/r.width,this.uvs[5]=s+n.height/r.height,this.uvs[6]=i,this.uvs[7]=s+n.height/r.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Yy),Ust=0,lp=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ust++,this.static=!!r,this.ubo=!!n,e instanceof to?(this.buffer=e,this.buffer.type=yc.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new to(new Float32Array(1)),this.buffer.type=yc.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r??!0,!0)},t}(),zoe=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=os.NONE,this.sourceFrame=new ci,this.destinationFrame=new ci,this.bindingSourceFrame=new ci,this.bindingDestinationFrame=new ci,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),bw=[new Gi,new Gi,new Gi,new Gi],O4=new vs,mL=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Uoe,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Voe,this.quadUv=new pL,this.tempRect=new ci,this.activeState={},this.globalUniforms=new lp({outputFrame:new ci,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new zoe,l=this.renderer.renderTexture,u=r[0].resolution,d=r[0].multisample,f=r[0].padding,h=r[0].autoFit,g=(n=r[0].legacy)!==null&&n!==void 0?n:!0,v=1;v<r.length;v++){var p=r[v];u=Math.min(u,p.resolution),d=Math.min(d,p.multisample),f=this.useMaxPadding?Math.max(f,p.padding):f+p.padding,h=h&&p.autoFit,g=g||((i=p.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),o.push(a),a.resolution=u,a.multisample=d,a.legacy=g,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(f);var b=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(O4.copyFrom(s.projection.transform).invert(),b),h?(a.sourceFrame.fit(b),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(b)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,d),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var S=this.tempRect;S.x=0,S.y=0,S.width=a.sourceFrame.width,S.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,S),s.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){var l=i.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,cu.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var d=r.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,r.resolution);f.filterFrame=d.filterFrame;var h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,r.resolution),f.filterFrame=d.filterFrame),n[h].apply(this,d,f,cu.CLEAR,r);var g=d;d=f,f=g}n[h].apply(this,d,u.renderTexture,cu.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=cu.CLEAR);var n=this.renderer,i=n.renderTexture,s=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=s.stateId&1||this.forceClear;(r===cu.CLEAR||r===cu.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(bu.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(bu.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,s=n.destinationFrame,o=r._texture.orig,a=e.set(s.width,0,0,s.height,i.x,i.y),l=r.worldTransform.copyTo(vs.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(r.anchor.x,r.anchor.y),a},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=os.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||os.NONE);return s.filterFrame=e.filterFrame,s},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=bw[0],i=bw[1],s=bw[2],o=bw[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);var a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=d-l},t.prototype.roundFrame=function(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){var o=s.a,a=s.b,l=s.c,u=s.d;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?O4.copyFrom(s):O4.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}},t}(),Z1=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),gL=function(){function t(e){this.renderer=e,this.emptyRenderer=new Z1(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var s=e.elements,o=e.ids,a=e.count,l=0,u=0;u<a;u++){var d=s[u],f=d._batchLocation;if(f>=0&&f<i&&r[f]===d){o[u]=f;continue}for(;l<i;){var h=r[l];if(h&&h._batchEnabled===n&&h._batchLocation===l){l++;continue}o[u]=l,d._batchLocation=l,r[l]=d;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),Lj=0,vL=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Lj++},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Lj++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(Ur.PREFER_ENV>=Rd.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){var r=this;e.preventDefault(),setTimeout(function(){r.gl.isContextLost()&&r.extensions.loseContext&&r.extensions.loseContext.restoreContext()},0)},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Hoe=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=os.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),Vst=new ci,yL=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new kC(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ci,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ur.PREFER_ENV===Rd.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var l=r.width>>n,u=r.height>>n,d=l/r.width;this.setViewport(r.x*d,r.y*d,l,u)}else{var l=e.width>>n,u=e.height>>n;this.setViewport(0,0,l,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,s){s===void 0&&(s=Yb.COLOR|Yb.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(s)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new Hoe(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,s=i.length;r.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures,o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var a=[],l=0;l<o;l++){var u=s[l],d=u.parentTextureArray||u;this.renderer.texture.bind(d,0),!(l===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture){var f=this.writeDepthTexture;if(f){var h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=os.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=os.NONE),n},t.prototype.blit=function(e,r,n){var i=this,s=i.current,o=i.renderer,a=i.gl,l=i.CONTEXT_UID;if(o.context.webGLVersion===2&&s){var u=s.glFramebuffers[l];if(u){if(!e){if(!u.msaaBuffer)return;var d=s.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new kC(s.width,s.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=Vst,r.width=s.width,r.height=s.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,f?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ci},t.prototype.destroy=function(){this.renderer=null},t}(),$4={5126:4,5123:2,5121:1},_L=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Ur.PREFER_ENV===Rd.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(s){return n.bindVertexArrayOES(s)},e.deleteVertexArray=function(s){return n.deleteVertexArrayOES(s)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(s,o){return i.vertexAttribDivisorANGLE(s,o)},e.drawElementsInstanced=function(s,o,a,l,u){return i.drawElementsInstancedANGLE(s,o,a,l,u)},e.drawArraysInstanced=function(s,o,a,l){return i.drawArraysInstancedANGLE(s,o,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var s in i)if(!n[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,s=["g",e.id];for(var o in n)i[o]&&s.push(o,i[o].location);return s.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);var l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID],d=u[l];if(d)return u[a.id]=d,d;var f=e.buffers,h=e.attributes,g={},v={};for(var p in f)g[p]=0,v[p]=0;for(var p in h)!h[p].size&&a.attributeData[p]?h[p].size=a.attributeData[p].size:h[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[h[p].buffer]+=h[p].size*$4[h[p].type];for(var p in h){var b=h[p],S=b.size;b.stride===void 0&&(g[b.buffer]===S*$4[b.type]?b.stride=0:b.stride=g[b.buffer]),b.start===void 0&&(b.start=v[b.buffer],v[b.buffer]+=S*$4[b.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var C=0;C<f.length;C++){var T=f[C];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,a),this._activeVao=d,u[a.id]=d,u[l]=d,d},t.prototype.disposeGeometry=function(e,r){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,a=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(a)for(var l=0;l<o.length;l++){var u=o[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&a.dispose(o[l],r))}if(!r){for(var d in i)if(d[0]==="g"){var f=i[d];this._activeVao===f&&this.unbind(),s.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);var l=null;for(var u in a){var d=a[u],f=o[d.buffer],h=f._glBuffers[i];if(r.attributeData[u]){l!==h&&(s.bind(f),l=h);var g=r.attributeData[u].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),joe=function(){function t(e){e===void 0&&(e=null),this.type=js.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ur.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=js.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Fj(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Nj(t,e){var r=t.getShaderSource(e).split(`
`).map(function(u,d){return d+": "+u}),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return u&&!s[u]?(s[u]=!0,!0):!1}),a=[""];o.forEach(function(u){r[u-1]="%c"+r[u-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function zst(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Nj(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Nj(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function L4(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Goe(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return L4(2*e);case"bvec3":return L4(3*e);case"bvec4":return L4(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Woe={},P_=Woe;function qoe(){if(P_===Woe||P_&&P_.isContextLost()){var t=Ur.ADAPTER.createCanvas(),e=void 0;Ur.PREFER_ENV>=Rd.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),P_=e}return P_}var xw;function Hst(){if(!xw){xw=hl.MEDIUM;var t=qoe();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);xw=e.precision?hl.HIGH:hl.MEDIUM}}return xw}function Bj(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===hl.HIGH&&r!==hl.HIGH&&(n=hl.MEDIUM),"precision "+n+` float;
`+t}else if(r!==hl.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var jst={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Xoe(t){return jst[t]}var ww=null,Uj={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Yoe(t,e){if(!ww){var r=Object.keys(Uj);ww={};for(var n=0;n<r.length;++n){var i=r[n];ww[t[i]]=Uj[i]}}return ww[e]}var dm=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Gst={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Wst={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function qst(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var s=e[i];if(!s){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],a=!1,l=0;l<dm.length;l++)if(dm[l].test(s,o)){n.push(dm[l].code(i,o)),a=!0;break}if(!a){var u=s.size===1&&!s.isArray?Gst:Wst,d=u[s.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var Xst=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Yst(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function Koe(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=Xst.replace(/%forloop%/gi,Yst(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var k_;function Kst(){if(typeof k_=="boolean")return k_;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");k_=t({a:"b"},"a","b")===!0}catch{k_=!1}return k_}var Zst=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Qst=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Jst=0,Sw={},Ky=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=Jst++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Sw[n]?(Sw[n]++,n+="-"+Sw[n]):Sw[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Bj(this.vertexSrc,Ur.PRECISION_VERTEX,hl.HIGH),this.fragmentSrc=Bj(this.fragmentSrc,Ur.PRECISION_FRAGMENT,Hst())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Qst},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return Zst},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,s=SR[i];return s||(SR[i]=s=new t(e,r,n)),s},t}(),Mf=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof lp?this.uniformGroup=r:this.uniformGroup=new lp(r):this.uniformGroup=new lp({}),this.disposeRunner=new Po("disposeShader")}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Ky.from(e,r);return new t(i,n)},t}(),F4=0,N4=1,B4=2,U4=3,V4=4,z4=5,Fp=function(){function t(){this.data=0,this.blendMode=pn.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<F4)},set:function(e){!!(this.data&1<<F4)!==e&&(this.data^=1<<F4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<N4)},set:function(e){!!(this.data&1<<N4)!==e&&(this.data^=1<<N4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<B4)},set:function(e){!!(this.data&1<<B4)!==e&&(this.data^=1<<B4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<U4)},set:function(e){!!(this.data&1<<U4)!==e&&(this.data^=1<<U4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<z4)},set:function(e){!!(this.data&1<<z4)!==e&&(this.data^=1<<z4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<V4)},set:function(e){!!(this.data&1<<V4)!==e&&(this.data^=1<<V4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==pn.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),eot=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,tot=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,lh=function(t){rs(e,t);function e(r,n,i){var s=this,o=Ky.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return s=t.call(this,o,i)||this,s.padding=0,s.resolution=Ur.FILTER_RESOLUTION,s.multisample=Ur.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new Fp,s}return e.prototype.apply=function(r,n,i,s,o){r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return tot},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return eot},enumerable:!1,configurable:!0}),e}(Mf),rot=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,not=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Vj=new vs,SA=function(){function t(e,r){this._texture=e,this.mapCoord=new vs,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,s=r.trim;s&&(Vj.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Vj));var o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),Zoe=function(t){rs(e,t);function e(r,n,i){var s=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),s=t.call(this,r||rot,n||not,i)||this,s.maskSprite=o,s.maskMatrix=new vs,s}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,s){var o=this._maskSprite,a=o._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new SA(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,r.applyFilter(this,n,i,s))},e}(lh),bL=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new joe;i.pooled=!0,i.maskObject=r,n=i}var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==js.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case js.SCISSOR:this.renderer.scissor.push(n);break;case js.STENCIL:this.renderer.stencil.push(n);break;case js.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case js.COLOR:this.pushColorMask(n);break}n.type===js.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case js.SCISSOR:this.renderer.scissor.pop(r);break;case js.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case js.SPRITE:this.popSpriteMask(r);break;case js.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===js.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r?r.isSprite?e.type=js.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=js.SCISSOR:e.type=js.STENCIL:e.type=js.COLOR},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,s=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new Zoe]));var a=this.renderer,l=a.renderTexture,u,d;if(l.current){var f=l.current;u=e.resolution||f.resolution,d=(r=e.multisample)!==null&&r!==void 0?r:f.multisample}else u=e.resolution||a.resolution,d=(n=e.multisample)!==null&&n!==void 0?n:a.multisample;o[0].resolution=u,o[0].multisample=d,o[0].maskSprite=i;var h=s.filterArea;s.filterArea=i.getBounds(!0),a.filter.push(s,o),s.filterArea=h,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(e){var r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),Qoe=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),zj=new vs,Hj=[],xL=function(t){rs(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=Ur.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,s=r.maskObject,o=this.renderer,a=o.renderTexture,l=s.getBounds(!0,(n=Hj.pop())!==null&&n!==void 0?n:new ci);this.roundFrameToPixels(l,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i&&l.fit(i),r._scissorRectLocal=l}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,s=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,s,o){e.isMatrixRotated(o)||(o=o?zj.copyFrom(o):zj.identity(),o.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,r),r.fit(s),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;r&&Hj.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(Qoe),wL=function(t){rs(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=Ur.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,s=r._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var o=r._colorMask;o!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(r._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(i._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(Qoe),SL=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new vs,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),u0=new ci,I_=new ci,TL=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ci,this.destinationFrame=new ci,this.viewportFrame=new ci}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(u0.width=e.frame.width,u0.height=e.frame.height,r=u0),n||(I_.x=e.frame.x,I_.y=e.frame.y,I_.width=r.width,I_.height=r.height,n=I_),o=s.framebuffer):(a=i.resolution,r||(u0.width=i.screen.width,u0.height=i.screen.height,r=u0),n||(n=u0,n.width=r.width,n.height=r.height));var l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=n.width!==i.width||n.height!==i.height;if(s){var o=this.viewportFrame,a=o.x,l=o.y,u=o.width,d=o.height;a=Math.round(a),l=Math.round(l),u=Math.round(u),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,u,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function iot(t,e,r,n,i){r.buffer.update(i)}var sot={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Joe={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function eae(t){for(var e=t.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,s=0;s<e.length;s++){var o=e[s];if(r=Joe[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function tae(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,s){return i.index-s.index}),r}function rae(t,e){if(!t.autoManage)return{size:0,syncFunc:iot};for(var r=tae(t.uniforms,e),n=eae(r),i=n.uboElements,s=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],a=0;a<i.length;a++){for(var l=i[a],u=t.uniforms[l.data.name],d=l.data.name,f=!1,h=0;h<dm.length;h++){var g=dm[h];if(g.codeUbo&&g.test(l.data,u)){o.push("offset = "+l.offset/4+";",dm[h].codeUbo(l.data.name,u)),f=!0;break}}if(!f)if(l.data.size>1){var v=Xoe(l.data.type),p=Math.max(Joe[l.data.type]/16,1),b=v/p,S=(4-b%4)%4;o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*p+`; i++)
                {
                    for(var j = 0; j < `+b+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+S+`;
                }

                `)}else{var C=sot[l.data.type];o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;
                `+C+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var oot=function(){function t(){}return t}(),nae=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function aot(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var s=e.getActiveAttrib(t,i);if(s.name.indexOf("gl_")!==0){var o=Yoe(e,s.type),a={type:o,name:s.name,size:Xoe(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}}return r}function lot(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=Yoe(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:Goe(l,s.size)}}return r}function iae(t,e){var r=Fj(t,t.VERTEX_SHADER,e.vertexSrc),n=Fj(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||zst(t,i,r,n),e.attributeData=aot(i,t),e.uniformData=lot(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort(function(d,f){return d>f?1:-1});for(var o=0;o<s.length;o++)e.attributeData[s[o]].location=o,t.bindAttribLocation(i,o,s[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var a={};for(var o in e.uniformData){var l=e.uniformData[o];a[o]={location:t.getUniformLocation(i,o),value:Goe(l.type,l.size)}}var u=new nae(i,a);return u}var uot=0,Tw={textureCount:0,uboCount:0},CL=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=uot++}return t.prototype.systemCheck=function(){if(!Kst())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Tw.textureCount=0,Tw.uboCount=0,this.syncUniformGroup(e.uniformGroup,Tw)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=qst(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Tw,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=rae(e,this.shader.program.uniformData)),e.autoManage){var l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,s=[n+"-"];for(var o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=iae(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function cot(t,e){return e===void 0&&(e=[]),e[pn.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.ADD]=[t.ONE,t.ONE],e[pn.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.NONE]=[0,0],e[pn.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[pn.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[pn.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[pn.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[pn.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[pn.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[pn.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[pn.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[pn.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[pn.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[pn.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var dot=0,fot=1,hot=2,pot=3,mot=4,got=5,EL=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=pn.NONE,this._blendEq=!1,this.map=[],this.map[dot]=this.setBlend,this.map[fot]=this.setOffset,this.map[hot]=this.setCullFace,this.map[pot]=this.setDepthTest,this.map[mot]=this.setFrontFace,this.map[got]=this.setDepthMask,this.checks=[],this.defaultState=new Fp,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=cot(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),AL=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Ur.GC_MAX_IDLE,this.checkCountMax=Ur.GC_MAX_CHECK_COUNT,this.mode=Ur.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Zb.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var s=r[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function vot(t){var e,r,n,i,s,o,a,l,u,d,f,h,g,v,p,b,S,C,T,A,E,I,O;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?O=(e={},e[cn.UNSIGNED_BYTE]=(r={},r[Cr.RGBA]=t.RGBA8,r[Cr.RGB]=t.RGB8,r[Cr.RG]=t.RG8,r[Cr.RED]=t.R8,r[Cr.RGBA_INTEGER]=t.RGBA8UI,r[Cr.RGB_INTEGER]=t.RGB8UI,r[Cr.RG_INTEGER]=t.RG8UI,r[Cr.RED_INTEGER]=t.R8UI,r[Cr.ALPHA]=t.ALPHA,r[Cr.LUMINANCE]=t.LUMINANCE,r[Cr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[cn.BYTE]=(n={},n[Cr.RGBA]=t.RGBA8_SNORM,n[Cr.RGB]=t.RGB8_SNORM,n[Cr.RG]=t.RG8_SNORM,n[Cr.RED]=t.R8_SNORM,n[Cr.RGBA_INTEGER]=t.RGBA8I,n[Cr.RGB_INTEGER]=t.RGB8I,n[Cr.RG_INTEGER]=t.RG8I,n[Cr.RED_INTEGER]=t.R8I,n),e[cn.UNSIGNED_SHORT]=(i={},i[Cr.RGBA_INTEGER]=t.RGBA16UI,i[Cr.RGB_INTEGER]=t.RGB16UI,i[Cr.RG_INTEGER]=t.RG16UI,i[Cr.RED_INTEGER]=t.R16UI,i[Cr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[cn.SHORT]=(s={},s[Cr.RGBA_INTEGER]=t.RGBA16I,s[Cr.RGB_INTEGER]=t.RGB16I,s[Cr.RG_INTEGER]=t.RG16I,s[Cr.RED_INTEGER]=t.R16I,s),e[cn.UNSIGNED_INT]=(o={},o[Cr.RGBA_INTEGER]=t.RGBA32UI,o[Cr.RGB_INTEGER]=t.RGB32UI,o[Cr.RG_INTEGER]=t.RG32UI,o[Cr.RED_INTEGER]=t.R32UI,o[Cr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[cn.INT]=(a={},a[Cr.RGBA_INTEGER]=t.RGBA32I,a[Cr.RGB_INTEGER]=t.RGB32I,a[Cr.RG_INTEGER]=t.RG32I,a[Cr.RED_INTEGER]=t.R32I,a),e[cn.FLOAT]=(l={},l[Cr.RGBA]=t.RGBA32F,l[Cr.RGB]=t.RGB32F,l[Cr.RG]=t.RG32F,l[Cr.RED]=t.R32F,l[Cr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),e[cn.HALF_FLOAT]=(u={},u[Cr.RGBA]=t.RGBA16F,u[Cr.RGB]=t.RGB16F,u[Cr.RG]=t.RG16F,u[Cr.RED]=t.R16F,u),e[cn.UNSIGNED_SHORT_5_6_5]=(d={},d[Cr.RGB]=t.RGB565,d),e[cn.UNSIGNED_SHORT_4_4_4_4]=(f={},f[Cr.RGBA]=t.RGBA4,f),e[cn.UNSIGNED_SHORT_5_5_5_1]=(h={},h[Cr.RGBA]=t.RGB5_A1,h),e[cn.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[Cr.RGBA]=t.RGB10_A2,g[Cr.RGBA_INTEGER]=t.RGB10_A2UI,g),e[cn.UNSIGNED_INT_10F_11F_11F_REV]=(v={},v[Cr.RGB]=t.R11F_G11F_B10F,v),e[cn.UNSIGNED_INT_5_9_9_9_REV]=(p={},p[Cr.RGB]=t.RGB9_E5,p),e[cn.UNSIGNED_INT_24_8]=(b={},b[Cr.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,b),e[cn.FLOAT_32_UNSIGNED_INT_24_8_REV]=(S={},S[Cr.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,S),e):O=(C={},C[cn.UNSIGNED_BYTE]=(T={},T[Cr.RGBA]=t.RGBA,T[Cr.RGB]=t.RGB,T[Cr.ALPHA]=t.ALPHA,T[Cr.LUMINANCE]=t.LUMINANCE,T[Cr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,T),C[cn.UNSIGNED_SHORT_5_6_5]=(A={},A[Cr.RGB]=t.RGB,A),C[cn.UNSIGNED_SHORT_4_4_4_4]=(E={},E[Cr.RGBA]=t.RGBA,E),C[cn.UNSIGNED_SHORT_5_5_5_1]=(I={},I[Cr.RGBA]=t.RGBA,I),C),O}var VS=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=cn.UNSIGNED_BYTE,this.internalFormat=Cr.RGBA,this.samplerType=0}return t}(),PL=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ui,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=vot(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new VS(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new VS(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(var s=0;s<i.length;s++)i[s]===e&&(this.currentLocation!==s&&(n.activeTexture(n.TEXTURE0+s),this.currentLocation=s),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[s]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,s=r.CONTEXT_UID;if(i)for(var o=e-1;o>=0;--o){var a=n[o];if(a){var l=a._glTextures[s];l.samplerType!==Kb.FLOAT&&this.renderer.texture.unbind(a)}}},t.prototype.initTexture=function(e){var r=new VS(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===cn.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Kb.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,s=e.realHeight,o=n.gl;(r.width!==i||r.height!==s||r.dirtyId<0)&&(r.width=i,r.height=s,o.texImage2D(e.target,0,r.internalFormat,i,s,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&cm(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Uu.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=vc.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==Uu.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===uc.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===uc.LINEAR){var s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===uc.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===uc.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),sae={__proto__:null,FilterSystem:mL,BatchSystem:gL,ContextSystem:vL,FramebufferSystem:yL,GeometrySystem:_L,MaskSystem:bL,ScissorSystem:xL,StencilSystem:wL,ProjectionSystem:SL,RenderTextureSystem:TL,ShaderSystem:CL,StateSystem:EL,TextureGCSystem:AL,TextureSystem:PL},H4=new vs,oae=function(t){rs(e,t);function e(r,n){r===void 0&&(r=ty.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},Ur.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new ci(0,0,n.width,n.height),i.view=n.view||Ur.ADAPTER.createCanvas(),i.resolution=n.resolution||Ur.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(za("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={}),typeof n=="number"&&(za("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:s});var o=n.region,a=Rst(n,["region"]);s=o||r.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var l=Tp.create(PR({width:s.width,height:s.height},a));return H4.tx=-s.x,H4.ty=-s.y,this.render(r,{renderTexture:l,clear:!1,transform:H4,skipUpdateTransform:!!r.parent}),l},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=ty.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=J$(r),Mm(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(ah),yot=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),_ot=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,s.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,s=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,s=i.gl,o=i.CONTEXT_UID;n=n||0;var a=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i];if(e._updateID!==s.updateID)if(s.updateID=e._updateID,n.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new yot(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),kL=function(t){rs(e,t);function e(r){var n=t.call(this,ty.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Po("destroy"),contextChange:new Po("contextChange"),reset:new Po("reset"),update:new Po("update"),postrender:new Po("postrender"),prerender:new Po("prerender"),resize:new Po("resize")},n.runners.contextChange.add(n),n.globalUniforms=new lp({projectionMatrix:new vs},!0),n.addSystem(bL,"mask").addSystem(vL,"context").addSystem(EL,"state").addSystem(CL,"shader").addSystem(PL,"texture").addSystem(_ot,"buffer").addSystem(_L,"geometry").addSystem(yL,"framebuffer").addSystem(xL,"scissor").addSystem(wL,"stencil").addSystem(SL,"projection").addSystem(AL,"textureGC").addSystem(mL,"filter").addSystem(TL,"renderTexture").addSystem(gL,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Coe(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(Eoe())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=os.HIGH?this.multisample=os.HIGH:n>=os.MEDIUM?this.multisample=os.MEDIUM:n>=os.LOW?this.multisample=os.LOW:this.multisample=os.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(r,n){var i,s,o,a;if(n&&(n instanceof Tp?(za("6.0.0","Renderer#render arguments changed, use options instead."),i=n,s=arguments[2],o=arguments[3],a=arguments[4]):(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!a){var l=r.enableTempParent();r.updateTransform(),r.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,s);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return za("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){za("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),jd.add({name:r,type:$i.RendererPlugin,ref:n})},e.__plugins={},e}(oae);jd.handleByMap($i.RendererPlugin,kL.__plugins);function aae(t){return kL.create(t)}var bot=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xot=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,lae=bot,IL=xot,wot=function(){function t(e){za("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return t.prototype.destroy=function(){this.renderer=null},t}(),IC=function(){function t(){this.texArray=null,this.blend=0,this.type=bu.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),DC=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),RC=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),uae=function(t){rs(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Fp.for2d(),n.size=Ur.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;Ur.PREFER_ENV===Rd.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Ur.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Koe(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new IC);for(;n.length<s;)n.push(new DC);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,s=e._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++ui._globalBatch,d=0,f=s[0],h=0;o.copyBoundTextures(a,i);for(var g=0;g<this._bufferSize;++g){var v=n[g];n[g]=null,v._batchEnabled!==u&&(f.count>=i&&(o.boundArray(f,a,u,i),this.buildDrawCalls(f,h,g),h=g,f=s[++d],++u),v._batchEnabled=u,v.touched=l,f.elements[f.count++]=v)}f.count>0&&(o.boundArray(f,a,u,i),this.buildDrawCalls(f,h,this._bufferSize),++d,++u);for(var g=0;g<a.length;g++)a[g]=null;ui._globalBatch=u},e.prototype.buildDrawCalls=function(r,n,i){var s=this,o=s._bufferedElements,a=s._attributeBuffer,l=s._indexBuffer,u=s.vertexSize,d=e._drawCallPool,f=this._dcIndex,h=this._aIndex,g=this._iIndex,v=d[f];v.start=this._iIndex,v.texArray=r;for(var p=n;p<i;++p){var b=o[p],S=b._texture.baseTexture,C=tL[S.alphaMode?1:0][b.blendMode];o[p]=null,n<p&&v.blend!==C&&(v.size=g-v.start,n=p,v=d[++f],v.texArray=r,v.start=g),this.packInterleavedGeometry(b,a,l,h,g),h+=b.vertexData.length/2*u,g+=b.indices.length,v.blend=C}n<i&&(v.size=g-v.start,++f),this._dcIndex=f,this._aIndex=h,this._iIndex=g},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,s=r._indexBuffer;Ur.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,o=e._drawCallPool,a=null,l=0;l<r;l++){var u=o[l],d=u.texArray,f=u.type,h=u.size,g=u.start,v=u.blend;a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=v,s.set(this.state),i.drawElements(f,h,i.UNSIGNED_SHORT,g*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ur.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=t1(Math.ceil(r/8)),i=wR(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new RC(s*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=t1(Math.ceil(r/12)),i=wR(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(s)),o},e.prototype.packInterleavedGeometry=function(r,n,i,s,o){for(var a=n.uint32View,l=n.float32View,u=s/this.vertexSize,d=r.uvs,f=r.indices,h=r.vertexData,g=r._texture.baseTexture._batchLocation,v=Math.min(r.worldAlpha,1),p=v<1&&r._texture.baseTexture.alphaMode?vA(r._tintRGB,v):r._tintRGB+(v*255<<24),b=0;b<h.length;b+=2)l[s++]=h[b],l[s++]=h[b+1],l[s++]=d[b],l[s++]=d[b+1],a[s++]=p,l[s++]=g;for(var b=0;b<f.length;b++)i[o++]=u+f[b]},e._drawCallPool=[],e._textureArrayPool=[],e}(Z1),cae=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=lp.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ky(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new vs,default:this.defaultGroupCache[e]};return new Mf(this.programCache[e],s)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),DL=function(t){rs(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new to(null,r,!1),n._indexBuffer=new to(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,cn.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,cn.FLOAT).addAttribute("aColor",n._buffer,4,!0,cn.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,cn.FLOAT).addIndex(n._indexBuffer),n}return e}(Yy),jj=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Gj=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,dae=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:jj,fragment:Gj,geometryClass:DL,vertexSize:6},e),n=r.vertex,i=r.fragment,s=r.vertexSize,o=r.geometryClass;return function(a){rs(l,a);function l(u){var d=a.call(this,u)||this;return d.shaderGenerator=new cae(n,i),d.geometryClass=o,d.vertexSize=s,d}return l}(uae)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return jj},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Gj},enumerable:!1,configurable:!0}),t}(),RL=dae.create();Object.assign(RL,{extension:{name:"batch",type:$i.RendererPlugin}});var fae={},Sot=function(t){Object.defineProperty(fae,t,{get:function(){return za("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),Boe[t]}})};for(var ML in Boe)Sot(ML);var hae={},Tot=function(t){Object.defineProperty(hae,t,{get:function(){return za("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),sae[t]}})};for(var ML in sae)Tot(ML);var Cot="6.5.9";/*!
 * @pixi/accessibility - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pae={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ns.mixin(pae);var Eot=9,Cw=100,Aot=0,Pot=0,Wj=2,qj=1,kot=-1e3,Iot=-1e3,Dot=2,mae=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(xu.tablet||xu.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Cw+"px",r.style.height=Cw+"px",r.style.position="absolute",r.style.top=Aot+"px",r.style.left=Pot+"px",r.style.zIndex=Wj.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=qj+"px",r.style.height=qj+"px",r.style.position="absolute",r.style.top=kot+"px",r.style.left=Iot+"px",r.style.zIndex=Dot.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(xu.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,s=r.width,o=r.height,a=this.renderer,l=a.width,u=a.height,d=a.resolution,f=s/l*d,h=o/u*d,g=this.div;g.style.left=n+"px",g.style.top=i+"px",g.style.width=l+"px",g.style.height=u+"px";for(var v=0;v<this.children.length;v++){var p=this.children[v];if(p.renderId!==this.renderId)p._accessibleActive=!1,cm(this.children,v,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,v--;else{g=p._accessibleDiv;var b=p.hitArea,S=p.worldTransform;p.hitArea?(g.style.left=(S.tx+b.x*S.a)*f+"px",g.style.top=(S.ty+b.y*S.d)*h+"px",g.style.width=b.width*S.a*f+"px",g.style.height=b.height*S.d*h+"px"):(b=p.getBounds(),this.capHitArea(b),g.style.left=b.x*f+"px",g.style.top=b.y*h+"px",g.style.width=b.width*f+"px",g.style.height=b.height*h+"px",g.title!==p.accessibleTitle&&p.accessibleTitle!==null&&(g.title=p.accessibleTitle),g.getAttribute("aria-label")!==p.accessibleHint&&p.accessibleHint!==null&&g.setAttribute("aria-label",p.accessibleHint)),(p.accessibleTitle!==g.title||p.tabIndex!==g.tabIndex)&&(g.title=p.accessibleTitle,g.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Cw+"px",r.style.height=Cw+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Wj.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===Eot&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[$i.RendererPlugin,$i.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var IR=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Gi,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DR=function(t,e){return DR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},DR(t,e)};function Rot(t,e){DR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gae=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),zS=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Mot=function(){function t(){this._tempPoint=new Gi}return t.prototype.recursiveFindHit=function(e,r,n,i,s){var o;if(!r||!r.visible)return!1;var a=e.data.global;s=r.interactive||s;var l=!1,u=s,d=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,d=!1)),u=!1;else if(r._mask&&i){var f=r._mask.isMaskData?r._mask.maskObject:r._mask;f&&!(!((o=f.containsPoint)===null||o===void 0)&&o.call(f,a))&&(i=!1)}if(d&&r.interactiveChildren&&r.children)for(var h=r.children,g=h.length-1;g>=0;g--){var v=h[g],p=this.recursiveFindHit(e,v,n,i,u);if(p){if(!v.parent)continue;u=!1,p&&(e.target&&(i=!1),l=!0)}}return s&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(l=!0),r.interactive&&(l&&!e.target&&(e.target=r),n&&n(e,r,!!l))),l},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),vae={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ns.mixin(vae);var Ew=1,Aw={target:null,data:{global:null}},yae=function(t){Rot(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new IR,i.mouse.identifier=Ew,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Ew]=i.mouse,i.interactionDataPool=[],i.eventData=new gae,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Mot,i._tempDisplayObject=new sL,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return Aw.target=null,Aw.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Aw,n,null,!0),Aw.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Io.system.add(this.tickerUpdate,this,Md.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Io.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*o,r.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*o},e.prototype.processInteractive=function(r,n,i,s){var o=this.search.findHit(r,n,i,s),a=this.delayedEvents;if(!a.length)return o;r.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var u=0;u<l;u++){var d=a[u],f=d.displayObject,h=d.eventString,g=d.eventData;g.stopsPropagatingAt===f&&(g.stopPropagationHint=!0),this.dispatchEvent(f,h,g)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var s=n.length,o=0;o<s;o++){var a=n[o],l=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),a.pointerType==="touch")this.emit("touchstart",u);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var d=a.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var s=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new zS(o)),this.dispatchEvent(n,"pointerdown",r),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var a=s.button===2;a?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,a?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){var s=this.normalizeToPointerData(r),o=s.length,a=r.target;r.composedPath&&r.composedPath().length>0&&(a=r.composedPath()[0]);for(var l=a!==this.interactionDOMElement?"outside":"",u=0;u<o;u++){var d=s[u],f=this.getInteractionDataForPointerId(d),h=this.configureInteractionEventForDOMEvent(this.eventData,d,f);if(h.data.originalEvent=r,this.processInteractive(h,this.lastObjectRendered,i,n||!l),this.emit(n?"pointercancel":"pointerup"+l,h),d.pointerType==="mouse"||d.pointerType==="pen"){var g=d.button===2;this.emit(g?"rightup"+l:"mouseup"+l,h)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,h),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,s=r.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var s=r.data,o=r.data.identifier,a=n.trackedPointers[o],l=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen",d=!1;if(u){var f=s.button===2,h=zS.FLAGS,g=f?h.RIGHT_DOWN:h.LEFT_DOWN,v=a!==void 0&&a.flags&g;i?(this.dispatchEvent(n,f?"rightup":"mouseup",r),v&&(this.dispatchEvent(n,f?"rightclick":"click",r),d=!0)):v&&this.dispatchEvent(n,f?"rightupoutside":"mouseupoutside",r),a&&(f?a.rightDown=!1:a.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),l&&this.dispatchEvent(n,"touchend",r),a&&((!u||d)&&this.dispatchEvent(n,"pointertap",r),l&&(this.dispatchEvent(n,"tap",r),a.over=!1))):a&&(this.dispatchEvent(n,"pointerupoutside",r),l&&this.dispatchEvent(n,"touchendoutside",r)),a&&a.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var o=n[s],a=this.getInteractionDataForPointerId(o),l=this.configureInteractionEventForDOMEvent(this.eventData,o,a);l.data.originalEvent=r,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),o.pointerType==="touch"&&this.emit("touchmove",l),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var s=r.data,o=s.pointerType==="touch",a=s.pointerType==="mouse"||s.pointerType==="pen";a&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),a&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var s=r.data,o=r.data.identifier,a=s.pointerType==="mouse"||s.pointerType==="pen",l=n.trackedPointers[o];i&&!l&&(l=n.trackedPointers[o]=new zS(o)),l!==void 0&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",r),a&&this.delayDispatchEvent(n,"mouseover",r)),a&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),a&&this.dispatchEvent(n,"mouseout",r),l.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)}},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Ew||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new IR,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,s=r.changedTouches.length;i<s;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var a=r;typeof a.isPrimary>"u"&&(a.isPrimary=!0),typeof a.width>"u"&&(a.width=1),typeof a.height>"u"&&(a.height=1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="mouse"),typeof a.pointerId>"u"&&(a.pointerId=Ew),typeof a.pressure>"u"&&(a.pressure=.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),a.isNormalized=!0,n.push(a)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[$i.RendererPlugin,$i.CanvasRendererPlugin]},e}(ah);/*!
 * @pixi/extract - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Oot=new ci,$ot=4,_ae=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e,r){var n=this._rawPixels(e,r),i=n.pixels,s=n.width,o=n.height,a=n.flipY,l=new TR(s,o,1),u=l.context.getImageData(0,0,s,o);if(t.arrayPostDivide(i,u.data),l.context.putImageData(u,0,0),a){var d=new TR(l.width,l.height,1);d.context.scale(1,-1),d.context.drawImage(l.canvas,0,-o),l.destroy(),l=d}return l.canvas},t.prototype.pixels=function(e,r){var n=this._rawPixels(e,r).pixels;return t.arrayPostDivide(n,n),n},t.prototype._rawPixels=function(e,r){var n=this.renderer,i,s=!1,o,a=!1;if(e)if(e instanceof Tp)o=e;else{var l=n.context.webGLVersion>=2?n.multisample:os.NONE;if(o=this.renderer.generateTexture(e,{multisample:l}),l!==os.NONE){var u=Tp.create({width:o.width,height:o.height});n.framebuffer.bind(o.framebuffer),n.framebuffer.blit(u.framebuffer),n.framebuffer.bind(null),o.destroy(!0),o=u}a=!0}o?(i=o.baseTexture.resolution,r=r??o.frame,s=!1,n.renderTexture.bind(o)):(i=n.resolution,r||(r=Oot,r.width=n.width,r.height=n.height),s=!0,n.renderTexture.bind(null));var d=Math.round(r.width*i),f=Math.round(r.height*i),h=new Uint8Array($ot*d*f),g=n.gl;return g.readPixels(Math.round(r.x*i),Math.round(r.y*i),d,f,g.RGBA,g.UNSIGNED_BYTE,h),a&&o.destroy(!0),{pixels:h,width:d,height:f,flipY:s}},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t.extension={name:"extract",type:$i.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Pw=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function Xj(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var xf=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Pw))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Xj(this,new Pw(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Xj(this,new Pw(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Pw))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function bae(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},s=14;s--;)i[r.key[s]]=n[s]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,a,l){a&&(i[r.q.name][a]=l)}),i}var j4,kw=null,Lot=0,Yj=200,Fot=204,Not=1223,Bot=2;function Kj(){}function Zj(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function G4(t){return t.toString().replace("object ","")}var Ts=function(){function t(e,r,n){if(this._dequeue=Kj,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Kj,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new xf,this.onProgress=new xf,this.onComplete=new xf,this.onAfterMiddleware=new xf}return t.setExtensionLoadType=function(e,r){Zj(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Zj(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof j4>"u"&&(j4=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),j4&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(G4(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(G4(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(G4(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?Yj:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===Lot&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=Yj:n===Not&&(n=Fot);var i=n/100|0;if(i===Bot)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(a){this.abort("Error trying to parse loaded json: "+a);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(a){this.abort("Error trying to parse loaded xml: "+a);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,kw||(kw=document.createElement("a")),kw.href=e;var n=bae(kw.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,s=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||s!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),s=e.indexOf("#"),o=Math.min(i>-1?i:e.length,s>-1?s:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Ts||(Ts={}));function c0(){}function Uot(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var s=t;t=null,s.apply(this,n)}}var Vot=function(){function t(e,r){this.data=e,this.callback=r}return t}(),W4=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=c0,this.unsaturated=c0,this.empty=c0,this.drain=c0,this.error=c0,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var a=new Vot(i,typeof o=="function"?o:c0);s?n._tasks.unshift(a):n._tasks.push(a),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,Uot(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++)i[s]=n[s];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=c0,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var s=0,o=e.length;function a(l){if(l||s===o){n&&n(l);return}i?setTimeout(function(){r(e[s++],a)},1):r(e[s++],a)}a()},t.queue=function(e,r){return new t(e,r)},t}(),q4=100,zot=/(#[\w-]+)?$/,o1=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return n._loadResource(l,u)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return n._loadResource(l,u)},this._queue=W4.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new xf,this.onError=new xf,this.onLoad=new xf,this.onStart=new xf,this.onComplete=new xf;for(var i=0;i<t._plugins.length;++i){var s=t._plugins[i],o=s.pre,a=s.use;o&&this.pre(o),a&&this.use(a)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new Ts(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var s=n.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var l=s.progressChunk*(o.length+1),u=l/(o.length+2);s.children.push(this.resources[e]),s.progressChunk=u;for(var a=0;a<o.length;++a)o[a].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(za("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=q4/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=bae(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=zot.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,W4.eachSeries(this._beforeMiddleware,function(i,s){i.call(n,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=q4,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),W4.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(q4,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return za("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),jd.add({type:$i.Loader,ref:e}),t},t._plugins=[],t}();jd.handleByList($i.Loader,o1._plugins);o1.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var xae=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?o1.shared:new o1},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=$i.Application,t}(),wae=function(){function t(){}return t.add=function(){Ts.setExtensionLoadType("svg",Ts.LOAD_TYPE.XHR),Ts.setExtensionXhrType("svg",Ts.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===Ts.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,s=e.name,o=e.metadata;kn.fromLoader(n,i,s,o).then(function(a){e.texture=a,r()}).catch(r)}else r()},t.extension=$i.Loader,t}(),Hot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jot(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=t.charCodeAt(r++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)e+=Hot.charAt(i[s])}return e}function Got(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===Ts.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+jot(t.xhr.responseText),t.type=Ts.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Ts.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var Wot=function(){function t(){}return t.extension=$i.Loader,t.use=Got,t}();jd.add(wae,Wot);/*!
 * @pixi/compressed-textures - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ii,Nn;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Nn||(Nn={}));var a1=(Ii={},Ii[Nn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Ii[Nn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Ii[Nn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Ii[Nn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Ii[Nn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Ii[Nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Ii[Nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Ii[Nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Ii[Nn.COMPRESSED_R11_EAC]=.5,Ii[Nn.COMPRESSED_SIGNED_R11_EAC]=.5,Ii[Nn.COMPRESSED_RG11_EAC]=1,Ii[Nn.COMPRESSED_SIGNED_RG11_EAC]=1,Ii[Nn.COMPRESSED_RGB8_ETC2]=.5,Ii[Nn.COMPRESSED_RGBA8_ETC2_EAC]=1,Ii[Nn.COMPRESSED_SRGB8_ETC2]=.5,Ii[Nn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Ii[Nn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ii[Nn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ii[Nn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Ii[Nn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Ii[Nn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Ii[Nn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Ii[Nn.COMPRESSED_RGB_ETC1_WEBGL]=.5,Ii[Nn.COMPRESSED_RGB_ATC_WEBGL]=.5,Ii[Nn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Ii[Nn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Ii[Nn.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,Ii);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RR=function(t,e){return RR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},RR(t,e)};function Sae(t,e){RR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function qot(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Xot(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Tae=function(t){Sae(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,s,o;return typeof r=="string"?(s=r,o=new Uint8Array):(s=null,o=r),i=t.call(this,o,n)||this,i.origin=s,i.buffer=o?new RC(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return qot(this,void 0,Promise,function(){var r,n,i;return Xot(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return r=s.sent(),[4,r.blob()];case 2:return n=s.sent(),[4,n.arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new RC(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Xm),MC=function(t){Sae(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var s=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var u=this._levelBuffers[a],d=u.levelID,f=u.levelWidth,h=u.levelHeight,g=u.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,f,h,0,g)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,s,o,a,l){for(var u=new Array(i),d=r.byteOffset,f=a,h=l,g=f+s-1&~(s-1),v=h+o-1&~(o-1),p=g*v*a1[n],b=0;b<i;b++)u[b]={levelID:b,levelWidth:i>1?f:g,levelHeight:i>1?h:v,levelBuffer:new Uint8Array(r.buffer,d,p)},d+=p,f=f>>1||1,h=h>>1||1,g=f+s-1&~(s-1),v=h+o-1&~(o-1),p=g*v*a1[n];return u},e}(Tae),Cae=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===Ts.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var s=n.textures,o=void 0,a=void 0,l=0,u=s.length;l<u;l++){var d=s[l],f=d.src,h=d.format;if(h||(a=f),t.textureFormats[h]){o=f;break}}if(o=o||a,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},v=md.resolve(e.url.replace(i.baseUrl,""),o),p=n.cacheID;i.add(p,v,g,function(b){if(b.error){r(b.error);return}var S=b.texture,C=S===void 0?null:S,T=b.textures,A=T===void 0?{}:T;Object.assign(e,{texture:C,textures:A}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=Ur.ADAPTER.createCanvas(),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];n&&Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=$i.Loader,t}();function Eae(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(s){return new kn(new ui(s,Object.assign({mipmap:Uu.OFF,alphaMode:Vu.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(s,o){var a=s.baseTexture,l=t+"-"+(o+1);ui.addToCache(a,l),kn.addToCache(s,l),o===0&&(ui.addToCache(a,t),kn.addToCache(s,t),n.texture=s),n.textures[l]=s}),n}var D_,Qu,X4=4,Iw=124,Yot=32,Qj=20,Kot=542327876,Dw={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Zot={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Rw={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},rc;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(rc||(rc={}));var MR;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(MR||(MR={}));var Qot=1,Jot=2,eat=4,tat=64,rat=512,nat=131072,iat=827611204,sat=861165636,oat=894720068,aat=808540228,lat=4,uat=(D_={},D_[iat]=Nn.COMPRESSED_RGBA_S3TC_DXT1_EXT,D_[sat]=Nn.COMPRESSED_RGBA_S3TC_DXT3_EXT,D_[oat]=Nn.COMPRESSED_RGBA_S3TC_DXT5_EXT,D_),cat=(Qu={},Qu[rc.DXGI_FORMAT_BC1_TYPELESS]=Nn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Qu[rc.DXGI_FORMAT_BC1_UNORM]=Nn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Qu[rc.DXGI_FORMAT_BC2_TYPELESS]=Nn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Qu[rc.DXGI_FORMAT_BC2_UNORM]=Nn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Qu[rc.DXGI_FORMAT_BC3_TYPELESS]=Nn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Qu[rc.DXGI_FORMAT_BC3_UNORM]=Nn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Qu[rc.DXGI_FORMAT_BC1_UNORM_SRGB]=Nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Qu[rc.DXGI_FORMAT_BC2_UNORM_SRGB]=Nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Qu[rc.DXGI_FORMAT_BC3_UNORM_SRGB]=Nn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Qu);function Aae(t){var e=new Uint32Array(t),r=e[0];if(r!==Kot)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,Iw/Uint32Array.BYTES_PER_ELEMENT),i=n[Dw.HEIGHT],s=n[Dw.WIDTH],o=n[Dw.MIPMAP_COUNT],a=new Uint32Array(t,Dw.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Yot/Uint32Array.BYTES_PER_ELEMENT),l=a[Qot];if(l&eat){var u=a[Zot.FOURCC];if(u!==aat){var d=uat[u],f=X4+Iw,h=new Uint8Array(t,f),g=new MC(h,{format:d,width:s,height:i,levels:o});return[g]}var v=X4+Iw,p=new Uint32Array(e.buffer,v,Qj/Uint32Array.BYTES_PER_ELEMENT),b=p[Rw.DXGI_FORMAT],S=p[Rw.RESOURCE_DIMENSION],C=p[Rw.MISC_FLAG],T=p[Rw.ARRAY_SIZE],A=cat[b];if(A===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+b);if(C===lat)throw new Error("DDSParser does not support cubemap textures");if(S===MR.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var E=new Array,I=X4+Iw+Qj;if(T===1)E.push(new Uint8Array(t,I));else{for(var O=a1[A],N=0,G=s,ie=i,W=0;W<o;W++){var q=Math.max(1,G+3&-4),J=Math.max(1,ie+3&-4),X=q*J*O;N+=X,G=G>>>1,ie=ie>>>1}for(var R=I,W=0;W<T;W++)E.push(new Uint8Array(t,R,N)),R+=N}return E.map(function(z){return new MC(z,{format:A,width:s,height:i,levels:o})})}throw l&tat?new Error("DDSParser does not support uncompressed texture data."):l&rat?new Error("DDSParser does not supported YUV uncompressed texture data."):l&nat?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Jot?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Ch,nf,R_,Jj=[171,75,84,88,32,49,49,187,13,10,26,10],dat=67305985,Ju={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},OR=64,$R=(Ch={},Ch[cn.UNSIGNED_BYTE]=1,Ch[cn.UNSIGNED_SHORT]=2,Ch[cn.INT]=4,Ch[cn.UNSIGNED_INT]=4,Ch[cn.FLOAT]=4,Ch[cn.HALF_FLOAT]=8,Ch),Pae=(nf={},nf[Cr.RGBA]=4,nf[Cr.RGB]=3,nf[Cr.RG]=2,nf[Cr.RED]=1,nf[Cr.LUMINANCE]=1,nf[Cr.LUMINANCE_ALPHA]=2,nf[Cr.ALPHA]=1,nf),kae=(R_={},R_[cn.UNSIGNED_SHORT_4_4_4_4]=2,R_[cn.UNSIGNED_SHORT_5_5_5_1]=2,R_[cn.UNSIGNED_SHORT_5_6_5]=2,R_);function Iae(t,e,r){r===void 0&&(r=!1);var n=new DataView(e);if(!fat(t,n))return null;var i=n.getUint32(Ju.ENDIANNESS,!0)===dat,s=n.getUint32(Ju.GL_TYPE,i),o=n.getUint32(Ju.GL_FORMAT,i),a=n.getUint32(Ju.GL_INTERNAL_FORMAT,i),l=n.getUint32(Ju.PIXEL_WIDTH,i),u=n.getUint32(Ju.PIXEL_HEIGHT,i)||1,d=n.getUint32(Ju.PIXEL_DEPTH,i)||1,f=n.getUint32(Ju.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(Ju.NUMBER_OF_FACES,i),g=n.getUint32(Ju.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(Ju.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||d!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var p=4,b=4,S=l+3&-4,C=u+3&-4,T=new Array(f),A=l*u;s===0&&(A=S*C);var E;if(s!==0?$R[s]?E=$R[s]*Pae[o]:E=kae[s]:E=a1[a],E===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var I=r?pat(n,v,i):null,O=A*E,N=O,G=l,ie=u,W=S,q=C,J=OR+v,X=0;X<g;X++){for(var R=n.getUint32(J,i),z=J+4,re=0;re<f;re++){var oe=T[re];oe||(oe=T[re]=new Array(g)),oe[X]={levelID:X,levelWidth:g>1||s!==0?G:W,levelHeight:g>1||s!==0?ie:q,levelBuffer:new Uint8Array(e,z,N)},z+=N}J+=R+4,J=J%4!==0?J+4-J%4:J,G=G>>1||1,ie=ie>>1||1,W=G+p-1&~(p-1),q=ie+b-1&~(b-1),N=W*q*E}return s!==0?{uncompressed:T.map(function(H){var ee=H[0].levelBuffer,ae=!1;return s===cn.FLOAT?ee=new Float32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4):s===cn.UNSIGNED_INT?(ae=!0,ee=new Uint32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4)):s===cn.INT&&(ae=!0,ee=new Int32Array(H[0].levelBuffer.buffer,H[0].levelBuffer.byteOffset,H[0].levelBuffer.byteLength/4)),{resource:new Xm(ee,{width:H[0].levelWidth,height:H[0].levelHeight}),type:s,format:ae?hat(o):o}}),kvData:I}:{compressed:T.map(function(H){return new MC(null,{format:a,width:l,height:u,levels:g,levelBuffers:H})}),kvData:I}}function fat(t,e){for(var r=0;r<Jj.length;r++)if(e.getUint8(r)!==Jj[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function hat(t){switch(t){case Cr.RGBA:return Cr.RGBA_INTEGER;case Cr.RGB:return Cr.RGB_INTEGER;case Cr.RG:return Cr.RG_INTEGER;case Cr.RED:return Cr.RED_INTEGER;default:return t}}function pat(t,e,r){for(var n=new Map,i=0;i<e;){var s=t.getUint32(OR+i,r),o=OR+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),d=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,d),i+=4+s+a}return n}Ts.setExtensionXhrType("dds",Ts.XHR_RESPONSE_TYPE.BUFFER);var Dae=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,Eae(e.name||e.url,Aae(e.data),e.metadata))}catch(n){r(n);return}r()},t.extension=$i.Loader,t}();Ts.setExtensionXhrType("ktx",Ts.XHR_RESPONSE_TYPE.BUFFER);var Rae=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=Iae(n,e.data,this.loadKeyValueData),s=i.compressed,o=i.uncompressed,a=i.kvData;if(s){var l=Eae(n,s,e.metadata);if(a&&l.textures)for(var u in l.textures)l.textures[u].baseTexture.ktxKeyValueData=a;Object.assign(e,l)}else if(o){var d={};o.forEach(function(f,h){var g=new kn(new ui(f.resource,{mipmap:Uu.OFF,alphaMode:Vu.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),v=n+"-"+(h+1);a&&(g.baseTexture.ktxKeyValueData=a),ui.addToCache(g.baseTexture,v),kn.addToCache(g,v),h===0&&(d[n]=g,ui.addToCache(g.baseTexture,n),kn.addToCache(g,n)),d[v]=g}),Object.assign(e,{textures:d})}}catch(f){r(f);return}r()},t.extension=$i.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LR=function(t,e){return LR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},LR(t,e)};function Mae(t,e){LR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mat=function(t){Mae(e,t);function e(r,n,i,s){r===void 0&&(r=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var o=t.call(this)||this,a=16384;return i>a&&(i=a),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=pn.NORMAL,o.autoResize=s,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Mm(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(zu),eG=function(){function t(e,r,n){this.geometry=new Yy,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||cn.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new to(Poe(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new to(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new to(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===cn.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===cn.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===cn.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===cn.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),gat=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vat=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Oae=function(t){Mae(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new vs,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:cn.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Mf.from(vat,gat,{}),n.state=Fp.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,s=r._batchSize,o=this.renderer,a=n.length;if(a!==0){a>i&&!r.autoResize&&(a=i);var l=r._buffers;l||(l=r._buffers=this.generateBuffers(r));var u=n[0]._texture.baseTexture,d=u.alphaMode>0;this.state.blendMode=rL(r.blendMode,d),o.state.set(this.state);var f=o.gl,h=r.worldTransform.copyTo(this.tempMatrix);h.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=Aoe(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var g=!1,v=0,p=0;v<a;v+=s,p+=1){var b=a-v;b>s&&(b=s),p>=l.length&&l.push(this._generateOneMoreBuffer(r));var S=l[p];S.uploadDynamic(n,v,b);var C=r._bufferUpdateIDs[p]||0;g=g||S._updateID<C,g&&(S._updateID=r._updateID,S.uploadStatic(n,v,b)),o.geometry.bind(S.geometry),f.drawElements(f.TRIANGLES,b*6,f.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,s=r._batchSize,o=r._properties,a=0;a<i;a+=s)n.push(new eG(this.properties,o,s));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new eG(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,s,o,a){for(var l=0,u=0,d=0,f=0,h=0;h<i;++h){var g=r[n+h],v=g._texture,p=g.scale.x,b=g.scale.y,S=v.trim,C=v.orig;S?(u=S.x-g.anchor.x*C.width,l=u+S.width,f=S.y-g.anchor.y*C.height,d=f+S.height):(l=C.width*(1-g.anchor.x),u=C.width*-g.anchor.x,d=C.height*(1-g.anchor.y),f=C.height*-g.anchor.y),s[a]=u*p,s[a+1]=f*b,s[a+o]=l*p,s[a+o+1]=f*b,s[a+o*2]=l*p,s[a+o*2+1]=d*b,s[a+o*3]=u*p,s[a+o*3+1]=d*b,a+=o*4}},e.prototype.uploadPosition=function(r,n,i,s,o,a){for(var l=0;l<i;l++){var u=r[n+l].position;s[a]=u.x,s[a+1]=u.y,s[a+o]=u.x,s[a+o+1]=u.y,s[a+o*2]=u.x,s[a+o*2+1]=u.y,s[a+o*3]=u.x,s[a+o*3+1]=u.y,a+=o*4}},e.prototype.uploadRotation=function(r,n,i,s,o,a){for(var l=0;l<i;l++){var u=r[n+l].rotation;s[a]=u,s[a+o]=u,s[a+o*2]=u,s[a+o*3]=u,a+=o*4}},e.prototype.uploadUvs=function(r,n,i,s,o,a){for(var l=0;l<i;++l){var u=r[n+l]._texture._uvs;u?(s[a]=u.x0,s[a+1]=u.y0,s[a+o]=u.x1,s[a+o+1]=u.y1,s[a+o*2]=u.x2,s[a+o*2+1]=u.y2,s[a+o*3]=u.x3,s[a+o*3+1]=u.y3,a+=o*4):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+o*2]=0,s[a+o*2+1]=0,s[a+o*3]=0,s[a+o*3+1]=0,a+=o*4)}},e.prototype.uploadTint=function(r,n,i,s,o,a){for(var l=0;l<i;++l){var u=r[n+l],d=u._texture.baseTexture.alphaMode>0,f=u.alpha,h=f<1&&d?vA(u._tintRGB,f):u._tintRGB+(f*255<<24);s[a]=h,s[a+o]=h,s[a+o*2]=h,s[a+o*3]=h,a+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:$i.RendererPlugin},e}(Z1);/*!
 * @pixi/graphics - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ld;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(ld||(ld={}));var Cf;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Cf||(Cf={}));var sy={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},OL=function(){function t(){this.color=16777215,this.alpha=1,this.texture=kn.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=kn.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var FR=function(t,e){return FR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},FR(t,e)};function $L(t,e){FR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function tG(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var s=0,o=0,a=t[i-2],l=t[i-1];o<i;o+=2){var u=t[o],d=t[o+1];s+=(u-a)*(d+l),a=u,l=d}if(!e&&s>0||e&&s<=0)for(var f=i/2,o=f+f%2;o<i;o+=2){var h=i-o-2,g=i-o-1,v=o,p=o+1;r=[t[v],t[h]],t[h]=r[0],t[v]=r[1],n=[t[p],t[g]],t[g]=n[0],t[p]=n[1]}}}var LL={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,s=e.indices;if(r.length>=6){tG(r,!1);for(var o=[],a=0;a<n.length;a++){var l=n[a];tG(l.points,!0),o.push(r.length/2),r=r.concat(l.points)}var u=G$(r,o,2);if(!u)return;for(var d=i.length/2,a=0;a<u.length;a+=3)s.push(u[a]+d),s.push(u[a+1]+d),s.push(u[a+2]+d);for(var a=0;a<r.length;a++)i.push(r[a])}}},l1={build:function(t){var e=t.points,r,n,i,s,o,a;if(t.type===po.CIRC){var l=t.shape;r=l.x,n=l.y,o=a=l.radius,i=s=0}else if(t.type===po.ELIP){var u=t.shape;r=u.x,n=u.y,o=u.width,a=u.height,i=s=0}else{var d=t.shape,f=d.width/2,h=d.height/2;r=d.x+f,n=d.y+h,o=a=Math.max(0,Math.min(d.radius,Math.min(f,h))),i=f-o,s=h-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}var g=Math.ceil(2.3*Math.sqrt(o+a)),v=g*8+(i?4:0)+(s?4:0);if(e.length=v,v!==0){if(g===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}var p=0,b=g*4+(i?2:0)+2,S=b,C=v;{var T=i+o,A=s,E=r+T,I=r-T,O=n+A;if(e[p++]=E,e[p++]=O,e[--b]=O,e[--b]=I,s){var N=n-A;e[S++]=I,e[S++]=N,e[--C]=N,e[--C]=E}}for(var G=1;G<g;G++){var ie=Math.PI/2*(G/g),T=i+Math.cos(ie)*o,A=s+Math.sin(ie)*a,E=r+T,I=r-T,O=n+A,N=n-A;e[p++]=E,e[p++]=O,e[--b]=O,e[--b]=I,e[S++]=I,e[S++]=N,e[--C]=N,e[--C]=E}{var T=i,A=s+a,E=r+T,I=r-T,O=n+A,N=n-A;e[p++]=E,e[p++]=O,e[--C]=N,e[--C]=E,i&&(e[p++]=I,e[p++]=O,e[--C]=N,e[--C]=I)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices;if(r.length!==0){var s=n.length/2,o=s,a,l;if(t.type!==po.RREC){var u=t.shape;a=u.x,l=u.y}else{var d=t.shape;a=d.x+d.width/2,l=d.y+d.height/2}var f=t.matrix;n.push(t.matrix?f.a*a+f.c*l+f.tx:a,t.matrix?f.b*a+f.d*l+f.ty:l),s++,n.push(r[0],r[1]);for(var h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}}},$ae={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Tg(t,e,r){var n=e-t;return t+n*r}function Mw(t,e,r,n,i,s,o){o===void 0&&(o=[]);for(var a=20,l=o,u=0,d=0,f=0,h=0,g=0,v=0,p=0,b=0;p<=a;++p)b=p/a,u=Tg(t,r,b),d=Tg(e,n,b),f=Tg(r,i,b),h=Tg(n,s,b),g=Tg(u,f,b),v=Tg(d,h,b),!(p===0&&l[l.length-2]===g&&l[l.length-1]===v)&&l.push(g,v);return l}var Lae={build:function(t){if(u1.nextRoundedRectBehavior){l1.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,s=e.width,o=e.height,a=Math.max(0,Math.min(e.radius,Math.min(s,o)/2));r.length=0,a?(Mw(n,i+a,n,i,n+a,i,r),Mw(n+s-a,i,n+s,i,n+s,i+a,r),Mw(n+s,i+o-a,n+s,i+o,n+s-a,i+o,r),Mw(n+a,i+o,n,i+o,n,i+o-a,r)):r.push(n,i,n+s,i,n+s,i+o,n,i+o)},triangulate:function(t,e){if(u1.nextRoundedRectBehavior){l1.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,s=n.length/2,o=G$(r,null,2),a=0,l=o.length;a<l;a+=3)i.push(o[a]+s),i.push(o[a+1]+s),i.push(o[a+2]+s);for(var a=0,l=r.length;a<l;a++)n.push(r[a],r[++a])}};function rG(t,e,r,n,i,s,o,a){var l=t-r*i,u=e-n*i,d=t+r*s,f=e+n*s,h,g;o?(h=n,g=-r):(h=-n,g=r);var v=l+h,p=u+g,b=d+h,S=f+g;return a.push(v,p),a.push(b,S),2}function d0(t,e,r,n,i,s,o,a){var l=r-t,u=n-e,d=Math.atan2(l,u),f=Math.atan2(i-t,s-e);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);var h=d,g=f-d,v=Math.abs(g),p=Math.sqrt(l*l+u*u),b=(15*v*Math.sqrt(p)/Math.PI>>0)+1,S=g/b;if(h+=S,a){o.push(t,e),o.push(r,n);for(var C=1,T=h;C<b;C++,T+=S)o.push(t,e),o.push(t+Math.sin(T)*p,e+Math.cos(T)*p);o.push(t,e),o.push(i,s)}else{o.push(r,n),o.push(t,e);for(var C=1,T=h;C<b;C++,T+=S)o.push(t+Math.sin(T)*p,e+Math.cos(T)*p),o.push(t,e);o.push(i,s),o.push(t,e)}return b*2}function yat(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var s=t.lineStyle,o=new Gi(n[0],n[1]),a=new Gi(n[n.length-2],n[n.length-1]),l=r.type!==po.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var d=(o.x+a.x)*.5,f=(a.y+o.y)*.5;n.unshift(d,f),n.push(d,f)}var h=e.points,g=n.length/2,v=n.length,p=h.length/2,b=s.width/2,S=b*b,C=s.miterLimit*s.miterLimit,T=n[0],A=n[1],E=n[2],I=n[3],O=0,N=0,G=-(A-I),ie=T-E,W=0,q=0,J=Math.sqrt(G*G+ie*ie);G/=J,ie/=J,G*=b,ie*=b;var X=s.alignment,R=(1-X)*2,z=X*2;l||(s.cap===Cf.ROUND?v+=d0(T-G*(R-z)*.5,A-ie*(R-z)*.5,T-G*R,A-ie*R,T+G*z,A+ie*z,h,!0)+2:s.cap===Cf.SQUARE&&(v+=rG(T,A,G,ie,R,z,!0,h))),h.push(T-G*R,A-ie*R),h.push(T+G*z,A+ie*z);for(var re=1;re<g-1;++re){T=n[(re-1)*2],A=n[(re-1)*2+1],E=n[re*2],I=n[re*2+1],O=n[(re+1)*2],N=n[(re+1)*2+1],G=-(A-I),ie=T-E,J=Math.sqrt(G*G+ie*ie),G/=J,ie/=J,G*=b,ie*=b,W=-(I-N),q=E-O,J=Math.sqrt(W*W+q*q),W/=J,q/=J,W*=b,q*=b;var oe=E-T,H=A-I,ee=E-O,ae=N-I,be=oe*ee+H*ae,Me=H*ee-ae*oe,Qe=Me<0;if(Math.abs(Me)<.001*Math.abs(be)){h.push(E-G*R,I-ie*R),h.push(E+G*z,I+ie*z),be>=0&&(s.join===ld.ROUND?v+=d0(E,I,E-G*R,I-ie*R,E-W*R,I-q*R,h,!1)+4:v+=2,h.push(E-W*z,I-q*z),h.push(E+W*R,I+q*R));continue}var ht=(-G+T)*(-ie+I)-(-G+E)*(-ie+A),je=(-W+O)*(-q+I)-(-W+E)*(-q+N),ze=(oe*je-ee*ht)/Me,ut=(ae*ht-H*je)/Me,ct=(ze-E)*(ze-E)+(ut-I)*(ut-I),mt=E+(ze-E)*R,jt=I+(ut-I)*R,vt=E-(ze-E)*z,se=I-(ut-I)*z,Pe=Math.min(oe*oe+H*H,ee*ee+ae*ae),tt=Qe?R:z,et=Pe+tt*tt*S,ot=ct<=et;ot?s.join===ld.BEVEL||ct/S>C?(Qe?(h.push(mt,jt),h.push(E+G*z,I+ie*z),h.push(mt,jt),h.push(E+W*z,I+q*z)):(h.push(E-G*R,I-ie*R),h.push(vt,se),h.push(E-W*R,I-q*R),h.push(vt,se)),v+=2):s.join===ld.ROUND?Qe?(h.push(mt,jt),h.push(E+G*z,I+ie*z),v+=d0(E,I,E+G*z,I+ie*z,E+W*z,I+q*z,h,!0)+4,h.push(mt,jt),h.push(E+W*z,I+q*z)):(h.push(E-G*R,I-ie*R),h.push(vt,se),v+=d0(E,I,E-G*R,I-ie*R,E-W*R,I-q*R,h,!1)+4,h.push(E-W*R,I-q*R),h.push(vt,se)):(h.push(mt,jt),h.push(vt,se)):(h.push(E-G*R,I-ie*R),h.push(E+G*z,I+ie*z),s.join===ld.ROUND?Qe?v+=d0(E,I,E+G*z,I+ie*z,E+W*z,I+q*z,h,!0)+2:v+=d0(E,I,E-G*R,I-ie*R,E-W*R,I-q*R,h,!1)+2:s.join===ld.MITER&&ct/S<=C&&(Qe?(h.push(vt,se),h.push(vt,se)):(h.push(mt,jt),h.push(mt,jt)),v+=2),h.push(E-W*R,I-q*R),h.push(E+W*z,I+q*z),v+=2)}T=n[(g-2)*2],A=n[(g-2)*2+1],E=n[(g-1)*2],I=n[(g-1)*2+1],G=-(A-I),ie=T-E,J=Math.sqrt(G*G+ie*ie),G/=J,ie/=J,G*=b,ie*=b,h.push(E-G*R,I-ie*R),h.push(E+G*z,I+ie*z),l||(s.cap===Cf.ROUND?v+=d0(E-G*(R-z)*.5,I-ie*(R-z)*.5,E-G*R,I-ie*R,E+G*z,I+ie*z,h,!1)+2:s.cap===Cf.SQUARE&&(v+=rG(E,I,G,ie,R,z,!1,h)));for(var St=e.indices,Dt=sy.epsilon*sy.epsilon,re=p;re<v+p-2;++re)T=h[re*2],A=h[re*2+1],E=h[(re+1)*2],I=h[(re+1)*2+1],O=h[(re+2)*2],N=h[(re+2)*2+1],!(Math.abs(T*(I-N)+E*(N-A)+O*(A-I))<Dt)&&St.push(re,re+1,re+2)}}function _at(t,e){var r=0,n=t.shape,i=t.points||n.points,s=n.type!==po.POLY||n.closeStroke;if(i.length!==0){var o=e.points,a=e.indices,l=i.length/2,u=o.length/2,d=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,u)}}function NR(t,e){t.lineStyle.native?_at(t,e):yat(t,e)}var BR=function(){function t(){}return t.curveTo=function(e,r,n,i,s,o){var a=o[o.length-2],l=o[o.length-1],u=l-r,d=a-e,f=i-r,h=n-e,g=Math.abs(u*h-d*f);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var v=u*u+d*d,p=f*f+h*h,b=u*f+d*h,S=s*Math.sqrt(v)/g,C=s*Math.sqrt(p)/g,T=S*b/v,A=C*b/p,E=S*h+C*d,I=S*f+C*u,O=d*(C+T),N=u*(C+T),G=h*(S+A),ie=f*(S+A),W=Math.atan2(N-I,O-E),q=Math.atan2(ie-I,G-E);return{cx:E+e,cy:I+r,radius:s,startAngle:W,endAngle:q,anticlockwise:d*f>h*u}},t.arc=function(e,r,n,i,s,o,a,l,u){for(var d=a-o,f=sy._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/n1)*40),h=d/(f*2),g=h*2,v=Math.cos(h),p=Math.sin(h),b=f-1,S=b%1/b,C=0;C<=b;++C){var T=C+S*C,A=h+o+g*T,E=Math.cos(A),I=-Math.sin(A);u.push((v*E+p*I)*s+n,(v*-I+p*E)*s+i)}},t}(),Fae=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o,a,l){for(var u=10,d=0,f=0,h=0,g=0,v=0,p=0,b=0,S=0,C=0,T=0,A=0,E=e,I=r,O=1;O<=u;++O)f=O/u,h=f*f,g=h*f,v=1-f,p=v*v,b=p*v,S=b*e+3*p*f*n+3*v*h*s+g*a,C=b*r+3*p*f*i+3*v*h*o+g*l,T=E-S,A=I-C,E=S,I=C,d+=Math.sqrt(T*T+A*A);return d},t.curveTo=function(e,r,n,i,s,o,a){var l=a[a.length-2],u=a[a.length-1];a.length-=2;var d=sy._segmentsCount(t.curveLength(l,u,e,r,n,i,s,o)),f=0,h=0,g=0,v=0,p=0;a.push(l,u);for(var b=1,S=0;b<=d;++b)S=b/d,f=1-S,h=f*f,g=h*f,v=S*S,p=v*S,a.push(g*l+3*h*S*e+3*f*v*n+p*s,g*u+3*h*S*r+3*f*v*i+p*o)},t}(),Nae=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o){var a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,d=2*i-2*r,f=4*(a*a+l*l),h=4*(a*u+l*d),g=u*u+d*d,v=2*Math.sqrt(f+h+g),p=Math.sqrt(f),b=2*f*p,S=2*Math.sqrt(g),C=h/p;return(b*v+p*h*(v-S)+(4*g*f-h*h)*Math.log((2*p+C+v)/(C+S)))/(4*b)},t.curveTo=function(e,r,n,i,s){for(var o=s[s.length-2],a=s[s.length-1],l=sy._segmentsCount(t.curveLength(o,a,e,r,n,i)),u=0,d=0,f=1;f<=l;++f){var h=f/l;u=o+(e-o)*h,d=a+(r-a)*h,s.push(u+(e+(n-e)*h-u)*h,d+(r+(i-r)*h-d)*h)}},t}(),Bae=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),f0,HS=(f0={},f0[po.POLY]=LL,f0[po.CIRC]=l1,f0[po.ELIP]=l1,f0[po.RECT]=$ae,f0[po.RREC]=Lae,f0),UR=[],s2=[],VR=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Cg=new Gi,Uae=function(t){$L(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new i1,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),s2.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),UR.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var o=new VR(r,n,i,s);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new VR(r,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(r,Cg):Cg.copyFrom(r),s.shape.contains(Cg.x,Cg.y))){var o=!1;if(s.holes)for(var a=0;a<s.holes.length;a++){var l=s.holes[a];if(l.shape.contains(Cg.x,Cg.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],l=a.fillStyle,u=a.lineStyle,d=HS[a.type];d.build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(l.visible||u.visible)&&this.processHoles(a.holes);for(var f=0;f<2;f++){var h=f===0?l:u;if(h.visible){var g=h.texture.baseTexture,v=this.indices.length,p=this.points.length/2;g.wrapMode=vc.REPEAT,f===0?this.processFill(a):this.processLine(a);var b=this.points.length/2-p;b!==0&&(i&&!this._compareStyles(s,h)&&(i.end(v,p),i=null),i||(i=UR.pop()||new Bae,i.begin(h,v,p),this.batches.push(i),s=h),this.addUvs(this.points,r,h.texture,p,b,h.matrix))}}}var S=this.indices.length,C=this.points.length/2;if(i&&i.end(S,C),this.batches.length===0){this.batchable=!0;return}var T=C>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&T===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=T?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],s=i.fillStyle,o=i.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var s=r[n],o=0;o<s.size;o++){var a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++ui._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),s2.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,o=s2.pop();o||(o=new IC,o.texArray=new DC),o.texArray.count=0,o.start=0,o.size=0,o.type=bu.TRIANGLES;var a=0,l=null,u=0,d=!1,f=bu.TRIANGLES,h=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var g=this.batches[n],v=8,p=g.style,b=p.texture.baseTexture;d!==!!p.native&&(d=!!p.native,f=d?bu.LINES:bu.TRIANGLES,l=null,a=v,r++),l!==b&&(l=b,b._batchEnabled!==r&&(a===v&&(r++,a=0,o.size>0&&(o=s2.pop(),o||(o=new IC,o.texArray=new DC),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=f),b.touched=1,b._batchEnabled=r,b._batchLocation=a,b.wrapMode=vc.REPEAT,o.texArray.elements[o.texArray.count++]=b,a++)),o.size+=g.size,h+=g.size,u=b._batchLocation,this.addColors(i,p.color,p.alpha,g.attribSize,g.attribStart),this.addTextureIds(s,u,g.attribSize,g.attribStart)}ui._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,s=this.textureIds,o=new ArrayBuffer(r.length*3*4),a=new Float32Array(o),l=new Uint32Array(o),u=0,d=0;d<r.length/2;d++)a[u++]=r[d*2],a[u++]=r[d*2+1],a[u++]=n[d*2],a[u++]=n[d*2+1],l[u++]=i[d],a[u++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)LL.triangulate(r,this);else{var n=HS[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){NR(r,this);for(var n=0;n<r.holes.length;n++)NR(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],s=HS[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var s=r[i*2],o=r[i*2+1];r[i*2]=n.a*s+n.c*o+n.tx,r[i*2+1]=n.b*s+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,s,o){o===void 0&&(o=0);var a=(n>>16)+(n&65280)+((n&255)<<16),l=vA(a,i);r.length=Math.max(r.length,o+s);for(var u=0;u<s;u++)r[o+u]=l},e.prototype.addTextureIds=function(r,n,i,s){s===void 0&&(s=0),r.length=Math.max(r.length,s+i);for(var o=0;o<i;o++)r[s+o]=n},e.prototype.addUvs=function(r,n,i,s,o,a){a===void 0&&(a=null);for(var l=0,u=n.length,d=i.frame;l<o;){var f=r[(s+l)*2],h=r[(s+l)*2+1];if(a){var g=a.a*f+a.c*h+a.tx;h=a.b*f+a.d*h+a.ty,f=g}l++,n.push(f/d.width,h/d.height)}var v=i.baseTexture;(d.width<v.width||d.height<v.height)&&this.adjustUvs(n,i,u,o)},e.prototype.adjustUvs=function(r,n,i,s){for(var o=n.baseTexture,a=1e-6,l=i+s*2,u=n.frame,d=u.width/o.width,f=u.height/o.height,h=u.x/u.width,g=u.y/u.height,v=Math.floor(r[i]+a),p=Math.floor(r[i+1]+a),b=i+2;b<l;b+=2)v=Math.min(v,Math.floor(r[b]+a)),p=Math.min(p,Math.floor(r[b+1]+a));h-=v,g-=p;for(var b=i;b<l;b+=2)r[b]=(r[b]+h)*d,r[b+1]=(r[b+1]+g)*f},e.BATCHABLE_SIZE=100,e}(DL),Vae=function(t){$L(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Cf.BUTT,r.join=ld.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(OL),bat=new Float32Array(3),Y4={},u1=function(t){$L(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new OL,n._lineStyle=new Vae,n._matrix=null,n._holeMode=!1,n.state=Fp.for2d(),n._geometry=r||new Uae,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=pn.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,s,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:s,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:kn.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Cf.BUTT,join:ld.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new j2,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new j2,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],o=i[i.length-1];return(s!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,s){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Nae.curveTo(r,n,i,s,o),this},e.prototype.bezierCurveTo=function(r,n,i,s,o,a){return this._initCurve(),Fae.curveTo(r,n,i,s,o,a,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,s,o){this._initCurve(r,n);var a=this.currentPath.points,l=BR.curveTo(r,n,i,s,o,a);if(l){var u=l.cx,d=l.cy,f=l.radius,h=l.startAngle,g=l.endAngle,v=l.anticlockwise;this.arc(u,d,f,h,g,v)}return this},e.prototype.arc=function(r,n,i,s,o,a){if(a===void 0&&(a=!1),s===o)return this;!a&&o<=s?o+=n1:a&&s<=o&&(s+=n1);var l=o-s;if(l===0)return this;var u=r+Math.cos(s)*i,d=n+Math.sin(s)*i,f=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var g=Math.abs(h[h.length-2]-u),v=Math.abs(h[h.length-1]-d);g<f&&v<f||h.push(u,d)}else this.moveTo(u,d),h=this.currentPath.points;return BR.arc(u,d,r,n,i,s,o,a,h),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:kn.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:kn.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,s){return this.drawShape(new ci(r,n,i,s))},e.prototype.drawRoundedRect=function(r,n,i,s,o){return this.drawShape(new Loe(r,n,i,s,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new Ooe(r,n,i))},e.prototype.drawEllipse=function(r,n,i,s){return this.drawShape(new $oe(r,n,i,s))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var s,o=!0,a=n[0];a.points?(o=a.closeStroke,s=a.points):Array.isArray(n[0])?s=n[0]:s=n;var l=new j2(s);return l.closeStroke=o,this.drawShape(l),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===po.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var s=0;s<i;s++){var o=r.batches[s],a=o.style.color,l=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),u=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),f={vertexData:l,blendMode:n,indices:d,uvs:u,_batchRGB:Mm(a),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=f}},e.prototype._renderBatched=function(r){if(this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,r.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,s=this.tint,o=this.worldAlpha,a=n.uniforms,l=i.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(s>>16&255)/255*o,a.tint[1]=(s>>8&255)/255*o,a.tint[2]=(s&255)/255*o,a.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var u=0,d=l.length;u<d;u++)this._renderDrawCallDirect(r,i.drawCalls[u])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,s=n.type,o=n.size,a=n.start,l=i.count,u=0;u<l;u++)r.texture.bind(i.elements[u],u);r.geometry.draw(s,o,a)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Y4[i]){for(var s=r.plugins[i].MAX_TEXTURES,o=new Int32Array(s),a=0;a<s;a++)o[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new vs,default:lp.from({uSamplers:o},!0)},u=r.plugins[i]._shader.program;Y4[i]=new Mf(u,l)}n=Y4[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(r.graphicsData.length){var n=r.bounds,i=n.minX,s=n.minY,o=n.maxX,a=n.maxY;this._bounds.addFrame(this.transform,i,s,o,a)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Mm(this.tint,bat),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,o=r[0]*s[0]*255,a=r[1]*s[1]*255,l=r[2]*s[2]*255,u=(o<<16)+(a<<8)+(l|0);i._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,l=n.tx,u=n.ty,d=this._geometry.points,f=this.vertexData,h=0,g=0;g<d.length;g+=2){var v=d[g],p=d[g+1];f[h++]=i*v+o*p+l,f[h++]=a*p+s*v+u}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new Gi,e}(zu),xat={buildPoly:LL,buildCircle:l1,buildRectangle:$ae,buildRoundedRectangle:Lae,buildLine:NR,ArcUtils:BR,BezierUtils:Fae,QuadraticUtils:Nae,BatchPart:Bae,FILL_COMMANDS:HS,BATCH_POOL:UR,DRAW_CALL_POOL:s2};/*!
 * @pixi/sprite - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zR=function(t,e){return zR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},zR(t,e)};function wat(t,e){zR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var M_=new Gi,Sat=new Uint16Array([0,1,2,0,2,3]),Zy=function(t){wat(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Qh(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=pn.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||kn.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=Sat,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Ur.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=W0(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=W0(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,l=n.tx,u=n.ty,d=this.vertexData,f=r.trim,h=r.orig,g=this._anchor,v=0,p=0,b=0,S=0;if(f?(p=f.x-g._x*h.width,v=p+f.width,S=f.y-g._y*h.height,b=S+f.height):(p=-g._x*h.width,v=p+h.width,S=-g._y*h.height,b=S+h.height),d[0]=i*p+o*S+l,d[1]=a*S+s*p+u,d[2]=i*v+o*S+l,d[3]=a*S+s*v+u,d[4]=i*v+o*b+l,d[5]=a*b+s*v+u,d[6]=i*p+o*b+l,d[7]=a*b+s*p+u,this._roundPixels)for(var C=Ur.RESOLUTION,T=0;T<d.length;++T)d[T]=Math.round((d[T]*C|0)/C)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,l=o.b,u=o.c,d=o.d,f=o.tx,h=o.ty,g=-s._x*i.width,v=g+i.width,p=-s._y*i.height,b=p+i.height;n[0]=a*g+u*p+f,n[1]=d*p+l*g+h,n[2]=a*v+u*p+f,n[3]=d*p+l*v+h,n[4]=a*v+u*b+f,n[5]=d*b+l*v+h,n[6]=a*g+u*b+f,n[7]=d*b+l*g+h},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new i1),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ci),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,M_);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,o=0;return M_.x>=s&&M_.x<s+n&&(o=-i*this.anchor.y,M_.y>=o&&M_.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof kn?r:kn.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=W0(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=W0(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||kn.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(zu);/*!
 * @pixi/text - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HR=function(t,e){return HR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},HR(t,e)};function Tat(t,e){HR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oy;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(oy||(oy={}));var K4={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:oy.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Cat=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],$m=function(){function t(e){this.styleID=0,this.reset(),Q4(this,e,e)}return t.prototype.clone=function(){var e={};return Q4(e,this,K4),new t(e)},t.prototype.reset=function(){Q4(this,K4,K4)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=Z4(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=Z4(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){Eat(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=Z4(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Cat.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function nG(t){return typeof t=="number"?J$(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function Z4(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=nG(t[e]);return t}else return nG(t)}function Eat(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Q4(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Ow={willReadFrequently:!0},Fc=function(){function t(e,r,n,i,s,o,a,l,u){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n??r.wordWrap;var s=r.toFontString(),o=t.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var a=i.getContext("2d",Ow);a.font=s;for(var l=n?t.wordWrap(e,r,i):e,u=l.split(/(?:\r\n|\r|\n)/),d=new Array(u.length),f=0,h=0;h<u.length;h++){var g=a.measureText(u[h]).width+(u[h].length-1)*r.letterSpacing;d[h]=g,f=Math.max(f,g)}var v=f+r.strokeThickness;r.dropShadow&&(v+=r.dropShadowDistance);var p=r.lineHeight||o.fontSize+r.strokeThickness,b=Math.max(p,o.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(b+=r.dropShadowDistance),new t(e,r,v,b,u,d,p+r.leading,f,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d",Ow),s=0,o="",a="",l=Object.create(null),u=r.letterSpacing,d=r.whiteSpace,f=t.collapseSpaces(d),h=t.collapseNewlines(d),g=!f,v=r.wordWrapWidth+u,p=t.tokenize(e),b=0;b<p.length;b++){var S=p[b];if(t.isNewline(S)){if(!h){a+=t.addLine(o),g=!f,o="",s=0;continue}S=" "}if(f){var C=t.isBreakingSpace(S),T=t.isBreakingSpace(o[o.length-1]);if(C&&T)continue}var A=t.getFromCache(S,u,l,i);if(A>v)if(o!==""&&(a+=t.addLine(o),o="",s=0),t.canBreakWords(S,r.breakWords))for(var E=t.wordWrapSplit(S),I=0;I<E.length;I++){for(var O=E[I],N=1;E[I+N];){var G=E[I+N],ie=O[O.length-1];if(!t.canBreakChars(ie,G,S,I,r.breakWords))O+=G;else break;N++}I+=O.length-1;var W=t.getFromCache(O,u,l,i);W+s>v&&(a+=t.addLine(o),g=!1,o="",s=0),o+=O,s+=W}else{o.length>0&&(a+=t.addLine(o),o="",s=0);var q=b===p.length-1;a+=t.addLine(S,!q),g=!1,o="",s=0}else A+s>v&&(g=!1,a+=t.addLine(o),o="",s=0),(o.length>0||!t.isBreakingSpace(S)||g)&&(o+=S,s+=A)}return a+=t.addLine(o,!1),a},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var s=n[e];if(typeof s!="number"){var o=e.length*r;s=i.measureText(e).width+o,n[e]=s}return s},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var s=e[i],o=e[i+1];if(t.isBreakingSpace(s,o)||t.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,s){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),l=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);var u=i.getImageData(0,0,o,l).data,d=u.length,f=o*4,h=0,g=0,v=!1;for(h=0;h<a;++h){for(var p=0;p<f;p+=4)if(u[g+p]!==255){v=!0;break}if(!v)g+=f;else break}for(r.ascent=a-h,g=d-f,v=!1,h=l;h>a;--h){for(var p=0;p<f;p+=4)if(u[g+p]!==255){v=!0;break}if(!v)g-=f;else break}return r.descent=h-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",Ow);if(n&&n.measureText)return t.__canvas=r,r;e=Ur.ADAPTER.createCanvas()}catch{e=Ur.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",Ow)),t.__context},enumerable:!1,configurable:!0}),t}();Fc._fonts={};Fc.METRICS_STRING="|ÉqÅ";Fc.BASELINE_SYMBOL="M";Fc.BASELINE_MULTIPLIER=1.4;Fc.HEIGHT_MULTIPLIER=2;Fc._newlines=[10,13];Fc._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Aat={texture:!0,children:!1,baseTexture:!0},FL=function(t){Tat(e,t);function e(r,n,i){var s=this,o=!1;i||(i=Ur.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var a=kn.from(i);return a.orig=new ci,a.trim=new ci,s=t.call(this,a)||this,s._ownCanvas=o,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=Ur.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,s=Fc.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,l=s.lines,u=s.lineHeight,d=s.lineWidths,f=s.maxLineWidth,h=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var g,v,p=n.dropShadow?2:1,b=0;b<p;++b){var S=n.dropShadow&&b===0,C=S?Math.ceil(Math.max(1,a)+n.padding*2):0,T=C*this._resolution;if(S){i.fillStyle="black",i.strokeStyle="black";var A=n.dropShadowColor,E=Mm(typeof A=="number"?A:eL(A)),I=n.dropShadowBlur*this._resolution,O=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+E[0]*255+","+E[1]*255+","+E[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=I,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*O,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*O+T}else i.fillStyle=this._generateFillStyle(n,l,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var N=(u-h.fontSize)/2;(!e.nextLineHeightBehavior||u-h.fontSize<0)&&(N=0);for(var G=0;G<l.length;G++)g=n.strokeThickness/2,v=n.strokeThickness/2+G*u+h.ascent+N,n.align==="right"?g+=f-d[G]:n.align==="center"&&(g+=(f-d[G])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(l[G],g+n.padding,v+n.padding-C,!0),n.fill&&this.drawLetterSpacing(l[G],g+n.padding,v+n.padding-C)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,s){s===void 0&&(s=!1);var o=this._style,a=o.letterSpacing,l=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(a===0||l){l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),s?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var u=n,d=Array.from?Array.from(r):r.split(""),f=this.context.measureText(r).width,h=0,g=0;g<d.length;++g){var v=d[g];s?this.context.strokeText(v,u,i):this.context.fillText(v,u,i);for(var p="",b=g+1;b<d.length;++b)p+=d[b];h=this.context.measureText(p).width,u+=f-h+a,f=h}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=koe(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,o=s.trim?0:s.padding,a=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var o,a=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=this.canvas.width/this._resolution-a-l*2,d=this.canvas.height/this._resolution-a-l*2,f=s.slice(),h=r.fillGradientStops.slice();if(!h.length)for(var g=f.length+1,v=1;v<g;++v)h.push(v/g);if(f.unshift(s[0]),h.unshift(0),f.push(s[s.length-1]),h.push(1),r.fillGradientType===oy.LINEAR_VERTICAL){o=this.context.createLinearGradient(u/2,l,u/2,d+l);for(var p=i.fontProperties.fontSize+r.strokeThickness,v=0;v<n.length;v++){var b=i.lineHeight*(v-1)+p,S=i.lineHeight*v,C=S;v>0&&b>S&&(C=(S+b)/2);var T=S+p,A=i.lineHeight*(v+1),E=T;v+1<n.length&&A<T&&(E=(T+A)/2);for(var I=(E-C)/d,O=0;O<f.length;O++){var N=0;typeof h[O]=="number"?N=h[O]:N=O/f.length;var G=Math.min(1,Math.max(0,C/d+N*I));G=Number(G.toFixed(5)),o.addColorStop(G,f[O])}}}else{o=this.context.createLinearGradient(l,d/2,u+l,d/2);for(var ie=f.length+1,W=1,v=0;v<f.length;v++){var q=void 0;typeof h[v]=="number"?q=h[v]:q=W/ie,o.addColorStop(q,f[v]),W++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},Aat,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=W0(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=W0(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof $m?this._style=r:this._style=new $m(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Zy);/*!
 * @pixi/prepare - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ur.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jR=function(t,e){return jR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jR(t,e)};function Pat(t,e){jR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zae=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function kat(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof kn){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function Iat(t,e){if(t.baseTexture instanceof ui){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Dat(t,e){if(t._texture&&t._texture instanceof kn){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Rat(t,e){return e instanceof FL?(e.updateText(!0),!0):!1}function Mat(t,e){if(e instanceof $m){var r=e.toFontString();return Fc.measureFont(r),!0}return!1}function Oat(t,e){if(t instanceof FL){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function $at(t,e){return t instanceof $m?(e.indexOf(t)===-1&&e.push(t),!0):!1}var Hae=function(){function t(e){var r=this;this.limiter=new zae(Ur.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(Oat),this.registerFindHook($at),this.registerFindHook(kat),this.registerFindHook(Iat),this.registerFindHook(Dat),this.registerUploadHook(Rat),this.registerUploadHook(Mat)}return t.prototype.upload=function(e,r){var n=this;return typeof e=="function"&&(r=e,e=null),r&&za("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var s=function(){r==null||r(),i()};n.queue.length?(n.completes.push(s),n.ticking||(n.ticking=!0,Io.system.addOnce(n.tick,n,Md.UTILITY))):s()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Io.system.addOnce(this.tick,this,Md.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof zu)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Io.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function jae(t,e){return e instanceof ui?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Lat(t,e){if(!(e instanceof u1))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&jae(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Fat(t,e){return t instanceof u1?(e.push(t),!0):!1}var Gae=function(t){Pat(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Fat),n.registerUploadHook(jae),n.registerUploadHook(Lat),n}return e.extension={name:"prepare",type:$i.RendererPlugin},e}(Hae),Nat=function(){function t(e){this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();/*!
 * @pixi/spritesheet - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wae=function(){function t(e,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof kn?e:null,this.baseTexture=e instanceof ui?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=r1(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){var r=this;return e&&za("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){e==null||e(i),n(i)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){var a=null,l=null,u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new ci(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new ci(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new ci(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new ci(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new kn(this.baseTexture,a,d,l,s.rotated?2:0,s.anchor),kn.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),qae=function(){function t(){}return t.use=function(e,r){var n,i,s=this,o=e.name+"_image";if(!e.data||e.type!==Ts.TYPE.JSON||!e.data.frames||s.resources[o]){r();return}var a=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(a))for(var l=function(v){if(typeof v!="string")return"continue";var p=v.replace(".json",""),b=md.resolve(e.url.replace(s.baseUrl,""),v);if(s.resources[p]||Object.values(s.resources).some(function(C){return md.format(md.parse(C.url))===b}))return"continue";var S={crossOrigin:e.crossOrigin,loadType:Ts.LOAD_TYPE.XHR,xhrType:Ts.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};s.add(p,b,S)},u=0,d=a;u<d.length;u++){var f=d[u];l(f)}var h={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=t.getResourcePath(e,s.baseUrl);s.add(o,g,h,function(p){if(p.error){r(p.error);return}var b=new Wae(p.texture,e.data,e.url);b.parse().then(function(){e.spritesheet=b,e.textures=b.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:md.resolve(e.url.replace(r,""),e.data.meta.image)},t.extension=$i.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GR=function(t,e){return GR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},GR(t,e)};function Xae(t,e){GR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var O_=new Gi,Bat=function(t){Xae(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=t.call(this,r)||this;return s.tileTransform=new _A,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new SA(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,s)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new ci),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,O_);var n=this._width,i=this._height,s=-n*this.anchor._x;if(O_.x>=s&&O_.x<s+n){var o=-i*this.anchor._y;if(O_.y>=o&&O_.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof kn?r:kn.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(Zy),Uat=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,iG=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Vat=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,zat=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Hat=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,$w=new vs,Yae=function(t){Xae(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new pL,n.state=Fp.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Mf.from(iG,Uat,n),this.shader=r.context.webGLVersion>1?Mf.from(zat,Hat,n):Mf.from(iG,Vat,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=r._width*-r.anchor.x,s[1]=s[3]=r._height*-r.anchor.y,s[2]=s[4]=r._width*(1-r.anchor.x),s[5]=s[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,a=r.uvRespectAnchor?r.anchor.y:0;s=i.uvs,s[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,i.invalidate();var l=r._texture,u=l.baseTexture,d=u.alphaMode>0,f=r.tileTransform.localTransform,h=r.uvMatrix,g=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;g&&(u._glTextures[n.CONTEXT_UID]?g=u.wrapMode!==vc.CLAMP:u.wrapMode===vc.CLAMP&&(u.wrapMode=vc.REPEAT));var v=g?this.simpleShader:this.shader,p=l.width,b=l.height,S=r._width,C=r._height;$w.set(f.a*p/S,f.b*p/C,f.c*b/S,f.d*b/C,f.tx/S,f.ty/C),$w.invert(),g?$w.prepend(h.mapCoord):(v.uniforms.uMapCoord=h.mapCoord.toArray(!0),v.uniforms.uClampFrame=h.uClampFrame,v.uniforms.uClampOffset=h.uClampOffset),v.uniforms.uTransform=$w.toArray(!0),v.uniforms.uColor=nL(r.tint,r.worldAlpha,v.uniforms.uColor,d),v.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),v.uniforms.uSampler=l,n.shader.bind(v),n.geometry.bind(i),this.state.blendMode=rL(r.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:$i.RendererPlugin},e}(Z1);/*!
 * @pixi/mesh - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WR=function(t,e){return WR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},WR(t,e)};function NL(t,e){WR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kae=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),J4=new Gi,sG=new j2,ay=function(t){NL(e,t);function e(r,n,i,s){s===void 0&&(s=bu.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||Fp.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Ur.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===bu.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[s]),r.plugins[s].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,s=n._updateID;if(!(s===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,a=o.a,l=o.b,u=o.c,d=o.d,f=o.tx,h=o.ty,g=this.vertexData,v=0;v<g.length/2;v++){var p=i[v*2],b=i[v*2+1];g[v*2]=a*p+u*b+f,g[v*2+1]=l*p+d*b+h}if(this._roundPixels)for(var S=Ur.RESOLUTION,v=0;v<g.length;++v)g[v]=Math.round((g[v]*S|0)/S);this.vertexDirty=s}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new Kae(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,J4);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=sG.points,s=this.geometry.getIndex().data,o=s.length,a=this.drawMode===4?3:1,l=0;l+2<o;l+=a){var u=s[l]*2,d=s[l+1]*2,f=s[l+2]*2;if(i[0]=n[u],i[1]=n[u+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[f],i[5]=n[f+1],sG.contains(J4.x,J4.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(zu),jat=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Gat=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,ly=function(t){NL(e,t);function e(r,n){var i=this,s={uSampler:r,alpha:1,uTextureMatrix:vs.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=t.call(this,n.program||Ky.from(Gat,jat),s)||this,i._colorDirty=!1,i.uvMatrix=new SA(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;nL(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Mf),Q1=function(t){NL(e,t);function e(r,n,i){var s=t.call(this)||this,o=new to(r),a=new to(n,!0),l=new to(i,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,cn.FLOAT).addAttribute("aTextureCoord",a,2,!1,cn.FLOAT).addIndex(l),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Yy);/*!
 * @pixi/text-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qR=function(t,e){return qR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qR(t,e)};function Wat(t,e){qR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var c1=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),Zae=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var s=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in o){var u=o[l].split("="),d=u[0],f=u[1].replace(/"/gm,""),h=parseFloat(f),g=isNaN(h)?f:h;a[d]=g}n[s].push(a)}var v=new c1;return n.info.forEach(function(p){return v.info.push({face:p.face,size:parseInt(p.size,10)})}),n.common.forEach(function(p){return v.common.push({lineHeight:parseInt(p.lineHeight,10)})}),n.page.forEach(function(p){return v.page.push({id:parseInt(p.id,10),file:p.file})}),n.char.forEach(function(p){return v.char.push({id:parseInt(p.id,10),page:parseInt(p.page,10),x:parseInt(p.x,10),y:parseInt(p.y,10),width:parseInt(p.width,10),height:parseInt(p.height,10),xoffset:parseInt(p.xoffset,10),yoffset:parseInt(p.yoffset,10),xadvance:parseInt(p.xadvance,10)})}),n.kerning.forEach(function(p){return v.kerning.push({first:parseInt(p.first,10),second:parseInt(p.second,10),amount:parseInt(p.amount,10)})}),n.distanceField.forEach(function(p){return v.distanceField.push({distanceRange:parseInt(p.distanceRange,10),fieldType:p.fieldType})}),v},t}(),OC=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new c1,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(var u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(var u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(var u=0;u<o.length;u++){var d=o[u];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(var u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r},t}(),Qae=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return OC.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return OC.parse(r)},t}(),ek=[Zae,OC,Qae];function BL(t){for(var e=0;e<ek.length;e++)if(ek[e].test(t))return ek[e];return null}function qat(t,e,r,n,i,s){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,d=t.width/n-l-u*2,f=t.height/n-l-u*2,h=o.slice(),g=r.fillGradientStops.slice();if(!g.length)for(var v=h.length+1,p=1;p<v;++p)g.push(p/v);if(h.unshift(o[0]),g.unshift(0),h.push(o[o.length-1]),g.push(1),r.fillGradientType===oy.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,u,d/2,f+u);for(var b=0,S=s.fontProperties.fontSize+r.strokeThickness,C=S/f,p=0;p<i.length;p++)for(var T=s.lineHeight*p,A=0;A<h.length;A++){var E=0;typeof g[A]=="number"?E=g[A]:E=A/h.length;var I=T/f+E*C,O=Math.max(b,I);O=Math.min(O,1),a.addColorStop(O,h[A]),b=O}}else{a=e.createLinearGradient(u,f/2,d+u,f/2);for(var N=h.length+1,G=1,p=0;p<h.length;p++){var ie=void 0;typeof g[p]=="number"?ie=g[p]:ie=G/N,a.addColorStop(ie,h[p]),G++}}return a}function Xat(t,e,r,n,i,s,o){var a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);var u=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=qat(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){var f=o.dropShadowColor,h=Mm(typeof f=="number"?f:eL(f)),g=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor="rgba("+h[0]*255+","+h[1]*255+","+h[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=g,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,d+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,d+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Jae(t){return Array.from?Array.from(t):t.split("")}function Yat(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,Jae(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function jS(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var mf=function(){function t(e,r,n){var i,s,o=e.info[0],a=e.common[0],l=e.page[0],u=e.distanceField[0],d=r1(l.file),f={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/d,this.chars={},this.pageTextures=f;for(var h=0;h<e.page.length;h++){var g=e.page[h],v=g.id,p=g.file;f[v]=r instanceof Array?r[h]:r[p],u!=null&&u.fieldType&&u.fieldType!=="none"&&(f[v].baseTexture.alphaMode=Vu.NO_PREMULTIPLIED_ALPHA,f[v].baseTexture.mipmap=Uu.OFF)}for(var h=0;h<e.char.length;h++){var b=e.char[h],v=b.id,S=b.page,C=e.char[h],T=C.x,A=C.y,E=C.width,I=C.height,O=C.xoffset,N=C.yoffset,G=C.xadvance;T/=d,A/=d,E/=d,I/=d,O/=d,N/=d,G/=d;var ie=new ci(T+f[S].frame.x/d,A+f[S].frame.y/d,E,I);this.chars[v]={xOffset:O,yOffset:N,xAdvance:G,kerning:{},texture:new kn(f[S].baseTexture,ie),page:S}}for(var h=0;h<e.kerning.length;h++){var W=e.kerning[h],q=W.first,J=W.second,X=W.amount;q/=d,J/=d,X/=d,this.chars[J]&&(this.chars[J].kerning[q]=X)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=(s=(i=u==null?void 0:u.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&s!==void 0?s:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof c1)i=e;else{var s=BL(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}r instanceof kn&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),s=i.chars,o=i.padding,a=i.resolution,l=i.textureWidth,u=i.textureHeight,d=Yat(s),f=r instanceof $m?r:new $m(r),h=l,g=new c1;g.info[0]={face:f.fontFamily,size:f.fontSize},g.common[0]={lineHeight:f.fontSize};for(var v=0,p=0,b,S,C,T=0,A=[],E=0;E<d.length;E++){b||(b=Ur.ADAPTER.createCanvas(),b.width=l,b.height=u,S=b.getContext("2d"),C=new ui(b,{resolution:a}),A.push(new kn(C)),g.page.push({id:A.length-1,file:""}));var I=d[E],O=Fc.measureText(I,f,!1,b),N=O.width,G=Math.ceil(O.height),ie=Math.ceil((f.fontStyle==="italic"?2:1)*N);if(p>=u-G*a){if(p===0)throw new Error("[BitmapFont] textureHeight "+u+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+I+"')"));--E,b=null,S=null,C=null,p=0,v=0,T=0;continue}if(T=Math.max(G+O.fontProperties.descent,T),ie*a+v>=h){if(v===0)throw new Error("[BitmapFont] textureWidth "+l+"px is too small "+("(fontFamily: '"+f.fontFamily+"', fontSize: "+f.fontSize+"px, char: '"+I+"')"));--E,p+=T*a,p=Math.ceil(p),v=0,T=0;continue}Xat(b,S,O,v,p,a,f);var W=jS(O.text);g.char.push({id:W,page:A.length-1,x:v/a,y:p/a,width:ie,height:G,xoffset:0,yoffset:0,xadvance:Math.ceil(N-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),v+=(ie+2*o)*a,v=Math.ceil(v)}for(var E=0,q=d.length;E<q;E++)for(var J=d[E],X=0;X<q;X++){var R=d[X],z=S.measureText(J).width,re=S.measureText(R).width,oe=S.measureText(J+R).width,H=oe-(z+re);H&&g.kerning.push({first:jS(J),second:jS(R),amount:H})}var ee=new t(g,A,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=ee,ee},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Kat=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Zat=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,oG=[],aG=[],lG=[],Qat=function(t){Wat(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var s=Object.assign({},e.styleDefaults,n),o=s.align,a=s.tint,l=s.maxWidth,u=s.letterSpacing,d=s.fontName,f=s.fontSize;if(!mf.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=a,i._font=void 0,i._fontName=d,i._fontSize=f,i.text=r,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new Qh(function(){i.dirty=!0},i,0,0),i._roundPixels=Ur.ROUND_PIXELS,i.dirty=!0,i._resolution=Ur.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=mf.available[this._fontName],i=this.fontSize,s=i/n.size,o=new Gi,a=[],l=[],u=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=Jae(d),h=this._maxWidth*n.size/i,g=n.distanceFieldType==="none"?oG:aG,v=null,p=0,b=0,S=0,C=-1,T=0,A=0,E=0,I=0,O=0;O<f.length;O++){var N=f[O],G=jS(N);if(/(?:\s)/.test(N)&&(C=O,T=p,I++),N==="\r"||N===`
`){l.push(p),u.push(-1),b=Math.max(b,p),++S,++A,o.x=0,o.y+=n.lineHeight,v=null,I=0;continue}var ie=n.chars[G];if(ie){v&&ie.kerning[v]&&(o.x+=ie.kerning[v]);var W=lG.pop()||{texture:kn.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Gi};W.texture=ie.texture,W.line=S,W.charCode=G,W.position.x=o.x+ie.xOffset+this._letterSpacing/2,W.position.y=o.y+ie.yOffset,W.prevSpaces=I,a.push(W),p=W.position.x+Math.max(ie.xAdvance-ie.xOffset,ie.texture.orig.width),o.x+=ie.xAdvance+this._letterSpacing,E=Math.max(E,ie.yOffset+ie.texture.height),v=G,C!==-1&&h>0&&o.x>h&&(++A,cm(a,1+C-A,1+O-C),O=C,C=-1,l.push(T),u.push(a.length>0?a[a.length-1].prevSpaces:0),b=Math.max(b,T),S++,o.x=0,o.y+=n.lineHeight,v=null,I=0)}}var q=f[f.length-1];q!=="\r"&&q!==`
`&&(/(?:\s)/.test(q)&&(p=T),l.push(p),b=Math.max(b,p),u.push(-1));for(var J=[],O=0;O<=S;O++){var X=0;this._align==="right"?X=b-l[O]:this._align==="center"?X=(b-l[O])/2:this._align==="justify"&&(X=u[O]<0?0:(b-l[O])/u[O]),J.push(X)}var R=a.length,z={},re=[],oe=this._activePagesMeshData;g.push.apply(g,oe);for(var O=0;O<R;O++){var H=a[O].texture,ee=H.baseTexture.uid;if(!z[ee]){var ae=g.pop();if(!ae){var be=new Q1,Me=void 0,Qe=void 0;n.distanceFieldType==="none"?(Me=new ly(kn.EMPTY),Qe=pn.NORMAL):(Me=new ly(kn.EMPTY,{program:Ky.from(Zat,Kat),uniforms:{uFWidth:0}}),Qe=pn.NORMAL_NPM);var ht=new ay(be,Me);ht.blendMode=Qe,ae={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ht,vertices:null,uvs:null,indices:null}}ae.index=0,ae.indexCount=0,ae.vertexCount=0,ae.uvsCount=0,ae.total=0;var je=this._textureCache;je[ee]=je[ee]||new kn(H.baseTexture),ae.mesh.texture=je[ee],ae.mesh.tint=this._tint,re.push(ae),z[ee]=ae}z[ee].total++}for(var O=0;O<oe.length;O++)re.indexOf(oe[O])===-1&&this.removeChild(oe[O].mesh);for(var O=0;O<re.length;O++)re[O].mesh.parent!==this&&this.addChild(re[O].mesh);this._activePagesMeshData=re;for(var O in z){var ae=z[O],ze=ae.total;if(!(((r=ae.indices)===null||r===void 0?void 0:r.length)>6*ze)||ae.vertices.length<ay.BATCHABLE_SIZE*2)ae.vertices=new Float32Array(4*2*ze),ae.uvs=new Float32Array(4*2*ze),ae.indices=new Uint16Array(6*ze);else for(var ut=ae.total,ct=ae.vertices,mt=ut*4*2;mt<ct.length;mt++)ct[mt]=0;ae.mesh.size=6*ze}for(var O=0;O<R;O++){var N=a[O],jt=N.position.x+J[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(jt=Math.round(jt));var vt=jt*s,se=N.position.y*s,H=N.texture,Pe=z[H.baseTexture.uid],tt=H.frame,et=H._uvs,ot=Pe.index++;Pe.indices[ot*6+0]=0+ot*4,Pe.indices[ot*6+1]=1+ot*4,Pe.indices[ot*6+2]=2+ot*4,Pe.indices[ot*6+3]=0+ot*4,Pe.indices[ot*6+4]=2+ot*4,Pe.indices[ot*6+5]=3+ot*4,Pe.vertices[ot*8+0]=vt,Pe.vertices[ot*8+1]=se,Pe.vertices[ot*8+2]=vt+tt.width*s,Pe.vertices[ot*8+3]=se,Pe.vertices[ot*8+4]=vt+tt.width*s,Pe.vertices[ot*8+5]=se+tt.height*s,Pe.vertices[ot*8+6]=vt,Pe.vertices[ot*8+7]=se+tt.height*s,Pe.uvs[ot*8+0]=et.x0,Pe.uvs[ot*8+1]=et.y0,Pe.uvs[ot*8+2]=et.x1,Pe.uvs[ot*8+3]=et.y1,Pe.uvs[ot*8+4]=et.x2,Pe.uvs[ot*8+5]=et.y2,Pe.uvs[ot*8+6]=et.x3,Pe.uvs[ot*8+7]=et.y3}this._textWidth=b*s,this._textHeight=(o.y+n.lineHeight)*s;for(var O in z){var ae=z[O];if(this.anchor.x!==0||this.anchor.y!==0)for(var St=0,Dt=this._textWidth*this.anchor.x,_t=this._textHeight*this.anchor.y,Kt=0;Kt<ae.total;Kt++)ae.vertices[St++]-=Dt,ae.vertices[St++]-=_t,ae.vertices[St++]-=Dt,ae.vertices[St++]-=_t,ae.vertices[St++]-=Dt,ae.vertices[St++]-=_t,ae.vertices[St++]-=Dt,ae.vertices[St++]-=_t;this._maxLineHeight=E*s;var Ut=ae.mesh.geometry.getBuffer("aVertexPosition"),lt=ae.mesh.geometry.getBuffer("aTextureCoord"),kt=ae.mesh.geometry.getIndex();Ut.data=ae.vertices,lt.data=ae.uvs,kt.data=ae.indices,Ut.update(),lt.update(),kt.update()}for(var O=0;O<a.length;O++)lG.push(a[O]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=mf.available[this._fontName],i=n.distanceFieldRange,s=n.distanceFieldType,o=n.size;if(s!=="none")for(var a=this.worldTransform,l=a.a,u=a.b,d=a.c,f=a.d,h=Math.sqrt(l*l+u*u),g=Math.sqrt(d*d+f*f),v=(Math.abs(h)+Math.abs(g))/2,p=this.fontSize/o,b=0,S=this._activePagesMeshData;b<S.length;b++){var C=S[b];C.mesh.shader.uniforms.uFWidth=v*i*p*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var r=mf.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!mf.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:mf.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache,i=mf.available[this._fontName],s=i.distanceFieldType==="none"?oG:aG;s.push.apply(s,this._activePagesMeshData);for(var o=0,a=this._activePagesMeshData;o<a.length;o++){var l=a[o];this.removeChild(l.mesh)}this._activePagesMeshData=[],s.filter(function(f){return n[f.mesh.texture.baseTexture.uid]}).forEach(function(f){f.mesh.texture=kn.EMPTY});for(var u in n){var d=n[u];d.destroy(),delete n[u]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(zu),ele=function(){function t(){}return t.add=function(){Ts.setExtensionXhrType("fnt",Ts.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=BL(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),s=n.parse(e.data),o={},a=function(p){o[p.metadata.pageFile]=p.texture,Object.keys(o).length===s.page.length&&(e.bitmapFont=mf.install(s,o,!0),r())},l=0;l<s.page.length;++l){var u=s.page[l].file,d=i+u,f=!1;for(var h in this.resources){var g=this.resources[h];if(g.url===d){g.metadata.pageFile=u,g.texture?a(g):g.onAfterMiddleware.add(a),f=!0;break}}if(!f){var v={crossOrigin:e.crossOrigin,loadType:Ts.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(d,v,a)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t.extension=$i.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XR=function(t,e){return XR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},XR(t,e)};function Jat(t,e){XR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var elt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,tlt=function(t){Jat(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,lae,elt,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(lh);/*!
 * @pixi/filter-blur - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YR=function(t,e){return YR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},YR(t,e)};function tle(t,e){YR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rlt=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function nlt(t,e){var r=Math.ceil(t/2),n=rlt,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",o-(r-1)+".0"),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var ilt={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},slt=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function olt(t){for(var e=ilt[t],r=e.length,n=slt,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,a=0;a<t;a++){var l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var KR=function(t){tle(e,t);function e(r,n,i,s,o){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=Ur.FILTER_RESOLUTION),o===void 0&&(o=5);var a=this,l=nlt(o,r),u=olt(o);return a=t.call(this,l,u)||this,a.horizontal=r,a.resolution=s,a._quality=0,a.quality=i,a.blur=n,a}return e.prototype.apply=function(r,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,s);else{var o=r.getFilterTexture(),a=r.renderer,l=n,u=o;this.state.blend=!1,r.applyFilter(this,l,u,cu.CLEAR);for(var d=1;d<this.passes-1;d++){r.bindAndClear(l,cu.BLIT),this.uniforms.uSampler=u;var f=u;u=l,l=f,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,u,i,s),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(lh),alt=function(t){tle(e,t);function e(r,n,i,s){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Ur.FILTER_RESOLUTION),s===void 0&&(s=5);var o=t.call(this)||this;return o.blurXFilter=new KR(!0,r,n,i,s),o.blurYFilter=new KR(!1,r,n,i,s),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,s){var o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){var l=r.getFilterTexture();this.blurXFilter.apply(r,n,l,cu.CLEAR),this.blurYFilter.apply(r,l,i,s),r.returnFilterTexture(l)}else a?this.blurYFilter.apply(r,n,i,s):this.blurXFilter.apply(r,n,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e}(lh);/*!
 * @pixi/filter-color-matrix - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZR=function(t,e){return ZR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ZR(t,e)};function llt(t,e){ZR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ult=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,QR=function(t){llt(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,IL,ult,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,s=r>>8&255,o=r&255,a=[i/255,0,0,0,0,0,s/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),s=Math.sin(r),o=Math.sqrt,a=1/3,l=o(a),u=i+(1-i)*a,d=a*(1-i)-l*s,f=a*(1-i)+l*s,h=a*(1-i)+l*s,g=i+a*(1-i),v=a*(1-i)-l*s,p=a*(1-i)-l*s,b=a*(1-i)+l*s,S=i+a*(1-i),C=[u,d,f,0,0,h,g,v,0,0,p,b,S,0,0,0,0,0,1,0];this._loadMatrix(C,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,s=-.5*(i-1),o=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,s=(i-1)*-.5,o=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,s,o){r=r||.2,n=n||.15,i=i||16770432,s=s||3375104;var a=(i>>16&255)/255,l=(i>>8&255)/255,u=(i&255)/255,d=(s>>16&255)/255,f=(s>>8&255)/255,h=(s&255)/255,g=[.3,.59,.11,0,0,a,l,u,r,0,d,f,h,n,0,a-d,l-f,u-h,0,0];this._loadMatrix(g,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(lh);QR.prototype.grayscale=QR.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JR=function(t,e){return JR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},JR(t,e)};function clt(t,e){JR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dlt=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,flt=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,hlt=function(t){clt(e,t);function e(r,n){var i=this,s=new vs;return r.renderable=!1,i=t.call(this,flt,dlt,{mapSampler:r._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=s,n==null&&(n=20),i.scale=new Gi(n,n),i}return e.prototype.apply=function(r,n,i,s){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),l=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&l!==0&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/l,this.uniforms.rotation[3]=o.d/l),r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e}(lh);/*!
 * @pixi/filter-fxaa - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eM=function(t,e){return eM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},eM(t,e)};function plt(t,e){eM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mlt=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,glt=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,vlt=function(t){plt(e,t);function e(){return t.call(this,mlt,glt)||this}return e}(lh);/*!
 * @pixi/filter-noise - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tM=function(t,e){return tM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},tM(t,e)};function ylt(t,e){tM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _lt=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,blt=function(t){ylt(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,IL,_lt,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e}(lh);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rle=new vs;Ns.prototype._cacheAsBitmap=!1;Ns.prototype._cacheData=null;Ns.prototype._cacheAsBitmapResolution=null;Ns.prototype._cacheAsBitmapMultisample=os.NONE;var xlt=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Ns.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new xlt),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Ns.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ns.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var s=this.filters[0].padding;i.pad(s)}i.ceil(Ur.RESOLUTION);var o=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,d=Tp.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),f="cacheAsBitmap_"+Sp();this._cacheData.textureCacheId=f,ui.addToCache(d.baseTexture,f),kn.addToCache(d,f);var h=this.transform.localTransform.copyTo(rle).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(o,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var g=new Zy(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=n,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};Ns.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ns.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;r.ceil(Ur.RESOLUTION);var o=Tp.create({width:r.width,height:r.height}),a="cacheAsBitmap_"+Sp();this._cacheData.textureCacheId=a,ui.addToCache(o.baseTexture,a),kn.addToCache(o,a);var l=rle;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var u=new Zy(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(r.x/r.width),u.anchor.y=-(r.y/r.height),u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};Ns.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ns.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ns.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ui.removeFromCache(this._cacheData.textureCacheId),kn.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ns.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ns.prototype.name=null;zu.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(s.getChildByName){var o=s.getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ns.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new Gi),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var nle=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var s=r._resizeTo,o=s.clientWidth,a=s.clientHeight;n=o,i=a}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=$i.Application,t}(),UL=function(){function t(e){var r=this;this.stage=new zu,e=Object.assign({forceCanvas:!1},e),this.renderer=aae(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){za("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),jd.add({type:$i.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();jd.handleByList($i.Application,UL._plugins);jd.add(nle);/*!
 * @pixi/mesh-extras - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rM=function(t,e){return rM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},rM(t,e)};function Qy(t,e){rM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ile=function(t){Qy(e,t);function e(r,n,i,s){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=s,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],s=[],o=this.segWidth-1,a=this.segHeight-1,l=this.width/o,u=this.height/a,d=0;d<r;d++){var f=d%this.segWidth,h=d/this.segWidth|0;n.push(f*l,h*u),i.push(f/o,h/a)}for(var g=o*a,d=0;d<g;d++){var v=d%o,p=d/o|0,b=p*this.segWidth+v,S=p*this.segWidth+v+1,C=(p+1)*this.segWidth+v,T=(p+1)*this.segWidth+v+1;s.push(b,S,C,S,T,C)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Q1),sle=function(t){Qy(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var s=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=r,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),s.data=new Uint16Array((r.length-1)*6));var o=i.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var l=0,u=r[0],d=this._width*this.textureScale,f=r.length,h=0;h<f;h++){var g=h*4;if(this.textureScale>0){var v=u.x-r[h].x,p=u.y-r[h].y,b=Math.sqrt(v*v+p*p);u=r[h],l+=b/d}else l=h/(f-1);o[g]=l,o[g+1]=0,o[g+2]=l,o[g+3]=1}for(var S=0,h=0;h<f-1;h++){var g=h*2;a[S++]=g,a[S++]=g+1,a[S++]=g+2,a[S++]=g+2,a[S++]=g+1,a[S++]=g+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,s=0,o=0,a=this.buffers[0].data,l=r.length,u=0;u<l;u++){var d=r[u],f=u*4;u<r.length-1?i=r[u+1]:i=d,o=-(i.x-n.x),s=i.y-n.y;var h=Math.sqrt(s*s+o*o),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=h,o/=h,s*=g,o*=g,a[f]=d.x+s,a[f+1]=d.y+o,a[f+2]=d.x-s,a[f+3]=d.y-o,n=d}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Q1),wlt=function(t){Qy(e,t);function e(r,n,i){i===void 0&&(i=0);var s=this,o=new sle(r.height,n,i),a=new ly(r);return i>0&&(r.baseTexture.wrapMode=vc.REPEAT),s=t.call(this,o,a)||this,s.autoUpdate=!0,s}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(ay),ole=function(t){Qy(e,t);function e(r,n,i){var s=this,o=new ile(r.width,r.height,n,i),a=new ly(kn.WHITE);return s=t.call(this,o,a)||this,s.texture=r,s.autoResize=!0,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,s=n.height;this.autoResize&&(r.width!==i||r.height!==s)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(ay),Slt=function(t){Qy(e,t);function e(r,n,i,s,o){r===void 0&&(r=kn.EMPTY);var a=this,l=new Q1(n,i,s);l.getBuffer("aVertexPosition").static=!1;var u=new ly(r);return a=t.call(this,l,u,null,o)||this,a.autoUpdate=!0,a}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(ay),Lw=10,Tlt=function(t){Qy(e,t);function e(r,n,i,s,o){n===void 0&&(n=Lw),i===void 0&&(i=Lw),s===void 0&&(s=Lw),o===void 0&&(o=Lw);var a=t.call(this,kn.WHITE,4,4)||this;return a._origWidth=r.orig.width,a._origHeight=r.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=s,a._topHeight=i,a._bottomHeight=o,a.texture=r,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,o=Math.min(n,s);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(ole);/*!
 * @pixi/sprite-animated - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nM=function(t,e){return nM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nM(t,e)};function Clt(t,e){nM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Elt=function(t){Clt(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof kn?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Io.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Io.shared.add(this.update,this,Md.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(kn.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(kn.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof kn)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Io.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Io.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Zy);/*!
 * pixi.js - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */jd.add(mae,_ae,yae,Oae,Gae,RL,Yae,ele,Cae,Dae,Rae,qae,Noe,xae);var Alt={AlphaFilter:tlt,BlurFilter:alt,BlurFilterPass:KR,ColorMatrixFilter:QR,DisplacementFilter:hlt,FXAAFilter:vlt,NoiseFilter:blt};const Plt=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Vu},AbstractBatchRenderer:uae,AbstractMultiResource:xA,AbstractRenderer:oae,AccessibilityManager:mae,AnimatedSprite:Elt,AppLoaderPlugin:xae,Application:UL,ArrayResource:oL,Attribute:kR,get BLEND_MODES(){return pn},get BUFFER_BITS(){return Yb},get BUFFER_TYPE(){return yc},BaseImageResource:Od,BasePrepare:Hae,BaseRenderTexture:fL,BaseTexture:ui,BatchDrawCall:IC,BatchGeometry:DL,BatchPluginFactory:dae,BatchRenderer:RL,BatchShaderGenerator:cae,BatchSystem:gL,BatchTextureArray:DC,BitmapFont:mf,BitmapFontData:c1,BitmapFontLoader:ele,BitmapText:Qat,BlobResource:Tae,Bounds:i1,BrowserAdapter:Jse,Buffer:to,BufferResource:Xm,get CLEAR_MODES(){return cu},get COLOR_MASK_BITS(){return oR},CanvasResource:aL,Circle:Ooe,CompressedTextureLoader:Cae,CompressedTextureResource:MC,Container:zu,ContextSystem:vL,CountLimiter:zae,CubeResource:lL,DDSLoader:Dae,DEG_TO_RAD:Moe,get DRAW_MODES(){return bu},DisplayObject:Ns,get ENV(){return Rd},Ellipse:$oe,get ExtensionType(){return $i},Extract:_ae,get FORMATS(){return Cr},FORMATS_TO_COMPONENTS:Pae,FillStyle:OL,Filter:lh,FilterState:zoe,FilterSystem:mL,Framebuffer:kC,FramebufferSystem:yL,get GC_MODES(){return Zb},GLFramebuffer:Hoe,GLProgram:nae,GLTexture:VS,GRAPHICS_CURVES:sy,Geometry:Yy,GeometrySystem:_L,Graphics:u1,GraphicsData:VR,GraphicsGeometry:Uae,IGLUniformData:oot,INSTALLED:s1,get INTERNAL_FORMATS(){return Nn},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:a1,ImageBitmapResource:dL,ImageResource:wA,InteractionData:IR,InteractionEvent:gae,InteractionManager:yae,InteractionTrackingData:zS,KTXLoader:Rae,get LINE_CAP(){return Cf},get LINE_JOIN(){return ld},LineStyle:Vae,Loader:o1,get LoaderResource(){return Ts},get MASK_TYPES(){return js},get MIPMAP_MODES(){return Uu},get MSAA_QUALITY(){return os},MaskData:joe,MaskSystem:bL,Matrix:vs,Mesh:ay,MeshBatchUvs:Kae,MeshGeometry:Q1,MeshMaterial:ly,NineSlicePlane:Tlt,ObjectRenderer:Z1,ObservablePoint:Qh,PI_2:n1,get PRECISION(){return hl},ParticleContainer:mat,ParticleRenderer:Oae,PlaneGeometry:ile,Point:Gi,Polygon:j2,Prepare:Gae,Program:Ky,ProjectionSystem:SL,Quad:Voe,QuadUv:pL,RAD_TO_DEG:Roe,get RENDERER_TYPE(){return ty},Rectangle:ci,RenderTexture:Tp,RenderTexturePool:Uoe,RenderTextureSystem:TL,Renderer:kL,ResizePlugin:nle,Resource:Om,RopeGeometry:sle,RoundedRectangle:Loe,Runner:Po,get SAMPLER_TYPES(){return Kb},get SCALE_MODES(){return uc},get SHAPES(){return po},SVGResource:uL,ScissorSystem:xL,Shader:Mf,ShaderSystem:CL,SimpleMesh:Slt,SimplePlane:ole,SimpleRope:wlt,Sprite:Zy,SpriteMaskFilter:Zoe,Spritesheet:Wae,SpritesheetLoader:qae,State:Fp,StateSystem:EL,StencilSystem:wL,System:wot,get TARGETS(){return ap},get TEXT_GRADIENT(){return oy},get TYPES(){return cn},TYPES_TO_BYTES_PER_COMPONENT:$R,TYPES_TO_BYTES_PER_PIXEL:kae,TemporaryDisplayObject:sL,Text:FL,TextFormat:Zae,TextMetrics:Fc,TextStyle:$m,Texture:kn,TextureGCSystem:AL,TextureLoader:wae,TextureMatrix:SA,TextureSystem:PL,TextureUvs:hL,Ticker:Io,TickerPlugin:Noe,TilingSprite:Bat,TilingSpriteRenderer:Yae,TimeLimiter:Nat,Transform:_A,get UPDATE_PRIORITY(){return Md},UniformGroup:lp,VERSION:Cot,VideoResource:cL,ViewableBuffer:RC,get WRAP_MODES(){return vc},XMLFormat:OC,XMLStringFormat:Qae,accessibleTarget:pae,autoDetectFormat:BL,autoDetectRenderer:aae,autoDetectResource:bA,checkMaxIfStatementsInShader:Koe,createUBOElements:eae,defaultFilterVertex:IL,defaultVertex:lae,extensions:jd,filters:Alt,generateProgram:iae,generateUniformBufferSync:rae,getTestContext:qoe,getUBOData:tae,graphicsUtils:xat,groupD8:fs,interactiveTarget:vae,isMobile:xu,parseDDS:Aae,parseKTX:Iae,resources:fae,settings:Ur,systems:hae,uniformParsers:dm,utils:kst},Symbol.toStringTag,{value:"Module"}));var h0=Math.pow,xs=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(u){i(u)}},o=l=>{try{a(r.throw(l))}catch(u){i(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())});const uG=2,cG=2;var d1;(t=>{t.supportMoreMaskDivisions=!0,t.setOpacityFromMotion=!1})(d1||(d1={}));var qo;(t=>{t.LOG_LEVEL_VERBOSE=0,t.LOG_LEVEL_WARNING=1,t.LOG_LEVEL_ERROR=2,t.LOG_LEVEL_NONE=999,t.logLevel=t.LOG_LEVEL_WARNING,t.sound=!0,t.motionSync=!0,t.motionFadingDuration=500,t.idleMotionFadingDuration=2e3,t.expressionFadingDuration=500,t.preserveExpressionOnMotion=!0,t.cubism4=d1})(qo||(qo={}));const Vi={log(t,...e){qo.logLevel<=qo.LOG_LEVEL_VERBOSE&&console.log(`[${t}]`,...e)},warn(t,...e){qo.logLevel<=qo.LOG_LEVEL_WARNING&&console.warn(`[${t}]`,...e)},error(t,...e){qo.logLevel<=qo.LOG_LEVEL_ERROR&&console.error(`[${t}]`,...e)}};function $C(t,e,r){return t<e?e:t>r?r:t}function klt(t,e){return Math.random()*(e-t)+t}function $_(t,e,r,n,i){const s=e[n];s!==null&&typeof s===t&&(r[i]=s)}function L_(t,e,r,n,i){const s=e[n];Array.isArray(s)&&(r[i]=s.filter(o=>o!==null&&typeof o===t))}function ale(t,e){e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n))})})}function Ilt(t){let e=t.lastIndexOf("/");return e!=-1&&(t=t.slice(0,e)),e=t.lastIndexOf("/"),e!==-1&&(t=t.slice(e+1)),t}function Dlt(t,e){const r=t.indexOf(e);r!==-1&&t.splice(r,1)}class VL extends ah{constructor(e,r){super(),this.expressions=[],this.reserveExpressionIndex=-1,this.destroyed=!1,this.settings=e,this.tag=`ExpressionManager(${e.name})`}init(){this.defaultExpression=this.createExpression({},void 0),this.currentExpression=this.defaultExpression,this.stopAllExpressions()}loadExpression(e){return xs(this,null,function*(){if(!this.definitions[e]){Vi.warn(this.tag,`Undefined expression at [${e}]`);return}if(this.expressions[e]===null){Vi.warn(this.tag,`Cannot set expression at [${e}] because it's already failed in loading.`);return}if(this.expressions[e])return this.expressions[e];const r=yield this._loadExpression(e);return this.expressions[e]=r,r})}_loadExpression(e){throw new Error("Not implemented.")}setRandomExpression(){return xs(this,null,function*(){if(this.definitions.length){const e=[];for(let r=0;r<this.definitions.length;r++)this.expressions[r]!==null&&this.expressions[r]!==this.currentExpression&&r!==this.reserveExpressionIndex&&e.push(r);if(e.length){const r=Math.floor(Math.random()*e.length);return this.setExpression(r)}}return!1})}resetExpression(){this._setExpression(this.defaultExpression)}restoreExpression(){this._setExpression(this.currentExpression)}setExpression(e){return xs(this,null,function*(){if(typeof e!="number"&&(e=this.getExpressionIndex(e)),!(e>-1&&e<this.definitions.length)||e===this.expressions.indexOf(this.currentExpression))return!1;this.reserveExpressionIndex=e;const r=yield this.loadExpression(e);return!r||this.reserveExpressionIndex!==e?!1:(this.reserveExpressionIndex=-1,this.currentExpression=r,this._setExpression(r),!0)})}update(e,r){return this.isFinished()?!1:this.updateParameters(e,r)}destroy(){this.destroyed=!0,this.emit("destroy");const e=this;e.definitions=void 0,e.expressions=void 0}}const dG=.01,Rlt=40/7.5,Mlt=1/(.15*1e3);class Olt{constructor(){this.targetX=0,this.targetY=0,this.x=0,this.y=0,this.vx=0,this.vy=0}focus(e,r,n=!1){this.targetX=$C(e,-1,1),this.targetY=$C(r,-1,1),n&&(this.x=this.targetX,this.y=this.targetY)}update(e){const r=this.targetX-this.x,n=this.targetY-this.y;if(Math.abs(r)<dG&&Math.abs(n)<dG)return;const i=Math.sqrt(h0(r,2)+h0(n,2)),s=Rlt/(1e3/e);let o=s*(r/i)-this.vx,a=s*(n/i)-this.vy;const l=Math.sqrt(h0(o,2)+h0(a,2)),u=s*Mlt*e;l>u&&(o*=u/l,a*=u/l),this.vx+=o,this.vy+=a;const d=Math.sqrt(h0(this.vx,2)+h0(this.vy,2)),f=.5*(Math.sqrt(h0(u,2)+8*u*i)-u);d>f&&(this.vx*=f/d,this.vy*=f/d),this.x+=this.vx,this.y+=this.vy}}class TA{constructor(e){this.json=e;let r=e.url;if(typeof r!="string")throw new TypeError("The `url` field in settings JSON must be defined as a string.");this.url=r,this.name=Ilt(this.url)}resolveURL(e){return md.resolve(this.url,e)}replaceFiles(e){this.moc=e(this.moc,"moc"),this.pose!==void 0&&(this.pose=e(this.pose,"pose")),this.physics!==void 0&&(this.physics=e(this.physics,"physics"));for(let r=0;r<this.textures.length;r++)this.textures[r]=e(this.textures[r],`textures[${r}]`)}getDefinedFiles(){const e=[];return this.replaceFiles(r=>(e.push(r),r)),e}validateFiles(e){const r=(s,o)=>{const a=this.resolveURL(s);if(!e.includes(a)){if(o)throw new Error(`File "${s}" is defined in settings, but doesn't exist in given files`);return!1}return!0};return[this.moc,...this.textures].forEach(s=>r(s,!0)),this.getDefinedFiles().filter(s=>r(s,!1))}}var iM=(t=>(t[t.NONE=0]="NONE",t[t.IDLE=1]="IDLE",t[t.NORMAL=2]="NORMAL",t[t.FORCE=3]="FORCE",t))(iM||{});class $lt{constructor(){this.debug=!1,this.currentPriority=0,this.reservePriority=0}reserve(e,r,n){if(n<=0)return Vi.log(this.tag,"Cannot start a motion with MotionPriority.NONE."),!1;if(e===this.currentGroup&&r===this.currentIndex)return Vi.log(this.tag,"Motion is already playing.",this.dump(e,r)),!1;if(e===this.reservedGroup&&r===this.reservedIndex||e===this.reservedIdleGroup&&r===this.reservedIdleIndex)return Vi.log(this.tag,"Motion is already reserved.",this.dump(e,r)),!1;if(n===1){if(this.currentPriority!==0)return Vi.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(e,r)),!1;if(this.reservedIdleGroup!==void 0)return Vi.log(this.tag,"Cannot start idle motion because another idle motion has reserved.",this.dump(e,r)),!1;this.setReservedIdle(e,r)}else{if(n<3){if(n<=this.currentPriority)return Vi.log(this.tag,"Cannot start motion because another motion is playing as an equivalent or higher priority.",this.dump(e,r)),!1;if(n<=this.reservePriority)return Vi.log(this.tag,"Cannot start motion because another motion has reserved as an equivalent or higher priority.",this.dump(e,r)),!1}this.setReserved(e,r,n)}return!0}start(e,r,n,i){if(i===1){if(this.setReservedIdle(void 0,void 0),this.currentPriority!==0)return Vi.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(r,n)),!1}else{if(r!==this.reservedGroup||n!==this.reservedIndex)return Vi.log(this.tag,"Cannot start motion because another motion has taken the place.",this.dump(r,n)),!1;this.setReserved(void 0,void 0,0)}return e?(this.setCurrent(r,n,i),!0):!1}complete(){this.setCurrent(void 0,void 0,0)}setCurrent(e,r,n){this.currentPriority=n,this.currentGroup=e,this.currentIndex=r}setReserved(e,r,n){this.reservePriority=n,this.reservedGroup=e,this.reservedIndex=r}setReservedIdle(e,r){this.reservedIdleGroup=e,this.reservedIdleIndex=r}isActive(e,r){return e===this.currentGroup&&r===this.currentIndex||e===this.reservedGroup&&r===this.reservedIndex||e===this.reservedIdleGroup&&r===this.reservedIdleIndex}reset(){this.setCurrent(void 0,void 0,0),this.setReserved(void 0,void 0,0),this.setReservedIdle(void 0,void 0)}shouldRequestIdleMotion(){return this.currentGroup===void 0&&this.reservedIdleGroup===void 0}shouldOverrideExpression(){return!qo.preserveExpressionOnMotion&&this.currentPriority>1}dump(e,r){if(this.debug){const n=["currentPriority","reservePriority","currentGroup","currentIndex","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex"];return`
<Requested> group = "${e}", index = ${r}
`+n.map(i=>"["+i+"] "+this[i]).join(`
`)}return""}}const Llt="SoundManager",Flt=.5;class O0{static get volume(){return this._volume}static set volume(e){this._volume=(e>1?1:e<0?0:e)||0,this.audios.forEach(r=>r.volume=this._volume)}static add(e,r,n){const i=new Audio(e);return i.volume=this._volume,i.preload="auto",i.addEventListener("ended",()=>{this.dispose(i),r==null||r()}),i.addEventListener("error",s=>{this.dispose(i),Vi.warn(Llt,`Error occurred on "${e}"`,s.error),n==null||n(s.error)}),this.audios.push(i),i}static play(e){return new Promise((r,n)=>{var i;(i=e.play())==null||i.catch(s=>{e.dispatchEvent(new ErrorEvent("error",{error:s})),n(s)}),e.readyState===e.HAVE_ENOUGH_DATA?r():e.addEventListener("canplaythrough",r)})}static dispose(e){e.pause(),e.removeAttribute("src"),Dlt(this.audios,e)}static destroy(){for(let e=this.audios.length-1;e>=0;e--)this.dispose(this.audios[e])}}O0.audios=[];O0._volume=Flt;class CA extends ah{constructor(e,r){super(),this.motionGroups={},this.state=new $lt,this.playing=!1,this.destroyed=!1,this.settings=e,this.tag=`MotionManager(${e.name})`,this.state.tag=this.tag}init(e){e!=null&&e.idleMotionGroup&&(this.groups.idle=e.idleMotionGroup),this.setupMotions(e),this.stopAllMotions()}setupMotions(e){for(const n of Object.keys(this.definitions))this.motionGroups[n]=[];let r;switch(e==null?void 0:e.motionPreload){case"NONE":return;case"ALL":r=Object.keys(this.definitions);break;case"IDLE":default:r=[this.groups.idle];break}for(const n of r)if(this.definitions[n])for(let i=0;i<this.definitions[n].length;i++)this.loadMotion(n,i).then()}loadMotion(e,r){return xs(this,null,function*(){var n;if(!((n=this.definitions[e])!=null&&n[r])){Vi.warn(this.tag,`Undefined motion at "${e}"[${r}]`);return}if(this.motionGroups[e][r]===null){Vi.warn(this.tag,`Cannot start motion at "${e}"[${r}] because it's already failed in loading.`);return}if(this.motionGroups[e][r])return this.motionGroups[e][r];const i=yield this._loadMotion(e,r);if(!this.destroyed)return this.motionGroups[e][r]=i??null,i})}_loadMotion(e,r){throw new Error("Not implemented.")}startMotion(e,r){return xs(this,arguments,function*(n,i,s=iM.NORMAL){var o;if(!this.state.reserve(n,i,s))return!1;const a=(o=this.definitions[n])==null?void 0:o[i];if(!a)return!1;this.currentAudio&&O0.dispose(this.currentAudio);let l;if(qo.sound){const d=this.getSoundFile(a);if(d)try{l=O0.add(this.settings.resolveURL(d),()=>this.currentAudio=void 0,()=>this.currentAudio=void 0),this.currentAudio=l}catch(f){Vi.warn(this.tag,"Failed to create audio",d,f)}}const u=yield this.loadMotion(n,i);if(l){const d=O0.play(l).catch(f=>Vi.warn(this.tag,"Failed to play audio",l.src,f));qo.motionSync&&(yield d)}return this.state.start(u,n,i,s)?(Vi.log(this.tag,"Start motion:",this.getMotionName(a)),this.emit("motionStart",n,i,l),this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),this.playing=!0,this._startMotion(u),!0):(l&&(O0.dispose(l),this.currentAudio=void 0),!1)})}startRandomMotion(e,r){return xs(this,null,function*(){const n=this.definitions[e];if(n!=null&&n.length){const i=[];for(let s=0;s<n.length;s++)this.motionGroups[e][s]!==null&&!this.state.isActive(e,s)&&i.push(s);if(i.length){const s=Math.floor(Math.random()*i.length);return this.startMotion(e,i[s],r)}}return!1})}stopAllMotions(){this._stopAllMotions(),this.state.reset(),this.currentAudio&&(O0.dispose(this.currentAudio),this.currentAudio=void 0)}update(e,r){var n;return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.shouldOverrideExpression()&&((n=this.expressionManager)==null||n.restoreExpression()),this.state.complete(),this.state.shouldRequestIdleMotion()&&this.startRandomMotion(this.groups.idle,iM.IDLE)),this.updateParameters(e,r)}destroy(){var e;this.destroyed=!0,this.emit("destroy"),this.stopAllMotions(),(e=this.expressionManager)==null||e.destroy();const r=this;r.definitions=void 0,r.motionGroups=void 0}}const Nlt={x:0,y:0,width:0,height:0};class lle extends ah{constructor(){super(...arguments),this.focusController=new Olt,this.originalWidth=0,this.originalHeight=0,this.width=0,this.height=0,this.localTransform=new vs,this.drawingMatrix=new vs,this.hitAreas={},this.textureFlipY=!1,this.viewport=[0,0,0,0],this.destroyed=!1}init(){this.setupLayout(),this.setupHitAreas()}setupLayout(){const e=this,r=this.getSize();e.originalWidth=r[0],e.originalHeight=r[1];const n=Object.assign({width:uG,height:cG},this.getLayout());this.localTransform.scale(n.width/uG,n.height/cG),e.width=this.originalWidth*this.localTransform.a,e.height=this.originalHeight*this.localTransform.d;const i=n.x!==void 0&&n.x-n.width/2||n.centerX!==void 0&&n.centerX||n.left!==void 0&&n.left-n.width/2||n.right!==void 0&&n.right+n.width/2||0,s=n.y!==void 0&&n.y-n.height/2||n.centerY!==void 0&&n.centerY||n.top!==void 0&&n.top-n.height/2||n.bottom!==void 0&&n.bottom+n.height/2||0;this.localTransform.translate(this.width*i,-this.height*s)}setupHitAreas(){const e=this.getHitAreaDefs().filter(r=>r.index>=0);for(const r of e)this.hitAreas[r.name]=r}hitTest(e,r){return Object.keys(this.hitAreas).filter(n=>this.isHit(n,e,r))}isHit(e,r,n){if(!this.hitAreas[e])return!1;const i=this.hitAreas[e].index,s=this.getDrawableBounds(i,Nlt);return s.x<=r&&r<=s.x+s.width&&s.y<=n&&n<=s.y+s.height}getDrawableBounds(e,r){const n=this.getDrawableVertices(e);let i=n[0],s=n[0],o=n[1],a=n[1];for(let l=0;l<n.length;l+=2){const u=n[l],d=n[l+1];i=Math.min(u,i),s=Math.max(u,s),o=Math.min(d,o),a=Math.max(d,a)}return r??(r={}),r.x=i,r.y=o,r.width=s-i,r.height=a-o,r}updateTransform(e){this.drawingMatrix.copyFrom(e).append(this.localTransform)}update(e,r){this.focusController.update(e)}destroy(){this.destroyed=!0,this.emit("destroy"),this.motionManager.destroy(),this.motionManager=void 0}}const Blt="XHRLoader";class fG extends Error{constructor(e,r,n,i=!1){super(e),this.url=r,this.status=n,this.aborted=i}}const Ia=class{static createXHR(t,e,r,n,i){const s=new XMLHttpRequest;if(Ia.allXhrSet.add(s),t){let o=Ia.xhrMap.get(t);o?o.add(s):(o=new Set([s]),Ia.xhrMap.set(t,o)),t.listeners("destroy").includes(Ia.cancelXHRs)||t.once("destroy",Ia.cancelXHRs)}return s.open("GET",e),s.responseType=r,s.onload=()=>{(s.status===200||s.status===0)&&s.response?n(s.response):s.onerror()},s.onerror=()=>{Vi.warn(Blt,`Failed to load resource as ${s.responseType} (Status ${s.status}): ${e}`),i(new fG("Network error.",e,s.status))},s.onabort=()=>i(new fG("Aborted.",e,s.status,!0)),s.onloadend=()=>{var o;Ia.allXhrSet.delete(s),t&&((o=Ia.xhrMap.get(t))==null||o.delete(s))},s}static cancelXHRs(){var t;(t=Ia.xhrMap.get(this))==null||t.forEach(e=>{e.abort(),Ia.allXhrSet.delete(e)}),Ia.xhrMap.delete(this)}static release(){Ia.allXhrSet.forEach(t=>t.abort()),Ia.allXhrSet.clear(),Ia.xhrMap=new WeakMap}};let EA=Ia;EA.xhrMap=new WeakMap;EA.allXhrSet=new Set;EA.loader=(t,e)=>new Promise((r,n)=>{Ia.createXHR(t.target,t.settings?t.settings.resolveURL(t.url):t.url,t.type,s=>{t.result=s,r()},n).send()});function ule(t,e){let r=-1;return n(0);function n(i,s){if(s)return Promise.reject(s);if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;const o=t[i];if(!o)return Promise.resolve();try{return Promise.resolve(o(e,n.bind(null,i+1)))}catch(a){return Promise.reject(a)}}}class Cp{static load(e){return ule(this.middlewares,e).then(()=>e.result)}}Cp.middlewares=[EA.loader];function Ult(t,e={}){var r;const n={resourceOptions:{crossorigin:e.crossOrigin}};if(kn.fromURL)return kn.fromURL(t,n).catch(o=>{if(o instanceof Error)throw o;const a=new Error("Texture loading error");throw a.event=o,a});n.resourceOptions.autoLoad=!1;const i=kn.from(t,n);if(i.baseTexture.valid)return Promise.resolve(i);const s=i.baseTexture.resource;return(r=s._live2d_load)!=null||(s._live2d_load=new Promise((o,a)=>{const l=u=>{s.source.removeEventListener("error",l);const d=new Error("Texture loading error");d.event=u,a(d)};s.source.addEventListener("error",l),s.load().then(()=>o(i)).catch(l)})),s._live2d_load}const hG="Live2DFactory",cle=(t,e)=>xs(void 0,null,function*(){if(typeof t.source=="string"){const r=yield Cp.load({url:t.source,type:"json",target:t.live2dModel});r.url=t.source,t.source=r,t.live2dModel.emit("settingsJSONLoaded",r)}return e()}),dle=(t,e)=>xs(void 0,null,function*(){if(t.source instanceof TA)return t.settings=t.source,e();if(typeof t.source=="object"){const r=ys.findRuntime(t.source);if(r){const n=r.createModelSettings(t.source);return t.settings=n,t.live2dModel.emit("settingsLoaded",n),e()}}throw new TypeError("Unknown settings format.")}),fle=(t,e)=>{if(t.settings){const r=ys.findRuntime(t.settings);if(r)return r.ready().then(e)}return e()},hle=(t,e)=>xs(void 0,null,function*(){yield e();const r=t.internalModel;if(r){const n=t.settings,i=ys.findRuntime(n);if(i){const s=[];n.pose&&s.push(Cp.load({settings:n,url:n.pose,type:"json",target:r}).then(o=>{r.pose=i.createPose(r.coreModel,o),t.live2dModel.emit("poseLoaded",r.pose)}).catch(o=>{t.live2dModel.emit("poseLoadError",o),Vi.warn(hG,"Failed to load pose.",o)})),n.physics&&s.push(Cp.load({settings:n,url:n.physics,type:"json",target:r}).then(o=>{r.physics=i.createPhysics(r.coreModel,o),t.live2dModel.emit("physicsLoaded",r.physics)}).catch(o=>{t.live2dModel.emit("physicsLoadError",o),Vi.warn(hG,"Failed to load physics.",o)})),s.length&&(yield Promise.all(s))}}}),ple=(t,e)=>xs(void 0,null,function*(){if(t.settings){const r=t.live2dModel,n=t.settings.textures.map(i=>{const s=t.settings.resolveURL(i);return Ult(s,{crossOrigin:t.options.crossOrigin})});if(yield e(),t.internalModel)r.internalModel=t.internalModel,r.emit("modelLoaded",t.internalModel);else throw new TypeError("Missing internal model.");r.textures=yield Promise.all(n),r.emit("textureLoaded",r.textures)}else throw new TypeError("Missing settings.")}),mle=(t,e)=>xs(void 0,null,function*(){const r=t.settings;if(r instanceof TA){const n=ys.findRuntime(r);if(!n)throw new TypeError("Unknown model settings.");const i=yield Cp.load({settings:r,url:r.moc,type:"arraybuffer",target:t.live2dModel});if(!n.isValidMoc(i))throw new Error("Invalid moc data");const s=n.createCoreModel(i);return t.internalModel=n.createInternalModel(s,r,t.options),e()}throw new TypeError("Missing settings.")}),Ho=class{static registerRuntime(t){Ho.runtimes.push(t),Ho.runtimes.sort((e,r)=>r.version-e.version)}static findRuntime(t){for(const e of Ho.runtimes)if(e.test(t))return e}static setupLive2DModel(t,e,r){return xs(this,null,function*(){const n=new Promise(o=>t.once("textureLoaded",o)),i=new Promise(o=>t.once("modelLoaded",o)),s=Promise.all([n,i]).then(()=>t.emit("ready"));yield ule(Ho.live2DModelMiddlewares,{live2dModel:t,source:e,options:r||{}}),yield s,t.emit("load")})}static loadMotion(t,e,r){var n,i;const s=o=>t.emit("motionLoadError",e,r,o);try{const o=(n=t.definitions[e])==null?void 0:n[r];if(!o)return Promise.resolve(void 0);t.listeners("destroy").includes(Ho.releaseTasks)||t.once("destroy",Ho.releaseTasks);let a=Ho.motionTasksMap.get(t);a||(a={},Ho.motionTasksMap.set(t,a));let l=a[e];l||(l=[],a[e]=l);const u=t.getMotionFile(o);return(i=l[r])!=null||(l[r]=Cp.load({url:u,settings:t.settings,type:t.motionDataType,target:t}).then(d=>{var f;const h=(f=Ho.motionTasksMap.get(t))==null?void 0:f[e];h&&delete h[r];const g=t.createMotion(d,e,o);return t.emit("motionLoaded",e,r,g),g}).catch(d=>{Vi.warn(t.tag,`Failed to load motion: ${u}
`,d),s(d)})),l[r]}catch(o){Vi.warn(t.tag,`Failed to load motion at "${e}"[${r}]
`,o),s(o)}return Promise.resolve(void 0)}static loadExpression(t,e){var r;const n=i=>t.emit("expressionLoadError",e,i);try{const i=t.definitions[e];if(!i)return Promise.resolve(void 0);t.listeners("destroy").includes(Ho.releaseTasks)||t.once("destroy",Ho.releaseTasks);let s=Ho.expressionTasksMap.get(t);s||(s=[],Ho.expressionTasksMap.set(t,s));const o=t.getExpressionFile(i);return(r=s[e])!=null||(s[e]=Cp.load({url:o,settings:t.settings,type:"json",target:t}).then(a=>{const l=Ho.expressionTasksMap.get(t);l&&delete l[e];const u=t.createExpression(a,i);return t.emit("expressionLoaded",e,u),u}).catch(a=>{Vi.warn(t.tag,`Failed to load expression: ${o}
`,a),n(a)})),s[e]}catch(i){Vi.warn(t.tag,`Failed to load expression at [${e}]
`,i),n(i)}return Promise.resolve(void 0)}static releaseTasks(){this instanceof CA?Ho.motionTasksMap.delete(this):Ho.expressionTasksMap.delete(this)}};let ys=Ho;ys.runtimes=[];ys.urlToJSON=cle;ys.jsonToSettings=dle;ys.waitUntilReady=fle;ys.setupOptionals=hle;ys.setupEssentials=ple;ys.createInternalModel=mle;ys.live2DModelMiddlewares=[cle,dle,fle,hle,ple,mle];ys.motionTasksMap=new WeakMap;ys.expressionTasksMap=new WeakMap;CA.prototype._loadMotion=function(t,e){return ys.loadMotion(this,t,e)};VL.prototype._loadExpression=function(t){return ys.loadExpression(this,t)};class Vlt{constructor(){this._autoInteract=!1}get autoInteract(){return this._autoInteract}set autoInteract(e){e!==this._autoInteract&&(e?this.on("pointertap",pG,this):this.off("pointertap",pG,this),this._autoInteract=e)}registerInteraction(e){e!==this.interactionManager&&(this.unregisterInteraction(),this._autoInteract&&e&&(this.interactionManager=e,e.on("pointermove",mG,this)))}unregisterInteraction(){var e;this.interactionManager&&((e=this.interactionManager)==null||e.off("pointermove",mG,this),this.interactionManager=void 0)}}function pG(t){this.tap(t.data.global.x,t.data.global.y)}function mG(t){this.focus(t.data.global.x,t.data.global.y)}class zlt extends _A{}const su=new Gi,Hlt=new vs;let Eh;class GS extends zu{constructor(e){super(),this.tag="Live2DModel(uninitialized)",this.textures=[],this.transform=new zlt,this.anchor=new Qh(this.onAnchorChange,this,0,0),this.glContextID=-1,this.elapsedTime=performance.now(),this.deltaTime=0,this.wasUpdated=!1,this._autoUpdate=!1,this.once("modelLoaded",()=>this.init(e))}static from(e,r){const n=new this(r);return ys.setupLive2DModel(n,e,r).then(()=>n)}static fromSync(e,r){const n=new this(r);return ys.setupLive2DModel(n,e,r).then(r==null?void 0:r.onLoad).catch(r==null?void 0:r.onError),n}static registerTicker(e){Eh=e}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){var r;Eh||(Eh=(r=window.PIXI)==null?void 0:r.Ticker),e?this._destroyed||(Eh?(Eh.shared.add(this.onTickerUpdate,this),this._autoUpdate=!0):Vi.warn(this.tag,"No Ticker registered, please call Live2DModel.registerTicker(Ticker).")):(Eh==null||Eh.shared.remove(this.onTickerUpdate,this),this._autoUpdate=!1)}init(e){this.tag=`Live2DModel(${this.internalModel.settings.name})`;const r=Object.assign({autoUpdate:!0,autoInteract:!0},e);r.autoInteract&&(this.interactive=!0),this.autoInteract=r.autoInteract,this.autoUpdate=r.autoUpdate}onAnchorChange(){this.pivot.set(this.anchor.x*this.internalModel.width,this.anchor.y*this.internalModel.height)}motion(e,r,n){return r===void 0?this.internalModel.motionManager.startRandomMotion(e,n):this.internalModel.motionManager.startMotion(e,r,n)}expression(e){return this.internalModel.motionManager.expressionManager?e===void 0?this.internalModel.motionManager.expressionManager.setRandomExpression():this.internalModel.motionManager.expressionManager.setExpression(e):Promise.resolve(!1)}focus(e,r,n=!1){su.x=e,su.y=r,this.toModelPosition(su,su,!0);let i=su.x/this.internalModel.originalWidth*2-1,s=su.y/this.internalModel.originalHeight*2-1,o=Math.atan2(s,i);this.internalModel.focusController.focus(Math.cos(o),-Math.sin(o),n)}tap(e,r){const n=this.hitTest(e,r);n.length&&(Vi.log(this.tag,"Hit",n),this.emit("hit",n))}hitTest(e,r){return su.x=e,su.y=r,this.toModelPosition(su,su),this.internalModel.hitTest(su.x,su.y)}toModelPosition(e,r=e.clone(),n){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.transform.worldTransform.applyInverse(e,r),this.internalModel.localTransform.applyInverse(r,r),r}containsPoint(e){return this.getBounds(!0).contains(e.x,e.y)}_calculateBounds(){this._bounds.addFrame(this.transform,0,0,this.internalModel.width,this.internalModel.height)}onTickerUpdate(){this.update(Eh.shared.deltaMS)}update(e){this.deltaTime+=e,this.elapsedTime+=e,this.wasUpdated=!0}_render(e){if(this.registerInteraction(e.plugins.interaction),!this.wasUpdated)return;e.batch.reset(),e.geometry.reset(),e.shader.reset(),e.state.reset();let r=!1;this.glContextID!==e.CONTEXT_UID&&(this.glContextID=e.CONTEXT_UID,this.internalModel.updateWebGLContext(e.gl,this.glContextID),r=!0);for(let s=0;s<this.textures.length;s++){const o=this.textures[s];o.valid&&((r||!o.baseTexture._glTextures[this.glContextID])&&(e.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL,this.internalModel.textureFlipY),e.texture.bind(o.baseTexture,0)),this.internalModel.bindTexture(s,o.baseTexture._glTextures[this.glContextID].texture),o.baseTexture.touched=e.textureGC.count)}const n=e.framebuffer.viewport;this.internalModel.viewport=[n.x,n.y,n.width,n.height],this.deltaTime&&(this.internalModel.update(this.deltaTime,this.elapsedTime),this.deltaTime=0);const i=Hlt.copyFrom(e.globalUniforms.uniforms.projectionMatrix).append(this.worldTransform);this.internalModel.updateTransform(i),this.internalModel.draw(e.gl),e.state.reset(),e.texture.reset()}destroy(e){this.emit("destroy"),this.autoUpdate=!1,this.unregisterInteraction(),e!=null&&e.texture&&this.textures.forEach(r=>r.destroy(e.baseTexture)),this.internalModel.destroy(),super.destroy(e)}}ale(GS,[Vlt]);const od=class{static resolveURL(t,e){var r;const n=(r=od.filesMap[t])==null?void 0:r[e];if(n===void 0)throw new Error("Cannot find this file from uploaded files: "+e);return n}static upload(t,e){return xs(this,null,function*(){const r={};for(const n of e.getDefinedFiles()){const i=decodeURI(md.resolve(e.url,n)),s=t.find(o=>o.webkitRelativePath===i);s&&(r[n]=URL.createObjectURL(s))}od.filesMap[e._objectURL]=r})}static createSettings(t){return xs(this,null,function*(){const e=t.find(o=>o.name.endsWith("model.json")||o.name.endsWith("model3.json"));if(!e)throw new TypeError("Settings file not found");const r=yield od.readText(e),n=JSON.parse(r);n.url=e.webkitRelativePath;const i=ys.findRuntime(n);if(!i)throw new Error("Unknown settings JSON");const s=i.createModelSettings(n);return s._objectURL=URL.createObjectURL(e),s})}static readText(t){return xs(this,null,function*(){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=r,n.readAsText(t,"utf8")})})}};let zL=od;zL.filesMap={};zL.factory=(t,e)=>xs(void 0,null,function*(){if(Array.isArray(t.source)&&t.source[0]instanceof File){const r=t.source;let n=r.settings;if(!n)n=yield od.createSettings(r);else if(!n._objectURL)throw new Error('"_objectURL" must be specified in ModelSettings');n.validateFiles(r.map(i=>encodeURI(i.webkitRelativePath))),yield od.upload(r,n),n.resolveURL=function(i){return od.resolveURL(this._objectURL,i)},t.source=n,t.live2dModel.once("modelLoaded",i=>{i.once("destroy",function(){const s=this.settings._objectURL;if(URL.revokeObjectURL(s),od.filesMap[s])for(const o of Object.values(od.filesMap[s]))URL.revokeObjectURL(o);delete od.filesMap[s]})})}return e()});ys.live2DModelMiddlewares.unshift(zL.factory);const sl=class{static unzip(t,e){return xs(this,null,function*(){const r=yield sl.getFilePaths(t),n=[];for(const s of e.getDefinedFiles()){const o=decodeURI(md.resolve(e.url,s));r.includes(o)&&n.push(o)}const i=yield sl.getFiles(t,n);for(let s=0;s<i.length;s++){const o=n[s],a=i[s];Object.defineProperty(a,"webkitRelativePath",{value:o})}return i})}static createSettings(t){return xs(this,null,function*(){const r=(yield sl.getFilePaths(t)).find(o=>o.endsWith("model.json")||o.endsWith("model3.json"));if(!r)throw new Error("Settings file not found");const n=yield sl.readText(t,r);if(!n)throw new Error("Empty settings file: "+r);const i=JSON.parse(n);i.url=r;const s=ys.findRuntime(i);if(!s)throw new Error("Unknown settings JSON");return s.createModelSettings(i)})}static zipReader(t,e){return xs(this,null,function*(){throw new Error("Not implemented")})}static getFilePaths(t){return xs(this,null,function*(){throw new Error("Not implemented")})}static getFiles(t,e){return xs(this,null,function*(){throw new Error("Not implemented")})}static readText(t,e){return xs(this,null,function*(){throw new Error("Not implemented")})}static releaseReader(t){}};let AA=sl;AA.ZIP_PROTOCOL="zip://";AA.uid=0;AA.factory=(t,e)=>xs(void 0,null,function*(){const r=t.source;let n,i,s;if(typeof r=="string"&&(r.endsWith(".zip")||r.startsWith(sl.ZIP_PROTOCOL))?(r.startsWith(sl.ZIP_PROTOCOL)?n=r.slice(sl.ZIP_PROTOCOL.length):n=r,i=yield Cp.load({url:n,type:"blob",target:t.live2dModel})):Array.isArray(r)&&r.length===1&&r[0]instanceof File&&r[0].name.endsWith(".zip")&&(i=r[0],n=URL.createObjectURL(i),s=r.settings),i){if(!i.size)throw new Error("Empty zip file");const o=yield sl.zipReader(i,n);s||(s=yield sl.createSettings(o)),s._objectURL=sl.ZIP_PROTOCOL+sl.uid+"/"+s.url;const a=yield sl.unzip(o,s);a.settings=s,t.source=a,n.startsWith("blob:")&&t.live2dModel.once("modelLoaded",l=>{l.once("destroy",function(){URL.revokeObjectURL(n)})}),sl.releaseReader(o)}return e()});ys.live2DModelMiddlewares.unshift(AA.factory);if(!window.Live2D)throw new Error("Could not find Cubism 2 runtime. This plugin requires live2d.min.js to be loaded.");const jlt=Live2DMotion.prototype.updateParam;Live2DMotion.prototype.updateParam=function(t,e){jlt.call(this,t,e),e.isFinished()&&this.onFinishHandler&&(this.onFinishHandler(this),delete this.onFinishHandler)};class Glt extends AMotion{constructor(e){super(),this.params=[],this.setFadeIn(e.fade_in>0?e.fade_in:qo.expressionFadingDuration),this.setFadeOut(e.fade_out>0?e.fade_out:qo.expressionFadingDuration),Array.isArray(e.params)&&e.params.forEach(r=>{const n=r.calc||"add";if(n==="add"){const i=r.def||0;r.val-=i}else if(n==="mult"){const i=r.def||1;r.val/=i}this.params.push({calc:n,val:r.val,id:r.id})})}updateParamExe(e,r,n,i){this.params.forEach(s=>{e.setParamFloat(s.id,s.val*n)})}}class Wlt extends VL{constructor(e,r){var n;super(e,r),this.queueManager=new MotionQueueManager,this.definitions=(n=this.settings.expressions)!=null?n:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(r=>r.name===e)}getExpressionFile(e){return e.file}createExpression(e,r){return new Glt(e)}_setExpression(e){return this.queueManager.startMotion(e)}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,r){return this.queueManager.updateParam(e)}}class qlt extends CA{constructor(e,r){super(e,r),this.groups={idle:"idle"},this.motionDataType="arraybuffer",this.queueManager=new MotionQueueManager,this.definitions=this.settings.motions,this.init(r)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new Wlt(this.settings,e))}isFinished(){return this.queueManager.isFinished()}createMotion(e,r,n){const i=Live2DMotion.loadMotion(e),s=r===this.groups.idle?qo.idleMotionFadingDuration:qo.motionFadingDuration;return i.setFadeIn(n.fade_in>0?n.fade_in:s),i.setFadeOut(n.fade_out>0?n.fade_out:s),i}getMotionFile(e){return e.file}getMotionName(e){return e.file}getSoundFile(e){return e.sound}_startMotion(e,r){return e.onFinishHandler=r,this.queueManager.stopAllMotions(),this.queueManager.startMotion(e)}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(e,r){return this.queueManager.updateParam(e)}destroy(){super.destroy(),this.queueManager=void 0}}class Xlt{constructor(e){this.coreModel=e,this.blinkInterval=4e3,this.closingDuration=100,this.closedDuration=50,this.openingDuration=150,this.eyeState=0,this.eyeParamValue=1,this.closedTimer=0,this.nextBlinkTimeLeft=this.blinkInterval,this.leftParam=e.getParamIndex("PARAM_EYE_L_OPEN"),this.rightParam=e.getParamIndex("PARAM_EYE_R_OPEN")}setEyeParams(e){this.eyeParamValue=$C(e,0,1),this.coreModel.setParamFloat(this.leftParam,this.eyeParamValue),this.coreModel.setParamFloat(this.rightParam,this.eyeParamValue)}update(e){switch(this.eyeState){case 0:this.nextBlinkTimeLeft-=e,this.nextBlinkTimeLeft<0&&(this.eyeState=1,this.nextBlinkTimeLeft=this.blinkInterval+this.closingDuration+this.closedDuration+this.openingDuration+klt(0,2e3));break;case 1:this.setEyeParams(this.eyeParamValue+e/this.closingDuration),this.eyeParamValue<=0&&(this.eyeState=2,this.closedTimer=0);break;case 2:this.closedTimer+=e,this.closedTimer>=this.closedDuration&&(this.eyeState=3);break;case 3:this.setEyeParams(this.eyeParamValue+e/this.openingDuration),this.eyeParamValue>=1&&(this.eyeState=0)}}}const p0=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Ylt extends lle{constructor(e,r,n){super(),this.textureFlipY=!0,this.drawDataCount=0,this.disableCulling=!1,this.coreModel=e,this.settings=r,this.motionManager=new qlt(r,n),this.eyeBlink=new Xlt(e),this.eyeballXParamIndex=e.getParamIndex("PARAM_EYE_BALL_X"),this.eyeballYParamIndex=e.getParamIndex("PARAM_EYE_BALL_Y"),this.angleXParamIndex=e.getParamIndex("PARAM_ANGLE_X"),this.angleYParamIndex=e.getParamIndex("PARAM_ANGLE_Y"),this.angleZParamIndex=e.getParamIndex("PARAM_ANGLE_Z"),this.bodyAngleXParamIndex=e.getParamIndex("PARAM_BODY_ANGLE_X"),this.breathParamIndex=e.getParamIndex("PARAM_BREATH"),this.init()}init(){super.init(),this.settings.initParams&&this.settings.initParams.forEach(({id:s,value:o})=>this.coreModel.setParamFloat(s,o)),this.settings.initOpacities&&this.settings.initOpacities.forEach(({id:s,value:o})=>this.coreModel.setPartsOpacity(s,o)),this.coreModel.saveParam();const e=this.coreModel.getModelContext()._$aS;e!=null&&e.length&&(this.drawDataCount=e.length);let r=this.coreModel.drawParamWebGL.culling;Object.defineProperty(this.coreModel.drawParamWebGL,"culling",{set:s=>r=s,get:()=>this.disableCulling?!1:r});const n=this.coreModel.getModelContext().clipManager,i=n.setupClip;n.setupClip=(s,o)=>{i.call(n,s,o),o.gl.viewport(...this.viewport)}}getSize(){return[this.coreModel.getCanvasWidth(),this.coreModel.getCanvasHeight()]}getLayout(){const e={};if(this.settings.layout)for(const r of Object.keys(this.settings.layout)){let n=r;r==="center_x"?n="centerX":r==="center_y"&&(n="centerY"),e[n]=this.settings.layout[r]}return e}updateWebGLContext(e,r){const n=this.coreModel.drawParamWebGL;n.firstDraw=!0,n.setGL(e),n.glno=r;for(const o in n)n.hasOwnProperty(o)&&n[o]instanceof WebGLBuffer&&(n[o]=null);const i=this.coreModel.getModelContext().clipManager;i.curFrameNo=r;const s=e.getParameter(e.FRAMEBUFFER_BINDING);i.getMaskRenderTexture(),e.bindFramebuffer(e.FRAMEBUFFER,s)}bindTexture(e,r){this.coreModel.setTexture(e,r)}getHitAreaDefs(){var e;return((e=this.settings.hitAreas)==null?void 0:e.map(r=>({id:r.id,name:r.name,index:this.coreModel.getDrawDataIndex(r.id)})))||[]}getDrawableIDs(){const e=this.coreModel.getModelContext(),r=[];for(let n=0;n<this.drawDataCount;n++){const i=e.getDrawData(n);i&&r.push(i.getDrawDataID().id)}return r}getDrawableIndex(e){return this.coreModel.getDrawDataIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawDataIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);return this.coreModel.getTransformedPoints(e).slice()}update(e,r){var n,i,s,o;super.update(e,r);const a=this.coreModel;this.emit("beforeMotionUpdate");const l=this.motionManager.update(this.coreModel,r);this.emit("afterMotionUpdate"),a.saveParam(),(n=this.motionManager.expressionManager)==null||n.update(a,r),l||(i=this.eyeBlink)==null||i.update(e),this.updateFocus(),this.updateNaturalMovements(e,r),(s=this.physics)==null||s.update(r),(o=this.pose)==null||o.update(e),this.emit("beforeModelUpdate"),a.update(),a.loadParam()}updateFocus(){this.coreModel.addToParamFloat(this.eyeballXParamIndex,this.focusController.x),this.coreModel.addToParamFloat(this.eyeballYParamIndex,this.focusController.y),this.coreModel.addToParamFloat(this.angleXParamIndex,this.focusController.x*30),this.coreModel.addToParamFloat(this.angleYParamIndex,this.focusController.y*30),this.coreModel.addToParamFloat(this.angleZParamIndex,this.focusController.x*this.focusController.y*-30),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,this.focusController.x*10)}updateNaturalMovements(e,r){const n=r/1e3*2*Math.PI;this.coreModel.addToParamFloat(this.angleXParamIndex,15*Math.sin(n/6.5345)*.5),this.coreModel.addToParamFloat(this.angleYParamIndex,8*Math.sin(n/3.5345)*.5),this.coreModel.addToParamFloat(this.angleZParamIndex,10*Math.sin(n/5.5345)*.5),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,4*Math.sin(n/15.5345)*.5),this.coreModel.setParamFloat(this.breathParamIndex,.5+.5*Math.sin(n/3.2345))}draw(e){const r=this.disableCulling;e.getParameter(e.FRAMEBUFFER_BINDING)&&(this.disableCulling=!0);const n=this.drawingMatrix;p0[0]=n.a,p0[1]=n.b,p0[4]=n.c,p0[5]=n.d,p0[12]=n.tx,p0[13]=n.ty,this.coreModel.setMatrix(p0),this.coreModel.draw(),this.disableCulling=r}destroy(){super.destroy(),this.coreModel=void 0}}class W2 extends TA{constructor(e){if(super(e),this.motions={},!W2.isValidJSON(e))throw new TypeError("Invalid JSON.");this.moc=e.model,L_("string",e,this,"textures","textures"),this.copy(e)}static isValidJSON(e){var r;return!!e&&typeof e.model=="string"&&((r=e.textures)==null?void 0:r.length)>0&&e.textures.every(n=>typeof n=="string")}copy(e){$_("string",e,this,"name","name"),$_("string",e,this,"pose","pose"),$_("string",e,this,"physics","physics"),$_("object",e,this,"layout","layout"),$_("object",e,this,"motions","motions"),L_("object",e,this,"hit_areas","hitAreas"),L_("object",e,this,"expressions","expressions"),L_("object",e,this,"init_params","initParams"),L_("object",e,this,"init_opacities","initOpacities")}replaceFiles(e){super.replaceFiles(e);for(const[r,n]of Object.entries(this.motions))for(let i=0;i<n.length;i++)n[i].file=e(n[i].file,`motions.${r}[${i}].file`),n[i].sound!==void 0&&(n[i].sound=e(n[i].sound,`motions.${r}[${i}].sound`));if(this.expressions)for(let r=0;r<this.expressions.length;r++)this.expressions[r].file=e(this.expressions[r].file,`expressions[${r}].file`)}}const Klt={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE},Zlt={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE};class Qlt{constructor(e,r){this.coreModel=e,this.physicsHairs=[],r.physics_hair&&(this.physicsHairs=r.physics_hair.map(n=>{const i=new PhysicsHair;return i.setup(n.setup.length,n.setup.regist,n.setup.mass),n.src.forEach(({id:s,ptype:o,scale:a,weight:l})=>{const u=Klt[o];u&&i.addSrcParam(u,s,a,l)}),n.targets.forEach(({id:s,ptype:o,scale:a,weight:l})=>{const u=Zlt[o];u&&i.addTargetParam(u,s,a,l)}),i}))}update(e){this.physicsHairs.forEach(r=>r.update(this.coreModel,e))}}class gG{constructor(e){this.id=e,this.paramIndex=-1,this.partsIndex=-1,this.link=[]}initIndex(e){this.paramIndex=e.getParamIndex("VISIBLE:"+this.id),this.partsIndex=e.getPartsDataIndex(PartsDataID.getID(this.id)),e.setParamFloat(this.paramIndex,1)}}class Jlt{constructor(e,r){this.coreModel=e,this.opacityAnimDuration=500,this.partsGroups=[],r.parts_visible&&(this.partsGroups=r.parts_visible.map(({group:n})=>n.map(({id:i,link:s})=>{const o=new gG(i);return s&&(o.link=s.map(a=>new gG(a))),o})),this.init())}init(){this.partsGroups.forEach(e=>{e.forEach(r=>{if(r.initIndex(this.coreModel),r.paramIndex>=0){const n=this.coreModel.getParamFloat(r.paramIndex)!==0;this.coreModel.setPartsOpacity(r.partsIndex,n?1:0),this.coreModel.setParamFloat(r.paramIndex,n?1:0),r.link.length>0&&r.link.forEach(i=>i.initIndex(this.coreModel))}})})}normalizePartsOpacityGroup(e,r){const n=this.coreModel,i=.5,s=.15;let o=1,a=e.findIndex(({paramIndex:l,partsIndex:u})=>u>=0&&n.getParamFloat(l)!==0);if(a>=0){const l=n.getPartsOpacity(e[a].partsIndex);o=$C(l+r/this.opacityAnimDuration,0,1)}else a=0,o=1;e.forEach(({partsIndex:l},u)=>{if(l>=0)if(a==u)n.setPartsOpacity(l,o);else{let d=n.getPartsOpacity(l),f;o<i?f=o*(i-1)/i+1:f=(1-o)*i/(1-i),(1-f)*(1-o)>s&&(f=1-s/(1-o)),d>f&&(d=f),n.setPartsOpacity(l,d)}})}copyOpacity(e){const r=this.coreModel;e.forEach(({partsIndex:n,link:i})=>{if(n>=0&&i){const s=r.getPartsOpacity(n);i.forEach(({partsIndex:o})=>{o>=0&&r.setPartsOpacity(o,s)})}})}update(e){this.partsGroups.forEach(r=>{this.normalizePartsOpacityGroup(r,e),this.copyOpacity(r)})}}ys.registerRuntime({version:2,test(t){return t instanceof W2||W2.isValidJSON(t)},ready(){return Promise.resolve()},isValidMoc(t){if(t.byteLength<3)return!1;const e=new Int8Array(t,0,3);return String.fromCharCode(...e)==="moc"},createModelSettings(t){return new W2(t)},createCoreModel(t){const e=Live2DModelWebGL.loadModel(t),r=Live2D.getError();if(r)throw r;return e},createInternalModel(t,e,r){return new Ylt(t,e,r)},createPose(t,e){return new Jlt(t,e)},createPhysics(t,e){return new Qlt(t,e)}});if(!window.Live2DCubismCore)throw new Error("Could not find Cubism 4 runtime. This plugin requires live2dcubismcore.js to be loaded.");class On{constructor(e,r){this.x=e||0,this.y=r||0}add(e){const r=new On(0,0);return r.x=this.x+e.x,r.y=this.y+e.y,r}substract(e){const r=new On(0,0);return r.x=this.x-e.x,r.y=this.y-e.y,r}multiply(e){const r=new On(0,0);return r.x=this.x*e.x,r.y=this.y*e.y,r}multiplyByScaler(e){return this.multiply(new On(e,e))}division(e){const r=new On(0,0);return r.x=this.x/e.x,r.y=this.y/e.y,r}divisionByScalar(e){return this.division(new On(e,e))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(e){return Math.sqrt((this.x-e.x)*(this.x-e.x)+(this.y-e.y)*(this.y-e.y))}dot(e){return this.x*e.x+this.y*e.y}normalize(){const e=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/e,this.y=this.y/e}isEqual(e){return this.x==e.x&&this.y==e.y}isNotEqual(e){return!this.isEqual(e)}}const WS=class{static range(t,e,r){return t<e?t=e:t>r&&(t=r),t}static sin(t){return Math.sin(t)}static cos(t){return Math.cos(t)}static abs(t){return Math.abs(t)}static sqrt(t){return Math.sqrt(t)}static cbrt(t){if(t===0)return t;let e=t;const r=e<0;r&&(e=-e);let n;return e===1/0?n=1/0:(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3),r?-n:n}static getEasingSine(t){return t<0?0:t>1?1:.5-.5*this.cos(t*Math.PI)}static max(t,e){return t>e?t:e}static min(t,e){return t>e?e:t}static degreesToRadian(t){return t/180*Math.PI}static radianToDegrees(t){return t*180/Math.PI}static directionToRadian(t,e){const r=Math.atan2(e.y,e.x),n=Math.atan2(t.y,t.x);let i=r-n;for(;i<-Math.PI;)i+=Math.PI*2;for(;i>Math.PI;)i-=Math.PI*2;return i}static directionToDegrees(t,e){const r=this.directionToRadian(t,e);let n=this.radianToDegrees(r);return e.x-t.x>0&&(n=-n),n}static radianToDirection(t){const e=new On;return e.x=this.sin(t),e.y=this.cos(t),e}static quadraticEquation(t,e,r){return this.abs(t)<WS.Epsilon?this.abs(e)<WS.Epsilon?-r:-r/e:-(e+this.sqrt(e*e-4*t*r))/(2*t)}static cardanoAlgorithmForBezier(t,e,r,n){if(this.sqrt(t)<WS.Epsilon)return this.range(this.quadraticEquation(e,r,n),0,1);const i=e/t,s=r/t,o=n/t,a=(3*s-i*i)/3,l=a/3,u=(2*i*i*i-9*i*s+27*o)/27,d=u/2,f=d*d+l*l*l,h=.5,g=h+.01;if(f<0){const C=-a/3,T=C*C*C,A=this.sqrt(T),E=-u/(2*A),I=this.range(E,-1,1),O=Math.acos(I),G=2*this.cbrt(A),ie=G*this.cos(O/3)-i/3;if(this.abs(ie-h)<g)return this.range(ie,0,1);const W=G*this.cos((O+2*Math.PI)/3)-i/3;if(this.abs(W-h)<g)return this.range(W,0,1);const q=G*this.cos((O+4*Math.PI)/3)-i/3;return this.range(q,0,1)}if(f==0){let C;d<0?C=this.cbrt(-d):C=-this.cbrt(d);const T=2*C-i/3;if(this.abs(T-h)<g)return this.range(T,0,1);const A=-C-i/3;return this.range(A,0,1)}const v=this.sqrt(f),p=this.cbrt(v-d),b=this.cbrt(v+d),S=p-b-i/3;return this.range(S,0,1)}constructor(){}};let Ji=WS;Ji.Epsilon=1e-5;class wu{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(e,r,n){const i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=4;for(let o=0;o<s;++o)for(let a=0;a<s;++a)for(let l=0;l<s;++l)i[a+o*4]+=e[l+o*4]*r[a+l*4];for(let o=0;o<16;++o)n[o]=i[o]}loadIdentity(){const e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(e)}setMatrix(e){for(let r=0;r<16;++r)this._tr[r]=e[r]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(e){return this._tr[0]*e+this._tr[12]}transformY(e){return this._tr[5]*e+this._tr[13]}invertTransformX(e){return(e-this._tr[12])/this._tr[0]}invertTransformY(e){return(e-this._tr[13])/this._tr[5]}translateRelative(e,r){const n=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,r,0,1]);wu.multiply(n,this._tr,this._tr)}translate(e,r){this._tr[12]=e,this._tr[13]=r}translateX(e){this._tr[12]=e}translateY(e){this._tr[13]=e}scaleRelative(e,r){const n=new Float32Array([e,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]);wu.multiply(n,this._tr,this._tr)}scale(e,r){this._tr[0]=e,this._tr[5]=r}multiplyByMatrix(e){wu.multiply(e.getArray(),this._tr,this._tr)}clone(){const e=new wu;for(let r=0;r<this._tr.length;r++)e._tr[r]=this._tr[r];return e}}class HL{initialize(e){this._model=e}drawModel(){this.getModel()!=null&&this.doDrawModel()}setMvpMatrix(e){this._mvpMatrix4x4.setMatrix(e.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(e,r,n,i){e<0?e=0:e>1&&(e=1),r<0?r=0:r>1&&(r=1),n<0?n=0:n>1&&(n=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=e,this._modelColor.G=r,this._modelColor.B=n,this._modelColor.A=i}getModelColor(){return Object.assign({},this._modelColor)}setIsPremultipliedAlpha(e){this._isPremultipliedAlpha=e}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(e){this._isCulling=e}isCulling(){return this._isCulling}setAnisotropy(e){this._anisortopy=e}getAnisotropy(){return this._anisortopy}getModel(){return this._model}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._modelColor=new o2,this._mvpMatrix4x4=new wu,this._mvpMatrix4x4.loadIdentity()}}var up=(t=>(t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",t))(up||{});class o2{constructor(){this.R=1,this.G=1,this.B=1,this.A=1}}let qc=!1,Eg=!1,Ag;const tk={vertexOffset:0,vertexStep:2};class f1{static startUp(e){if(qc)return F_("CubismFramework.startUp() is already done."),qc;if(Live2DCubismCore._isStarted)return qc=!0,!0;if(Live2DCubismCore._isStarted=!0,Ag=e,Ag&&Live2DCubismCore.Logging.csmSetLogFunction(Ag.logFunction),qc=!0,qc){const r=Live2DCubismCore.Version.csmGetVersion(),n=(r&4278190080)>>24,i=(r&16711680)>>16,s=r&65535,o=r;F_("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+n).slice(-2),("00"+i).slice(-2),("0000"+s).slice(-4),o)}return F_("CubismFramework.startUp() is complete."),qc}static cleanUp(){qc=!1,Eg=!1,Ag=void 0}static initialize(){if(!qc){a2("CubismFramework is not started.");return}if(Eg){a2("CubismFramework.initialize() skipped, already initialized.");return}Eg=!0,F_("CubismFramework.initialize() is complete.")}static dispose(){if(!qc){a2("CubismFramework is not started.");return}if(!Eg){a2("CubismFramework.dispose() skipped, not initialized.");return}HL.staticRelease(),Eg=!1,F_("CubismFramework.dispose() is complete.")}static isStarted(){return qc}static isInitialized(){return Eg}static coreLogFunction(e){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(e)}static getLoggingLevel(){return Ag!=null?Ag.loggingLevel:Ym.LogLevel_Off}constructor(){}}var Ym=(t=>(t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off",t))(Ym||{});const Fw=()=>{};function vG(t,...e){PA.print(Ym.LogLevel_Debug,"[CSM][D]"+t+`
`,e)}function F_(t,...e){PA.print(Ym.LogLevel_Info,"[CSM][I]"+t+`
`,e)}function a2(t,...e){PA.print(Ym.LogLevel_Warning,"[CSM][W]"+t+`
`,e)}function Mg(t,...e){PA.print(Ym.LogLevel_Error,"[CSM][E]"+t+`
`,e)}class PA{static print(e,r,n){if(e<f1.getLoggingLevel())return;const i=f1.coreLogFunction;if(!i)return;const s=r.replace(/{(\d+)}/g,(o,a)=>n[a]);i(s)}static dumpBytes(e,r,n){for(let i=0;i<n;i++)i%16==0&&i>0?this.print(e,`
`):i%8==0&&i>0&&this.print(e,"  "),this.print(e,"{0} ",[r[i]&255]);this.print(e,`
`)}constructor(){}}class gle{constructor(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=[]}release(){this._weight=0}updateParameters(e,r,n){if(!r.isAvailable()||r.isFinished())return;if(!r.isStarted()){r.setIsStarted(!0),r.setStartTime(n-this._offsetSeconds),r.setFadeInStartTime(n);const a=this.getDuration();r.getEndTime()<0&&r.setEndTime(a<=0?-1:r.getStartTime()+a)}let i=this._weight;const s=this._fadeInSeconds==0?1:Ji.getEasingSine((n-r.getFadeInStartTime())/this._fadeInSeconds),o=this._fadeOutSeconds==0||r.getEndTime()<0?1:Ji.getEasingSine((r.getEndTime()-n)/this._fadeOutSeconds);i=i*s*o,r.setState(n,i),this.doUpdateParameters(e,n,i,r),r.getEndTime()>0&&r.getEndTime()<n&&r.setIsFinished(!0)}setFadeInTime(e){this._fadeInSeconds=e}setFadeOutTime(e){this._fadeOutSeconds=e}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(e){this._weight=e}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(e){this._offsetSeconds=e}getFiredEvent(e,r){return this._firedEventValues}setFinishedMotionHandler(e){this._onFinishedMotion=e}getFinishedMotionHandler(){return this._onFinishedMotion}}const yG=1;class jL extends gle{constructor(){super(),this._parameters=[]}static create(e){const r=new jL,n=e.FadeInTime,i=e.FadeOutTime;r.setFadeInTime(n!==void 0?n:yG),r.setFadeOutTime(i!==void 0?i:yG);const s=e.Parameters||[];for(let o=0;o<s.length;++o){const a=s[o],l=a.Id,u=a.Value;let d;switch(a.Blend){case"Multiply":d=A0.ExpressionBlendType_Multiply;break;case"Overwrite":d=A0.ExpressionBlendType_Overwrite;break;case"Add":default:d=A0.ExpressionBlendType_Add;break}const f={parameterId:l,blendType:d,value:u};r._parameters.push(f)}return r}doUpdateParameters(e,r,n,i){for(let s=0;s<this._parameters.length;++s){const o=this._parameters[s];switch(o.blendType){case A0.ExpressionBlendType_Add:{e.addParameterValueById(o.parameterId,o.value,n);break}case A0.ExpressionBlendType_Multiply:{e.multiplyParameterValueById(o.parameterId,o.value,n);break}case A0.ExpressionBlendType_Overwrite:{e.setParameterValueById(o.parameterId,o.value,n);break}}}}}var A0=(t=>(t[t.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",t[t.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",t[t.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite",t))(A0||{});class eut{constructor(){this._autoDelete=!1,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&this._motion.release()}setFadeOut(e){this._fadeOutSeconds=e,this._isTriggeredFadeOut=!0}startFadeOut(e,r){const n=r+e;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||n<this._endTimeSeconds)&&(this._endTimeSeconds=n)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(e){this._startTimeSeconds=e}setFadeInStartTime(e){this._fadeInStartTimeSeconds=e}setEndTime(e){this._endTimeSeconds=e}setIsFinished(e){this._finished=e}setIsStarted(e){this._started=e}isAvailable(){return this._available}setIsAvailable(e){this._available=e}setState(e,r){this._stateTimeSeconds=e,this._stateWeight=r}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(e){this._lastEventCheckSeconds=e}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}class vle{constructor(){this._userTimeSeconds=0,this._eventCustomData=null,this._motions=[]}release(){for(let e=0;e<this._motions.length;++e)this._motions[e]&&this._motions[e].release();this._motions=void 0}startMotion(e,r,n){if(e==null)return tut;let i;for(let s=0;s<this._motions.length;++s)i=this._motions[s],i!=null&&i.setFadeOut(i._motion.getFadeOutTime());return i=new eut,i._autoDelete=r,i._motion=e,this._motions.push(i),i._motionQueueEntryHandle}isFinished(){let e=0;for(;e<this._motions.length;){const r=this._motions[e];if(r==null){this._motions.splice(e,1);continue}if(r._motion==null){r.release(),this._motions.splice(e,1);continue}if(!r.isFinished())return!1;e++}return!0}isFinishedByHandle(e){for(let r=0;r<this._motions.length;r++){const n=this._motions[r];if(n!=null&&n._motionQueueEntryHandle==e&&!n.isFinished())return!1}return!0}stopAllMotions(){for(let e=0;e<this._motions.length;e++){const r=this._motions[e];r!=null&&r.release()}this._motions=[]}getCubismMotionQueueEntry(e){return this._motions.find(r=>r!=null&&r._motionQueueEntryHandle==e)}setEventCallback(e,r=null){this._eventCallBack=e,this._eventCustomData=r}doUpdateMotion(e,r){let n=!1,i=0;for(;i<this._motions.length;){const s=this._motions[i];if(s==null){this._motions.splice(i,1);continue}const o=s._motion;if(o==null){s.release(),this._motions.splice(i,1);continue}o.updateParameters(e,s,r),n=!0;const a=o.getFiredEvent(s.getLastCheckEventSeconds()-s.getStartTime(),r-s.getStartTime());for(let l=0;l<a.length;++l)this._eventCallBack(this,a[l],this._eventCustomData);s.setLastCheckEventSeconds(r),s.isFinished()?(s.release(),this._motions.splice(i,1)):(s.isTriggeredFadeOut()&&s.startFadeOut(s.getFadeOutSeconds(),r),i++)}return n}}const tut=-1;class rut extends VL{constructor(e,r){var n;super(e,r),this.queueManager=new vle,this.definitions=(n=e.expressions)!=null?n:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(r=>r.Name===e)}getExpressionFile(e){return e.File}createExpression(e,r){return jL.create(e)}_setExpression(e){return this.queueManager.startMotion(e,!1,performance.now())}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,r){return this.queueManager.doUpdateMotion(e,r)}}class yle{constructor(e){this.groups=e.Groups,this.hitAreas=e.HitAreas,this.layout=e.Layout,this.moc=e.FileReferences.Moc,this.expressions=e.FileReferences.Expressions,this.motions=e.FileReferences.Motions,this.textures=e.FileReferences.Textures,this.physics=e.FileReferences.Physics,this.pose=e.FileReferences.Pose}getEyeBlinkParameters(){var e,r;return(r=(e=this.groups)==null?void 0:e.find(n=>n.Name==="EyeBlink"))==null?void 0:r.Ids}getLipSyncParameters(){var e,r;return(r=(e=this.groups)==null?void 0:e.find(n=>n.Name==="LipSync"))==null?void 0:r.Ids}}class pv extends TA{constructor(e){if(super(e),!pv.isValidJSON(e))throw new TypeError("Invalid JSON.");Object.assign(this,new yle(e))}static isValidJSON(e){var r;return!!(e!=null&&e.FileReferences)&&typeof e.FileReferences.Moc=="string"&&((r=e.FileReferences.Textures)==null?void 0:r.length)>0&&e.FileReferences.Textures.every(n=>typeof n=="string")}replaceFiles(e){if(super.replaceFiles(e),this.motions)for(const[r,n]of Object.entries(this.motions))for(let i=0;i<n.length;i++)n[i].File=e(n[i].File,`motions.${r}[${i}].File`),n[i].Sound!==void 0&&(n[i].Sound=e(n[i].Sound,`motions.${r}[${i}].Sound`));if(this.expressions)for(let r=0;r<this.expressions.length;r++)this.expressions[r].File=e(this.expressions[r].File,`expressions[${r}].File`)}}ale(pv,[yle]);var P0=(t=>(t[t.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",t[t.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",t[t.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",t))(P0||{}),Qc=(t=>(t[t.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",t[t.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",t[t.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",t[t.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",t))(Qc||{});class Lh{constructor(e=0,r=0){this.time=e,this.value=r}}class nut{constructor(){this.basePointIndex=0,this.segmentType=0}}class iut{constructor(){this.id="",this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class sut{constructor(){this.fireTime=0,this.value=""}}class out{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=[],this.segments=[],this.points=[],this.events=[]}}class _le{constructor(e){this._json=e}release(){this._json=void 0}getMotionDuration(){return this._json.Meta.Duration}isMotionLoop(){return this._json.Meta.Loop||!1}getEvaluationOptionFlag(e){return GL.EvaluationOptionFlag_AreBeziersRistricted==e?!!this._json.Meta.AreBeziersRestricted:!1}getMotionCurveCount(){return this._json.Meta.CurveCount}getMotionFps(){return this._json.Meta.Fps}getMotionTotalSegmentCount(){return this._json.Meta.TotalSegmentCount}getMotionTotalPointCount(){return this._json.Meta.TotalPointCount}getMotionFadeInTime(){return this._json.Meta.FadeInTime}getMotionFadeOutTime(){return this._json.Meta.FadeOutTime}getMotionCurveTarget(e){return this._json.Curves[e].Target}getMotionCurveId(e){return this._json.Curves[e].Id}getMotionCurveFadeInTime(e){return this._json.Curves[e].FadeInTime}getMotionCurveFadeOutTime(e){return this._json.Curves[e].FadeOutTime}getMotionCurveSegmentCount(e){return this._json.Curves[e].Segments.length}getMotionCurveSegment(e,r){return this._json.Curves[e].Segments[r]}getEventCount(){return this._json.Meta.UserDataCount||0}getTotalEventValueSize(){return this._json.Meta.TotalUserDataSize}getEventTime(e){return this._json.UserData[e].Time}getEventValue(e){return this._json.UserData[e].Value}}var GL=(t=>(t[t.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",t))(GL||{});const aut="EyeBlink",lut="LipSync",uut="Model",cut="Parameter",dut="PartOpacity",fut=!1;function du(t,e,r){const n=new Lh;return n.time=t.time+(e.time-t.time)*r,n.value=t.value+(e.value-t.value)*r,n}function hut(t,e){let r=(e-t[0].time)/(t[1].time-t[0].time);return r<0&&(r=0),t[0].value+(t[1].value-t[0].value)*r}function put(t,e){let r=(e-t[0].time)/(t[3].time-t[0].time);r<0&&(r=0);const n=du(t[0],t[1],r),i=du(t[1],t[2],r),s=du(t[2],t[3],r),o=du(n,i,r),a=du(i,s,r);return du(o,a,r).value}function mut(t,e){const r=e,n=t[0].time,i=t[3].time,s=t[1].time,o=t[2].time,a=i-3*o+3*s-n,l=3*o-6*s+3*n,u=3*s-3*n,d=n-r,f=Ji.cardanoAlgorithmForBezier(a,l,u,d),h=du(t[0],t[1],f),g=du(t[1],t[2],f),v=du(t[2],t[3],f),p=du(h,g,f),b=du(g,v,f);return du(p,b,f).value}function gut(t,e){return t[0].value}function vut(t,e){return t[1].value}function rk(t,e,r){const n=t.curves[e];let i=-1;const s=n.baseSegmentIndex+n.segmentCount;let o=0;for(let l=n.baseSegmentIndex;l<s;++l)if(o=t.segments[l].basePointIndex+(t.segments[l].segmentType==Qc.CubismMotionSegmentType_Bezier?3:1),t.points[o].time>r){i=l;break}if(i==-1)return t.points[o].value;const a=t.segments[i];return a.evaluate(t.points.slice(a.basePointIndex),r)}class WL extends gle{constructor(){super(),this._eyeBlinkParameterIds=[],this._lipSyncParameterIds=[],this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0}static create(e,r){const n=new WL;return n.parse(e),n._sourceFrameRate=n._motionData.fps,n._loopDurationSeconds=n._motionData.duration,n._onFinishedMotion=r,n}doUpdateParameters(e,r,n,i){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=aut),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=lut);let s=r-i.getStartTime();s<0&&(s=0);let o=Number.MAX_VALUE,a=Number.MAX_VALUE;const l=64;let u=0,d=0;this._eyeBlinkParameterIds.length>l&&vG("too many eye blink targets : {0}",this._eyeBlinkParameterIds.length),this._lipSyncParameterIds.length>l&&vG("too many lip sync targets : {0}",this._lipSyncParameterIds.length);const f=this._fadeInSeconds<=0?1:Ji.getEasingSine((r-i.getFadeInStartTime())/this._fadeInSeconds),h=this._fadeOutSeconds<=0||i.getEndTime()<0?1:Ji.getEasingSine((i.getEndTime()-r)/this._fadeOutSeconds);let g,v,p,b=s;if(this._isLoop)for(;b>this._motionData.duration;)b-=this._motionData.duration;const S=this._motionData.curves;for(v=0;v<this._motionData.curveCount&&S[v].type==P0.CubismMotionCurveTarget_Model;++v)g=rk(this._motionData,v,b),S[v].id==this._modelCurveIdEyeBlink?a=g:S[v].id==this._modelCurveIdLipSync&&(o=g);for(;v<this._motionData.curveCount&&S[v].type==P0.CubismMotionCurveTarget_Parameter;++v){if(p=e.getParameterIndex(S[v].id),p==-1)continue;const C=e.getParameterValueByIndex(p);if(g=rk(this._motionData,v,b),a!=Number.MAX_VALUE){for(let A=0;A<this._eyeBlinkParameterIds.length&&A<l;++A)if(this._eyeBlinkParameterIds[A]==S[v].id){g*=a,d|=1<<A;break}}if(o!=Number.MAX_VALUE){for(let A=0;A<this._lipSyncParameterIds.length&&A<l;++A)if(this._lipSyncParameterIds[A]==S[v].id){g+=o,u|=1<<A;break}}let T;if(S[v].fadeInTime<0&&S[v].fadeOutTime<0)T=C+(g-C)*n;else{let A,E;S[v].fadeInTime<0?A=f:A=S[v].fadeInTime==0?1:Ji.getEasingSine((r-i.getFadeInStartTime())/S[v].fadeInTime),S[v].fadeOutTime<0?E=h:E=S[v].fadeOutTime==0||i.getEndTime()<0?1:Ji.getEasingSine((i.getEndTime()-r)/S[v].fadeOutTime);const I=this._weight*A*E;T=C+(g-C)*I}e.setParameterValueByIndex(p,T,1)}{if(a!=Number.MAX_VALUE)for(let C=0;C<this._eyeBlinkParameterIds.length&&C<l;++C){const T=e.getParameterValueById(this._eyeBlinkParameterIds[C]);if(d>>C&1)continue;const A=T+(a-T)*n;e.setParameterValueById(this._eyeBlinkParameterIds[C],A)}if(o!=Number.MAX_VALUE)for(let C=0;C<this._lipSyncParameterIds.length&&C<l;++C){const T=e.getParameterValueById(this._lipSyncParameterIds[C]);if(u>>C&1)continue;const A=T+(o-T)*n;e.setParameterValueById(this._lipSyncParameterIds[C],A)}}for(;v<this._motionData.curveCount&&S[v].type==P0.CubismMotionCurveTarget_PartOpacity;++v)if(g=rk(this._motionData,v,b),d1.setOpacityFromMotion)e.setPartOpacityById(S[v].id,g);else{if(p=e.getParameterIndex(S[v].id),p==-1)continue;e.setParameterValueByIndex(p,g)}s>=this._motionData.duration&&(this._isLoop?(i.setStartTime(r),this._isLoopFadeIn&&i.setFadeInStartTime(r)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=n}setIsLoop(e){this._isLoop=e}isLoop(){return this._isLoop}setIsLoopFadeIn(e){this._isLoopFadeIn=e}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(e,r){const n=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==n[i].id){n[i].fadeInTime=r;return}}setParameterFadeOutTime(e,r){const n=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==n[i].id){n[i].fadeOutTime=r;return}}getParameterFadeInTime(e){const r=this._motionData.curves;for(let n=0;n<this._motionData.curveCount;++n)if(e==r[n].id)return r[n].fadeInTime;return-1}getParameterFadeOutTime(e){const r=this._motionData.curves;for(let n=0;n<this._motionData.curveCount;++n)if(e==r[n].id)return r[n].fadeOutTime;return-1}setEffectIds(e,r){this._eyeBlinkParameterIds=e,this._lipSyncParameterIds=r}release(){this._motionData=void 0}parse(e){this._motionData=new out;let r=new _le(e);this._motionData.duration=r.getMotionDuration(),this._motionData.loop=r.isMotionLoop(),this._motionData.curveCount=r.getMotionCurveCount(),this._motionData.fps=r.getMotionFps(),this._motionData.eventCount=r.getEventCount();const n=r.getEvaluationOptionFlag(GL.EvaluationOptionFlag_AreBeziersRistricted),i=r.getMotionFadeInTime(),s=r.getMotionFadeOutTime();i!==void 0?this._fadeInSeconds=i<0?1:i:this._fadeInSeconds=1,s!==void 0?this._fadeOutSeconds=s<0?1:s:this._fadeOutSeconds=1,this._motionData.curves=Array.from({length:this._motionData.curveCount}).map(()=>new iut),this._motionData.segments=Array.from({length:r.getMotionTotalSegmentCount()}).map(()=>new nut),this._motionData.events=Array.from({length:this._motionData.eventCount}).map(()=>new sut),this._motionData.points=[];let o=0,a=0;for(let l=0;l<this._motionData.curveCount;++l){const u=this._motionData.curves[l];switch(r.getMotionCurveTarget(l)){case uut:u.type=P0.CubismMotionCurveTarget_Model;break;case cut:u.type=P0.CubismMotionCurveTarget_Parameter;break;case dut:u.type=P0.CubismMotionCurveTarget_PartOpacity;break;default:a2('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!')}u.id=r.getMotionCurveId(l),u.baseSegmentIndex=a;const d=r.getMotionCurveFadeInTime(l),f=r.getMotionCurveFadeOutTime(l);u.fadeInTime=d!==void 0?d:-1,u.fadeOutTime=f!==void 0?f:-1;for(let h=0;h<r.getMotionCurveSegmentCount(l);){switch(h==0?(this._motionData.segments[a].basePointIndex=o,this._motionData.points[o]=new Lh(r.getMotionCurveSegment(l,h),r.getMotionCurveSegment(l,h+1)),o+=1,h+=2):this._motionData.segments[a].basePointIndex=o-1,r.getMotionCurveSegment(l,h)){case Qc.CubismMotionSegmentType_Linear:{this._motionData.segments[a].segmentType=Qc.CubismMotionSegmentType_Linear,this._motionData.segments[a].evaluate=hut,this._motionData.points[o]=new Lh(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),o+=1,h+=3;break}case Qc.CubismMotionSegmentType_Bezier:{this._motionData.segments[a].segmentType=Qc.CubismMotionSegmentType_Bezier,n||fut?this._motionData.segments[a].evaluate=put:this._motionData.segments[a].evaluate=mut,this._motionData.points[o]=new Lh(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),this._motionData.points[o+1]=new Lh(r.getMotionCurveSegment(l,h+3),r.getMotionCurveSegment(l,h+4)),this._motionData.points[o+2]=new Lh(r.getMotionCurveSegment(l,h+5),r.getMotionCurveSegment(l,h+6)),o+=3,h+=7;break}case Qc.CubismMotionSegmentType_Stepped:{this._motionData.segments[a].segmentType=Qc.CubismMotionSegmentType_Stepped,this._motionData.segments[a].evaluate=gut,this._motionData.points[o]=new Lh(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),o+=1,h+=3;break}case Qc.CubismMotionSegmentType_InverseStepped:{this._motionData.segments[a].segmentType=Qc.CubismMotionSegmentType_InverseStepped,this._motionData.segments[a].evaluate=vut,this._motionData.points[o]=new Lh(r.getMotionCurveSegment(l,h+1),r.getMotionCurveSegment(l,h+2)),o+=1,h+=3;break}}++u.segmentCount,++a}this._motionData.curves.push(u)}for(let l=0;l<r.getEventCount();++l)this._motionData.events[l].fireTime=r.getEventTime(l),this._motionData.events[l].value=r.getEventValue(l);r.release()}getFiredEvent(e,r){this._firedEventValues.length=0;for(let n=0;n<this._motionData.eventCount;++n)this._motionData.events[n].fireTime>e&&this._motionData.events[n].fireTime<=r&&this._firedEventValues.push(this._motionData.events[n].value);return this._firedEventValues}}class yut extends CA{constructor(e,r){var n;super(e,r),this.groups={idle:"Idle"},this.motionDataType="json",this.queueManager=new vle,this.definitions=(n=e.motions)!=null?n:{},this.eyeBlinkIds=e.getEyeBlinkParameters()||[],this.lipSyncIds=e.getLipSyncParameters()||[],this.init(r)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new rut(this.settings,e)),this.queueManager.setEventCallback((r,n,i)=>{this.emit("motion:"+n)})}isFinished(){return this.queueManager.isFinished()}_startMotion(e,r){return e.setFinishedMotionHandler(r),this.queueManager.stopAllMotions(),this.queueManager.startMotion(e,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}createMotion(e,r,n){const i=WL.create(e),s=new _le(e),o=(r===this.groups.idle?qo.idleMotionFadingDuration:qo.motionFadingDuration)/1e3;return s.getMotionFadeInTime()===void 0&&i.setFadeInTime(n.FadeInTime>0?n.FadeInTime:o),s.getMotionFadeOutTime()===void 0&&i.setFadeOutTime(n.FadeOutTime>0?n.FadeOutTime:o),i.setEffectIds(this.eyeBlinkIds,this.lipSyncIds),i}getMotionFile(e){return e.File}getMotionName(e){return e.File}getSoundFile(e){return e.Sound}updateParameters(e,r){return this.queueManager.doUpdateMotion(e,r)}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}const _ut="ParamAngleX",but="ParamAngleY",xut="ParamAngleZ",wut="ParamEyeBallX",Sut="ParamEyeBallY",Tut="ParamBodyAngleX",Cut="ParamBreath";class qL{constructor(){this._breathParameters=[],this._currentTime=0}static create(){return new qL}setParameters(e){this._breathParameters=e}getParameters(){return this._breathParameters}updateParameters(e,r){this._currentTime+=r;const n=this._currentTime*2*3.14159;for(let i=0;i<this._breathParameters.length;++i){const s=this._breathParameters[i];e.addParameterValueById(s.parameterId,s.offset+s.peak*Math.sin(n/s.cycle),s.weight)}}}class N_{constructor(e,r,n,i,s){this.parameterId=e??void 0,this.offset=r??0,this.peak=n??0,this.cycle=i??0,this.weight=s??0}}const sM=class{static create(t){return new sM(t)}setBlinkingInterval(t){this._blinkingIntervalSeconds=t}setBlinkingSetting(t,e,r){this._closingSeconds=t,this._closedSeconds=e,this._openingSeconds=r}setParameterIds(t){this._parameterIds=t}getParameterIds(){return this._parameterIds}updateParameters(t,e){this._userTimeSeconds+=e;let r,n=0;switch(this._blinkingState){case au.EyeState_Closing:n=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,n>=1&&(n=1,this._blinkingState=au.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),r=1-n;break;case au.EyeState_Closed:n=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,n>=1&&(this._blinkingState=au.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),r=0;break;case au.EyeState_Opening:n=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,n>=1&&(n=1,this._blinkingState=au.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),r=n;break;case au.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=au.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),r=1;break;case au.EyeState_First:default:this._blinkingState=au.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),r=1;break}sM.CloseIfZero||(r=-r);for(let i=0;i<this._parameterIds.length;++i)t.setParameterValueById(this._parameterIds[i],r)}constructor(t){var e,r;this._blinkingState=au.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=[],t!=null&&(this._parameterIds=(r=(e=t.getEyeBlinkParameters())==null?void 0:e.slice())!=null?r:this._parameterIds)}determinNextBlinkingTiming(){const t=Math.random();return this._userTimeSeconds+t*(2*this._blinkingIntervalSeconds-1)}};let ble=sM;ble.CloseIfZero=!0;var au=(t=>(t[t.EyeState_First=0]="EyeState_First",t[t.EyeState_Interval=1]="EyeState_Interval",t[t.EyeState_Closing=2]="EyeState_Closing",t[t.EyeState_Closed=3]="EyeState_Closed",t[t.EyeState_Opening=4]="EyeState_Opening",t))(au||{});class oM{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}expand(e,r){this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2}}const nk=4,Eut=10;let m0,l2,aM;class ik{getChannelFlagAsColor(e){return this._channelColors[e]}getMaskRenderTexture(){let e=0;if(this._maskTexture&&this._maskTexture.texture!=0&&(this._maskTexture.frameNo=this._currentFrameNo,e=this._maskTexture.texture),e==0){const r=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,r,r,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),e=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,aM),this._maskTexture=new Aut(this._currentFrameNo,e)}return e}setGL(e){this.gl=e}calcClippedDrawTotalBounds(e,r){let n=Number.MAX_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MIN_VALUE;const a=r._clippedDrawableIndexList.length;for(let l=0;l<a;l++){const u=r._clippedDrawableIndexList[l],d=e.getDrawableVertexCount(u),f=e.getDrawableVertices(u);let h=Number.MAX_VALUE,g=Number.MAX_VALUE,v=Number.MIN_VALUE,p=Number.MIN_VALUE;const b=d*tk.vertexStep;for(let S=tk.vertexOffset;S<b;S+=tk.vertexStep){const C=f[S],T=f[S+1];C<h&&(h=C),C>v&&(v=C),T<g&&(g=T),T>p&&(p=T)}if(h!=Number.MAX_VALUE)if(h<n&&(n=h),g<i&&(i=g),v>s&&(s=v),p>o&&(o=p),n==Number.MAX_VALUE)r._allClippedDrawRect.x=0,r._allClippedDrawRect.y=0,r._allClippedDrawRect.width=0,r._allClippedDrawRect.height=0,r._isUsing=!1;else{r._isUsing=!0;const S=s-n,C=o-i;r._allClippedDrawRect.x=n,r._allClippedDrawRect.y=i,r._allClippedDrawRect.width=S,r._allClippedDrawRect.height=C}}}constructor(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=[],this._clippingContextListForDraw=[],this._channelColors=[],this._tmpBoundsOnModel=new oM,this._tmpMatrix=new wu,this._tmpMatrixForMask=new wu,this._tmpMatrixForDraw=new wu;let e=new o2;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.push(e),e=new o2,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.push(e),e=new o2,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.push(e),e=new o2,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.push(e)}release(){var e,r,n;const i=this;for(let s=0;s<this._clippingContextListForMask.length;s++)this._clippingContextListForMask[s]&&((e=this._clippingContextListForMask[s])==null||e.release());i._clippingContextListForMask=void 0,i._clippingContextListForDraw=void 0,this._maskTexture&&((r=this.gl)==null||r.deleteFramebuffer(this._maskTexture.texture),i._maskTexture=void 0),i._channelColors=void 0,(n=this.gl)==null||n.deleteTexture(this._colorBuffer),this._colorBuffer=null}initialize(e,r,n,i){for(let s=0;s<r;s++){if(i[s]<=0){this._clippingContextListForDraw.push(null);continue}let o=this.findSameClip(n[s],i[s]);o==null&&(o=new Put(this,n[s],i[s]),this._clippingContextListForMask.push(o)),o.addClippedDrawable(s),this._clippingContextListForDraw.push(o)}}setupClippingContext(e,r){this._currentFrameNo++;let n=0;for(let i=0;i<this._clippingContextListForMask.length;i++){const s=this._clippingContextListForMask[i];this.calcClippedDrawTotalBounds(e,s),s._isUsing&&n++}if(n>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),r.getMvpMatrix(),r.preDraw(),this.setupLayoutBounds(n),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let i=0;i<this._clippingContextListForMask.length;i++){const s=this._clippingContextListForMask[i],o=s._allClippedDrawRect,a=s._layoutBounds,l=.05;this._tmpBoundsOnModel.setRect(o),this._tmpBoundsOnModel.expand(o.width*l,o.height*l);const u=a.width/this._tmpBoundsOnModel.width,d=a.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(a.x,a.y),this._tmpMatrix.scaleRelative(u,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(a.x,a.y),this._tmpMatrix.scaleRelative(u,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),s._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),s._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const f=s._clippingIdCount;for(let h=0;h<f;h++){const g=s._clippingIdList[h];e.getDrawableDynamicFlagVertexPositionsDidChange(g)&&(r.setIsCulling(e.getDrawableCulling(g)!=!1),r.setClippingContextBufferForMask(s),r.drawMesh(e.getDrawableTextureIndices(g),e.getDrawableVertexIndexCount(g),e.getDrawableVertexCount(g),e.getDrawableVertexIndices(g),e.getDrawableVertices(g),e.getDrawableVertexUvs(g),e.getDrawableOpacity(g),up.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,aM),r.setClippingContextBufferForMask(null),this.gl.viewport(l2[0],l2[1],l2[2],l2[3])}}findSameClip(e,r){for(let n=0;n<this._clippingContextListForMask.length;n++){const i=this._clippingContextListForMask[n],s=i._clippingIdCount;if(s!=r)continue;let o=0;for(let a=0;a<s;a++){const l=i._clippingIdList[a];for(let u=0;u<s;u++)if(e[u]==l){o++;break}}if(o==s)return i}return null}setupLayoutBounds(e){let r=e/nk,n=e%nk;r=~~r,n=~~n;let i=0;for(let s=0;s<nk;s++){const o=r+(s<n?1:0);if(o!=0)if(o==1){const a=this._clippingContextListForMask[i++];a._layoutChannelNo=s,a._layoutBounds.x=0,a._layoutBounds.y=0,a._layoutBounds.width=1,a._layoutBounds.height=1}else if(o==2)for(let a=0;a<o;a++){let l=a%2;l=~~l;const u=this._clippingContextListForMask[i++];u._layoutChannelNo=s,u._layoutBounds.x=l*.5,u._layoutBounds.y=0,u._layoutBounds.width=.5,u._layoutBounds.height=1}else if(o<=4)for(let a=0;a<o;a++){let l=a%2,u=a/2;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l*.5,d._layoutBounds.y=u*.5,d._layoutBounds.width=.5,d._layoutBounds.height=.5}else if(o<=9)for(let a=0;a<o;a++){let l=a%3,u=a/3;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l/3,d._layoutBounds.y=u/3,d._layoutBounds.width=1/3,d._layoutBounds.height=1/3}else if(d1.supportMoreMaskDivisions&&o<=16)for(let a=0;a<o;a++){let l=a%4,u=a/4;l=~~l,u=~~u;const d=this._clippingContextListForMask[i++];d._layoutChannelNo=s,d._layoutBounds.x=l/4,d._layoutBounds.y=u/4,d._layoutBounds.width=1/4,d._layoutBounds.height=1/4}else Mg("not supported mask count : {0}",o)}}getColorBuffer(){return this._colorBuffer}getClippingContextListForDraw(){return this._clippingContextListForDraw}setClippingMaskBufferSize(e){this._clippingMaskBufferSize=e}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}}class Aut{constructor(e,r){this.frameNo=e,this.texture=r}}class Put{constructor(e,r,n){this._isUsing=!1,this._owner=e,this._clippingIdList=r,this._clippingIdCount=n,this._allClippedDrawRect=new oM,this._layoutBounds=new oM,this._clippedDrawableIndexList=[],this._matrixForMask=new wu,this._matrixForDraw=new wu}release(){const e=this;e._layoutBounds=void 0,e._allClippedDrawRect=void 0,e._clippedDrawableIndexList=void 0}addClippedDrawable(e){this._clippedDrawableIndexList.push(e)}getClippingManager(){return this._owner}setGl(e){this._owner.setGL(e)}}class mv{static getInstance(){return m0==null&&(m0=new mv),m0}static deleteInstance(){m0&&(m0.release(),m0=void 0)}constructor(){this._shaderSets=[]}release(){this.releaseShaderProgram()}setupShaderProgram(e,r,n,i,s,o,a,l,u,d,f,h,g){f||Mg("NoPremultipliedAlpha is not allowed"),this._shaderSets.length==0&&this.generateShaders();let v,p,b,S;const C=e.getClippingContextBufferForMask();if(C!=null){const T=this._shaderSets[u2.ShaderNames_SetupMask];this.gl.useProgram(T.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(T.samplerTexture0Location,0),a.vertex==null&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(T.attributePositionLocation),this.gl.vertexAttribPointer(T.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),a.uv==null&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(T.attributeTexCoordLocation),this.gl.vertexAttribPointer(T.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const A=C._layoutChannelNo,E=C.getClippingManager().getChannelFlagAsColor(A);this.gl.uniform4f(T.uniformChannelFlagLocation,E.R,E.G,E.B,E.A),this.gl.uniformMatrix4fv(T.uniformClipMatrixLocation,!1,C._matrixForMask.getArray());const I=C._layoutBounds;this.gl.uniform4f(T.uniformBaseColorLocation,I.x*2-1,I.y*2-1,I.getRight()*2-1,I.getBottom()*2-1),v=this.gl.ZERO,p=this.gl.ONE_MINUS_SRC_COLOR,b=this.gl.ZERO,S=this.gl.ONE_MINUS_SRC_ALPHA}else{const T=e.getClippingContextBufferForDraw(),E=T!=null?g?2:1:0;let I;switch(u){case up.CubismBlendMode_Normal:default:I=this._shaderSets[u2.ShaderNames_NormalPremultipliedAlpha+E],v=this.gl.ONE,p=this.gl.ONE_MINUS_SRC_ALPHA,b=this.gl.ONE,S=this.gl.ONE_MINUS_SRC_ALPHA;break;case up.CubismBlendMode_Additive:I=this._shaderSets[u2.ShaderNames_AddPremultipliedAlpha+E],v=this.gl.ONE,p=this.gl.ONE,b=this.gl.ZERO,S=this.gl.ONE;break;case up.CubismBlendMode_Multiplicative:I=this._shaderSets[u2.ShaderNames_MultPremultipliedAlpha+E],v=this.gl.DST_COLOR,p=this.gl.ONE_MINUS_SRC_ALPHA,b=this.gl.ZERO,S=this.gl.ONE;break}if(this.gl.useProgram(I.shaderProgram),a.vertex==null&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(I.attributePositionLocation),this.gl.vertexAttribPointer(I.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),a.uv==null&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(I.attributeTexCoordLocation),this.gl.vertexAttribPointer(I.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),T!=null){this.gl.activeTexture(this.gl.TEXTURE1);const O=T.getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,O),this.gl.uniform1i(I.samplerTexture1Location,1),this.gl.uniformMatrix4fv(I.uniformClipMatrixLocation,!1,T._matrixForDraw.getArray());const N=T._layoutChannelNo,G=T.getClippingManager().getChannelFlagAsColor(N);this.gl.uniform4f(I.uniformChannelFlagLocation,G.R,G.G,G.B,G.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.uniform1i(I.samplerTexture0Location,0),this.gl.uniformMatrix4fv(I.uniformMatrixLocation,!1,h.getArray()),this.gl.uniform4f(I.uniformBaseColorLocation,d.R,d.G,d.B,d.A)}a.index==null&&(a.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(v,p,b,S)}releaseShaderProgram(){for(let e=0;e<this._shaderSets.length;e++)this.gl.deleteProgram(this._shaderSets[e].shaderProgram),this._shaderSets[e].shaderProgram=0;this._shaderSets=[]}generateShaders(){for(let e=0;e<Eut;e++)this._shaderSets.push({});this._shaderSets[0].shaderProgram=this.loadShaderProgram(kut,Iut),this._shaderSets[1].shaderProgram=this.loadShaderProgram(Dut,Rut),this._shaderSets[2].shaderProgram=this.loadShaderProgram(_G,Mut),this._shaderSets[3].shaderProgram=this.loadShaderProgram(_G,Out),this._shaderSets[4].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[5].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[6].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[7].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[8].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[9].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[0].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_position"),this._shaderSets[0].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_texCoord"),this._shaderSets[0].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"s_texture0"),this._shaderSets[0].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_clipMatrix"),this._shaderSets[0].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_channelFlag"),this._shaderSets[0].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_baseColor"),this._shaderSets[1].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_position"),this._shaderSets[1].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_texCoord"),this._shaderSets[1].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"s_texture0"),this._shaderSets[1].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_matrix"),this._shaderSets[1].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_baseColor"),this._shaderSets[2].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_position"),this._shaderSets[2].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_texCoord"),this._shaderSets[2].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture0"),this._shaderSets[2].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture1"),this._shaderSets[2].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_matrix"),this._shaderSets[2].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_clipMatrix"),this._shaderSets[2].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_channelFlag"),this._shaderSets[2].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_baseColor"),this._shaderSets[3].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_position"),this._shaderSets[3].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_texCoord"),this._shaderSets[3].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture0"),this._shaderSets[3].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture1"),this._shaderSets[3].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_matrix"),this._shaderSets[3].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_clipMatrix"),this._shaderSets[3].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_channelFlag"),this._shaderSets[3].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_baseColor"),this._shaderSets[4].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_position"),this._shaderSets[4].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_texCoord"),this._shaderSets[4].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"s_texture0"),this._shaderSets[4].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_matrix"),this._shaderSets[4].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_baseColor"),this._shaderSets[5].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_position"),this._shaderSets[5].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_texCoord"),this._shaderSets[5].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture0"),this._shaderSets[5].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture1"),this._shaderSets[5].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_matrix"),this._shaderSets[5].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_clipMatrix"),this._shaderSets[5].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_channelFlag"),this._shaderSets[5].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_baseColor"),this._shaderSets[6].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_position"),this._shaderSets[6].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_texCoord"),this._shaderSets[6].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture0"),this._shaderSets[6].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture1"),this._shaderSets[6].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_matrix"),this._shaderSets[6].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_clipMatrix"),this._shaderSets[6].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_channelFlag"),this._shaderSets[6].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_baseColor"),this._shaderSets[7].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_position"),this._shaderSets[7].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_texCoord"),this._shaderSets[7].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"s_texture0"),this._shaderSets[7].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_matrix"),this._shaderSets[7].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_baseColor"),this._shaderSets[8].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_position"),this._shaderSets[8].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_texCoord"),this._shaderSets[8].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture0"),this._shaderSets[8].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture1"),this._shaderSets[8].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_matrix"),this._shaderSets[8].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_clipMatrix"),this._shaderSets[8].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_channelFlag"),this._shaderSets[8].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_baseColor"),this._shaderSets[9].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_position"),this._shaderSets[9].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_texCoord"),this._shaderSets[9].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture0"),this._shaderSets[9].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture1"),this._shaderSets[9].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_matrix"),this._shaderSets[9].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_clipMatrix"),this._shaderSets[9].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_channelFlag"),this._shaderSets[9].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_baseColor")}loadShaderProgram(e,r){let n=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,e);if(!i)return Mg("Vertex shader compile error!"),0;let s=this.compileShaderSource(this.gl.FRAGMENT_SHADER,r);return s?(this.gl.attachShader(n,i),this.gl.attachShader(n,s),this.gl.linkProgram(n),this.gl.getProgramParameter(n,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(s),n):(Mg("Failed to link program: {0}",n),this.gl.deleteShader(i),this.gl.deleteShader(s),n&&this.gl.deleteProgram(n),0)):(Mg("Vertex shader compile error!"),0)}compileShaderSource(e,r){const n=r,i=this.gl.createShader(e);if(this.gl.shaderSource(i,n),this.gl.compileShader(i),!i){const o=this.gl.getShaderInfoLog(i);Mg("Shader compile log: {0} ",o)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}setGl(e){this.gl=e}}var u2=(t=>(t[t.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",t[t.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",t[t.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",t[t.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",t[t.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",t[t.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",t))(u2||{});const kut="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Iut="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",Dut="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",_G="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Rut="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",Mut="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",Out="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";class xle extends HL{constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._clippingManager=new ik,this.firstDraw=!0,this._textures={},this._sortedDrawableIndexList=[],this._bufferData={vertex:null,uv:null,index:null}}initialize(e){e.isUsingMasking()&&(this._clippingManager=new ik,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts()));for(let r=e.getDrawableCount()-1;r>=0;r--)this._sortedDrawableIndexList[r]=0;super.initialize(e)}bindTexture(e,r){this._textures[e]=r}getBindedTextures(){return this._textures}setClippingMaskBufferSize(e){this._clippingManager.release(),this._clippingManager=new ik,this._clippingManager.setClippingMaskBufferSize(e),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}getClippingMaskBufferSize(){return this._clippingManager.getClippingMaskBufferSize()}release(){var e,r,n;const i=this;this._clippingManager.release(),i._clippingManager=void 0,(e=this.gl)==null||e.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,(r=this.gl)==null||r.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,(n=this.gl)==null||n.deleteBuffer(this._bufferData.index),this._bufferData.index=null,i._bufferData=void 0,i._textures=void 0}doDrawModel(){this.preDraw(),this._clippingManager!=null&&this._clippingManager.setupClippingContext(this.getModel(),this);const e=this.getModel().getDrawableCount(),r=this.getModel().getDrawableRenderOrders();for(let n=0;n<e;++n){const i=r[n];this._sortedDrawableIndexList[i]=n}for(let n=0;n<e;++n){const i=this._sortedDrawableIndexList[n];this.getModel().getDrawableDynamicFlagIsVisible(i)&&(this.setClippingContextBufferForDraw(this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw()[i]:null),this.setIsCulling(this.getModel().getDrawableCulling(i)),this.drawMesh(this.getModel().getDrawableTextureIndices(i),this.getModel().getDrawableVertexIndexCount(i),this.getModel().getDrawableVertexCount(i),this.getModel().getDrawableVertexIndices(i),this.getModel().getDrawableVertices(i),this.getModel().getDrawableVertexUvs(i),this.getModel().getDrawableOpacity(i),this.getModel().getDrawableBlendMode(i),this.getModel().getDrawableInvertedMaskBit(i)))}}drawMesh(e,r,n,i,s,o,a,l,u){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const d=this.getModelColor();this.getClippingContextBufferForMask()==null&&(d.A*=a,this.isPremultipliedAlpha()&&(d.R*=d.A,d.G*=d.A,d.B*=d.A));let f=null;this._textures[e]!=null&&(f=this._textures[e]),mv.getInstance().setupShaderProgram(this,f,n,s,i,o,this._bufferData,a,l,d,this.isPremultipliedAlpha(),this.getMvpMatrix(),u),this.gl.drawElements(this.gl.TRIANGLES,r,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}static doStaticRelease(){mv.deleteInstance()}setRenderState(e,r){aM=e,l2=r}preDraw(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}setClippingContextBufferForMask(e){this._clippingContextBufferForMask=e}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(e){this._clippingContextBufferForDraw=e}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(e){this.gl=e,this._clippingManager.setGL(e),mv.getInstance().setGl(e)}}HL.staticRelease=()=>{xle.doStaticRelease()};const bG=new wu;class $ut extends lle{constructor(e,r,n){super(),this.lipSync=!0,this.breath=qL.create(),this.renderer=new xle,this.idParamAngleX=_ut,this.idParamAngleY=but,this.idParamAngleZ=xut,this.idParamEyeBallX=wut,this.idParamEyeBallY=Sut,this.idParamBodyAngleX=Tut,this.idParamBreath=Cut,this.pixelsPerUnit=1,this.centeringTransform=new vs,this.coreModel=e,this.settings=r,this.motionManager=new yut(r,n),this.init()}init(){var e;super.init(),((e=this.settings.getEyeBlinkParameters())==null?void 0:e.length)>0&&(this.eyeBlink=ble.create(this.settings)),this.breath.setParameters([new N_(this.idParamAngleX,0,15,6.5345,.5),new N_(this.idParamAngleY,0,8,3.5345,.5),new N_(this.idParamAngleZ,0,10,5.5345,.5),new N_(this.idParamBodyAngleX,0,4,15.5345,.5),new N_(this.idParamBreath,0,.5,3.2345,.5)]),this.renderer.initialize(this.coreModel),this.renderer.setIsPremultipliedAlpha(!0)}getSize(){return[this.coreModel.getModel().canvasinfo.CanvasWidth,this.coreModel.getModel().canvasinfo.CanvasHeight]}getLayout(){const e={};if(this.settings.layout)for(const r of Object.keys(this.settings.layout)){const n=r.charAt(0).toLowerCase()+r.slice(1);e[n]=this.settings.layout[r]}return e}setupLayout(){super.setupLayout(),this.pixelsPerUnit=this.coreModel.getModel().canvasinfo.PixelsPerUnit,this.centeringTransform.scale(this.pixelsPerUnit,this.pixelsPerUnit).translate(this.originalWidth/2,this.originalHeight/2)}updateWebGLContext(e,r){this.renderer.firstDraw=!0,this.renderer._bufferData={vertex:null,uv:null,index:null},this.renderer.startUp(e),this.renderer._clippingManager._currentFrameNo=r,this.renderer._clippingManager._maskTexture=void 0,mv.getInstance()._shaderSets=[]}bindTexture(e,r){this.renderer.bindTexture(e,r)}getHitAreaDefs(){var e,r;return(r=(e=this.settings.hitAreas)==null?void 0:e.map(n=>({id:n.Id,name:n.Name,index:this.coreModel.getDrawableIndex(n.Id)})))!=null?r:[]}getDrawableIDs(){return this.coreModel.getDrawableIds()}getDrawableIndex(e){return this.coreModel.getDrawableIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawableIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);const r=this.coreModel.getDrawableVertices(e).slice();for(let n=0;n<r.length;n+=2)r[n]=r[n]*this.pixelsPerUnit+this.originalWidth/2,r[n+1]=-r[n+1]*this.pixelsPerUnit+this.originalHeight/2;return r}updateTransform(e){this.drawingMatrix.copyFrom(this.centeringTransform).prepend(this.localTransform).prepend(e)}update(e,r){var n,i,s,o;super.update(e,r),e/=1e3,r/=1e3;const a=this.coreModel;this.emit("beforeMotionUpdate");const l=this.motionManager.update(this.coreModel,r);this.emit("afterMotionUpdate"),a.saveParameters(),(n=this.motionManager.expressionManager)==null||n.update(a,r),l||(i=this.eyeBlink)==null||i.updateParameters(a,e),this.updateFocus(),this.updateNaturalMovements(e*1e3,r*1e3),(s=this.physics)==null||s.evaluate(a,e),(o=this.pose)==null||o.updateParameters(a,e),this.emit("beforeModelUpdate"),a.update(),a.loadParameters()}updateFocus(){this.coreModel.addParameterValueById(this.idParamEyeBallX,this.focusController.x),this.coreModel.addParameterValueById(this.idParamEyeBallY,this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleX,this.focusController.x*30),this.coreModel.addParameterValueById(this.idParamAngleY,this.focusController.y*30),this.coreModel.addParameterValueById(this.idParamAngleZ,this.focusController.x*this.focusController.y*-30),this.coreModel.addParameterValueById(this.idParamBodyAngleX,this.focusController.x*10)}updateNaturalMovements(e,r){var n;(n=this.breath)==null||n.updateParameters(this.coreModel,e/1e3)}draw(e){const r=this.drawingMatrix,n=bG.getArray();n[0]=r.a,n[1]=r.b,n[4]=-r.c,n[5]=-r.d,n[12]=r.tx,n[13]=r.ty,this.renderer.setMvpMatrix(bG),this.renderer.setRenderState(e.getParameter(e.FRAMEBUFFER_BINDING),this.viewport),this.renderer.drawModel()}destroy(){super.destroy(),this.renderer.release(),this.coreModel.release(),this.renderer=void 0,this.coreModel=void 0}}let Nw,xG=20;function Lut(){return f1.isStarted()?Promise.resolve():(Nw??(Nw=new Promise((t,e)=>{function r(){try{Fut(),t()}catch(n){if(xG--,xG<0){const i=new Error("Failed to start up Cubism 4 framework.");i.cause=n,e(i);return}Vi.log("Cubism4","Startup failed, retrying 10ms later..."),setTimeout(r,10)}}r()})),Nw)}function Fut(t){t=Object.assign({logFunction:console.log,loggingLevel:Ym.LogLevel_Verbose},t),f1.startUp(t),f1.initialize()}const Nut=.001,wG=.5;class XL{static create(e){const r=new XL;typeof e.FadeInTime=="number"&&(r._fadeTimeSeconds=e.FadeInTime,r._fadeTimeSeconds<=0&&(r._fadeTimeSeconds=wG));const n=e.Groups,i=n.length;for(let s=0;s<i;++s){const o=n[s],a=o.length;let l=0;for(let u=0;u<a;++u){const d=o[u],f=new LC;f.partId=d.Id;const h=d.Link;if(h){const g=h.length;for(let v=0;v<g;++v){const p=new LC;p.partId=h[v],f.link.push(p)}}r._partGroups.push(f),++l}r._partGroupCounts.push(l)}return r}updateParameters(e,r){e!=this._lastModel&&this.reset(e),this._lastModel=e,r<0&&(r=0);let n=0;for(let i=0;i<this._partGroupCounts.length;i++){const s=this._partGroupCounts[i];this.doFade(e,r,n,s),n+=s}this.copyPartOpacities(e)}reset(e){let r=0;for(let n=0;n<this._partGroupCounts.length;++n){const i=this._partGroupCounts[n];for(let s=r;s<r+i;++s){this._partGroups[s].initialize(e);const o=this._partGroups[s].partIndex,a=this._partGroups[s].parameterIndex;if(!(o<0)){e.setPartOpacityByIndex(o,s==r?1:0),e.setParameterValueByIndex(a,s==r?1:0);for(let l=0;l<this._partGroups[s].link.length;++l)this._partGroups[s].link[l].initialize(e)}}r+=i}}copyPartOpacities(e){for(let r=0;r<this._partGroups.length;++r){const n=this._partGroups[r];if(n.link.length==0)continue;const i=this._partGroups[r].partIndex,s=e.getPartOpacityByIndex(i);for(let o=0;o<n.link.length;++o){const l=n.link[o].partIndex;l<0||e.setPartOpacityByIndex(l,s)}}}doFade(e,r,n,i){let s=-1,o=1;const a=.5,l=.15;for(let u=n;u<n+i;++u){const d=this._partGroups[u].partIndex,f=this._partGroups[u].parameterIndex;if(e.getParameterValueByIndex(f)>Nut){if(s>=0)break;s=u,o=e.getPartOpacityByIndex(d),o+=r/this._fadeTimeSeconds,o>1&&(o=1)}}s<0&&(s=0,o=1);for(let u=n;u<n+i;++u){const d=this._partGroups[u].partIndex;if(s==u)e.setPartOpacityByIndex(d,o);else{let f=e.getPartOpacityByIndex(d),h;o<a?h=o*(a-1)/a+1:h=(1-o)*a/(1-a),(1-h)*(1-o)>l&&(h=1-l/(1-o)),f>h&&(f=h),e.setPartOpacityByIndex(d,f)}}}constructor(){this._fadeTimeSeconds=wG,this._lastModel=void 0,this._partGroups=[],this._partGroupCounts=[]}}class LC{constructor(e){this.parameterIndex=0,this.partIndex=0,this.partId="",this.link=[],e!=null&&this.assignment(e)}assignment(e){return this.partId=e.partId,this.link=e.link.map(r=>r.clone()),this}initialize(e){this.parameterIndex=e.getParameterIndex(this.partId),this.partIndex=e.getPartIndex(this.partId),e.setParameterValueByIndex(this.parameterIndex,1)}clone(){const e=new LC;return e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=this.link.map(r=>r.clone()),e}}class But{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const e=this._model.parameters.count,r=this._savedParameters.length;for(let n=0;n<e;++n)n<r?this._savedParameters[n]=this._parameterValues[n]:this._savedParameters.push(this._parameterValues[n])}getModel(){return this._model}getPartIndex(e){let r;const n=this._model.parts.count;for(r=0;r<n;++r)if(e==this._partIds[r])return r;return e in this._notExistPartId?this._notExistPartId[e]:(r=n+this._notExistPartId.length,this._notExistPartId[e]=r,this._notExistPartOpacities[r]=0,r)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(e,r){if(e in this._notExistPartOpacities){this._notExistPartOpacities[e]=r;return}Fw(0<=e&&e<this.getPartCount()),this._partOpacities[e]=r}setPartOpacityById(e,r){const n=this.getPartIndex(e);n<0||this.setPartOpacityByIndex(n,r)}getPartOpacityByIndex(e){return e in this._notExistPartOpacities?this._notExistPartOpacities[e]:(Fw(0<=e&&e<this.getPartCount()),this._partOpacities[e])}getPartOpacityById(e){const r=this.getPartIndex(e);return r<0?0:this.getPartOpacityByIndex(r)}getParameterIndex(e){let r;const n=this._model.parameters.count;for(r=0;r<n;++r)if(e==this._parameterIds[r])return r;return e in this._notExistParameterId?this._notExistParameterId[e]:(r=this._model.parameters.count+Object.keys(this._notExistParameterId).length,this._notExistParameterId[e]=r,this._notExistParameterValues[r]=0,r)}getParameterCount(){return this._model.parameters.count}getParameterMaximumValue(e){return this._model.parameters.maximumValues[e]}getParameterMinimumValue(e){return this._model.parameters.minimumValues[e]}getParameterDefaultValue(e){return this._model.parameters.defaultValues[e]}getParameterValueByIndex(e){return e in this._notExistParameterValues?this._notExistParameterValues[e]:(Fw(0<=e&&e<this.getParameterCount()),this._parameterValues[e])}getParameterValueById(e){const r=this.getParameterIndex(e);return this.getParameterValueByIndex(r)}setParameterValueByIndex(e,r,n=1){if(e in this._notExistParameterValues){this._notExistParameterValues[e]=n==1?r:this._notExistParameterValues[e]*(1-n)+r*n;return}Fw(0<=e&&e<this.getParameterCount()),this._model.parameters.maximumValues[e]<r&&(r=this._model.parameters.maximumValues[e]),this._model.parameters.minimumValues[e]>r&&(r=this._model.parameters.minimumValues[e]),this._parameterValues[e]=n==1?r:this._parameterValues[e]=this._parameterValues[e]*(1-n)+r*n}setParameterValueById(e,r,n=1){const i=this.getParameterIndex(e);this.setParameterValueByIndex(i,r,n)}addParameterValueByIndex(e,r,n=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)+r*n)}addParameterValueById(e,r,n=1){const i=this.getParameterIndex(e);this.addParameterValueByIndex(i,r,n)}multiplyParameterValueById(e,r,n=1){const i=this.getParameterIndex(e);this.multiplyParameterValueByIndex(i,r,n)}multiplyParameterValueByIndex(e,r,n=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)*(1+(r-1)*n))}getDrawableIds(){return this._drawableIds.slice()}getDrawableIndex(e){const r=this._model.drawables.count;for(let n=0;n<r;++n)if(this._drawableIds[n]==e)return n;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(e){return this._model.drawables.ids[e]}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(e){return this._model.drawables.textureIndices[e]}getDrawableDynamicFlagVertexPositionsDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(r[e])}getDrawableVertexIndexCount(e){return this._model.drawables.indexCounts[e]}getDrawableVertexCount(e){return this._model.drawables.vertexCounts[e]}getDrawableVertices(e){return this.getDrawableVertexPositions(e)}getDrawableVertexIndices(e){return this._model.drawables.indices[e]}getDrawableVertexPositions(e){return this._model.drawables.vertexPositions[e]}getDrawableVertexUvs(e){return this._model.drawables.vertexUvs[e]}getDrawableOpacity(e){return this._model.drawables.opacities[e]}getDrawableCulling(e){const r=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(r[e])}getDrawableBlendMode(e){const r=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(r[e])?up.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(r[e])?up.CubismBlendMode_Multiplicative:up.CubismBlendMode_Normal}getDrawableInvertedMaskBit(e){const r=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(r[e])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let e=0;e<this._model.drawables.count;++e)if(!(this._model.drawables.maskCounts[e]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(r[e])}getDrawableDynamicFlagVisibilityDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(r[e])}getDrawableDynamicFlagOpacityDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(r[e])}getDrawableDynamicFlagRenderOrderDidChange(e){const r=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(r[e])}loadParameters(){let e=this._model.parameters.count;const r=this._savedParameters.length;e>r&&(e=r);for(let n=0;n<e;++n)this._parameterValues[n]=this._savedParameters[n]}initialize(){this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const e=this._model.parameters.ids,r=this._model.parameters.count;for(let n=0;n<r;++n)this._parameterIds.push(e[n])}{const e=this._model.parts.ids,r=this._model.parts.count;for(let n=0;n<r;++n)this._partIds.push(e[n])}{const e=this._model.drawables.ids,r=this._model.drawables.count;for(let n=0;n<r;++n)this._drawableIds.push(e[n])}}constructor(e){this._model=e,this._savedParameters=[],this._parameterIds=[],this._drawableIds=[],this._partIds=[],this._notExistPartId={},this._notExistParameterId={},this._notExistParameterValues={},this._notExistPartOpacities={},this.initialize()}release(){this._model.release(),this._model=void 0}}class YL{static create(e){const r=Live2DCubismCore.Moc.fromArrayBuffer(e);if(r)return new YL(r);throw new Error("Unknown error")}createModel(){let e;const r=Live2DCubismCore.Model.fromMoc(this._moc);if(r)return e=new But(r),++this._modelCount,e;throw new Error("Unknown error")}deleteModel(e){e!=null&&--this._modelCount}constructor(e){this._moc=e,this._modelCount=0}release(){this._moc._release(),this._moc=void 0}}var lM=(t=>(t[t.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",t))(lM||{}),k0=(t=>(t[t.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",t[t.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",t[t.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",t))(k0||{});class Uut{constructor(){this.initialPosition=new On(0,0),this.position=new On(0,0),this.lastPosition=new On(0,0),this.lastGravity=new On(0,0),this.force=new On(0,0),this.velocity=new On(0,0)}}class Vut{constructor(){this.normalizationPosition={},this.normalizationAngle={}}}class zut{constructor(){this.source={}}}class Hut{constructor(){this.destination={},this.translationScale=new On(0,0)}}class jut{constructor(){this.settings=[],this.inputs=[],this.outputs=[],this.particles=[],this.gravity=new On(0,0),this.wind=new On(0,0)}}class Gut{constructor(e){this._json=e}release(){this._json=void 0}getGravity(){const e=new On(0,0);return e.x=this._json.Meta.EffectiveForces.Gravity.X,e.y=this._json.Meta.EffectiveForces.Gravity.Y,e}getWind(){const e=new On(0,0);return e.x=this._json.Meta.EffectiveForces.Wind.X,e.y=this._json.Meta.EffectiveForces.Wind.Y,e}getSubRigCount(){return this._json.Meta.PhysicsSettingCount}getTotalInputCount(){return this._json.Meta.TotalInputCount}getTotalOutputCount(){return this._json.Meta.TotalOutputCount}getVertexCount(){return this._json.Meta.VertexCount}getNormalizationPositionMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Minimum}getNormalizationPositionMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Maximum}getNormalizationPositionDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Default}getNormalizationAngleMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Minimum}getNormalizationAngleMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Maximum}getNormalizationAngleDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Default}getInputCount(e){return this._json.PhysicsSettings[e].Input.length}getInputWeight(e,r){return this._json.PhysicsSettings[e].Input[r].Weight}getInputReflect(e,r){return this._json.PhysicsSettings[e].Input[r].Reflect}getInputType(e,r){return this._json.PhysicsSettings[e].Input[r].Type}getInputSourceId(e,r){return this._json.PhysicsSettings[e].Input[r].Source.Id}getOutputCount(e){return this._json.PhysicsSettings[e].Output.length}getOutputVertexIndex(e,r){return this._json.PhysicsSettings[e].Output[r].VertexIndex}getOutputAngleScale(e,r){return this._json.PhysicsSettings[e].Output[r].Scale}getOutputWeight(e,r){return this._json.PhysicsSettings[e].Output[r].Weight}getOutputDestinationId(e,r){return this._json.PhysicsSettings[e].Output[r].Destination.Id}getOutputType(e,r){return this._json.PhysicsSettings[e].Output[r].Type}getOutputReflect(e,r){return this._json.PhysicsSettings[e].Output[r].Reflect}getParticleCount(e){return this._json.PhysicsSettings[e].Vertices.length}getParticleMobility(e,r){return this._json.PhysicsSettings[e].Vertices[r].Mobility}getParticleDelay(e,r){return this._json.PhysicsSettings[e].Vertices[r].Delay}getParticleAcceleration(e,r){return this._json.PhysicsSettings[e].Vertices[r].Acceleration}getParticleRadius(e,r){return this._json.PhysicsSettings[e].Vertices[r].Radius}getParticlePosition(e,r){const n=new On(0,0);return n.x=this._json.PhysicsSettings[e].Vertices[r].Position.X,n.y=this._json.PhysicsSettings[e].Vertices[r].Position.Y,n}}const SG="X",TG="Y",CG="Angle",Wut=5,wle=100,qut=.001;class KL{static create(e){const r=new KL;return r.parse(e),r._physicsRig.gravity.y=0,r}evaluate(e,r){let n,i,s,o;const a=new On;let l,u,d,f,h,g,v,p;h=e.getModel().parameters.values,g=e.getModel().parameters.maximumValues,v=e.getModel().parameters.minimumValues,p=e.getModel().parameters.defaultValues;for(let b=0;b<this._physicsRig.subRigCount;++b){n={angle:0},a.x=0,a.y=0,l=this._physicsRig.settings[b],u=this._physicsRig.inputs.slice(l.baseInputIndex),d=this._physicsRig.outputs.slice(l.baseOutputIndex),f=this._physicsRig.particles.slice(l.baseParticleIndex);for(let S=0;S<l.inputCount;++S)i=u[S].weight/wle,u[S].sourceParameterIndex==-1&&(u[S].sourceParameterIndex=e.getParameterIndex(u[S].source.id)),u[S].getNormalizedParameterValue(a,n,h[u[S].sourceParameterIndex],v[u[S].sourceParameterIndex],g[u[S].sourceParameterIndex],p[u[S].sourceParameterIndex],l.normalizationPosition,l.normalizationAngle,u[S].reflect,i);s=Ji.degreesToRadian(-n.angle),a.x=a.x*Ji.cos(s)-a.y*Ji.sin(s),a.y=a.x*Ji.sin(s)+a.y*Ji.cos(s),oct(f,l.particleCount,a,n.angle,this._options.wind,qut*l.normalizationPosition.maximum,r,Wut);for(let S=0;S<l.outputCount;++S){const C=d[S].vertexIndex;if(C<1||C>=l.particleCount)break;d[S].destinationParameterIndex==-1&&(d[S].destinationParameterIndex=e.getParameterIndex(d[S].destination.id));const T=new On;T.x=f[C].position.x-f[C-1].position.x,T.y=f[C].position.y-f[C-1].position.y,o=d[S].getValue(T,f,C,d[S].reflect,this._options.gravity);const A=d[S].destinationParameterIndex,E=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(h.subarray(A))):h.slice(A);act(E,v[A],g[A],o,d[S]);for(let I=A,O=0;I<h.length;I++,O++)h[I]=E[O]}}}setOptions(e){this._options=e}getOption(){return this._options}constructor(){this._options=new Xut,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}release(){this._physicsRig=void 0}parse(e){this._physicsRig=new jut;let r=new Gut(e);this._physicsRig.gravity=r.getGravity(),this._physicsRig.wind=r.getWind(),this._physicsRig.subRigCount=r.getSubRigCount();let n=0,i=0,s=0;for(let o=0;o<this._physicsRig.subRigCount;++o){const a=new Vut;a.normalizationPosition.minimum=r.getNormalizationPositionMinimumValue(o),a.normalizationPosition.maximum=r.getNormalizationPositionMaximumValue(o),a.normalizationPosition.defalut=r.getNormalizationPositionDefaultValue(o),a.normalizationAngle.minimum=r.getNormalizationAngleMinimumValue(o),a.normalizationAngle.maximum=r.getNormalizationAngleMaximumValue(o),a.normalizationAngle.defalut=r.getNormalizationAngleDefaultValue(o),a.inputCount=r.getInputCount(o),a.baseInputIndex=n,n+=a.inputCount;for(let l=0;l<a.inputCount;++l){const u=new zut;switch(u.sourceParameterIndex=-1,u.weight=r.getInputWeight(o,l),u.reflect=r.getInputReflect(o,l),r.getInputType(o,l)){case SG:u.type=k0.CubismPhysicsSource_X,u.getNormalizedParameterValue=Yut;break;case TG:u.type=k0.CubismPhysicsSource_Y,u.getNormalizedParameterValue=Kut;break;case CG:u.type=k0.CubismPhysicsSource_Angle,u.getNormalizedParameterValue=Zut;break}u.source.targetType=lM.CubismPhysicsTargetType_Parameter,u.source.id=r.getInputSourceId(o,l),this._physicsRig.inputs.push(u)}a.outputCount=r.getOutputCount(o),a.baseOutputIndex=i,i+=a.outputCount;for(let l=0;l<a.outputCount;++l){const u=new Hut;switch(u.destinationParameterIndex=-1,u.vertexIndex=r.getOutputVertexIndex(o,l),u.angleScale=r.getOutputAngleScale(o,l),u.weight=r.getOutputWeight(o,l),u.destination.targetType=lM.CubismPhysicsTargetType_Parameter,u.destination.id=r.getOutputDestinationId(o,l),r.getOutputType(o,l)){case SG:u.type=k0.CubismPhysicsSource_X,u.getValue=Qut,u.getScale=nct;break;case TG:u.type=k0.CubismPhysicsSource_Y,u.getValue=Jut,u.getScale=ict;break;case CG:u.type=k0.CubismPhysicsSource_Angle,u.getValue=ect,u.getScale=sct;break}u.reflect=r.getOutputReflect(o,l),this._physicsRig.outputs.push(u)}a.particleCount=r.getParticleCount(o),a.baseParticleIndex=s,s+=a.particleCount;for(let l=0;l<a.particleCount;++l){const u=new Uut;u.mobility=r.getParticleMobility(o,l),u.delay=r.getParticleDelay(o,l),u.acceleration=r.getParticleAcceleration(o,l),u.radius=r.getParticleRadius(o,l),u.position=r.getParticlePosition(o,l),this._physicsRig.particles.push(u)}this._physicsRig.settings.push(a)}this.initialize(),r.release()}initialize(){let e,r,n;for(let i=0;i<this._physicsRig.subRigCount;++i){r=this._physicsRig.settings[i],e=this._physicsRig.particles.slice(r.baseParticleIndex),e[0].initialPosition=new On(0,0),e[0].lastPosition=new On(e[0].initialPosition.x,e[0].initialPosition.y),e[0].lastGravity=new On(0,-1),e[0].lastGravity.y*=-1,e[0].velocity=new On(0,0),e[0].force=new On(0,0);for(let s=1;s<r.particleCount;++s)n=new On(0,0),n.y=e[s].radius,e[s].initialPosition=new On(e[s-1].initialPosition.x+n.x,e[s-1].initialPosition.y+n.y),e[s].position=new On(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastPosition=new On(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastGravity=new On(0,-1),e[s].lastGravity.y*=-1,e[s].velocity=new On(0,0),e[s].force=new On(0,0)}}}class Xut{constructor(){this.gravity=new On(0,0),this.wind=new On(0,0)}}function Yut(t,e,r,n,i,s,o,a,l,u){t.x+=ZL(r,n,i,s,o.minimum,o.maximum,o.defalut,l)*u}function Kut(t,e,r,n,i,s,o,a,l,u){t.y+=ZL(r,n,i,s,o.minimum,o.maximum,o.defalut,l)*u}function Zut(t,e,r,n,i,s,o,a,l,u){e.angle+=ZL(r,n,i,s,a.minimum,a.maximum,a.defalut,l)*u}function Qut(t,e,r,n,i){let s=t.x;return n&&(s*=-1),s}function Jut(t,e,r,n,i){let s=t.y;return n&&(s*=-1),s}function ect(t,e,r,n,i){let s;return r>=2?i=e[r-1].position.substract(e[r-2].position):i=i.multiplyByScaler(-1),s=Ji.directionToRadian(i,t),n&&(s*=-1),s}function tct(t,e){return Math.abs(Math.max(t,e)-Math.min(t,e))}function rct(t,e){return Math.min(t,e)+tct(t,e)/2}function nct(t,e){return t.x}function ict(t,e){return t.y}function sct(t,e){return e}function oct(t,e,r,n,i,s,o,a){let l,u,d,f,h=new On(0,0),g=new On(0,0),v=new On(0,0),p=new On(0,0);t[0].position=new On(r.x,r.y),l=Ji.degreesToRadian(n),f=Ji.radianToDirection(l),f.normalize();for(let b=1;b<e;++b)t[b].force=f.multiplyByScaler(t[b].acceleration).add(i),t[b].lastPosition=new On(t[b].position.x,t[b].position.y),u=t[b].delay*o*30,h=t[b].position.substract(t[b-1].position),d=Ji.directionToRadian(t[b].lastGravity,f)/a,h.x=Ji.cos(d)*h.x-h.y*Ji.sin(d),h.y=Ji.sin(d)*h.x+h.y*Ji.cos(d),t[b].position=t[b-1].position.add(h),g=t[b].velocity.multiplyByScaler(u),v=t[b].force.multiplyByScaler(u).multiplyByScaler(u),t[b].position=t[b].position.add(g).add(v),p=t[b].position.substract(t[b-1].position),p.normalize(),t[b].position=t[b-1].position.add(p.multiplyByScaler(t[b].radius)),Ji.abs(t[b].position.x)<s&&(t[b].position.x=0),u!=0&&(t[b].velocity=t[b].position.substract(t[b].lastPosition),t[b].velocity=t[b].velocity.divisionByScalar(u),t[b].velocity=t[b].velocity.multiplyByScaler(t[b].mobility)),t[b].force=new On(0,0),t[b].lastGravity=new On(f.x,f.y)}function act(t,e,r,n,i){let s,o,a;s=i.getScale(i.translationScale,i.angleScale),o=n*s,o<e?(o<i.valueBelowMinimum&&(i.valueBelowMinimum=o),o=e):o>r&&(o>i.valueExceededMaximum&&(i.valueExceededMaximum=o),o=r),a=i.weight/wle,a>=1||(o=t[0]*(1-a)+o*a),t[0]=o}function ZL(t,e,r,n,i,s,o,a){let l=0;const u=Ji.max(r,e);u<t&&(t=u);const d=Ji.min(r,e);d>t&&(t=d);const f=Ji.min(i,s),h=Ji.max(i,s),g=o,v=rct(d,u),p=t-v;switch(Math.sign(p)){case 1:{const b=h-g,S=u-v;S!=0&&(l=p*(b/S),l+=g);break}case-1:{const b=f-g,S=d-v;S!=0&&(l=p*(b/S),l+=g);break}case 0:{l=g;break}}return a?l:l*-1}ys.registerRuntime({version:4,ready:Lut,test(t){return t instanceof pv||pv.isValidJSON(t)},isValidMoc(t){if(t.byteLength<4)return!1;const e=new Int8Array(t,0,4);return String.fromCharCode(...e)==="MOC3"},createModelSettings(t){return new pv(t)},createCoreModel(t){const e=YL.create(t);try{const r=e.createModel();return r.__moc=e,r}catch(r){try{e.release()}catch{}throw r}},createInternalModel(t,e,r){const n=new $ut(t,e,r),i=t;return i.__moc&&(n.__moc=i.__moc,delete i.__moc,n.once("destroy",lct)),n},createPhysics(t,e){return KL.create(e)},createPose(t,e){return XL.create(e)}});function lct(){var t;(t=this.__moc)==null||t.release()}window.PIXI=Plt;const uct=new UL({view:document.getElementById("Kurisu"),autoStart:!0,resizeTo:window,backgroundAlpha:0}),cct="/Rintaro/Rintaro.model3.json",dct="/Christina/Christina.model3.json",fct="/Mayuri/Mayuri.model3.json";hct();let tl;async function hct(){tl=await Promise.all([GS.from(dct),GS.from(cct),GS.from(fct)]),tl.forEach(n=>{uct.stage.addChild(n);const i=innerWidth*.4/n.width,s=innerHeight*.8/n.height;n.scale.set(Math.min(i,s)),n.y=innerHeight*.1,n.on("pointertap",()=>{tl[0].motion("tap")}),n.on("pointerleave",()=>{tl[0].motion("Idle")}),n.on("pointertap",()=>{tl[0].motion("tap")}),n.on("pointerupoutside",()=>{tl[0].motion("pose")})});const t=tl[2],e=tl[1],r=tl[0];r.x=(innerWidth-t.width-e.width-r.width)/3,e.x=r.x+r.width,t.x=e.x+e.width,gct(tl[0]),tl[0].on("pointertap",()=>{tl[0].motion("tap")})}var uM,jo={originScale:1,scale:1,pageX:0,pageY:0,pageX2:0,pageY2:0};document.addEventListener("touchstart",function(t){var e=t.touches,r=e[0],n=e[1];jo.pageX=r.pageX,jo.pageY=r.pageY,n!=null&&(jo.pageX2=n.pageX,jo.pageY2=n.pageY),jo.originScale=jo.scale||1});document.addEventListener("touchmove",function(t){var e=t.touches,r=e[0],n=e[1];if(n!=null){jo.pageX2||(jo.pageX2=n.pageX),jo.pageY2||(jo.pageY2=n.pageY);var i=function(a,l){return Math.hypot(l.x-a.x,l.y-a.y)},s=i({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/i({x:jo.pageX,y:jo.pageY},{x:jo.pageX2,y:jo.pageY2}),o=jo.originScale*s;jo.scale=o,tl[0].scale.set(jo.scale)}});function pct(t){window.innerWidth<window.innerHeight?uM=.3:uM=.8;for(let e in t)mct(t[e])}const mct=t=>{t&&t.scale&&t.scale.set(uM)};window.onresize=function(){pct(tl),wt.width=window.innerWidth};function gct(t){t.buttonMode=!0,t.on("pointerdown",e=>{t.dragging=!0,t._pointerX=e.data.global.x-t.x,t._pointerY=e.data.global.y-t.y}),t.on("pointermove",e=>{t.dragging&&(t.position.x=e.data.global.x-t._pointerX,t.position.y=e.data.global.y-t._pointerY)}),t.on("pointerupoutside",()=>t.dragging=!1),t.on("pointerup",()=>t.dragging=!1)}const vct=rt({__name:"Tabs",setup(t){const e=ve("Home");return(r,n)=>{const i=mJe,s=YAe,o=Xse,a=XAe;return me(),Ct(a,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),type:"card"},{default:te(()=>[F(s,{label:"Home",name:"Home"},{default:te(()=>[F(i)]),_:1}),F(s,{label:"Labroom",name:"Labroom"}),_(wt).width>768&&_(Ae).permission!=null&&_(Ae).permission.includes("admin")?(me(),Ct(s,{key:0,label:"Dashboard",name:"Dashboard"},{default:te(()=>[F(o,{class:"hidden-sm-and-down"}),n[1]||(n[1]=Ue("span",{class:"hidden-md-and-up"},"not support",-1))]),_:1})):gt("",!0)]),_:1},8,["modelValue"])}}});const yct={};function _ct(t,e){const r=vct,n=jY,i=OSe;return me(),Ct(i,{gutter:10},{default:te(()=>[F(n,{xs:24,sm:24,md:24,lg:24,xl:24},{default:te(()=>[F(r)]),_:1})]),_:1})}const bct=X1(yct,[["render",_ct]]);const xct={};function wct(t,e){const r=bct,n=WQe,i=HQe;return me(),$e(Sr,null,[F(r),F(n),F(i)],64)}const Sct=X1(xct,[["render",wct]]);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Og=typeof document<"u";function Sle(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Tct(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Sle(t.default)}const Di=Object.assign;function sk(t,e){const r={};for(const n in e){const i=e[n];r[n]=Tc(i)?i.map(t):t(i)}return r}const q2=()=>{},Tc=Array.isArray,Tle=/#/g,Cct=/&/g,Ect=/\//g,Act=/=/g,Pct=/\?/g,Cle=/\+/g,kct=/%5B/g,Ict=/%5D/g,Ele=/%5E/g,Dct=/%60/g,Ale=/%7B/g,Rct=/%7C/g,Ple=/%7D/g,Mct=/%20/g;function QL(t){return encodeURI(""+t).replace(Rct,"|").replace(kct,"[").replace(Ict,"]")}function Oct(t){return QL(t).replace(Ale,"{").replace(Ple,"}").replace(Ele,"^")}function cM(t){return QL(t).replace(Cle,"%2B").replace(Mct,"+").replace(Tle,"%23").replace(Cct,"%26").replace(Dct,"`").replace(Ale,"{").replace(Ple,"}").replace(Ele,"^")}function $ct(t){return cM(t).replace(Act,"%3D")}function Lct(t){return QL(t).replace(Tle,"%23").replace(Pct,"%3F")}function Fct(t){return t==null?"":Lct(t).replace(Ect,"%2F")}function h1(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Nct=/\/$/,Bct=t=>t.replace(Nct,"");function ok(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Hct(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:h1(o)}}function Uct(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function EG(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Vct(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&uy(e.matched[n],r.matched[i])&&kle(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function uy(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function kle(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!zct(t[r],e[r]))return!1;return!0}function zct(t,e){return Tc(t)?AG(t,e):Tc(e)?AG(e,t):t===e}function AG(t,e){return Tc(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Hct(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const Ah={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var p1;(function(t){t.pop="pop",t.push="push"})(p1||(p1={}));var X2;(function(t){t.back="back",t.forward="forward",t.unknown=""})(X2||(X2={}));function jct(t){if(!t)if(Og){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Bct(t)}const Gct=/^[^#]+#/;function Wct(t,e){return t.replace(Gct,"#")+e}function qct(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const kA=()=>({left:window.scrollX,top:window.scrollY});function Xct(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=qct(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function PG(t,e){return(history.state?history.state.position-e:-1)+t}const dM=new Map;function Yct(t,e){dM.set(t,e)}function Kct(t){const e=dM.get(t);return dM.delete(t),e}let Zct=()=>location.protocol+"//"+location.host;function Ile(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),EG(l,"")}return EG(r,t)+n+i}function Qct(t,e,r,n){let i=[],s=[],o=null;const a=({state:h})=>{const g=Ile(t,location),v=r.value,p=e.value;let b=0;if(h){if(r.value=g,e.value=h,o&&o===v){o=null;return}b=p?h.position-p.position:0}else n(g);i.forEach(S=>{S(r.value,v,{delta:b,type:p1.pop,direction:b?b>0?X2.forward:X2.back:X2.unknown})})};function l(){o=r.value}function u(h){i.push(h);const g=()=>{const v=i.indexOf(h);v>-1&&i.splice(v,1)};return s.push(g),g}function d(){const{history:h}=window;h.state&&h.replaceState(Di({},h.state,{scroll:kA()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function kG(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?kA():null}}function Jct(t){const{history:e,location:r}=window,n={value:Ile(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,d){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:Zct()+t+l;try{e[d?"replaceState":"pushState"](u,"",h),i.value=u}catch(g){console.error(g),r[d?"replace":"assign"](h)}}function o(l,u){const d=Di({},e.state,kG(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,d,!0),n.value=l}function a(l,u){const d=Di({},i.value,e.state,{forward:l,scroll:kA()});s(d.current,d,!0);const f=Di({},kG(n.value,l,null),{position:d.position+1},u);s(l,f,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function edt(t){t=jct(t);const e=Jct(t),r=Qct(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=Di({location:"",base:t,go:n,createHref:Wct.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function tdt(t){return typeof t=="string"||t&&typeof t=="object"}function Dle(t){return typeof t=="string"||typeof t=="symbol"}const Rle=Symbol("");var IG;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(IG||(IG={}));function cy(t,e){return Di(new Error,{type:t,[Rle]:!0},e)}function sf(t,e){return t instanceof Error&&Rle in t&&(e==null||!!(t.type&e))}const DG="[^/]+?",rdt={sensitive:!1,strict:!1,start:!0,end:!0},ndt=/[.+*?^${}()[\]/\\]/g;function idt(t,e){const r=Di({},rdt,e),n=[];let i=r.start?"^":"";const s=[];for(const u of t){const d=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let g=40+(r.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(ndt,"\\$&"),g+=40;else if(h.type===1){const{value:v,repeatable:p,optional:b,regexp:S}=h;s.push({name:v,repeatable:p,optional:b});const C=S||DG;if(C!==DG){g+=10;try{new RegExp(`(${C})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${v}" (${C}): `+A.message)}}let T=p?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(T=b&&u.length<2?`(?:/${T})`:"/"+T),b&&(T+="?"),i+=T,g+=20,b&&(g+=-8),p&&(g+=-20),C===".*"&&(g+=-50)}d.push(g)}n.push(d)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(u){const d=u.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const g=d[h]||"",v=s[h-1];f[v.name]=g&&v.repeatable?g.split("/"):g}return f}function l(u){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of h)if(g.type===0)d+=g.value;else if(g.type===1){const{value:v,repeatable:p,optional:b}=g,S=v in u?u[v]:"";if(Tc(S)&&!p)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const C=Tc(S)?S.join("/"):S;if(!C)if(b)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);d+=C}}return d||"/"}return{re:o,score:n,keys:s,parse:a,stringify:l}}function sdt(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Mle(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=sdt(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(RG(n))return 1;if(RG(i))return-1}return i.length-n.length}function RG(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const odt={type:0,value:""},adt=/[a-zA-Z0-9_]/;function ldt(t){if(!t)return[[]];if(t==="/")return[[odt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${r})/"${u}": ${g}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",d="";function f(){u&&(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:l==="("?r=2:adt.test(l)?h():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:r=3:d+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function udt(t,e,r){const n=idt(ldt(t.path),r),i=Di(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function cdt(t,e){const r=[],n=new Map;e=LG({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function s(f,h,g){const v=!g,p=OG(f);p.aliasOf=g&&g.record;const b=LG(e,f),S=[p];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const E of A)S.push(OG(Di({},p,{components:g?g.record.components:p.components,path:E,aliasOf:g?g.record:p})))}let C,T;for(const A of S){const{path:E}=A;if(h&&E[0]!=="/"){const I=h.record.path,O=I[I.length-1]==="/"?"":"/";A.path=h.record.path+(E&&O+E)}if(C=udt(A,h,b),g?g.alias.push(C):(T=T||C,T!==C&&T.alias.push(C),v&&f.name&&!$G(C)&&o(f.name)),Ole(C)&&l(C),p.children){const I=p.children;for(let O=0;O<I.length;O++)s(I[O],C,g&&g.children[O])}g=g||C}return T?()=>{o(T)}:q2}function o(f){if(Dle(f)){const h=n.get(f);h&&(n.delete(f),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(f);h>-1&&(r.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function l(f){const h=hdt(f,r);r.splice(h,0,f),f.record.name&&!$G(f)&&n.set(f.record.name,f)}function u(f,h){let g,v={},p,b;if("name"in f&&f.name){if(g=n.get(f.name),!g)throw cy(1,{location:f});b=g.record.name,v=Di(MG(h.params,g.keys.filter(T=>!T.optional).concat(g.parent?g.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&MG(f.params,g.keys.map(T=>T.name))),p=g.stringify(v)}else if(f.path!=null)p=f.path,g=r.find(T=>T.re.test(p)),g&&(v=g.parse(p),b=g.record.name);else{if(g=h.name?n.get(h.name):r.find(T=>T.re.test(h.path)),!g)throw cy(1,{location:f,currentLocation:h});b=g.record.name,v=Di({},h.params,f.params),p=g.stringify(v)}const S=[];let C=g;for(;C;)S.unshift(C.record),C=C.parent;return{name:b,path:p,params:v,matched:S,meta:fdt(S)}}t.forEach(f=>s(f));function d(){r.length=0,n.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function MG(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function OG(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ddt(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ddt(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function $G(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fdt(t){return t.reduce((e,r)=>Di(e,r.meta),{})}function LG(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function hdt(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;Mle(t,e[s])<0?n=s:r=s+1}const i=pdt(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function pdt(t){let e=t;for(;e=e.parent;)if(Ole(e)&&Mle(t,e)===0)return e}function Ole({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mdt(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(Cle," "),o=s.indexOf("="),a=h1(o<0?s:s.slice(0,o)),l=o<0?null:h1(s.slice(o+1));if(a in e){let u=e[a];Tc(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function FG(t){let e="";for(let r in t){const n=t[r];if(r=$ct(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Tc(n)?n.map(s=>s&&cM(s)):[n&&cM(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function gdt(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Tc(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const vdt=Symbol(""),NG=Symbol(""),JL=Symbol(""),$le=Symbol(""),fM=Symbol("");function B_(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Hh(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(cy(4,{from:r,to:e})):h instanceof Error?l(h):tdt(h)?l(cy(2,{from:e,to:h})):(o&&n.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},d=s(()=>t.call(n&&n.instances[i],e,r,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function ak(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Sle(l)){const d=(l.__vccOpts||l)[e];d&&s.push(Hh(d,r,n,o,a,i))}else{let u=l();s.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Tct(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Hh(g,r,n,o,a,i)()}))}}return s}function BG(t){const e=Mr(JL),r=Mr($le),n=pe(()=>{const l=_(t.to);return e.resolve(l)}),i=pe(()=>{const{matched:l}=n.value,{length:u}=l,d=l[u-1],f=r.matched;if(!d||!f.length)return-1;const h=f.findIndex(uy.bind(null,d));if(h>-1)return h;const g=UG(l[u-2]);return u>1&&UG(d)===g&&f[f.length-1].path!==g?f.findIndex(uy.bind(null,l[u-2])):h}),s=pe(()=>i.value>-1&&xdt(r.params,n.value.params)),o=pe(()=>i.value>-1&&i.value===r.matched.length-1&&kle(r.params,n.value.params));function a(l={}){return bdt(l)?e[_(t.replace)?"replace":"push"](_(t.to)).catch(q2):Promise.resolve()}return{route:n,href:pe(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}const ydt=rt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:BG,setup(t,{slots:e}){const r=an(BG(t)),{options:n}=Mr(JL),i=pe(()=>({[VG(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[VG(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:br("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),_dt=ydt;function bdt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function xdt(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Tc(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function UG(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const VG=(t,e,r)=>t??e??r,wdt=rt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Mr(fM),i=pe(()=>t.route||n.value),s=Mr(NG,0),o=pe(()=>{let u=_(s);const{matched:d}=i.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=pe(()=>i.value.matched[o.value]);bi(NG,pe(()=>o.value+1)),bi(vdt,a),bi(fM,i);const l=ve();return Yt(()=>[l.value,a.value,t.name],([u,d,f],[h,g,v])=>{d&&(d.instances[f]=u,g&&g!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),u&&d&&(!g||!uy(d,g)||!h)&&(d.enterCallbacks[f]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=i.value,d=t.name,f=a.value,h=f&&f.components[d];if(!h)return zG(r.default,{Component:h,route:u});const g=f.props[d],v=g?g===!0?u.params:typeof g=="function"?g(u):g:null,b=br(h,Di({},v,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return zG(r.default,{Component:b,route:u})||b}}});function zG(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Sdt=wdt;function Tdt(t){const e=cdt(t.routes,t),r=t.parseQuery||mdt,n=t.stringifyQuery||FG,i=t.history,s=B_(),o=B_(),a=B_(),l=Ba(Ah);let u=Ah;Og&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=sk.bind(null,ze=>""+ze),f=sk.bind(null,Fct),h=sk.bind(null,h1);function g(ze,ut){let ct,mt;return Dle(ze)?(ct=e.getRecordMatcher(ze),mt=ut):mt=ze,e.addRoute(mt,ct)}function v(ze){const ut=e.getRecordMatcher(ze);ut&&e.removeRoute(ut)}function p(){return e.getRoutes().map(ze=>ze.record)}function b(ze){return!!e.getRecordMatcher(ze)}function S(ze,ut){if(ut=Di({},ut||l.value),typeof ze=="string"){const Pe=ok(r,ze,ut.path),tt=e.resolve({path:Pe.path},ut),et=i.createHref(Pe.fullPath);return Di(Pe,tt,{params:h(tt.params),hash:h1(Pe.hash),redirectedFrom:void 0,href:et})}let ct;if(ze.path!=null)ct=Di({},ze,{path:ok(r,ze.path,ut.path).path});else{const Pe=Di({},ze.params);for(const tt in Pe)Pe[tt]==null&&delete Pe[tt];ct=Di({},ze,{params:f(Pe)}),ut.params=f(ut.params)}const mt=e.resolve(ct,ut),jt=ze.hash||"";mt.params=d(h(mt.params));const vt=Uct(n,Di({},ze,{hash:Oct(jt),path:mt.path})),se=i.createHref(vt);return Di({fullPath:vt,hash:jt,query:n===FG?gdt(ze.query):ze.query||{}},mt,{redirectedFrom:void 0,href:se})}function C(ze){return typeof ze=="string"?ok(r,ze,l.value.path):Di({},ze)}function T(ze,ut){if(u!==ze)return cy(8,{from:ut,to:ze})}function A(ze){return O(ze)}function E(ze){return A(Di(C(ze),{replace:!0}))}function I(ze){const ut=ze.matched[ze.matched.length-1];if(ut&&ut.redirect){const{redirect:ct}=ut;let mt=typeof ct=="function"?ct(ze):ct;return typeof mt=="string"&&(mt=mt.includes("?")||mt.includes("#")?mt=C(mt):{path:mt},mt.params={}),Di({query:ze.query,hash:ze.hash,params:mt.path!=null?{}:ze.params},mt)}}function O(ze,ut){const ct=u=S(ze),mt=l.value,jt=ze.state,vt=ze.force,se=ze.replace===!0,Pe=I(ct);if(Pe)return O(Di(C(Pe),{state:typeof Pe=="object"?Di({},jt,Pe.state):jt,force:vt,replace:se}),ut||ct);const tt=ct;tt.redirectedFrom=ut;let et;return!vt&&Vct(n,mt,ct)&&(et=cy(16,{to:tt,from:mt}),ae(mt,mt,!0,!1)),(et?Promise.resolve(et):ie(tt,mt)).catch(ot=>sf(ot)?sf(ot,2)?ot:ee(ot):oe(ot,tt,mt)).then(ot=>{if(ot){if(sf(ot,2))return O(Di({replace:se},C(ot.to),{state:typeof ot.to=="object"?Di({},jt,ot.to.state):jt,force:vt}),ut||tt)}else ot=q(tt,mt,!0,se,jt);return W(tt,mt,ot),ot})}function N(ze,ut){const ct=T(ze,ut);return ct?Promise.reject(ct):Promise.resolve()}function G(ze){const ut=Qe.values().next().value;return ut&&typeof ut.runWithContext=="function"?ut.runWithContext(ze):ze()}function ie(ze,ut){let ct;const[mt,jt,vt]=Cdt(ze,ut);ct=ak(mt.reverse(),"beforeRouteLeave",ze,ut);for(const Pe of mt)Pe.leaveGuards.forEach(tt=>{ct.push(Hh(tt,ze,ut))});const se=N.bind(null,ze,ut);return ct.push(se),je(ct).then(()=>{ct=[];for(const Pe of s.list())ct.push(Hh(Pe,ze,ut));return ct.push(se),je(ct)}).then(()=>{ct=ak(jt,"beforeRouteUpdate",ze,ut);for(const Pe of jt)Pe.updateGuards.forEach(tt=>{ct.push(Hh(tt,ze,ut))});return ct.push(se),je(ct)}).then(()=>{ct=[];for(const Pe of vt)if(Pe.beforeEnter)if(Tc(Pe.beforeEnter))for(const tt of Pe.beforeEnter)ct.push(Hh(tt,ze,ut));else ct.push(Hh(Pe.beforeEnter,ze,ut));return ct.push(se),je(ct)}).then(()=>(ze.matched.forEach(Pe=>Pe.enterCallbacks={}),ct=ak(vt,"beforeRouteEnter",ze,ut,G),ct.push(se),je(ct))).then(()=>{ct=[];for(const Pe of o.list())ct.push(Hh(Pe,ze,ut));return ct.push(se),je(ct)}).catch(Pe=>sf(Pe,8)?Pe:Promise.reject(Pe))}function W(ze,ut,ct){a.list().forEach(mt=>G(()=>mt(ze,ut,ct)))}function q(ze,ut,ct,mt,jt){const vt=T(ze,ut);if(vt)return vt;const se=ut===Ah,Pe=Og?history.state:{};ct&&(mt||se?i.replace(ze.fullPath,Di({scroll:se&&Pe&&Pe.scroll},jt)):i.push(ze.fullPath,jt)),l.value=ze,ae(ze,ut,ct,se),ee()}let J;function X(){J||(J=i.listen((ze,ut,ct)=>{if(!ht.listening)return;const mt=S(ze),jt=I(mt);if(jt){O(Di(jt,{replace:!0}),mt).catch(q2);return}u=mt;const vt=l.value;Og&&Yct(PG(vt.fullPath,ct.delta),kA()),ie(mt,vt).catch(se=>sf(se,12)?se:sf(se,2)?(O(se.to,mt).then(Pe=>{sf(Pe,20)&&!ct.delta&&ct.type===p1.pop&&i.go(-1,!1)}).catch(q2),Promise.reject()):(ct.delta&&i.go(-ct.delta,!1),oe(se,mt,vt))).then(se=>{se=se||q(mt,vt,!1),se&&(ct.delta&&!sf(se,8)?i.go(-ct.delta,!1):ct.type===p1.pop&&sf(se,20)&&i.go(-1,!1)),W(mt,vt,se)}).catch(q2)}))}let R=B_(),z=B_(),re;function oe(ze,ut,ct){ee(ze);const mt=z.list();return mt.length?mt.forEach(jt=>jt(ze,ut,ct)):console.error(ze),Promise.reject(ze)}function H(){return re&&l.value!==Ah?Promise.resolve():new Promise((ze,ut)=>{R.add([ze,ut])})}function ee(ze){return re||(re=!ze,X(),R.list().forEach(([ut,ct])=>ze?ct(ze):ut()),R.reset()),ze}function ae(ze,ut,ct,mt){const{scrollBehavior:jt}=t;if(!Og||!jt)return Promise.resolve();const vt=!ct&&Kct(PG(ze.fullPath,0))||(mt||!ct)&&history.state&&history.state.scroll||null;return Wr().then(()=>jt(ze,ut,vt)).then(se=>se&&Xct(se)).catch(se=>oe(se,ze,ut))}const be=ze=>i.go(ze);let Me;const Qe=new Set,ht={currentRoute:l,listening:!0,addRoute:g,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:p,resolve:S,options:t,push:A,replace:E,go:be,back:()=>be(-1),forward:()=>be(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:z.add,isReady:H,install(ze){const ut=this;ze.component("RouterLink",_dt),ze.component("RouterView",Sdt),ze.config.globalProperties.$router=ut,Object.defineProperty(ze.config.globalProperties,"$route",{enumerable:!0,get:()=>_(l)}),Og&&!Me&&l.value===Ah&&(Me=!0,A(i.location).catch(jt=>{}));const ct={};for(const jt in Ah)Object.defineProperty(ct,jt,{get:()=>l.value[jt],enumerable:!0});ze.provide(JL,ut),ze.provide($le,DM(ct)),ze.provide(fM,l);const mt=ze.unmount;Qe.add(ze),ze.unmount=function(){Qe.delete(ze),Qe.size<1&&(u=Ah,J&&J(),J=null,l.value=Ah,Me=!1,re=!1),mt()}}};function je(ze){return ze.reduce((ut,ct)=>ut.then(()=>G(ct)),Promise.resolve())}return ht}function Cdt(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>uy(u,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(u=>uy(u,l))||i.push(l))}return[r,n,i]}const Edt="modulepreload",Adt=function(t){return"/"+t},HG={},Bw=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Adt(s),s in HG)return;HG[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Edt,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Pdt={path:"/",children:[{path:"kubernetes",name:"kubernetes",component:()=>Bw(()=>import("./Kubernetes-37b39866.js"),[])},{path:"kibana",name:"kibana",component:()=>Bw(()=>import("./Kibana-caf6d285.js"),[])},{path:"harbor",name:"harbor",component:()=>Bw(()=>import("./Harbor-6a6d3ad8.js"),[])},{path:"kafka",name:"kafka",component:()=>Bw(()=>import("./Kafka-ad3df052.js"),[])}]},kdt=[Pdt],Idt=Tdt({history:edt(),routes:kdt});if(typeof window<"u"){let t=function(){var e=document.body,r=document.getElementById("__svg__icons__dom__");r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.style.position="absolute",r.style.width="0",r.style.height="0",r.id="__svg__icons__dom__",r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),r.innerHTML=`<symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-0">
                <ellipse class="nixie-number-part" cx="128" cy="256" rx="115" ry="246" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-1">
                <line class="nixie-number-part" x1="128" y1="10" x2="66" y2="72" />
                <line class="nixie-number-part" x1="128" y1="492" x2="128" y2="10" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-2">
                <path class="nixie-number-part" d="M38.3,66.4C59.3,32,91.7,10,128,10c63.5,0,115,67.5,115,150.7s-51.5,150.7-115,150.7" />
                <path class="nixie-number-part" d="M13,496c0-102,51.5-184.7,115-184.7" />
                <line class="nixie-number-part" x1="13" y1="496" x2="227.3" y2="496" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-3">
                <path class="nixie-number-part" d="M22,410.8c16.8,46.4,57.9,86.3,106,85.9c59.7-0.5,115-63,115-140.6c0-74.1-50.4-126.7-93.5-138.1" />
                <line class="nixie-number-part" x1="149.5" y1="218" x2="243" y2="13" />
                <line class="nixie-number-part" x1="27.3" y1="13" x2="243" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-4">
                <line class="nixie-number-part" x1="196.2" y1="13" x2="196.2" y2="496.7" />
                <line class="nixie-number-part" x1="196.2" y1="356.1" x2="22" y2="356.1" />
                <line class="nixie-number-part" x1="196.2" y1="13" x2="22" y2="356.1" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-5">
                <path class="nixie-number-part" d="M38.3,442.6C59.3,477,91.7,499,128,499c63.5,0,115-67.5,115-150.7s-51.5-150.7-115-150.7" />
                <path class="nixie-number-part" d="M13,13c0,102,51.5,184.7,115,184.7" />
                <line class="nixie-number-part" x1="13" y1="13" x2="227.3" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-6">
                <circle class="nixie-number-part" cx="128" cy="384" r="115" />
                <line class="nixie-number-part" x1="18.6" y1="348.3" x2="120.2" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-7">
                <line class="nixie-number-part" x1="15.5" y1="13" x2="240.5" y2="13" />
                <line class="nixie-number-part" x1="128" y1="496.7" x2="240.5" y2="13" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-8">
                <ellipse class="nixie-number-part" cx="128" cy="129" rx="99.2" ry="116" />
                <ellipse class="nixie-number-part" cx="128" cy="370.8" rx="112.5" ry="125.8" />
            </symbol><symbol xmlns="https://www.w3.org/2000/svg" viewBox="0 0 256 512" id="icon-clock-9">
                <circle class="nixie-number-part" cx="128" cy="128" r="115" />
                <line class="nixie-number-part" x1="237.4" y1="163.7" x2="135.8" y2="499" />
            </symbol>`,e.insertBefore(r,e.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()}const Ddt=qDe(),e5=yq(Sct);e5.use(Idt);e5.use(Ddt);e5.mount("#app");export{Ue as a,$e as c,rt as d,dn as n,me as o};
